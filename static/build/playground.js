(()=>{var O1=Object.create;var Cf=Object.defineProperty;var T1=Object.getOwnPropertyDescriptor;var I1=Object.getOwnPropertyNames;var M1=Object.getPrototypeOf,A1=Object.prototype.hasOwnProperty;var P1=(e,t,r)=>t in e?Cf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var at=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var R1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of I1(t))!A1.call(e,i)&&i!==r&&Cf(e,i,{get:()=>t[i],enumerable:!(n=T1(t,i))||n.enumerable});return e};var Se=(e,t,r)=>(r=e!=null?O1(M1(e)):{},R1(t||!e||!e.__esModule?Cf(r,"default",{value:e,enumerable:!0}):r,e));var Nt=(e,t,r)=>(P1(e,typeof t!="symbol"?t+"":t,r),r);var Au=at((GE,Mm)=>{"use strict";var Im=Object.getOwnPropertySymbols,D1=Object.prototype.hasOwnProperty,B1=Object.prototype.propertyIsEnumerable;function N1(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function j1(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(o){return t[o]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}Mm.exports=j1()?Object.assign:function(e,t){for(var r,n=N1(e),i,o=1;o<arguments.length;o++){r=Object(arguments[o]);for(var s in r)D1.call(r,s)&&(n[s]=r[s]);if(Im){i=Im(r);for(var c=0;c<i.length;c++)B1.call(r,i[c])&&(n[i[c]]=r[i[c]])}}return n}});var Gm=at(he=>{"use strict";var Ef=Au(),ki=60103,Rm=60106;he.Fragment=60107;he.StrictMode=60108;he.Profiler=60114;var Dm=60109,Bm=60110,Nm=60112;he.Suspense=60113;var jm=60115,Fm=60116;typeof Symbol=="function"&&Symbol.for&&(Gt=Symbol.for,ki=Gt("react.element"),Rm=Gt("react.portal"),he.Fragment=Gt("react.fragment"),he.StrictMode=Gt("react.strict_mode"),he.Profiler=Gt("react.profiler"),Dm=Gt("react.provider"),Bm=Gt("react.context"),Nm=Gt("react.forward_ref"),he.Suspense=Gt("react.suspense"),jm=Gt("react.memo"),Fm=Gt("react.lazy"));var Gt,Am=typeof Symbol=="function"&&Symbol.iterator;function F1(e){return e===null||typeof e!="object"?null:(e=Am&&e[Am]||e["@@iterator"],typeof e=="function"?e:null)}function Po(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Um={};function Ei(e,t,r){this.props=e,this.context=t,this.refs=Um,this.updater=r||Hm}Ei.prototype.isReactComponent={};Ei.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(Po(85));this.updater.enqueueSetState(this,e,t,"setState")};Ei.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function qm(){}qm.prototype=Ei.prototype;function Lf(e,t,r){this.props=e,this.context=t,this.refs=Um,this.updater=r||Hm}var Of=Lf.prototype=new qm;Of.constructor=Lf;Ef(Of,Ei.prototype);Of.isPureReactComponent=!0;var Tf={current:null},Wm=Object.prototype.hasOwnProperty,zm={key:!0,ref:!0,__self:!0,__source:!0};function Vm(e,t,r){var n,i={},o=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)Wm.call(t,n)&&!zm.hasOwnProperty(n)&&(i[n]=t[n]);var c=arguments.length-2;if(c===1)i.children=r;else if(1<c){for(var f=Array(c),_=0;_<c;_++)f[_]=arguments[_+2];i.children=f}if(e&&e.defaultProps)for(n in c=e.defaultProps,c)i[n]===void 0&&(i[n]=c[n]);return{$$typeof:ki,type:e,key:o,ref:s,props:i,_owner:Tf.current}}function H1(e,t){return{$$typeof:ki,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function If(e){return typeof e=="object"&&e!==null&&e.$$typeof===ki}function U1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Pm=/\/+/g;function kf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?U1(""+e.key):t.toString(36)}function Ru(e,t,r,n,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case ki:case Rm:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+kf(s,0):n,Array.isArray(i)?(r="",e!=null&&(r=e.replace(Pm,"$&/")+"/"),Ru(i,t,r,"",function(_){return _})):i!=null&&(If(i)&&(i=H1(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Pm,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",Array.isArray(e))for(var c=0;c<e.length;c++){o=e[c];var f=n+kf(o,c);s+=Ru(o,t,r,f,i)}else if(f=F1(e),typeof f=="function")for(e=f.call(e),c=0;!(o=e.next()).done;)o=o.value,f=n+kf(o,c++),s+=Ru(o,t,r,f,i);else if(o==="object")throw t=""+e,Error(Po(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function Pu(e,t,r){if(e==null)return e;var n=[],i=0;return Ru(e,n,"","",function(o){return t.call(r,o,i++)}),n}function q1(e){if(e._status===-1){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(r){e._status===0&&(r=r.default,e._status=1,e._result=r)},function(r){e._status===0&&(e._status=2,e._result=r)})}if(e._status===1)return e._result;throw e._result}var $m={current:null};function Fr(){var e=$m.current;if(e===null)throw Error(Po(321));return e}var W1={ReactCurrentDispatcher:$m,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:Tf,IsSomeRendererActing:{current:!1},assign:Ef};he.Children={map:Pu,forEach:function(e,t,r){Pu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Pu(e,function(){t++}),t},toArray:function(e){return Pu(e,function(t){return t})||[]},only:function(e){if(!If(e))throw Error(Po(143));return e}};he.Component=Ei;he.PureComponent=Lf;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W1;he.cloneElement=function(e,t,r){if(e==null)throw Error(Po(267,e));var n=Ef({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=Tf.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(f in t)Wm.call(t,f)&&!zm.hasOwnProperty(f)&&(n[f]=t[f]===void 0&&c!==void 0?c[f]:t[f])}var f=arguments.length-2;if(f===1)n.children=r;else if(1<f){c=Array(f);for(var _=0;_<f;_++)c[_]=arguments[_+2];n.children=c}return{$$typeof:ki,type:e.type,key:i,ref:o,props:n,_owner:s}};he.createContext=function(e,t){return t===void 0&&(t=null),e={$$typeof:Bm,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:Dm,_context:e},e.Consumer=e};he.createElement=Vm;he.createFactory=function(e){var t=Vm.bind(null,e);return t.type=e,t};he.createRef=function(){return{current:null}};he.forwardRef=function(e){return{$$typeof:Nm,render:e}};he.isValidElement=If;he.lazy=function(e){return{$$typeof:Fm,_payload:{_status:-1,_result:e},_init:q1}};he.memo=function(e,t){return{$$typeof:jm,type:e,compare:t===void 0?null:t}};he.useCallback=function(e,t){return Fr().useCallback(e,t)};he.useContext=function(e,t){return Fr().useContext(e,t)};he.useDebugValue=function(){};he.useEffect=function(e,t){return Fr().useEffect(e,t)};he.useImperativeHandle=function(e,t,r){return Fr().useImperativeHandle(e,t,r)};he.useLayoutEffect=function(e,t){return Fr().useLayoutEffect(e,t)};he.useMemo=function(e,t){return Fr().useMemo(e,t)};he.useReducer=function(e,t,r){return Fr().useReducer(e,t,r)};he.useRef=function(e){return Fr().useRef(e)};he.useState=function(e){return Fr().useState(e)};he.version="17.0.2"});var Ne=at((XE,Km)=>{"use strict";Km.exports=Gm()});var e_=at(me=>{"use strict";var Oi,Bo,ju,Nf;typeof performance=="object"&&typeof performance.now=="function"?(Xm=performance,me.unstable_now=function(){return Xm.now()}):(Mf=Date,Ym=Mf.now(),me.unstable_now=function(){return Mf.now()-Ym});var Xm,Mf,Ym;typeof window>"u"||typeof MessageChannel!="function"?(Li=null,Af=null,Pf=function(){if(Li!==null)try{var e=me.unstable_now();Li(!0,e),Li=null}catch(t){throw setTimeout(Pf,0),t}},Oi=function(e){Li!==null?setTimeout(Oi,0,e):(Li=e,setTimeout(Pf,0))},Bo=function(e,t){Af=setTimeout(e,t)},ju=function(){clearTimeout(Af)},me.unstable_shouldYield=function(){return!1},Nf=me.unstable_forceFrameRate=function(){}):(Jm=window.setTimeout,Zm=window.clearTimeout,typeof console<"u"&&(Qm=window.cancelAnimationFrame,typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof Qm!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")),Ro=!1,Do=null,Du=-1,Rf=5,Df=0,me.unstable_shouldYield=function(){return me.unstable_now()>=Df},Nf=function(){},me.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Rf=0<e?Math.floor(1e3/e):5},Bf=new MessageChannel,Bu=Bf.port2,Bf.port1.onmessage=function(){if(Do!==null){var e=me.unstable_now();Df=e+Rf;try{Do(!0,e)?Bu.postMessage(null):(Ro=!1,Do=null)}catch(t){throw Bu.postMessage(null),t}}else Ro=!1},Oi=function(e){Do=e,Ro||(Ro=!0,Bu.postMessage(null))},Bo=function(e,t){Du=Jm(function(){e(me.unstable_now())},t)},ju=function(){Zm(Du),Du=-1});var Li,Af,Pf,Jm,Zm,Qm,Ro,Do,Du,Rf,Df,Bf,Bu;function jf(e,t){var r=e.length;e.push(t);e:for(;;){var n=r-1>>>1,i=e[n];if(i!==void 0&&0<Nu(i,t))e[n]=t,e[r]=i,r=n;else break e}}function pr(e){return e=e[0],e===void 0?null:e}function Fu(e){var t=e[0];if(t!==void 0){var r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length;n<i;){var o=2*(n+1)-1,s=e[o],c=o+1,f=e[c];if(s!==void 0&&0>Nu(s,r))f!==void 0&&0>Nu(f,s)?(e[n]=f,e[c]=r,n=c):(e[n]=s,e[o]=r,n=o);else if(f!==void 0&&0>Nu(f,r))e[n]=f,e[c]=r,n=c;else break e}}return t}return null}function Nu(e,t){var r=e.sortIndex-t.sortIndex;return r!==0?r:e.id-t.id}var Cr=[],rn=[],z1=1,Kt=null,ht=3,Hu=!1,Xn=!1,No=!1;function Ff(e){for(var t=pr(rn);t!==null;){if(t.callback===null)Fu(rn);else if(t.startTime<=e)Fu(rn),t.sortIndex=t.expirationTime,jf(Cr,t);else break;t=pr(rn)}}function Hf(e){if(No=!1,Ff(e),!Xn)if(pr(Cr)!==null)Xn=!0,Oi(Uf);else{var t=pr(rn);t!==null&&Bo(Hf,t.startTime-e)}}function Uf(e,t){Xn=!1,No&&(No=!1,ju()),Hu=!0;var r=ht;try{for(Ff(t),Kt=pr(Cr);Kt!==null&&(!(Kt.expirationTime>t)||e&&!me.unstable_shouldYield());){var n=Kt.callback;if(typeof n=="function"){Kt.callback=null,ht=Kt.priorityLevel;var i=n(Kt.expirationTime<=t);t=me.unstable_now(),typeof i=="function"?Kt.callback=i:Kt===pr(Cr)&&Fu(Cr),Ff(t)}else Fu(Cr);Kt=pr(Cr)}if(Kt!==null)var o=!0;else{var s=pr(rn);s!==null&&Bo(Hf,s.startTime-t),o=!1}return o}finally{Kt=null,ht=r,Hu=!1}}var V1=Nf;me.unstable_IdlePriority=5;me.unstable_ImmediatePriority=1;me.unstable_LowPriority=4;me.unstable_NormalPriority=3;me.unstable_Profiling=null;me.unstable_UserBlockingPriority=2;me.unstable_cancelCallback=function(e){e.callback=null};me.unstable_continueExecution=function(){Xn||Hu||(Xn=!0,Oi(Uf))};me.unstable_getCurrentPriorityLevel=function(){return ht};me.unstable_getFirstCallbackNode=function(){return pr(Cr)};me.unstable_next=function(e){switch(ht){case 1:case 2:case 3:var t=3;break;default:t=ht}var r=ht;ht=t;try{return e()}finally{ht=r}};me.unstable_pauseExecution=function(){};me.unstable_requestPaint=V1;me.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=ht;ht=e;try{return t()}finally{ht=r}};me.unstable_scheduleCallback=function(e,t,r){var n=me.unstable_now();switch(typeof r=="object"&&r!==null?(r=r.delay,r=typeof r=="number"&&0<r?n+r:n):r=n,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return i=r+i,e={id:z1++,callback:t,priorityLevel:e,startTime:r,expirationTime:i,sortIndex:-1},r>n?(e.sortIndex=r,jf(rn,e),pr(Cr)===null&&e===pr(rn)&&(No?ju():No=!0,Bo(Hf,r-n))):(e.sortIndex=i,jf(Cr,e),Xn||Hu||(Xn=!0,Oi(Uf))),e};me.unstable_wrapCallback=function(e){var t=ht;return function(){var r=ht;ht=t;try{return e.apply(this,arguments)}finally{ht=r}}}});var r_=at((JE,t_)=>{"use strict";t_.exports=e_()});var qg=at(er=>{"use strict";var Pl=Ne(),De=Au(),rt=r_();function $(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Pl)throw Error($(227));var mv=new Set,ds={};function si(e,t){Xi(e,t),Xi(e+"Capture",t)}function Xi(e,t){for(ds[e]=t,e=0;e<t.length;e++)mv.add(t[e])}var Vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,n_=Object.prototype.hasOwnProperty,i_={},o_={};function G1(e){return n_.call(o_,e)?!0:n_.call(i_,e)?!1:$1.test(e)?o_[e]=!0:(i_[e]=!0,!1)}function K1(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function X1(e,t,r,n){if(t===null||typeof t>"u"||K1(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function kt(e,t,r,n,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ct[e]=new kt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ct[t]=new kt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ct[e]=new kt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ct[e]=new kt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ct[e]=new kt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ct[e]=new kt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ct[e]=new kt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ct[e]=new kt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ct[e]=new kt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Yp=/[\-:]([a-z])/g;function Jp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Yp,Jp);ct[t]=new kt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Yp,Jp);ct[t]=new kt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Yp,Jp);ct[t]=new kt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ct[e]=new kt(e,1,!1,e.toLowerCase(),null,!1,!1)});ct.xlinkHref=new kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ct[e]=new kt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Zp(e,t,r,n){var i=ct.hasOwnProperty(t)?ct[t]:null,o=i!==null?i.type===0:n?!1:!(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N");o||(X1(t,r,i,n)&&(r=null),n||i===null?G1(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ai=Pl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yo=60103,Jn=60106,on=60107,Qp=60108,ts=60114,ed=60109,td=60110,Rl=60112,rs=60113,cl=60120,Dl=60115,rd=60116,nd=60121,id=60128,_v=60129,od=60130,cp=60131;typeof Symbol=="function"&&Symbol.for&&(Ze=Symbol.for,Yo=Ze("react.element"),Jn=Ze("react.portal"),on=Ze("react.fragment"),Qp=Ze("react.strict_mode"),ts=Ze("react.profiler"),ed=Ze("react.provider"),td=Ze("react.context"),Rl=Ze("react.forward_ref"),rs=Ze("react.suspense"),cl=Ze("react.suspense_list"),Dl=Ze("react.memo"),rd=Ze("react.lazy"),nd=Ze("react.block"),Ze("react.scope"),id=Ze("react.opaque.id"),_v=Ze("react.debug_trace_mode"),od=Ze("react.offscreen"),cp=Ze("react.legacy_hidden"));var Ze,s_=typeof Symbol=="function"&&Symbol.iterator;function jo(e){return e===null||typeof e!="object"?null:(e=s_&&e[s_]||e["@@iterator"],typeof e=="function"?e:null)}var qf;function Jo(e){if(qf===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);qf=t&&t[1]||""}return`
`+qf+e}var Wf=!1;function Uu(e,t){if(!e||Wf)return"";Wf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var n=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){n=f}e.call(t.prototype)}else{try{throw Error()}catch(f){n=f}e()}}catch(f){if(f&&n&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),o=n.stack.split(`
`),s=i.length-1,c=o.length-1;1<=s&&0<=c&&i[s]!==o[c];)c--;for(;1<=s&&0<=c;s--,c--)if(i[s]!==o[c]){if(s!==1||c!==1)do if(s--,c--,0>c||i[s]!==o[c])return`
`+i[s].replace(" at new "," at ");while(1<=s&&0<=c);break}}}finally{Wf=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Jo(e):""}function Y1(e){switch(e.tag){case 5:return Jo(e.type);case 16:return Jo("Lazy");case 13:return Jo("Suspense");case 19:return Jo("SuspenseList");case 0:case 2:case 15:return e=Uu(e.type,!1),e;case 11:return e=Uu(e.type.render,!1),e;case 22:return e=Uu(e.type._render,!1),e;case 1:return e=Uu(e.type,!0),e;default:return""}}function Fi(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case on:return"Fragment";case Jn:return"Portal";case ts:return"Profiler";case Qp:return"StrictMode";case rs:return"Suspense";case cl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case td:return(e.displayName||"Context")+".Consumer";case ed:return(e._context.displayName||"Context")+".Provider";case Rl:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case Dl:return Fi(e.type);case nd:return Fi(e._render);case rd:t=e._payload,e=e._init;try{return Fi(e(t))}catch{}}return null}function vn(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function vv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function J1(e){var t=vv(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qu(e){e._valueTracker||(e._valueTracker=J1(e))}function gv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=vv(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function fl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function fp(e,t){var r=t.checked;return De({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function a_(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=vn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function yv(e,t){t=t.checked,t!=null&&Zp(e,"checked",t,!1)}function pp(e,t){yv(e,t);var r=vn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?dp(e,t.type,r):t.hasOwnProperty("defaultValue")&&dp(e,t.type,vn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function u_(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function dp(e,t,r){(t!=="number"||fl(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function Z1(e){var t="";return Pl.Children.forEach(e,function(r){r!=null&&(t+=r)}),t}function hp(e,t){return e=De({children:void 0},t),(t=Z1(t.children))&&(e.children=t),e}function Hi(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+vn(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function mp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($(91));return De({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function l_(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error($(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error($(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:vn(r)}}function wv(e,t){var r=vn(t.value),n=vn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function c_(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}var _p={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function xv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?xv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wu,Sv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!==_p.svg||"innerHTML"in e)e.innerHTML=t;else{for(Wu=Wu||document.createElement("div"),Wu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function hs(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ns={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Q1=["Webkit","ms","Moz","O"];Object.keys(ns).forEach(function(e){Q1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ns[t]=ns[e]})});function bv(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ns.hasOwnProperty(e)&&ns[e]?(""+t).trim():t+"px"}function Cv(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=bv(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var ew=De({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gp(e,t){if(t){if(ew[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($(60));if(!(typeof t.dangerouslySetInnerHTML=="object"&&"__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(t.style!=null&&typeof t.style!="object")throw Error($(62))}}function yp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function sd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wp=null,Ui=null,qi=null;function f_(e){if(e=Os(e)){if(typeof wp!="function")throw Error($(280));var t=e.stateNode;t&&(t=Ul(t),wp(e.stateNode,e.type,t))}}function kv(e){Ui?qi?qi.push(e):qi=[e]:Ui=e}function Ev(){if(Ui){var e=Ui,t=qi;if(qi=Ui=null,f_(e),t)for(e=0;e<t.length;e++)f_(t[e])}}function ad(e,t){return e(t)}function Lv(e,t,r,n,i){return e(t,r,n,i)}function ud(){}var Ov=ad,Zn=!1,zf=!1;function ld(){(Ui!==null||qi!==null)&&(ud(),Ev())}function tw(e,t,r){if(zf)return e(t,r);zf=!0;try{return Ov(e,t,r)}finally{zf=!1,ld()}}function ms(e,t){var r=e.stateNode;if(r===null)return null;var n=Ul(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error($(231,t,typeof r));return r}var xp=!1;if(Vr)try{Ti={},Object.defineProperty(Ti,"passive",{get:function(){xp=!0}}),window.addEventListener("test",Ti,Ti),window.removeEventListener("test",Ti,Ti)}catch{xp=!1}var Ti;function rw(e,t,r,n,i,o,s,c,f){var _=Array.prototype.slice.call(arguments,3);try{t.apply(r,_)}catch(y){this.onError(y)}}var is=!1,pl=null,dl=!1,Sp=null,nw={onError:function(e){is=!0,pl=e}};function iw(e,t,r,n,i,o,s,c,f){is=!1,pl=null,rw.apply(nw,arguments)}function ow(e,t,r,n,i,o,s,c,f){if(iw.apply(this,arguments),is){if(is){var _=pl;is=!1,pl=null}else throw Error($(198));dl||(dl=!0,Sp=_)}}function ui(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&1026)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Tv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p_(e){if(ui(e)!==e)throw Error($(188))}function sw(e){var t=e.alternate;if(!t){if(t=ui(e),t===null)throw Error($(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return p_(i),e;if(o===n)return p_(i),t;o=o.sibling}throw Error($(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,c=i.child;c;){if(c===r){s=!0,r=i,n=o;break}if(c===n){s=!0,n=i,r=o;break}c=c.sibling}if(!s){for(c=o.child;c;){if(c===r){s=!0,r=o,n=i;break}if(c===n){s=!0,n=o,r=i;break}c=c.sibling}if(!s)throw Error($(189))}}if(r.alternate!==n)throw Error($(190))}if(r.tag!==3)throw Error($(188));return r.stateNode.current===r?e:t}function Iv(e){if(e=sw(e),!e)return null;for(var t=e;;){if(t.tag===5||t.tag===6)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function d_(e,t){for(var r=e.alternate;t!==null;){if(t===e||t===r)return!0;t=t.return}return!1}var Mv,cd,Av,Pv,bp=!1,kr=[],ln=null,cn=null,fn=null,_s=new Map,vs=new Map,Fo=[],h_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cp(e,t,r,n,i){return{blockedOn:e,domEventName:t,eventSystemFlags:r|16,nativeEvent:i,targetContainers:[n]}}function m_(e,t){switch(e){case"focusin":case"focusout":ln=null;break;case"dragenter":case"dragleave":cn=null;break;case"mouseover":case"mouseout":fn=null;break;case"pointerover":case"pointerout":_s.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vs.delete(t.pointerId)}}function Ho(e,t,r,n,i,o){return e===null||e.nativeEvent!==o?(e=Cp(t,r,n,i,o),t!==null&&(t=Os(t),t!==null&&cd(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function aw(e,t,r,n,i){switch(t){case"focusin":return ln=Ho(ln,e,t,r,n,i),!0;case"dragenter":return cn=Ho(cn,e,t,r,n,i),!0;case"mouseover":return fn=Ho(fn,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return _s.set(o,Ho(_s.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,vs.set(o,Ho(vs.get(o)||null,e,t,r,n,i)),!0}return!1}function uw(e){var t=Qn(e.target);if(t!==null){var r=ui(t);if(r!==null){if(t=r.tag,t===13){if(t=Tv(r),t!==null){e.blockedOn=t,Pv(e.lanePriority,function(){rt.unstable_runWithPriority(e.priority,function(){Av(r)})});return}}else if(t===3&&r.stateNode.hydrate){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function el(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=hd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r!==null)return t=Os(r),t!==null&&cd(t),e.blockedOn=r,!1;t.shift()}return!0}function __(e,t,r){el(e)&&r.delete(t)}function lw(){for(bp=!1;0<kr.length;){var e=kr[0];if(e.blockedOn!==null){e=Os(e.blockedOn),e!==null&&Mv(e);break}for(var t=e.targetContainers;0<t.length;){var r=hd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r!==null){e.blockedOn=r;break}t.shift()}e.blockedOn===null&&kr.shift()}ln!==null&&el(ln)&&(ln=null),cn!==null&&el(cn)&&(cn=null),fn!==null&&el(fn)&&(fn=null),_s.forEach(__),vs.forEach(__)}function Uo(e,t){e.blockedOn===t&&(e.blockedOn=null,bp||(bp=!0,rt.unstable_scheduleCallback(rt.unstable_NormalPriority,lw)))}function Rv(e){function t(i){return Uo(i,e)}if(0<kr.length){Uo(kr[0],e);for(var r=1;r<kr.length;r++){var n=kr[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ln!==null&&Uo(ln,e),cn!==null&&Uo(cn,e),fn!==null&&Uo(fn,e),_s.forEach(t),vs.forEach(t),r=0;r<Fo.length;r++)n=Fo[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Fo.length&&(r=Fo[0],r.blockedOn===null);)uw(r),r.blockedOn===null&&Fo.shift()}function zu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Pi={animationend:zu("Animation","AnimationEnd"),animationiteration:zu("Animation","AnimationIteration"),animationstart:zu("Animation","AnimationStart"),transitionend:zu("Transition","TransitionEnd")},Vf={},Dv={};Vr&&(Dv=document.createElement("div").style,"AnimationEvent"in window||(delete Pi.animationend.animation,delete Pi.animationiteration.animation,delete Pi.animationstart.animation),"TransitionEvent"in window||delete Pi.transitionend.transition);function Bl(e){if(Vf[e])return Vf[e];if(!Pi[e])return e;var t=Pi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Dv)return Vf[e]=t[r];return e}var Bv=Bl("animationend"),Nv=Bl("animationiteration"),jv=Bl("animationstart"),Fv=Bl("transitionend"),Hv=new Map,fd=new Map,cw=["abort","abort",Bv,"animationEnd",Nv,"animationIteration",jv,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Fv,"transitionEnd","waiting","waiting"];function pd(e,t){for(var r=0;r<e.length;r+=2){var n=e[r],i=e[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),fd.set(n,t),Hv.set(n,i),si(i,[n])}}var fw=rt.unstable_now;fw();var Ie=8;function Mi(e){if((1&e)!==0)return Ie=15,1;if((2&e)!==0)return Ie=14,2;if((4&e)!==0)return Ie=13,4;var t=24&e;return t!==0?(Ie=12,t):(e&32)!==0?(Ie=11,32):(t=192&e,t!==0?(Ie=10,t):(e&256)!==0?(Ie=9,256):(t=3584&e,t!==0?(Ie=8,t):(e&4096)!==0?(Ie=7,4096):(t=4186112&e,t!==0?(Ie=6,t):(t=62914560&e,t!==0?(Ie=5,t):e&67108864?(Ie=4,67108864):(e&134217728)!==0?(Ie=3,134217728):(t=805306368&e,t!==0?(Ie=2,t):(1073741824&e)!==0?(Ie=1,1073741824):(Ie=8,e))))))}function pw(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function dw(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error($(358,e))}}function gs(e,t){var r=e.pendingLanes;if(r===0)return Ie=0;var n=0,i=0,o=e.expiredLanes,s=e.suspendedLanes,c=e.pingedLanes;if(o!==0)n=o,i=Ie=15;else if(o=r&134217727,o!==0){var f=o&~s;f!==0?(n=Mi(f),i=Ie):(c&=o,c!==0&&(n=Mi(c),i=Ie))}else o=r&~s,o!==0?(n=Mi(o),i=Ie):c!==0&&(n=Mi(c),i=Ie);if(n===0)return 0;if(n=31-gn(n),n=r&((0>n?0:1<<n)<<1)-1,t!==0&&t!==n&&(t&s)===0){if(Mi(t),i<=Ie)return t;Ie=i}if(t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-gn(t),i=1<<r,n|=e[r],t&=~i;return n}function Uv(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function hl(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return e=Ai(24&~t),e===0?hl(10,t):e;case 10:return e=Ai(192&~t),e===0?hl(8,t):e;case 8:return e=Ai(3584&~t),e===0&&(e=Ai(4186112&~t),e===0&&(e=512)),e;case 2:return t=Ai(805306368&~t),t===0&&(t=268435456),t}throw Error($(358,e))}function Ai(e){return e&-e}function $f(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Nl(e,t,r){e.pendingLanes|=t;var n=t-1;e.suspendedLanes&=n,e.pingedLanes&=n,e=e.eventTimes,t=31-gn(t),e[t]=r}var gn=Math.clz32?Math.clz32:_w,hw=Math.log,mw=Math.LN2;function _w(e){return e===0?32:31-(hw(e)/mw|0)|0}var vw=rt.unstable_UserBlockingPriority,gw=rt.unstable_runWithPriority,tl=!0;function yw(e,t,r,n){Zn||ud();var i=dd,o=Zn;Zn=!0;try{Lv(i,e,t,r,n)}finally{(Zn=o)||ld()}}function ww(e,t,r,n){gw(vw,dd.bind(null,e,t,r,n))}function dd(e,t,r,n){if(tl){var i;if((i=(t&4)===0)&&0<kr.length&&-1<h_.indexOf(e))e=Cp(null,e,t,r,n),kr.push(e);else{var o=hd(e,t,r,n);if(o===null)i&&m_(e,n);else{if(i){if(-1<h_.indexOf(e)){e=Cp(o,e,t,r,n),kr.push(e);return}if(aw(o,e,t,r,n))return;m_(e,n)}eg(e,t,n,null,r)}}}}function hd(e,t,r,n){var i=sd(n);if(i=Qn(i),i!==null){var o=ui(i);if(o===null)i=null;else{var s=o.tag;if(s===13){if(i=Tv(o),i!==null)return i;i=null}else if(s===3){if(o.stateNode.hydrate)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return eg(e,t,n,i,r),null}var sn=null,md=null,rl=null;function qv(){if(rl)return rl;var e,t=md,r=t.length,n,i="value"in sn?sn.value:sn.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[o-n];n++);return rl=i.slice(e,1<n?1-n:void 0)}function nl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vu(){return!0}function v_(){return!1}function Ft(e){function t(r,n,i,o,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(r=e[c],this[c]=r?r(o):o[c]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Vu:v_,this.isPropagationStopped=v_,this}return De(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Vu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Vu)},persist:function(){},isPersistent:Vu}),t}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_d=Ft(Qi),Ls=De({},Qi,{view:0,detail:0}),xw=Ft(Ls),Gf,Kf,qo,jl=De({},Ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qo&&(qo&&e.type==="mousemove"?(Gf=e.screenX-qo.screenX,Kf=e.screenY-qo.screenY):Kf=Gf=0,qo=e),Gf)},movementY:function(e){return"movementY"in e?e.movementY:Kf}}),g_=Ft(jl),Sw=De({},jl,{dataTransfer:0}),bw=Ft(Sw),Cw=De({},Ls,{relatedTarget:0}),Xf=Ft(Cw),kw=De({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ew=Ft(kw),Lw=De({},Qi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ow=Ft(Lw),Tw=De({},Qi,{data:0}),y_=Ft(Tw),Iw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Aw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Aw[e])?!!t[e]:!1}function vd(){return Pw}var Rw=De({},Ls,{key:function(e){if(e.key){var t=Iw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=nl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vd,charCode:function(e){return e.type==="keypress"?nl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?nl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Dw=Ft(Rw),Bw=De({},jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w_=Ft(Bw),Nw=De({},Ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vd}),jw=Ft(Nw),Fw=De({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hw=Ft(Fw),Uw=De({},jl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qw=Ft(Uw),Ww=[9,13,27,32],gd=Vr&&"CompositionEvent"in window,os=null;Vr&&"documentMode"in document&&(os=document.documentMode);var zw=Vr&&"TextEvent"in window&&!os,Wv=Vr&&(!gd||os&&8<os&&11>=os),x_=String.fromCharCode(32),S_=!1;function zv(e,t){switch(e){case"keyup":return Ww.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ri=!1;function Vw(e,t){switch(e){case"compositionend":return Vv(t);case"keypress":return t.which!==32?null:(S_=!0,x_);case"textInput":return e=t.data,e===x_&&S_?null:e;default:return null}}function $w(e,t){if(Ri)return e==="compositionend"||!gd&&zv(e,t)?(e=qv(),rl=md=sn=null,Ri=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wv&&t.locale!=="ko"?null:t.data;default:return null}}var Gw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function b_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Gw[e.type]:t==="textarea"}function $v(e,t,r,n){kv(n),t=ml(t,"onChange"),0<t.length&&(r=new _d("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ss=null,ys=null;function Kw(e){Jv(e,0)}function Fl(e){var t=Bi(e);if(gv(t))return e}function Xw(e,t){if(e==="change")return t}var Gv=!1;Vr&&(Vr?(Gu="oninput"in document,Gu||(Yf=document.createElement("div"),Yf.setAttribute("oninput","return;"),Gu=typeof Yf.oninput=="function"),$u=Gu):$u=!1,Gv=$u&&(!document.documentMode||9<document.documentMode));var $u,Gu,Yf;function C_(){ss&&(ss.detachEvent("onpropertychange",Kv),ys=ss=null)}function Kv(e){if(e.propertyName==="value"&&Fl(ys)){var t=[];if($v(t,ys,e,sd(e)),e=Kw,Zn)e(t);else{Zn=!0;try{ad(e,t)}finally{Zn=!1,ld()}}}}function Yw(e,t,r){e==="focusin"?(C_(),ss=t,ys=r,ss.attachEvent("onpropertychange",Kv)):e==="focusout"&&C_()}function Jw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Fl(ys)}function Zw(e,t){if(e==="click")return Fl(t)}function Qw(e,t){if(e==="input"||e==="change")return Fl(t)}function ex(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xt=typeof Object.is=="function"?Object.is:ex,tx=Object.prototype.hasOwnProperty;function ws(e,t){if(Xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!tx.call(t,r[n])||!Xt(e[r[n]],t[r[n]]))return!1;return!0}function k_(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function E_(e,t){var r=k_(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=k_(r)}}function Xv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Xv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function L_(){for(var e=window,t=fl();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=fl(e.document)}return t}function kp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var rx=Vr&&"documentMode"in document&&11>=document.documentMode,Di=null,Ep=null,as=null,Lp=!1;function O_(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Lp||Di==null||Di!==fl(n)||(n=Di,"selectionStart"in n&&kp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),as&&ws(as,n)||(as=n,n=ml(Ep,"onSelect"),0<n.length&&(t=new _d("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Di)))}pd("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);pd("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);pd(cw,2);for(Jf="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ku=0;Ku<Jf.length;Ku++)fd.set(Jf[Ku],0);var Jf,Ku;Xi("onMouseEnter",["mouseout","mouseover"]);Xi("onMouseLeave",["mouseout","mouseover"]);Xi("onPointerEnter",["pointerout","pointerover"]);Xi("onPointerLeave",["pointerout","pointerover"]);si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));si("onBeforeInput",["compositionend","keypress","textInput","paste"]);si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zo));function T_(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,ow(n,t,void 0,e),e.currentTarget=null}function Jv(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var s=n.length-1;0<=s;s--){var c=n[s],f=c.instance,_=c.currentTarget;if(c=c.listener,f!==o&&i.isPropagationStopped())break e;T_(i,c,_),o=f}else for(s=0;s<n.length;s++){if(c=n[s],f=c.instance,_=c.currentTarget,c=c.listener,f!==o&&i.isPropagationStopped())break e;T_(i,c,_),o=f}}}if(dl)throw e=Sp,dl=!1,Sp=null,e}function Me(e,t){var r=rg(t),n=e+"__bubble";r.has(n)||(Qv(t,e,2,!1),r.add(n))}var I_="_reactListening"+Math.random().toString(36).slice(2);function Zv(e){e[I_]||(e[I_]=!0,mv.forEach(function(t){Yv.has(t)||M_(t,!1,e,null),M_(t,!0,e,null)}))}function M_(e,t,r,n){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,o=r;if(e==="selectionchange"&&r.nodeType!==9&&(o=r.ownerDocument),n!==null&&!t&&Yv.has(e)){if(e!=="scroll")return;i|=2,o=n}var s=rg(o),c=e+"__"+(t?"capture":"bubble");s.has(c)||(t&&(i|=4),Qv(o,e,i,t),s.add(c))}function Qv(e,t,r,n){var i=fd.get(t);switch(i===void 0?2:i){case 0:i=yw;break;case 1:i=ww;break;default:i=dd}r=i.bind(null,t,r,e),i=void 0,!xp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function eg(e,t,r,n,i){var o=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var c=n.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var f=s.tag;if((f===3||f===4)&&(f=s.stateNode.containerInfo,f===i||f.nodeType===8&&f.parentNode===i))return;s=s.return}for(;c!==null;){if(s=Qn(c),s===null)return;if(f=s.tag,f===5||f===6){n=o=s;continue e}c=c.parentNode}}n=n.return}tw(function(){var _=o,y=sd(r),m=[];e:{var p=Hv.get(e);if(p!==void 0){var v=_d,d=e;switch(e){case"keypress":if(nl(r)===0)break e;case"keydown":case"keyup":v=Dw;break;case"focusin":d="focus",v=Xf;break;case"focusout":d="blur",v=Xf;break;case"beforeblur":case"afterblur":v=Xf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=g_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=bw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=jw;break;case Bv:case Nv:case jv:v=Ew;break;case Fv:v=Hw;break;case"scroll":v=xw;break;case"wheel":v=qw;break;case"copy":case"cut":case"paste":v=Ow;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=w_}var l=(t&4)!==0,a=!l&&e==="scroll",u=l?p!==null?p+"Capture":null:p;l=[];for(var h=_,g;h!==null;){g=h;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,u!==null&&(w=ms(h,u),w!=null&&l.push(xs(h,w,g)))),a)break;h=h.return}0<l.length&&(p=new v(p,d,null,r,y),m.push({event:p,listeners:l}))}}if((t&7)===0){e:{if(p=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",p&&(t&16)===0&&(d=r.relatedTarget||r.fromElement)&&(Qn(d)||d[eo]))break e;if((v||p)&&(p=y.window===y?y:(p=y.ownerDocument)?p.defaultView||p.parentWindow:window,v?(d=r.relatedTarget||r.toElement,v=_,d=d?Qn(d):null,d!==null&&(a=ui(d),d!==a||d.tag!==5&&d.tag!==6)&&(d=null)):(v=null,d=_),v!==d)){if(l=g_,w="onMouseLeave",u="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(l=w_,w="onPointerLeave",u="onPointerEnter",h="pointer"),a=v==null?p:Bi(v),g=d==null?p:Bi(d),p=new l(w,h+"leave",v,r,y),p.target=a,p.relatedTarget=g,w=null,Qn(y)===_&&(l=new l(u,h+"enter",d,r,y),l.target=g,l.relatedTarget=a,w=l),a=w,v&&d)t:{for(l=v,u=d,h=0,g=l;g;g=Ii(g))h++;for(g=0,w=u;w;w=Ii(w))g++;for(;0<h-g;)l=Ii(l),h--;for(;0<g-h;)u=Ii(u),g--;for(;h--;){if(l===u||u!==null&&l===u.alternate)break t;l=Ii(l),u=Ii(u)}l=null}else l=null;v!==null&&A_(m,p,v,l,!1),d!==null&&a!==null&&A_(m,a,d,l,!0)}}e:{if(p=_?Bi(_):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var x=Xw;else if(b_(p))if(Gv)x=Qw;else{x=Jw;var C=Yw}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(x=Zw);if(x&&(x=x(e,_))){$v(m,x,r,y);break e}C&&C(e,p,_),e==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&dp(p,"number",p.value)}switch(C=_?Bi(_):window,e){case"focusin":(b_(C)||C.contentEditable==="true")&&(Di=C,Ep=_,as=null);break;case"focusout":as=Ep=Di=null;break;case"mousedown":Lp=!0;break;case"contextmenu":case"mouseup":case"dragend":Lp=!1,O_(m,r,y);break;case"selectionchange":if(rx)break;case"keydown":case"keyup":O_(m,r,y)}var k;if(gd)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ri?zv(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(Wv&&r.locale!=="ko"&&(Ri||S!=="onCompositionStart"?S==="onCompositionEnd"&&Ri&&(k=qv()):(sn=y,md="value"in sn?sn.value:sn.textContent,Ri=!0)),C=ml(_,S),0<C.length&&(S=new y_(S,e,null,r,y),m.push({event:S,listeners:C}),k?S.data=k:(k=Vv(r),k!==null&&(S.data=k)))),(k=zw?Vw(e,r):$w(e,r))&&(_=ml(_,"onBeforeInput"),0<_.length&&(y=new y_("onBeforeInput","beforeinput",null,r,y),m.push({event:y,listeners:_}),y.data=k))}Jv(m,t)})}function xs(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ml(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ms(e,r),o!=null&&n.unshift(xs(e,o,i)),o=ms(e,t),o!=null&&n.push(xs(e,o,i))),e=e.return}return n}function Ii(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function A_(e,t,r,n,i){for(var o=t._reactName,s=[];r!==null&&r!==n;){var c=r,f=c.alternate,_=c.stateNode;if(f!==null&&f===n)break;c.tag===5&&_!==null&&(c=_,i?(f=ms(r,o),f!=null&&s.unshift(xs(r,f,c))):i||(f=ms(r,o),f!=null&&s.push(xs(r,f,c)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}function _l(){}var Zf=null,Qf=null;function tg(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Op(e,t){return e==="textarea"||e==="option"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var P_=typeof setTimeout=="function"?setTimeout:void 0,nx=typeof clearTimeout=="function"?clearTimeout:void 0;function yd(e){e.nodeType===1?e.textContent="":e.nodeType===9&&(e=e.body,e!=null&&(e.textContent=""))}function Wi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break}return e}function R_(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ep=0;function ix(e){return{$$typeof:id,toString:e,valueOf:e}}var Hl=Math.random().toString(36).slice(2),an="__reactFiber$"+Hl,vl="__reactProps$"+Hl,eo="__reactContainer$"+Hl,D_="__reactEvents$"+Hl;function Qn(e){var t=e[an];if(t)return t;for(var r=e.parentNode;r;){if(t=r[eo]||r[an]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=R_(e);e!==null;){if(r=e[an])return r;e=R_(e)}return t}e=r,r=e.parentNode}return null}function Os(e){return e=e[an]||e[eo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Bi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($(33))}function Ul(e){return e[vl]||null}function rg(e){var t=e[D_];return t===void 0&&(t=e[D_]=new Set),t}var Tp=[],Ni=-1;function Sn(e){return{current:e}}function Ae(e){0>Ni||(e.current=Tp[Ni],Tp[Ni]=null,Ni--)}function Fe(e,t){Ni++,Tp[Ni]=e.current,e.current=t}var yn={},gt=Sn(yn),At=Sn(!1),ni=yn;function Yi(e,t){var r=e.type.contextTypes;if(!r)return yn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Pt(e){return e=e.childContextTypes,e!=null}function gl(){Ae(At),Ae(gt)}function B_(e,t,r){if(gt.current!==yn)throw Error($(168));Fe(gt,t),Fe(At,r)}function ng(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error($(108,Fi(t)||"Unknown",i));return De({},r,n)}function il(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||yn,ni=gt.current,Fe(gt,e),Fe(At,At.current),!0}function N_(e,t,r){var n=e.stateNode;if(!n)throw Error($(169));r?(e=ng(e,t,ni),n.__reactInternalMemoizedMergedChildContext=e,Ae(At),Ae(gt),Fe(gt,e)):Ae(At),Fe(At,r)}var wd=null,ri=null,ox=rt.unstable_runWithPriority,xd=rt.unstable_scheduleCallback,Ip=rt.unstable_cancelCallback,sx=rt.unstable_shouldYield,j_=rt.unstable_requestPaint,Mp=rt.unstable_now,ax=rt.unstable_getCurrentPriorityLevel,ql=rt.unstable_ImmediatePriority,ig=rt.unstable_UserBlockingPriority,og=rt.unstable_NormalPriority,sg=rt.unstable_LowPriority,ag=rt.unstable_IdlePriority,tp={},ux=j_!==void 0?j_:function(){},Hr=null,ol=null,rp=!1,F_=Mp(),_t=1e4>F_?Mp:function(){return Mp()-F_};function Ji(){switch(ax()){case ql:return 99;case ig:return 98;case og:return 97;case sg:return 96;case ag:return 95;default:throw Error($(332))}}function ug(e){switch(e){case 99:return ql;case 98:return ig;case 97:return og;case 96:return sg;case 95:return ag;default:throw Error($(332))}}function ii(e,t){return e=ug(e),ox(e,t)}function Ss(e,t,r){return e=ug(e),xd(e,t,r)}function Ir(){if(ol!==null){var e=ol;ol=null,Ip(e)}lg()}function lg(){if(!rp&&Hr!==null){rp=!0;var e=0;try{var t=Hr;ii(99,function(){for(;e<t.length;e++){var r=t[e];do r=r(!0);while(r!==null)}}),Hr=null}catch(r){throw Hr!==null&&(Hr=Hr.slice(e+1)),xd(ql,Ir),r}finally{rp=!1}}}var lx=ai.ReactCurrentBatchConfig;function dr(e,t){if(e&&e.defaultProps){t=De({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var yl=Sn(null),wl=null,ji=null,xl=null;function Sd(){xl=ji=wl=null}function bd(e){var t=yl.current;Ae(yl),e.type._context._currentValue=t}function cg(e,t){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)===t){if(r===null||(r.childLanes&t)===t)break;r.childLanes|=t}else e.childLanes|=t,r!==null&&(r.childLanes|=t);e=e.return}}function zi(e,t){wl=e,xl=ji=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(hr=!0),e.firstContext=null)}function Zt(e,t){if(xl!==e&&t!==!1&&t!==0)if((typeof t!="number"||t===1073741823)&&(xl=e,t=1073741823),t={context:e,observedBits:t,next:null},ji===null){if(wl===null)throw Error($(308));ji=t,wl.dependencies={lanes:0,firstContext:t,responders:null}}else ji=ji.next=t;return e._currentValue}var nn=!1;function Cd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function fg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function pn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function dn(e,t){if(e=e.updateQueue,e!==null){e=e.shared;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}}function H_(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=s:o=o.next=s,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function bs(e,t,r,n){var i=e.updateQueue;nn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var f=c,_=f.next;f.next=null,s===null?o=_:s.next=_,s=f;var y=e.alternate;if(y!==null){y=y.updateQueue;var m=y.lastBaseUpdate;m!==s&&(m===null?y.firstBaseUpdate=_:m.next=_,y.lastBaseUpdate=f)}}if(o!==null){m=i.baseState,s=0,y=_=f=null;do{c=o.lane;var p=o.eventTime;if((n&c)===c){y!==null&&(y=y.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=e,d=o;switch(c=t,p=r,d.tag){case 1:if(v=d.payload,typeof v=="function"){m=v.call(p,m,c);break e}m=v;break e;case 3:v.flags=v.flags&-4097|64;case 0:if(v=d.payload,c=typeof v=="function"?v.call(p,m,c):v,c==null)break e;m=De({},m,c);break e;case 2:nn=!0}}o.callback!==null&&(e.flags|=32,c=i.effects,c===null?i.effects=[o]:c.push(o))}else p={eventTime:p,lane:c,tag:o.tag,payload:o.payload,callback:o.callback,next:null},y===null?(_=y=p,f=m):y=y.next=p,s|=c;if(o=o.next,o===null){if(c=i.shared.pending,c===null)break;o=c.next,c.next=null,i.lastBaseUpdate=c,i.shared.pending=null}}while(1);y===null&&(f=m),i.baseState=f,i.firstBaseUpdate=_,i.lastBaseUpdate=y,Is|=s,e.lanes=s,e.memoizedState=m}}function U_(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error($(191,i));i.call(n)}}}var pg=new Pl.Component().refs;function Sl(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:De({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Wl={isMounted:function(e){return(e=e._reactInternals)?ui(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=jt(),i=hn(e),o=pn(n,i);o.payload=t,r!=null&&(o.callback=r),dn(e,o),mn(e,i,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=jt(),i=hn(e),o=pn(n,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),dn(e,o),mn(e,i,n)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=jt(),n=hn(e),i=pn(r,n);i.tag=2,t!=null&&(i.callback=t),dn(e,i),mn(e,n,r)}};function q_(e,t,r,n,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,s):t.prototype&&t.prototype.isPureReactComponent?!ws(r,n)||!ws(i,o):!0}function dg(e,t,r){var n=!1,i=yn,o=t.contextType;return typeof o=="object"&&o!==null?o=Zt(o):(i=Pt(t)?ni:gt.current,n=t.contextTypes,o=(n=n!=null)?Yi(e,i):yn),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Wl,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function W_(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Wl.enqueueReplaceState(t,t.state,null)}function Ap(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=pg,Cd(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Zt(o):(o=Pt(t)?ni:gt.current,i.context=Yi(e,o)),bs(e,r,i,n),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Sl(e,t,o,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Wl.enqueueReplaceState(i,i.state,null),bs(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4)}var Xu=Array.isArray;function Wo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error($(309));var n=r.stateNode}if(!n)throw Error($(147,e));var i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var s=n.refs;s===pg&&(s=n.refs={}),o===null?delete s[i]:s[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error($(284));if(!r._owner)throw Error($(290,e))}return e}function Yu(e,t){if(e.type!=="textarea")throw Error($(31,Object.prototype.toString.call(t)==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function hg(e){function t(a,u){if(e){var h=a.lastEffect;h!==null?(h.nextEffect=u,a.lastEffect=u):a.firstEffect=a.lastEffect=u,u.nextEffect=null,u.flags=8}}function r(a,u){if(!e)return null;for(;u!==null;)t(a,u),u=u.sibling;return null}function n(a,u){for(a=new Map;u!==null;)u.key!==null?a.set(u.key,u):a.set(u.index,u),u=u.sibling;return a}function i(a,u){return a=xn(a,u),a.index=0,a.sibling=null,a}function o(a,u,h){return a.index=h,e?(h=a.alternate,h!==null?(h=h.index,h<u?(a.flags=2,u):h):(a.flags=2,u)):u}function s(a){return e&&a.alternate===null&&(a.flags=2),a}function c(a,u,h,g){return u===null||u.tag!==6?(u=ap(h,a.mode,g),u.return=a,u):(u=i(u,h),u.return=a,u)}function f(a,u,h,g){return u!==null&&u.elementType===h.type?(g=i(u,h.props),g.ref=Wo(a,u,h),g.return=a,g):(g=ll(h.type,h.key,h.props,null,a.mode,g),g.ref=Wo(a,u,h),g.return=a,g)}function _(a,u,h,g){return u===null||u.tag!==4||u.stateNode.containerInfo!==h.containerInfo||u.stateNode.implementation!==h.implementation?(u=up(h,a.mode,g),u.return=a,u):(u=i(u,h.children||[]),u.return=a,u)}function y(a,u,h,g,w){return u===null||u.tag!==7?(u=Ki(h,a.mode,g,w),u.return=a,u):(u=i(u,h),u.return=a,u)}function m(a,u,h){if(typeof u=="string"||typeof u=="number")return u=ap(""+u,a.mode,h),u.return=a,u;if(typeof u=="object"&&u!==null){switch(u.$$typeof){case Yo:return h=ll(u.type,u.key,u.props,null,a.mode,h),h.ref=Wo(a,null,u),h.return=a,h;case Jn:return u=up(u,a.mode,h),u.return=a,u}if(Xu(u)||jo(u))return u=Ki(u,a.mode,h,null),u.return=a,u;Yu(a,u)}return null}function p(a,u,h,g){var w=u!==null?u.key:null;if(typeof h=="string"||typeof h=="number")return w!==null?null:c(a,u,""+h,g);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Yo:return h.key===w?h.type===on?y(a,u,h.props.children,g,w):f(a,u,h,g):null;case Jn:return h.key===w?_(a,u,h,g):null}if(Xu(h)||jo(h))return w!==null?null:y(a,u,h,g,null);Yu(a,h)}return null}function v(a,u,h,g,w){if(typeof g=="string"||typeof g=="number")return a=a.get(h)||null,c(u,a,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Yo:return a=a.get(g.key===null?h:g.key)||null,g.type===on?y(u,a,g.props.children,w,g.key):f(u,a,g,w);case Jn:return a=a.get(g.key===null?h:g.key)||null,_(u,a,g,w)}if(Xu(g)||jo(g))return a=a.get(h)||null,y(u,a,g,w,null);Yu(u,g)}return null}function d(a,u,h,g){for(var w=null,x=null,C=u,k=u=0,S=null;C!==null&&k<h.length;k++){C.index>k?(S=C,C=null):S=C.sibling;var b=p(a,C,h[k],g);if(b===null){C===null&&(C=S);break}e&&C&&b.alternate===null&&t(a,C),u=o(b,u,k),x===null?w=b:x.sibling=b,x=b,C=S}if(k===h.length)return r(a,C),w;if(C===null){for(;k<h.length;k++)C=m(a,h[k],g),C!==null&&(u=o(C,u,k),x===null?w=C:x.sibling=C,x=C);return w}for(C=n(a,C);k<h.length;k++)S=v(C,a,k,h[k],g),S!==null&&(e&&S.alternate!==null&&C.delete(S.key===null?k:S.key),u=o(S,u,k),x===null?w=S:x.sibling=S,x=S);return e&&C.forEach(function(O){return t(a,O)}),w}function l(a,u,h,g){var w=jo(h);if(typeof w!="function")throw Error($(150));if(h=w.call(h),h==null)throw Error($(151));for(var x=w=null,C=u,k=u=0,S=null,b=h.next();C!==null&&!b.done;k++,b=h.next()){C.index>k?(S=C,C=null):S=C.sibling;var O=p(a,C,b.value,g);if(O===null){C===null&&(C=S);break}e&&C&&O.alternate===null&&t(a,C),u=o(O,u,k),x===null?w=O:x.sibling=O,x=O,C=S}if(b.done)return r(a,C),w;if(C===null){for(;!b.done;k++,b=h.next())b=m(a,b.value,g),b!==null&&(u=o(b,u,k),x===null?w=b:x.sibling=b,x=b);return w}for(C=n(a,C);!b.done;k++,b=h.next())b=v(C,a,k,b.value,g),b!==null&&(e&&b.alternate!==null&&C.delete(b.key===null?k:b.key),u=o(b,u,k),x===null?w=b:x.sibling=b,x=b);return e&&C.forEach(function(E){return t(a,E)}),w}return function(a,u,h,g){var w=typeof h=="object"&&h!==null&&h.type===on&&h.key===null;w&&(h=h.props.children);var x=typeof h=="object"&&h!==null;if(x)switch(h.$$typeof){case Yo:e:{for(x=h.key,w=u;w!==null;){if(w.key===x){switch(w.tag){case 7:if(h.type===on){r(a,w.sibling),u=i(w,h.props.children),u.return=a,a=u;break e}break;default:if(w.elementType===h.type){r(a,w.sibling),u=i(w,h.props),u.ref=Wo(a,w,h),u.return=a,a=u;break e}}r(a,w);break}else t(a,w);w=w.sibling}h.type===on?(u=Ki(h.props.children,a.mode,g,h.key),u.return=a,a=u):(g=ll(h.type,h.key,h.props,null,a.mode,g),g.ref=Wo(a,u,h),g.return=a,a=g)}return s(a);case Jn:e:{for(w=h.key;u!==null;){if(u.key===w)if(u.tag===4&&u.stateNode.containerInfo===h.containerInfo&&u.stateNode.implementation===h.implementation){r(a,u.sibling),u=i(u,h.children||[]),u.return=a,a=u;break e}else{r(a,u);break}else t(a,u);u=u.sibling}u=up(h,a.mode,g),u.return=a,a=u}return s(a)}if(typeof h=="string"||typeof h=="number")return h=""+h,u!==null&&u.tag===6?(r(a,u.sibling),u=i(u,h),u.return=a,a=u):(r(a,u),u=ap(h,a.mode,g),u.return=a,a=u),s(a);if(Xu(h))return d(a,u,h,g);if(jo(h))return l(a,u,h,g);if(x&&Yu(a,h),typeof h>"u"&&!w)switch(a.tag){case 1:case 22:case 0:case 11:case 15:throw Error($(152,Fi(a.type)||"Component"))}return r(a,u)}}var bl=hg(!0),mg=hg(!1),Ts={},Or=Sn(Ts),Cs=Sn(Ts),ks=Sn(Ts);function ei(e){if(e===Ts)throw Error($(174));return e}function Pp(e,t){switch(Fe(ks,t),Fe(Cs,e),Fe(Or,Ts),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:vp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=vp(t,e)}Ae(Or),Fe(Or,t)}function Zi(){Ae(Or),Ae(Cs),Ae(ks)}function z_(e){ei(ks.current);var t=ei(Or.current),r=vp(t,e.type);t!==r&&(Fe(Cs,e),Fe(Or,r))}function kd(e){Cs.current===e&&(Ae(Or),Ae(Cs))}var je=Sn(0);function Cl(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&64)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qr=null,un=null,Tr=!1;function _g(e,t){var r=Yt(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.flags=8,e.lastEffect!==null?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function V_(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,!0):!1;case 13:return!1;default:return!1}}function Rp(e){if(Tr){var t=un;if(t){var r=t;if(!V_(e,t)){if(t=Wi(r.nextSibling),!t||!V_(e,t)){e.flags=e.flags&-1025|2,Tr=!1,qr=e;return}_g(qr,r)}qr=e,un=Wi(t.firstChild)}else e.flags=e.flags&-1025|2,Tr=!1,qr=e}}function $_(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;qr=e}function Ju(e){if(e!==qr)return!1;if(!Tr)return $_(e),Tr=!0,!1;var t=e.type;if(e.tag!==5||t!=="head"&&t!=="body"&&!Op(t,e.memoizedProps))for(t=un;t;)_g(e,t),t=Wi(t.nextSibling);if($_(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){un=Wi(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}un=null}}else un=qr?Wi(e.stateNode.nextSibling):null;return!0}function np(){un=qr=null,Tr=!1}var Vi=[];function Ed(){for(var e=0;e<Vi.length;e++)Vi[e]._workInProgressVersionPrimary=null;Vi.length=0}var us=ai.ReactCurrentDispatcher,Jt=ai.ReactCurrentBatchConfig,Es=0,ze=null,mt=null,ut=null,kl=!1,ls=!1;function It(){throw Error($(321))}function Ld(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Xt(e[r],t[r]))return!1;return!0}function Od(e,t,r,n,i,o){if(Es=o,ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,us.current=e===null||e.memoizedState===null?fx:px,e=r(n,i),ls){o=0;do{if(ls=!1,!(25>o))throw Error($(301));o+=1,ut=mt=null,t.updateQueue=null,us.current=dx,e=r(n,i)}while(ls)}if(us.current=Tl,t=mt!==null&&mt.next!==null,Es=0,ut=mt=ze=null,kl=!1,t)throw Error($(300));return e}function ti(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?ze.memoizedState=ut=e:ut=ut.next=e,ut}function li(){if(mt===null){var e=ze.alternate;e=e!==null?e.memoizedState:null}else e=mt.next;var t=ut===null?ze.memoizedState:ut.next;if(t!==null)ut=t,mt=e;else{if(e===null)throw Error($(310));mt=e,e={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},ut===null?ze.memoizedState=ut=e:ut=ut.next=e}return ut}function Er(e,t){return typeof t=="function"?t(e):t}function zo(e){var t=li(),r=t.queue;if(r===null)throw Error($(311));r.lastRenderedReducer=e;var n=mt,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,r.pending=null}if(i!==null){i=i.next,n=n.baseState;var c=s=o=null,f=i;do{var _=f.lane;if((Es&_)===_)c!==null&&(c=c.next={lane:0,action:f.action,eagerReducer:f.eagerReducer,eagerState:f.eagerState,next:null}),n=f.eagerReducer===e?f.eagerState:e(n,f.action);else{var y={lane:_,action:f.action,eagerReducer:f.eagerReducer,eagerState:f.eagerState,next:null};c===null?(s=c=y,o=n):c=c.next=y,ze.lanes|=_,Is|=_}f=f.next}while(f!==null&&f!==i);c===null?o=n:c.next=s,Xt(n,t.memoizedState)||(hr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}return[t.memoizedState,r.dispatch]}function Vo(e){var t=li(),r=t.queue;if(r===null)throw Error($(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Xt(o,t.memoizedState)||(hr=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function G_(e,t,r){var n=t._getVersion;n=n(t._source);var i=t._workInProgressVersionPrimary;if(i!==null?e=i===n:(e=e.mutableReadLanes,(e=(Es&e)===e)&&(t._workInProgressVersionPrimary=n,Vi.push(t))),e)return r(t._source);throw Vi.push(t),Error($(350))}function vg(e,t,r,n){var i=Ct;if(i===null)throw Error($(349));var o=t._getVersion,s=o(t._source),c=us.current,f=c.useState(function(){return G_(i,t,r)}),_=f[1],y=f[0];f=ut;var m=e.memoizedState,p=m.refs,v=p.getSnapshot,d=m.source;m=m.subscribe;var l=ze;return e.memoizedState={refs:p,source:t,subscribe:n},c.useEffect(function(){p.getSnapshot=r,p.setSnapshot=_;var a=o(t._source);if(!Xt(s,a)){a=r(t._source),Xt(y,a)||(_(a),a=hn(l),i.mutableReadLanes|=a&i.pendingLanes),a=i.mutableReadLanes,i.entangledLanes|=a;for(var u=i.entanglements,h=a;0<h;){var g=31-gn(h),w=1<<g;u[g]|=a,h&=~w}}},[r,t,n]),c.useEffect(function(){return n(t._source,function(){var a=p.getSnapshot,u=p.setSnapshot;try{u(a(t._source));var h=hn(l);i.mutableReadLanes|=h&i.pendingLanes}catch(g){u(function(){throw g})}})},[t,n]),Xt(v,r)&&Xt(d,t)&&Xt(m,n)||(e={pending:null,dispatch:null,lastRenderedReducer:Er,lastRenderedState:y},e.dispatch=_=Md.bind(null,ze,e),f.queue=e,f.baseQueue=null,y=G_(i,t,r),f.memoizedState=f.baseState=y),y}function gg(e,t,r){var n=li();return vg(n,e,t,r)}function $o(e){var t=ti();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Er,lastRenderedState:e},e=e.dispatch=Md.bind(null,ze,e),[t.memoizedState,e]}function El(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ze.updateQueue,t===null?(t={lastEffect:null},ze.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function K_(e){var t=ti();return e={current:e},t.memoizedState=e}function Ll(){return li().memoizedState}function Dp(e,t,r,n){var i=ti();ze.flags|=e,i.memoizedState=El(1|t,r,void 0,n===void 0?null:n)}function Td(e,t,r,n){var i=li();n=n===void 0?null:n;var o=void 0;if(mt!==null){var s=mt.memoizedState;if(o=s.destroy,n!==null&&Ld(n,s.deps)){El(t,r,o,n);return}}ze.flags|=e,i.memoizedState=El(1|t,r,o,n)}function X_(e,t){return Dp(516,4,e,t)}function Ol(e,t){return Td(516,4,e,t)}function yg(e,t){return Td(4,2,e,t)}function wg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function xg(e,t,r){return r=r!=null?r.concat([e]):null,Td(4,2,wg.bind(null,t,e),r)}function Id(){}function Sg(e,t){var r=li();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ld(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function bg(e,t){var r=li();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ld(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function cx(e,t){var r=Ji();ii(98>r?98:r,function(){e(!0)}),ii(97<r?97:r,function(){var n=Jt.transition;Jt.transition=1;try{e(!1),t()}finally{Jt.transition=n}})}function Md(e,t,r){var n=jt(),i=hn(e),o={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},s=t.pending;if(s===null?o.next=o:(o.next=s.next,s.next=o),t.pending=o,s=e.alternate,e===ze||s!==null&&s===ze)ls=kl=!0;else{if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var c=t.lastRenderedState,f=s(c,r);if(o.eagerReducer=s,o.eagerState=f,Xt(f,c))return}catch{}finally{}mn(e,i,n)}}var Tl={readContext:Zt,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useMutableSource:It,useOpaqueIdentifier:It,unstable_isNewReconciler:!1},fx={readContext:Zt,useCallback:function(e,t){return ti().memoizedState=[e,t===void 0?null:t],e},useContext:Zt,useEffect:X_,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Dp(4,2,wg.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Dp(4,2,e,t)},useMemo:function(e,t){var r=ti();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ti();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=Md.bind(null,ze,e),[n.memoizedState,e]},useRef:K_,useState:$o,useDebugValue:Id,useDeferredValue:function(e){var t=$o(e),r=t[0],n=t[1];return X_(function(){var i=Jt.transition;Jt.transition=1;try{n(e)}finally{Jt.transition=i}},[e]),r},useTransition:function(){var e=$o(!1),t=e[0];return e=cx.bind(null,e[1]),K_(e),[e,t]},useMutableSource:function(e,t,r){var n=ti();return n.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:r},vg(n,e,t,r)},useOpaqueIdentifier:function(){if(Tr){var e=!1,t=ix(function(){throw e||(e=!0,r("r:"+(ep++).toString(36))),Error($(355))}),r=$o(t)[1];return(ze.mode&2)===0&&(ze.flags|=516,El(5,function(){r("r:"+(ep++).toString(36))},void 0,null)),t}return t="r:"+(ep++).toString(36),$o(t),t},unstable_isNewReconciler:!1},px={readContext:Zt,useCallback:Sg,useContext:Zt,useEffect:Ol,useImperativeHandle:xg,useLayoutEffect:yg,useMemo:bg,useReducer:zo,useRef:Ll,useState:function(){return zo(Er)},useDebugValue:Id,useDeferredValue:function(e){var t=zo(Er),r=t[0],n=t[1];return Ol(function(){var i=Jt.transition;Jt.transition=1;try{n(e)}finally{Jt.transition=i}},[e]),r},useTransition:function(){var e=zo(Er)[0];return[Ll().current,e]},useMutableSource:gg,useOpaqueIdentifier:function(){return zo(Er)[0]},unstable_isNewReconciler:!1},dx={readContext:Zt,useCallback:Sg,useContext:Zt,useEffect:Ol,useImperativeHandle:xg,useLayoutEffect:yg,useMemo:bg,useReducer:Vo,useRef:Ll,useState:function(){return Vo(Er)},useDebugValue:Id,useDeferredValue:function(e){var t=Vo(Er),r=t[0],n=t[1];return Ol(function(){var i=Jt.transition;Jt.transition=1;try{n(e)}finally{Jt.transition=i}},[e]),r},useTransition:function(){var e=Vo(Er)[0];return[Ll().current,e]},useMutableSource:gg,useOpaqueIdentifier:function(){return Vo(Er)[0]},unstable_isNewReconciler:!1},hx=ai.ReactCurrentOwner,hr=!1;function Mt(e,t,r,n){t.child=e===null?mg(t,null,r,n):bl(t,e.child,r,n)}function Y_(e,t,r,n,i){r=r.render;var o=t.ref;return zi(t,i),n=Od(e,t,r,n,o,i),e!==null&&!hr?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Wr(e,t,i)):(t.flags|=1,Mt(e,t,n,i),t.child)}function J_(e,t,r,n,i,o){if(e===null){var s=r.type;return typeof s=="function"&&!Nd(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,Cg(e,t,s,n,i,o)):(e=ll(r.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}return s=e.child,(i&o)===0&&(i=s.memoizedProps,r=r.compare,r=r!==null?r:ws,r(i,n)&&e.ref===t.ref)?Wr(e,t,o):(t.flags|=1,e=xn(s,n),e.ref=t.ref,e.return=t,t.child=e)}function Cg(e,t,r,n,i,o){if(e!==null&&ws(e.memoizedProps,n)&&e.ref===t.ref)if(hr=!1,(o&i)!==0)(e.flags&16384)!==0&&(hr=!0);else return t.lanes=e.lanes,Wr(e,t,o);return Bp(e,t,r,n,o)}function ip(e,t,r){var n=t.pendingProps,i=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden"||n.mode==="unstable-defer-without-hiding")if((t.mode&4)===0)t.memoizedState={baseLanes:0},Qu(t,r);else if((r&1073741824)!==0)t.memoizedState={baseLanes:0},Qu(t,o!==null?o.baseLanes:r);else return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Qu(t,e),null;else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Qu(t,n);return Mt(e,t,i,r),t.child}function kg(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=128)}function Bp(e,t,r,n,i){var o=Pt(r)?ni:gt.current;return o=Yi(t,o),zi(t,i),r=Od(e,t,r,n,o,i),e!==null&&!hr?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Wr(e,t,i)):(t.flags|=1,Mt(e,t,r,i),t.child)}function Z_(e,t,r,n,i){if(Pt(r)){var o=!0;il(t)}else o=!1;if(zi(t,i),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),dg(t,r,n),Ap(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,c=t.memoizedProps;s.props=c;var f=s.context,_=r.contextType;typeof _=="object"&&_!==null?_=Zt(_):(_=Pt(r)?ni:gt.current,_=Yi(t,_));var y=r.getDerivedStateFromProps,m=typeof y=="function"||typeof s.getSnapshotBeforeUpdate=="function";m||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(c!==n||f!==_)&&W_(t,s,n,_),nn=!1;var p=t.memoizedState;s.state=p,bs(t,n,s,i),f=t.memoizedState,c!==n||p!==f||At.current||nn?(typeof y=="function"&&(Sl(t,r,y,n),f=t.memoizedState),(c=nn||q_(t,r,c,n,p,f,_))?(m||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4)):(typeof s.componentDidMount=="function"&&(t.flags|=4),t.memoizedProps=n,t.memoizedState=f),s.props=n,s.state=f,s.context=_,n=c):(typeof s.componentDidMount=="function"&&(t.flags|=4),n=!1)}else{s=t.stateNode,fg(e,t),c=t.memoizedProps,_=t.type===t.elementType?c:dr(t.type,c),s.props=_,m=t.pendingProps,p=s.context,f=r.contextType,typeof f=="object"&&f!==null?f=Zt(f):(f=Pt(r)?ni:gt.current,f=Yi(t,f));var v=r.getDerivedStateFromProps;(y=typeof v=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(c!==m||p!==f)&&W_(t,s,n,f),nn=!1,p=t.memoizedState,s.state=p,bs(t,n,s,i);var d=t.memoizedState;c!==m||p!==d||At.current||nn?(typeof v=="function"&&(Sl(t,r,v,n),d=t.memoizedState),(_=nn||q_(t,r,_,n,p,d,f))?(y||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,d,f),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,d,f)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=256)):(typeof s.componentDidUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),t.memoizedProps=n,t.memoizedState=d),s.props=n,s.state=d,s.context=f,n=_):(typeof s.componentDidUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),n=!1)}return Np(e,t,r,n,o,i)}function Np(e,t,r,n,i,o){kg(e,t);var s=(t.flags&64)!==0;if(!n&&!s)return i&&N_(t,r,!1),Wr(e,t,o);n=t.stateNode,hx.current=t;var c=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=bl(t,e.child,null,o),t.child=bl(t,null,c,o)):Mt(e,t,c,o),t.memoizedState=n.state,i&&N_(t,r,!0),t.child}function Q_(e){var t=e.stateNode;t.pendingContext?B_(e,t.pendingContext,t.pendingContext!==t.context):t.context&&B_(e,t.context,!1),Pp(e,t.containerInfo)}var Zu={dehydrated:null,retryLane:0};function ev(e,t,r){var n=t.pendingProps,i=je.current,o=!1,s;return(s=(t.flags&64)!==0)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-65):e!==null&&e.memoizedState===null||n.fallback===void 0||n.unstable_avoidThisFallback===!0||(i|=1),Fe(je,i&1),e===null?(n.fallback!==void 0&&Rp(t),e=n.children,i=n.fallback,o?(e=tv(t,e,i,r),t.child.memoizedState={baseLanes:r},t.memoizedState=Zu,e):typeof n.unstable_expectedLoadTime=="number"?(e=tv(t,e,i,r),t.child.memoizedState={baseLanes:r},t.memoizedState=Zu,t.lanes=33554432,e):(r=jd({mode:"visible",children:e},t.mode,r,null),r.return=t,t.child=r)):e.memoizedState!==null?o?(n=nv(e,t,n.children,n.fallback,r),o=t.child,i=e.child.memoizedState,o.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=e.childLanes&~r,t.memoizedState=Zu,n):(r=rv(e,t,n.children,r),t.memoizedState=null,r):o?(n=nv(e,t,n.children,n.fallback,r),o=t.child,i=e.child.memoizedState,o.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=e.childLanes&~r,t.memoizedState=Zu,n):(r=rv(e,t,n.children,r),t.memoizedState=null,r)}function tv(e,t,r,n){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},(i&2)===0&&o!==null?(o.childLanes=0,o.pendingProps=t):o=jd(t,i,0,null),r=Ki(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,r}function rv(e,t,r,n){var i=e.child;return e=i.sibling,r=xn(i,{mode:"visible",children:r}),(t.mode&2)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=r}function nv(e,t,r,n,i){var o=t.mode,s=e.child;e=s.sibling;var c={mode:"hidden",children:r};return(o&2)===0&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,s=r.lastEffect,s!==null?(t.firstEffect=r.firstEffect,t.lastEffect=s,s.nextEffect=null):t.firstEffect=t.lastEffect=null):r=xn(s,c),e!==null?n=xn(e,n):(n=Ki(n,o,i,null),n.flags|=2),n.return=t,r.return=t,r.sibling=n,t.child=r,n}function iv(e,t){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),cg(e.return,t)}function op(e,t,r,n,i,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i,s.lastEffect=o)}function ov(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(Mt(e,t,n.children,r),n=je.current,(n&2)!==0)n=n&1|2,t.flags|=64;else{if(e!==null&&(e.flags&64)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&iv(e,r);else if(e.tag===19)iv(e,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Fe(je,n),(t.mode&2)===0)t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Cl(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),op(t,!1,i,r,o,t.lastEffect);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Cl(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}op(t,!0,r,null,o,t.lastEffect);break;case"together":op(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Wr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Is|=t.lanes,(r&t.childLanes)!==0){if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,r=xn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=xn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}return null}var Eg,jp,Lg,Og;Eg=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};jp=function(){};Lg=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,ei(Or.current);var o=null;switch(r){case"input":i=fp(e,i),n=fp(e,n),o=[];break;case"option":i=hp(e,i),n=hp(e,n),o=[];break;case"select":i=De({},i,{value:void 0}),n=De({},n,{value:void 0}),o=[];break;case"textarea":i=mp(e,i),n=mp(e,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=_l)}gp(r,n);var s;r=null;for(_ in i)if(!n.hasOwnProperty(_)&&i.hasOwnProperty(_)&&i[_]!=null)if(_==="style"){var c=i[_];for(s in c)c.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else _!=="dangerouslySetInnerHTML"&&_!=="children"&&_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(ds.hasOwnProperty(_)?o||(o=[]):(o=o||[]).push(_,null));for(_ in n){var f=n[_];if(c=i?.[_],n.hasOwnProperty(_)&&f!==c&&(f!=null||c!=null))if(_==="style")if(c){for(s in c)!c.hasOwnProperty(s)||f&&f.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in f)f.hasOwnProperty(s)&&c[s]!==f[s]&&(r||(r={}),r[s]=f[s])}else r||(o||(o=[]),o.push(_,r)),r=f;else _==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,c=c?c.__html:void 0,f!=null&&c!==f&&(o=o||[]).push(_,f)):_==="children"?typeof f!="string"&&typeof f!="number"||(o=o||[]).push(_,""+f):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&(ds.hasOwnProperty(_)?(f!=null&&_==="onScroll"&&Me("scroll",e),o||c===f||(o=[])):typeof f=="object"&&f!==null&&f.$$typeof===id?f.toString():(o=o||[]).push(_,f))}r&&(o=o||[]).push("style",r);var _=o;(t.updateQueue=_)&&(t.flags|=4)}};Og=function(e,t,r,n){r!==n&&(t.flags|=4)};function Go(e,t){if(!Tr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function mx(e,t,r){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Pt(t.type)&&gl(),null;case 3:return Zi(),Ae(At),Ae(gt),Ed(),n=t.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ju(t)?t.flags|=4:n.hydrate||(t.flags|=256)),jp(t),null;case 5:kd(t);var i=ei(ks.current);if(r=t.type,e!==null&&t.stateNode!=null)Lg(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=128);else{if(!n){if(t.stateNode===null)throw Error($(166));return null}if(e=ei(Or.current),Ju(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[an]=t,n[vl]=o,r){case"dialog":Me("cancel",n),Me("close",n);break;case"iframe":case"object":case"embed":Me("load",n);break;case"video":case"audio":for(e=0;e<Zo.length;e++)Me(Zo[e],n);break;case"source":Me("error",n);break;case"img":case"image":case"link":Me("error",n),Me("load",n);break;case"details":Me("toggle",n);break;case"input":a_(n,o),Me("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Me("invalid",n);break;case"textarea":l_(n,o),Me("invalid",n)}gp(r,o),e=null;for(var s in o)o.hasOwnProperty(s)&&(i=o[s],s==="children"?typeof i=="string"?n.textContent!==i&&(e=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(e=["children",""+i]):ds.hasOwnProperty(s)&&i!=null&&s==="onScroll"&&Me("scroll",n));switch(r){case"input":qu(n),u_(n,o,!0);break;case"textarea":qu(n),c_(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=_l)}n=e,t.updateQueue=n,n!==null&&(t.flags|=4)}else{switch(s=i.nodeType===9?i:i.ownerDocument,e===_p.html&&(e=xv(r)),e===_p.html?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[an]=t,e[vl]=n,Eg(e,t,!1,!1),t.stateNode=e,s=yp(r,n),r){case"dialog":Me("cancel",e),Me("close",e),i=n;break;case"iframe":case"object":case"embed":Me("load",e),i=n;break;case"video":case"audio":for(i=0;i<Zo.length;i++)Me(Zo[i],e);i=n;break;case"source":Me("error",e),i=n;break;case"img":case"image":case"link":Me("error",e),Me("load",e),i=n;break;case"details":Me("toggle",e),i=n;break;case"input":a_(e,n),i=fp(e,n),Me("invalid",e);break;case"option":i=hp(e,n);break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=De({},n,{value:void 0}),Me("invalid",e);break;case"textarea":l_(e,n),i=mp(e,n),Me("invalid",e);break;default:i=n}gp(r,i);var c=i;for(o in c)if(c.hasOwnProperty(o)){var f=c[o];o==="style"?Cv(e,f):o==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&Sv(e,f)):o==="children"?typeof f=="string"?(r!=="textarea"||f!=="")&&hs(e,f):typeof f=="number"&&hs(e,""+f):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ds.hasOwnProperty(o)?f!=null&&o==="onScroll"&&Me("scroll",e):f!=null&&Zp(e,o,f,s))}switch(r){case"input":qu(e),u_(e,n,!1);break;case"textarea":qu(e),c_(e);break;case"option":n.value!=null&&e.setAttribute("value",""+vn(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Hi(e,!!n.multiple,o,!1):n.defaultValue!=null&&Hi(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=_l)}tg(r,n)&&(t.flags|=4)}t.ref!==null&&(t.flags|=128)}return null;case 6:if(e&&t.stateNode!=null)Og(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error($(166));r=ei(ks.current),ei(Or.current),Ju(t)?(n=t.stateNode,r=t.memoizedProps,n[an]=t,n.nodeValue!==r&&(t.flags|=4)):(n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[an]=t,t.stateNode=n)}return null;case 13:return Ae(je),n=t.memoizedState,(t.flags&64)!==0?(t.lanes=r,t):(n=n!==null,r=!1,e===null?t.memoizedProps.fallback!==void 0&&Ju(t):r=e.memoizedState!==null,n&&!r&&(t.mode&2)!==0&&(e===null&&t.memoizedProps.unstable_avoidThisFallback!==!0||(je.current&1)!==0?lt===0&&(lt=3):((lt===0||lt===3)&&(lt=4),Ct===null||(Is&134217727)===0&&(ro&134217727)===0||$i(Ct,vt))),(n||r)&&(t.flags|=4),null);case 4:return Zi(),jp(t),e===null&&Zv(t.stateNode.containerInfo),null;case 10:return bd(t),null;case 17:return Pt(t.type)&&gl(),null;case 19:if(Ae(je),n=t.memoizedState,n===null)return null;if(o=(t.flags&64)!==0,s=n.rendering,s===null)if(o)Go(n,!1);else{if(lt!==0||e!==null&&(e.flags&64)!==0)for(e=t.child;e!==null;){if(s=Cl(e),s!==null){for(t.flags|=64,Go(n,!1),o=s.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),n.lastEffect===null&&(t.firstEffect=null),t.lastEffect=n.lastEffect,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Fe(je,je.current&1|2),t.child}e=e.sibling}n.tail!==null&&_t()>zp&&(t.flags|=64,o=!0,Go(n,!1),t.lanes=33554432)}else{if(!o)if(e=Cl(s),e!==null){if(t.flags|=64,o=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Go(n,!0),n.tail===null&&n.tailMode==="hidden"&&!s.alternate&&!Tr)return t=t.lastEffect=n.lastEffect,t!==null&&(t.nextEffect=null),null}else 2*_t()-n.renderingStartTime>zp&&r!==1073741824&&(t.flags|=64,o=!0,Go(n,!1),t.lanes=33554432);n.isBackwards?(s.sibling=t.child,t.child=s):(r=n.last,r!==null?r.sibling=s:t.child=s,n.last=s)}return n.tail!==null?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=_t(),r.sibling=null,t=je.current,Fe(je,o?t&1|2:t&1),r):null;case 23:case 24:return Bd(),e!==null&&e.memoizedState!==null!=(t.memoizedState!==null)&&n.mode!=="unstable-defer-without-hiding"&&(t.flags|=4),null}throw Error($(156,t.tag))}function _x(e){switch(e.tag){case 1:Pt(e.type)&&gl();var t=e.flags;return t&4096?(e.flags=t&-4097|64,e):null;case 3:if(Zi(),Ae(At),Ae(gt),Ed(),t=e.flags,(t&64)!==0)throw Error($(285));return e.flags=t&-4097|64,e;case 5:return kd(e),null;case 13:return Ae(je),t=e.flags,t&4096?(e.flags=t&-4097|64,e):null;case 19:return Ae(je),null;case 4:return Zi(),null;case 10:return bd(e),null;case 23:case 24:return Bd(),null;default:return null}}function Ad(e,t){try{var r="",n=t;do r+=Y1(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i}}function Fp(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var vx=typeof WeakMap=="function"?WeakMap:Map;function Tg(e,t,r){r=pn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ml||(Ml=!0,Vp=n),Fp(e,t)},r}function Ig(e,t,r){r=pn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return Fp(e,t),n(i)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){typeof n!="function"&&(Lr===null?Lr=new Set([this]):Lr.add(this),Fp(e,t));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}var gx=typeof WeakSet=="function"?WeakSet:Set;function sv(e){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){_n(e,r)}else t.current=null}function yx(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(t.flags&256&&e!==null){var r=e.memoizedProps,n=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?r:dr(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:t.flags&256&&yd(t.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error($(163))}function wx(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:if(t=r.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{if((e.tag&3)===3){var n=e.create;e.destroy=n()}e=e.next}while(e!==t)}if(t=r.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{var i=e;n=i.next,i=i.tag,(i&4)!==0&&(i&1)!==0&&(Fg(r,e),Ox(r,e)),e=n}while(e!==t)}return;case 1:e=r.stateNode,r.flags&4&&(t===null?e.componentDidMount():(n=r.elementType===r.type?t.memoizedProps:dr(r.type,t.memoizedProps),e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),t=r.updateQueue,t!==null&&U_(r,t,e);return;case 3:if(t=r.updateQueue,t!==null){if(e=null,r.child!==null)switch(r.child.tag){case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}U_(r,t,e)}return;case 5:e=r.stateNode,t===null&&r.flags&4&&tg(r.type,r.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:r.memoizedState===null&&(r=r.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&Rv(r))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error($(163))}function av(e,t){for(var r=e;;){if(r.tag===5){var n=r.stateNode;if(t)n=n.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,n.style.display=bv("display",i)}}else if(r.tag===6)r.stateNode.nodeValue=t?"":r.memoizedProps;else if((r.tag!==23&&r.tag!==24||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function uv(e,t){if(ri&&typeof ri.onCommitFiberUnmount=="function")try{ri.onCommitFiberUnmount(wd,t)}catch{}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var r=e=e.next;do{var n=r,i=n.destroy;if(n=n.tag,i!==void 0)if((n&4)!==0)Fg(t,r);else{n=t;try{i()}catch(o){_n(n,o)}}r=r.next}while(r!==e)}break;case 1:if(sv(t),e=t.stateNode,typeof e.componentWillUnmount=="function")try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){_n(t,o)}break;case 5:sv(t);break;case 4:Mg(e,t)}}function lv(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function cv(e){return e.tag===5||e.tag===3||e.tag===4}function fv(e){e:{for(var t=e.return;t!==null;){if(cv(t))break e;t=t.return}throw Error($(160))}var r=t;switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:t=t.containerInfo,n=!0;break;case 4:t=t.containerInfo,n=!0;break;default:throw Error($(161))}r.flags&16&&(hs(t,""),r.flags&=-17);e:t:for(r=e;;){for(;r.sibling===null;){if(r.return===null||cv(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2)){r=r.stateNode;break e}}n?Hp(e,r,t):Up(e,r,t)}function Hp(e,t,r){var n=e.tag,i=n===5||n===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=_l));else if(n!==4&&(e=e.child,e!==null))for(Hp(e,t,r),e=e.sibling;e!==null;)Hp(e,t,r),e=e.sibling}function Up(e,t,r){var n=e.tag,i=n===5||n===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Up(e,t,r),e=e.sibling;e!==null;)Up(e,t,r),e=e.sibling}function Mg(e,t){for(var r=t,n=!1,i,o;;){if(!n){n=r.return;e:for(;;){if(n===null)throw Error($(160));switch(i=n.stateNode,n.tag){case 5:o=!1;break e;case 3:i=i.containerInfo,o=!0;break e;case 4:i=i.containerInfo,o=!0;break e}n=n.return}n=!0}if(r.tag===5||r.tag===6){e:for(var s=e,c=r,f=c;;)if(uv(s,f),f.child!==null&&f.tag!==4)f.child.return=f,f=f.child;else{if(f===c)break e;for(;f.sibling===null;){if(f.return===null||f.return===c)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}o?(s=i,c=r.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):i.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){i=r.stateNode.containerInfo,o=!0,r.child.return=r,r=r.child;continue}}else if(uv(e,r),r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return,r.tag===4&&(n=!1)}r.sibling.return=r.return,r=r.sibling}}function sp(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do(n.tag&3)===3&&(e=n.destroy,n.destroy=void 0,e!==void 0&&e()),n=n.next;while(n!==r)}return;case 1:return;case 5:if(r=t.stateNode,r!=null){n=t.memoizedProps;var i=e!==null?e.memoizedProps:n;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,o!==null){for(r[vl]=n,e==="input"&&n.type==="radio"&&n.name!=null&&yv(r,n),yp(e,i),t=yp(e,n),i=0;i<o.length;i+=2){var s=o[i],c=o[i+1];s==="style"?Cv(r,c):s==="dangerouslySetInnerHTML"?Sv(r,c):s==="children"?hs(r,c):Zp(r,s,c,t)}switch(e){case"input":pp(r,n);break;case"textarea":wv(r,n);break;case"select":e=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,o=n.value,o!=null?Hi(r,!!n.multiple,o,!1):e!==!!n.multiple&&(n.defaultValue!=null?Hi(r,!!n.multiple,n.defaultValue,!0):Hi(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(t.stateNode===null)throw Error($(162));t.stateNode.nodeValue=t.memoizedProps;return;case 3:r=t.stateNode,r.hydrate&&(r.hydrate=!1,Rv(r.containerInfo));return;case 12:return;case 13:t.memoizedState!==null&&(Dd=_t(),av(t.child,!0)),pv(t);return;case 19:pv(t);return;case 17:return;case 23:case 24:av(t,t.memoizedState!==null);return}throw Error($(163))}function pv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new gx),t.forEach(function(n){var i=Mx.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function xx(e,t){return e!==null&&(e=e.memoizedState,e===null||e.dehydrated!==null)?(t=t.memoizedState,t!==null&&t.dehydrated===null):!1}var Sx=Math.ceil,Il=ai.ReactCurrentDispatcher,Pd=ai.ReactCurrentOwner,ae=0,Ct=null,Qe=null,vt=0,oi=0,qp=Sn(0),lt=0,zl=null,to=0,Is=0,ro=0,Rd=0,Wp=null,Dd=0,zp=1/0;function no(){zp=_t()+500}var Y=null,Ml=!1,Vp=null,Lr=null,wn=!1,cs=null,Qo=90,$p=[],Gp=[],zr=null,fs=0,Kp=null,sl=-1,Ur=0,al=0,ps=null,ul=!1;function jt(){return(ae&48)!==0?_t():sl!==-1?sl:sl=_t()}function hn(e){if(e=e.mode,(e&2)===0)return 1;if((e&4)===0)return Ji()===99?1:2;if(Ur===0&&(Ur=to),lx.transition!==0){al!==0&&(al=Wp!==null?Wp.pendingLanes:0),e=Ur;var t=4186112&~al;return t&=-t,t===0&&(e=4186112&~e,t=e&-e,t===0&&(t=8192)),t}return e=Ji(),(ae&4)!==0&&e===98?e=hl(12,Ur):(e=pw(e),e=hl(e,Ur)),e}function mn(e,t,r){if(50<fs)throw fs=0,Kp=null,Error($(185));if(e=Vl(e,t),e===null)return null;Nl(e,t,r),e===Ct&&(ro|=t,lt===4&&$i(e,vt));var n=Ji();t===1?(ae&8)!==0&&(ae&48)===0?Xp(e):(Qt(e,r),ae===0&&(no(),Ir())):((ae&4)===0||n!==98&&n!==99||(zr===null?zr=new Set([e]):zr.add(e)),Qt(e,r)),Wp=e}function Vl(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}function Qt(e,t){for(var r=e.callbackNode,n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var c=31-gn(s),f=1<<c,_=o[c];if(_===-1){if((f&n)===0||(f&i)!==0){_=t,Mi(f);var y=Ie;o[c]=10<=y?_+250:6<=y?_+5e3:-1}}else _<=t&&(e.expiredLanes|=f);s&=~f}if(n=gs(e,e===Ct?vt:0),t=Ie,n===0)r!==null&&(r!==tp&&Ip(r),e.callbackNode=null,e.callbackPriority=0);else{if(r!==null){if(e.callbackPriority===t)return;r!==tp&&Ip(r)}t===15?(r=Xp.bind(null,e),Hr===null?(Hr=[r],ol=xd(ql,lg)):Hr.push(r),r=tp):t===14?r=Ss(99,Xp.bind(null,e)):(r=dw(t),r=Ss(r,Ag.bind(null,e))),e.callbackPriority=t,e.callbackNode=r}}function Ag(e){if(sl=-1,al=Ur=0,(ae&48)!==0)throw Error($(327));var t=e.callbackNode;if(bn()&&e.callbackNode!==t)return null;var r=gs(e,e===Ct?vt:0);if(r===0)return null;var n=r,i=ae;ae|=16;var o=Bg();(Ct!==e||vt!==n)&&(no(),Gi(e,n));do try{kx();break}catch(c){Dg(e,c)}while(1);if(Sd(),Il.current=o,ae=i,Qe!==null?n=0:(Ct=null,vt=0,n=lt),(to&ro)!==0)Gi(e,0);else if(n!==0){if(n===2&&(ae|=64,e.hydrate&&(e.hydrate=!1,yd(e.containerInfo)),r=Uv(e),r!==0&&(n=es(e,r))),n===1)throw t=zl,Gi(e,0),$i(e,r),Qt(e,_t()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=r,n){case 0:case 1:throw Error($(345));case 2:Yn(e);break;case 3:if($i(e,r),(r&62914560)===r&&(n=Dd+500-_t(),10<n)){if(gs(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){jt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=P_(Yn.bind(null,e),n);break}Yn(e);break;case 4:if($i(e,r),(r&4186112)===r)break;for(n=e.eventTimes,i=-1;0<r;){var s=31-gn(r);o=1<<s,s=n[s],s>i&&(i=s),r&=~o}if(r=i,r=_t()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sx(r/1960))-r,10<r){e.timeoutHandle=P_(Yn.bind(null,e),r);break}Yn(e);break;case 5:Yn(e);break;default:throw Error($(329))}}return Qt(e,_t()),e.callbackNode===t?Ag.bind(null,e):null}function $i(e,t){for(t&=~Rd,t&=~ro,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-gn(t),n=1<<r;e[r]=-1,t&=~n}}function Xp(e){if((ae&48)!==0)throw Error($(327));if(bn(),e===Ct&&(e.expiredLanes&vt)!==0){var t=vt,r=es(e,t);(to&ro)!==0&&(t=gs(e,t),r=es(e,t))}else t=gs(e,0),r=es(e,t);if(e.tag!==0&&r===2&&(ae|=64,e.hydrate&&(e.hydrate=!1,yd(e.containerInfo)),t=Uv(e),t!==0&&(r=es(e,t))),r===1)throw r=zl,Gi(e,0),$i(e,t),Qt(e,_t()),r;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Yn(e),Qt(e,_t()),null}function bx(){if(zr!==null){var e=zr;zr=null,e.forEach(function(t){t.expiredLanes|=24&t.pendingLanes,Qt(t,_t())})}Ir()}function Pg(e,t){var r=ae;ae|=1;try{return e(t)}finally{ae=r,ae===0&&(no(),Ir())}}function Rg(e,t){var r=ae;ae&=-2,ae|=8;try{return e(t)}finally{ae=r,ae===0&&(no(),Ir())}}function Qu(e,t){Fe(qp,oi),oi|=t,to|=t}function Bd(){oi=qp.current,Ae(qp)}function Gi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,nx(r)),Qe!==null)for(r=Qe.return;r!==null;){var n=r;switch(n.tag){case 1:n=n.type.childContextTypes,n!=null&&gl();break;case 3:Zi(),Ae(At),Ae(gt),Ed();break;case 5:kd(n);break;case 4:Zi();break;case 13:Ae(je);break;case 19:Ae(je);break;case 10:bd(n);break;case 23:case 24:Bd()}r=r.return}Ct=e,Qe=xn(e.current,null),vt=oi=to=t,lt=0,zl=null,Rd=ro=Is=0}function Dg(e,t){do{var r=Qe;try{if(Sd(),us.current=Tl,kl){for(var n=ze.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}kl=!1}if(Es=0,ut=mt=ze=null,ls=!1,Pd.current=null,r===null||r.return===null){lt=1,zl=t,Qe=null;break}e:{var o=e,s=r.return,c=r,f=t;if(t=vt,c.flags|=2048,c.firstEffect=c.lastEffect=null,f!==null&&typeof f=="object"&&typeof f.then=="function"){var _=f;if((c.mode&2)===0){var y=c.alternate;y?(c.updateQueue=y.updateQueue,c.memoizedState=y.memoizedState,c.lanes=y.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=(je.current&1)!==0,p=s;do{var v;if(v=p.tag===13){var d=p.memoizedState;if(d!==null)v=d.dehydrated!==null;else{var l=p.memoizedProps;v=l.fallback===void 0?!1:l.unstable_avoidThisFallback!==!0?!0:!m}}if(v){var a=p.updateQueue;if(a===null){var u=new Set;u.add(_),p.updateQueue=u}else a.add(_);if((p.mode&2)===0){if(p.flags|=64,c.flags|=16384,c.flags&=-2981,c.tag===1)if(c.alternate===null)c.tag=17;else{var h=pn(-1,1);h.tag=2,dn(c,h)}c.lanes|=1;break e}f=void 0,c=t;var g=o.pingCache;if(g===null?(g=o.pingCache=new vx,f=new Set,g.set(_,f)):(f=g.get(_),f===void 0&&(f=new Set,g.set(_,f))),!f.has(c)){f.add(c);var w=Ix.bind(null,o,_,c);_.then(w,w)}p.flags|=4096,p.lanes=t;break e}p=p.return}while(p!==null);f=Error((Fi(c.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}lt!==5&&(lt=2),f=Ad(f,c),p=s;do{switch(p.tag){case 3:o=f,p.flags|=4096,t&=-t,p.lanes|=t;var x=Tg(p,o,t);H_(p,x);break e;case 1:o=f;var C=p.type,k=p.stateNode;if((p.flags&64)===0&&(typeof C.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Lr===null||!Lr.has(k)))){p.flags|=4096,t&=-t,p.lanes|=t;var S=Ig(p,o,t);H_(p,S);break e}}p=p.return}while(p!==null)}jg(r)}catch(b){t=b,Qe===r&&r!==null&&(Qe=r=r.return);continue}break}while(1)}function Bg(){var e=Il.current;return Il.current=Tl,e===null?Tl:e}function es(e,t){var r=ae;ae|=16;var n=Bg();Ct===e&&vt===t||Gi(e,t);do try{Cx();break}catch(i){Dg(e,i)}while(1);if(Sd(),ae=r,Il.current=n,Qe!==null)throw Error($(261));return Ct=null,vt=0,lt}function Cx(){for(;Qe!==null;)Ng(Qe)}function kx(){for(;Qe!==null&&!sx();)Ng(Qe)}function Ng(e){var t=Hg(e.alternate,e,oi);e.memoizedProps=e.pendingProps,t===null?jg(e):Qe=t,Pd.current=null}function jg(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&2048)===0){if(r=mx(r,t,oi),r!==null){Qe=r;return}if(r=t,r.tag!==24&&r.tag!==23||r.memoizedState===null||(oi&1073741824)!==0||(r.mode&4)===0){for(var n=0,i=r.child;i!==null;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}e!==null&&(e.flags&2048)===0&&(e.firstEffect===null&&(e.firstEffect=t.firstEffect),t.lastEffect!==null&&(e.lastEffect!==null&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(e.lastEffect!==null?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(r=_x(t),r!==null){r.flags&=2047,Qe=r;return}e!==null&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(t=t.sibling,t!==null){Qe=t;return}Qe=t=e}while(t!==null);lt===0&&(lt=5)}function Yn(e){var t=Ji();return ii(99,Ex.bind(null,e,t)),null}function Ex(e,t){do bn();while(cs!==null);if((ae&48)!==0)throw Error($(327));var r=e.finishedWork;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error($(177));e.callbackNode=null;var n=r.lanes|r.childLanes,i=n,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,c=e.expirationTimes;0<o;){var f=31-gn(o),_=1<<f;i[f]=0,s[f]=-1,c[f]=-1,o&=~_}if(zr!==null&&(n&24)===0&&zr.has(e)&&zr.delete(e),e===Ct&&(Qe=Ct=null,vt=0),1<r.flags?r.lastEffect!==null?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,n!==null){if(i=ae,ae|=32,Pd.current=null,Zf=tl,s=L_(),kp(s)){if("selectionStart"in s)c={start:s.selectionStart,end:s.selectionEnd};else e:if(c=(c=s.ownerDocument)&&c.defaultView||window,(_=c.getSelection&&c.getSelection())&&_.rangeCount!==0){c=_.anchorNode,o=_.anchorOffset,f=_.focusNode,_=_.focusOffset;try{c.nodeType,f.nodeType}catch{c=null;break e}var y=0,m=-1,p=-1,v=0,d=0,l=s,a=null;t:for(;;){for(var u;l!==c||o!==0&&l.nodeType!==3||(m=y+o),l!==f||_!==0&&l.nodeType!==3||(p=y+_),l.nodeType===3&&(y+=l.nodeValue.length),(u=l.firstChild)!==null;)a=l,l=u;for(;;){if(l===s)break t;if(a===c&&++v===o&&(m=y),a===f&&++d===_&&(p=y),(u=l.nextSibling)!==null)break;l=a,a=l.parentNode}l=u}c=m===-1||p===-1?null:{start:m,end:p}}else c=null;c=c||{start:0,end:0}}else c=null;Qf={focusedElem:s,selectionRange:c},tl=!1,ps=null,ul=!1,Y=n;do try{Lx()}catch(b){if(Y===null)throw Error($(330));_n(Y,b),Y=Y.nextEffect}while(Y!==null);ps=null,Y=n;do try{for(s=e;Y!==null;){var h=Y.flags;if(h&16&&hs(Y.stateNode,""),h&128){var g=Y.alternate;if(g!==null){var w=g.ref;w!==null&&(typeof w=="function"?w(null):w.current=null)}}switch(h&1038){case 2:fv(Y),Y.flags&=-3;break;case 6:fv(Y),Y.flags&=-3,sp(Y.alternate,Y);break;case 1024:Y.flags&=-1025;break;case 1028:Y.flags&=-1025,sp(Y.alternate,Y);break;case 4:sp(Y.alternate,Y);break;case 8:c=Y,Mg(s,c);var x=c.alternate;lv(c),x!==null&&lv(x)}Y=Y.nextEffect}}catch(b){if(Y===null)throw Error($(330));_n(Y,b),Y=Y.nextEffect}while(Y!==null);if(w=Qf,g=L_(),h=w.focusedElem,s=w.selectionRange,g!==h&&h&&h.ownerDocument&&Xv(h.ownerDocument.documentElement,h)){for(s!==null&&kp(h)&&(g=s.start,w=s.end,w===void 0&&(w=g),"selectionStart"in h?(h.selectionStart=g,h.selectionEnd=Math.min(w,h.value.length)):(w=(g=h.ownerDocument||document)&&g.defaultView||window,w.getSelection&&(w=w.getSelection(),c=h.textContent.length,x=Math.min(s.start,c),s=s.end===void 0?x:Math.min(s.end,c),!w.extend&&x>s&&(c=s,s=x,x=c),c=E_(h,x),o=E_(h,s),c&&o&&(w.rangeCount!==1||w.anchorNode!==c.node||w.anchorOffset!==c.offset||w.focusNode!==o.node||w.focusOffset!==o.offset)&&(g=g.createRange(),g.setStart(c.node,c.offset),w.removeAllRanges(),x>s?(w.addRange(g),w.extend(o.node,o.offset)):(g.setEnd(o.node,o.offset),w.addRange(g)))))),g=[],w=h;w=w.parentNode;)w.nodeType===1&&g.push({element:w,left:w.scrollLeft,top:w.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<g.length;h++)w=g[h],w.element.scrollLeft=w.left,w.element.scrollTop=w.top}tl=!!Zf,Qf=Zf=null,e.current=r,Y=n;do try{for(h=e;Y!==null;){var C=Y.flags;if(C&36&&wx(h,Y.alternate,Y),C&128){g=void 0;var k=Y.ref;if(k!==null){var S=Y.stateNode;switch(Y.tag){case 5:g=S;break;default:g=S}typeof k=="function"?k(g):k.current=g}}Y=Y.nextEffect}}catch(b){if(Y===null)throw Error($(330));_n(Y,b),Y=Y.nextEffect}while(Y!==null);Y=null,ux(),ae=i}else e.current=r;if(wn)wn=!1,cs=e,Qo=t;else for(Y=n;Y!==null;)t=Y.nextEffect,Y.nextEffect=null,Y.flags&8&&(C=Y,C.sibling=null,C.stateNode=null),Y=t;if(n=e.pendingLanes,n===0&&(Lr=null),n===1?e===Kp?fs++:(fs=0,Kp=e):fs=0,r=r.stateNode,ri&&typeof ri.onCommitFiberRoot=="function")try{ri.onCommitFiberRoot(wd,r,void 0,(r.current.flags&64)===64)}catch{}if(Qt(e,_t()),Ml)throw Ml=!1,e=Vp,Vp=null,e;return(ae&8)!==0||Ir(),null}function Lx(){for(;Y!==null;){var e=Y.alternate;ul||ps===null||((Y.flags&8)!==0?d_(Y,ps)&&(ul=!0):Y.tag===13&&xx(e,Y)&&d_(Y,ps)&&(ul=!0));var t=Y.flags;(t&256)!==0&&yx(e,Y),(t&512)===0||wn||(wn=!0,Ss(97,function(){return bn(),null})),Y=Y.nextEffect}}function bn(){if(Qo!==90){var e=97<Qo?97:Qo;return Qo=90,ii(e,Tx)}return!1}function Ox(e,t){$p.push(t,e),wn||(wn=!0,Ss(97,function(){return bn(),null}))}function Fg(e,t){Gp.push(t,e),wn||(wn=!0,Ss(97,function(){return bn(),null}))}function Tx(){if(cs===null)return!1;var e=cs;if(cs=null,(ae&48)!==0)throw Error($(331));var t=ae;ae|=32;var r=Gp;Gp=[];for(var n=0;n<r.length;n+=2){var i=r[n],o=r[n+1],s=i.destroy;if(i.destroy=void 0,typeof s=="function")try{s()}catch(f){if(o===null)throw Error($(330));_n(o,f)}}for(r=$p,$p=[],n=0;n<r.length;n+=2){i=r[n],o=r[n+1];try{var c=i.create;i.destroy=c()}catch(f){if(o===null)throw Error($(330));_n(o,f)}}for(c=e.current.firstEffect;c!==null;)e=c.nextEffect,c.nextEffect=null,c.flags&8&&(c.sibling=null,c.stateNode=null),c=e;return ae=t,Ir(),!0}function dv(e,t,r){t=Ad(r,t),t=Tg(e,t,1),dn(e,t),t=jt(),e=Vl(e,1),e!==null&&(Nl(e,1,t),Qt(e,t))}function _n(e,t){if(e.tag===3)dv(e,e,t);else for(var r=e.return;r!==null;){if(r.tag===3){dv(r,e,t);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Lr===null||!Lr.has(n))){e=Ad(t,e);var i=Ig(r,e,1);if(dn(r,i),i=jt(),r=Vl(r,1),r!==null)Nl(r,1,i),Qt(r,i);else if(typeof n.componentDidCatch=="function"&&(Lr===null||!Lr.has(n)))try{n.componentDidCatch(t,e)}catch{}break}}r=r.return}}function Ix(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=jt(),e.pingedLanes|=e.suspendedLanes&r,Ct===e&&(vt&r)===r&&(lt===4||lt===3&&(vt&62914560)===vt&&500>_t()-Dd?Gi(e,0):Rd|=r),Qt(e,t)}function Mx(e,t){var r=e.stateNode;r!==null&&r.delete(t),t=0,t===0&&(t=e.mode,(t&2)===0?t=1:(t&4)===0?t=Ji()===99?1:2:(Ur===0&&(Ur=to),t=Ai(62914560&~Ur),t===0&&(t=4194304))),r=jt(),e=Vl(e,t),e!==null&&(Nl(e,t,r),Qt(e,r))}var Hg;Hg=function(e,t,r){var n=t.lanes;if(e!==null)if(e.memoizedProps!==t.pendingProps||At.current)hr=!0;else if((r&n)!==0)hr=(e.flags&16384)!==0;else{switch(hr=!1,t.tag){case 3:Q_(t),np();break;case 5:z_(t);break;case 1:Pt(t.type)&&il(t);break;case 4:Pp(t,t.stateNode.containerInfo);break;case 10:n=t.memoizedProps.value;var i=t.type._context;Fe(yl,i._currentValue),i._currentValue=n;break;case 13:if(t.memoizedState!==null)return(r&t.child.childLanes)!==0?ev(e,t,r):(Fe(je,je.current&1),t=Wr(e,t,r),t!==null?t.sibling:null);Fe(je,je.current&1);break;case 19:if(n=(r&t.childLanes)!==0,(e.flags&64)!==0){if(n)return ov(e,t,r);t.flags|=64}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Fe(je,je.current),n)break;return null;case 23:case 24:return t.lanes=0,ip(e,t,r)}return Wr(e,t,r)}else hr=!1;switch(t.lanes=0,t.tag){case 2:if(n=t.type,e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=Yi(t,gt.current),zi(t,r),i=Od(null,t,n,e,i,r),t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pt(n)){var o=!0;il(t)}else o=!1;t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Cd(t);var s=n.getDerivedStateFromProps;typeof s=="function"&&Sl(t,n,s,e),i.updater=Wl,t.stateNode=i,i._reactInternals=t,Ap(t,n,e,r),t=Np(null,t,n,!0,o,r)}else t.tag=0,Mt(null,t,i,r),t=t.child;return t;case 16:i=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=i._init,i=o(i._payload),t.type=i,o=t.tag=Px(i),e=dr(i,e),o){case 0:t=Bp(null,t,i,e,r);break e;case 1:t=Z_(null,t,i,e,r);break e;case 11:t=Y_(null,t,i,e,r);break e;case 14:t=J_(null,t,i,dr(i.type,e),n,r);break e}throw Error($(306,i,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:dr(n,i),Bp(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:dr(n,i),Z_(e,t,n,i,r);case 3:if(Q_(t),n=t.updateQueue,e===null||n===null)throw Error($(282));if(n=t.pendingProps,i=t.memoizedState,i=i!==null?i.element:null,fg(e,t),bs(t,n,null,r),n=t.memoizedState.element,n===i)np(),t=Wr(e,t,r);else{if(i=t.stateNode,(o=i.hydrate)&&(un=Wi(t.stateNode.containerInfo.firstChild),qr=t,o=Tr=!0),o){if(e=i.mutableSourceEagerHydrationData,e!=null)for(i=0;i<e.length;i+=2)o=e[i],o._workInProgressVersionPrimary=e[i+1],Vi.push(o);for(r=mg(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|1024,r=r.sibling}else Mt(e,t,n,r),np();t=t.child}return t;case 5:return z_(t),e===null&&Rp(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,Op(n,i)?s=null:o!==null&&Op(n,o)&&(t.flags|=16),kg(e,t),Mt(e,t,s,r),t.child;case 6:return e===null&&Rp(t),null;case 13:return ev(e,t,r);case 4:return Pp(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=bl(t,null,n,r):Mt(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:dr(n,i),Y_(e,t,n,i,r);case 7:return Mt(e,t,t.pendingProps,r),t.child;case 8:return Mt(e,t,t.pendingProps.children,r),t.child;case 12:return Mt(e,t,t.pendingProps.children,r),t.child;case 10:e:{n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var c=t.type._context;if(Fe(yl,c._currentValue),c._currentValue=o,s!==null)if(c=s.value,o=Xt(c,o)?0:(typeof n._calculateChangedBits=="function"?n._calculateChangedBits(c,o):1073741823)|0,o===0){if(s.children===i.children&&!At.current){t=Wr(e,t,r);break e}}else for(c=t.child,c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){s=c.child;for(var _=f.firstContext;_!==null;){if(_.context===n&&(_.observedBits&o)!==0){c.tag===1&&(_=pn(-1,r&-r),_.tag=2,dn(c,_)),c.lanes|=r,_=c.alternate,_!==null&&(_.lanes|=r),cg(c.return,r),f.lanes|=r;break}_=_.next}}else s=c.tag===10&&c.type===t.type?null:c.child;if(s!==null)s.return=c;else for(s=c;s!==null;){if(s===t){s=null;break}if(c=s.sibling,c!==null){c.return=s.return,s=c;break}s=s.return}c=s}Mt(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,o=t.pendingProps,n=o.children,zi(t,r),i=Zt(i,o.unstable_observedBits),n=n(i),t.flags|=1,Mt(e,t,n,r),t.child;case 14:return i=t.type,o=dr(i,t.pendingProps),o=dr(i.type,o),J_(e,t,i,o,n,r);case 15:return Cg(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:dr(n,i),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Pt(n)?(e=!0,il(t)):e=!1,zi(t,r),dg(t,n,i),Ap(t,n,i,r),Np(null,t,n,!0,e,r);case 19:return ov(e,t,r);case 23:return ip(e,t,r);case 24:return ip(e,t,r)}throw Error($(156,t.tag))};function Ax(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Yt(e,t,r,n){return new Ax(e,t,r,n)}function Nd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Px(e){if(typeof e=="function")return Nd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Rl)return 11;if(e===Dl)return 14}return 2}function xn(e,t){var r=e.alternate;return r===null?(r=Yt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ll(e,t,r,n,i,o){var s=2;if(n=e,typeof e=="function")Nd(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case on:return Ki(r.children,i,o,t);case _v:s=8,i|=16;break;case Qp:s=8,i|=1;break;case ts:return e=Yt(12,r,t,i|8),e.elementType=ts,e.type=ts,e.lanes=o,e;case rs:return e=Yt(13,r,t,i),e.type=rs,e.elementType=rs,e.lanes=o,e;case cl:return e=Yt(19,r,t,i),e.elementType=cl,e.lanes=o,e;case od:return jd(r,i,o,t);case cp:return e=Yt(24,r,t,i),e.elementType=cp,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ed:s=10;break e;case td:s=9;break e;case Rl:s=11;break e;case Dl:s=14;break e;case rd:s=16,n=null;break e;case nd:s=22;break e}throw Error($(130,e==null?e:typeof e,""))}return t=Yt(s,r,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function Ki(e,t,r,n){return e=Yt(7,e,n,t),e.lanes=r,e}function jd(e,t,r,n){return e=Yt(23,e,n,t),e.elementType=od,e.lanes=r,e}function ap(e,t,r){return e=Yt(6,e,null,t),e.lanes=r,e}function up(e,t,r){return t=Yt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Rx(e,t,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=$f(0),this.expirationTimes=$f(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$f(0),this.mutableSourceEagerHydrationData=null}function Dx(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Al(e,t,r,n){var i=t.current,o=jt(),s=hn(i);e:if(r){r=r._reactInternals;t:{if(ui(r)!==r||r.tag!==1)throw Error($(170));var c=r;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(Pt(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(c!==null);throw Error($(171))}if(r.tag===1){var f=r.type;if(Pt(f)){r=ng(r,f,c);break e}}r=c}else r=yn;return t.context===null?t.context=r:t.pendingContext=r,t=pn(o,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),dn(i,t),mn(i,s,o),s}function lp(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Fd(e,t){hv(e,t),(e=e.alternate)&&hv(e,t)}function Bx(){return null}function Hd(e,t,r){var n=r!=null&&r.hydrationOptions!=null&&r.hydrationOptions.mutableSources||null;if(r=new Rx(e,t,r!=null&&r.hydrate===!0),t=Yt(3,null,null,t===2?7:t===1?3:0),r.current=t,t.stateNode=r,Cd(t),e[eo]=r.current,Zv(e.nodeType===8?e.parentNode:e),n)for(e=0;e<n.length;e++){t=n[e];var i=t._getVersion;i=i(t._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[t,i]:r.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=r}Hd.prototype.render=function(e){Al(e,this._internalRoot,null,null)};Hd.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Al(null,e,null,function(){t[eo]=null})};function Ms(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Nx(e,t){if(t||(t=e?e.nodeType===9?e.documentElement:e.firstChild:null,t=!(!t||t.nodeType!==1||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new Hd(e,0,t?{hydrate:!0}:void 0)}function $l(e,t,r,n,i){var o=r._reactRootContainer;if(o){var s=o._internalRoot;if(typeof i=="function"){var c=i;i=function(){var _=lp(s);c.call(_)}}Al(t,s,e,i)}else{if(o=r._reactRootContainer=Nx(r,n),s=o._internalRoot,typeof i=="function"){var f=i;i=function(){var _=lp(s);f.call(_)}}Rg(function(){Al(t,s,e,i)})}return lp(s)}Mv=function(e){if(e.tag===13){var t=jt();mn(e,4,t),Fd(e,4)}};cd=function(e){if(e.tag===13){var t=jt();mn(e,67108864,t),Fd(e,67108864)}};Av=function(e){if(e.tag===13){var t=jt(),r=hn(e);mn(e,r,t),Fd(e,r)}};Pv=function(e,t){return t()};wp=function(e,t,r){switch(t){case"input":if(pp(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Ul(n);if(!i)throw Error($(90));gv(n),pp(n,i)}}}break;case"textarea":wv(e,r);break;case"select":t=r.value,t!=null&&Hi(e,!!r.multiple,t,!1)}};ad=Pg;Lv=function(e,t,r,n,i){var o=ae;ae|=4;try{return ii(98,e.bind(null,t,r,n,i))}finally{ae=o,ae===0&&(no(),Ir())}};ud=function(){(ae&49)===0&&(bx(),bn())};Ov=function(e,t){var r=ae;ae|=2;try{return e(t)}finally{ae=r,ae===0&&(no(),Ir())}};function Ug(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ms(t))throw Error($(200));return Dx(e,t,null,r)}var jx={Events:[Os,Bi,Ul,kv,Ev,bn,{current:!1}]},Ko={findFiberByHostInstance:Qn,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},Fx={bundleType:Ko.bundleType,version:Ko.version,rendererPackageName:Ko.rendererPackageName,rendererConfig:Ko.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ai.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Iv(e),e===null?null:e.stateNode},findFiberByHostInstance:Ko.findFiberByHostInstance||Bx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(Xo=__REACT_DEVTOOLS_GLOBAL_HOOK__,!Xo.isDisabled&&Xo.supportsFiber))try{wd=Xo.inject(Fx),ri=Xo}catch{}var Xo;er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jx;er.createPortal=Ug;er.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):Error($(268,Object.keys(e)));return e=Iv(t),e=e===null?null:e.stateNode,e};er.flushSync=function(e,t){var r=ae;if((r&48)!==0)return e(t);ae|=1;try{if(e)return ii(99,e.bind(null,t))}finally{ae=r,Ir()}};er.hydrate=function(e,t,r){if(!Ms(t))throw Error($(200));return $l(null,e,t,!0,r)};er.render=function(e,t,r){if(!Ms(t))throw Error($(200));return $l(null,e,t,!1,r)};er.unmountComponentAtNode=function(e){if(!Ms(e))throw Error($(40));return e._reactRootContainer?(Rg(function(){$l(null,null,e,!1,function(){e._reactRootContainer=null,e[eo]=null})}),!0):!1};er.unstable_batchedUpdates=Pg;er.unstable_createPortal=function(e,t){return Ug(e,t,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};er.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ms(r))throw Error($(200));if(e==null||e._reactInternals===void 0)throw Error($(38));return $l(e,t,r,!1,n)};er.version="17.0.2"});var Ud=at((QE,zg)=>{"use strict";function Wg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wg)}catch(e){console.error(e)}}Wg(),zg.exports=qg()});var Jg=at(ge=>{"use strict";var nt=typeof Symbol=="function"&&Symbol.for,Wd=nt?Symbol.for("react.element"):60103,zd=nt?Symbol.for("react.portal"):60106,Kl=nt?Symbol.for("react.fragment"):60107,Xl=nt?Symbol.for("react.strict_mode"):60108,Yl=nt?Symbol.for("react.profiler"):60114,Jl=nt?Symbol.for("react.provider"):60109,Zl=nt?Symbol.for("react.context"):60110,Vd=nt?Symbol.for("react.async_mode"):60111,Ql=nt?Symbol.for("react.concurrent_mode"):60111,ec=nt?Symbol.for("react.forward_ref"):60112,tc=nt?Symbol.for("react.suspense"):60113,Wx=nt?Symbol.for("react.suspense_list"):60120,rc=nt?Symbol.for("react.memo"):60115,nc=nt?Symbol.for("react.lazy"):60116,zx=nt?Symbol.for("react.block"):60121,Vx=nt?Symbol.for("react.fundamental"):60117,$x=nt?Symbol.for("react.responder"):60118,Gx=nt?Symbol.for("react.scope"):60119;function Ht(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Wd:switch(e=e.type,e){case Vd:case Ql:case Kl:case Yl:case Xl:case tc:return e;default:switch(e=e&&e.$$typeof,e){case Zl:case ec:case nc:case rc:case Jl:return e;default:return t}}case zd:return t}}}function Yg(e){return Ht(e)===Ql}ge.AsyncMode=Vd;ge.ConcurrentMode=Ql;ge.ContextConsumer=Zl;ge.ContextProvider=Jl;ge.Element=Wd;ge.ForwardRef=ec;ge.Fragment=Kl;ge.Lazy=nc;ge.Memo=rc;ge.Portal=zd;ge.Profiler=Yl;ge.StrictMode=Xl;ge.Suspense=tc;ge.isAsyncMode=function(e){return Yg(e)||Ht(e)===Vd};ge.isConcurrentMode=Yg;ge.isContextConsumer=function(e){return Ht(e)===Zl};ge.isContextProvider=function(e){return Ht(e)===Jl};ge.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Wd};ge.isForwardRef=function(e){return Ht(e)===ec};ge.isFragment=function(e){return Ht(e)===Kl};ge.isLazy=function(e){return Ht(e)===nc};ge.isMemo=function(e){return Ht(e)===rc};ge.isPortal=function(e){return Ht(e)===zd};ge.isProfiler=function(e){return Ht(e)===Yl};ge.isStrictMode=function(e){return Ht(e)===Xl};ge.isSuspense=function(e){return Ht(e)===tc};ge.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Kl||e===Ql||e===Yl||e===Xl||e===tc||e===Wx||typeof e=="object"&&e!==null&&(e.$$typeof===nc||e.$$typeof===rc||e.$$typeof===Jl||e.$$typeof===Zl||e.$$typeof===ec||e.$$typeof===Vx||e.$$typeof===$x||e.$$typeof===Gx||e.$$typeof===zx)};ge.typeOf=Ht});var $d=at((p2,Zg)=>{"use strict";Zg.exports=Jg()});var oy=at((d2,iy)=>{"use strict";var Gd=$d(),Kx={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Xx={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Yx={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ry={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Kd={};Kd[Gd.ForwardRef]=Yx;Kd[Gd.Memo]=ry;function Qg(e){return Gd.isMemo(e)?ry:Kd[e.$$typeof]||Kx}var Jx=Object.defineProperty,Zx=Object.getOwnPropertyNames,ey=Object.getOwnPropertySymbols,Qx=Object.getOwnPropertyDescriptor,eS=Object.getPrototypeOf,ty=Object.prototype;function ny(e,t,r){if(typeof t!="string"){if(ty){var n=eS(t);n&&n!==ty&&ny(e,n,r)}var i=Zx(t);ey&&(i=i.concat(ey(t)));for(var o=Qg(e),s=Qg(t),c=0;c<i.length;++c){var f=i[c];if(!Xx[f]&&!(r&&r[f])&&!(s&&s[f])&&!(o&&o[f])){var _=Qx(t,f);try{Jx(e,f,_)}catch{}}}}return e}iy.exports=ny});var c0=at((Lc,Hh)=>{(function(e,t){if(typeof Lc=="object"&&typeof Hh=="object")Hh.exports=t();else if(typeof define=="function"&&define.amd)define([],t);else{var r=t();for(var n in r)(typeof Lc=="object"?Lc:e)[n]=r[n]}})(self,function(){return(()=>{"use strict";var e={4567:function(r,n,i){var o,s=this&&this.__extends||(o=function(l,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&(u[g]=h[g])},o(l,a)},function(l,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function u(){this.constructor=l}o(l,a),l.prototype=a===null?Object.create(a):(u.prototype=a.prototype,new u)});Object.defineProperty(n,"__esModule",{value:!0}),n.AccessibilityManager=void 0;var c=i(9042),f=i(6114),_=i(9924),y=i(3656),m=i(844),p=i(5596),v=i(9631),d=function(l){function a(u,h){var g=l.call(this)||this;g._terminal=u,g._renderService=h,g._liveRegionLineCount=0,g._charsToConsume=[],g._charsToAnnounce="",g._accessibilityTreeRoot=document.createElement("div"),g._accessibilityTreeRoot.classList.add("xterm-accessibility"),g._accessibilityTreeRoot.tabIndex=0,g._rowContainer=document.createElement("div"),g._rowContainer.setAttribute("role","list"),g._rowContainer.classList.add("xterm-accessibility-tree"),g._rowElements=[];for(var w=0;w<g._terminal.rows;w++)g._rowElements[w]=g._createAccessibilityTreeNode(),g._rowContainer.appendChild(g._rowElements[w]);if(g._topBoundaryFocusListener=function(x){return g._onBoundaryFocus(x,0)},g._bottomBoundaryFocusListener=function(x){return g._onBoundaryFocus(x,1)},g._rowElements[0].addEventListener("focus",g._topBoundaryFocusListener),g._rowElements[g._rowElements.length-1].addEventListener("focus",g._bottomBoundaryFocusListener),g._refreshRowsDimensions(),g._accessibilityTreeRoot.appendChild(g._rowContainer),g._renderRowsDebouncer=new _.TimeBasedDebouncer(g._renderRows.bind(g)),g._refreshRows(),g._liveRegion=document.createElement("div"),g._liveRegion.classList.add("live-region"),g._liveRegion.setAttribute("aria-live","assertive"),g._accessibilityTreeRoot.appendChild(g._liveRegion),!g._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");return g._terminal.element.insertAdjacentElement("afterbegin",g._accessibilityTreeRoot),g.register(g._renderRowsDebouncer),g.register(g._terminal.onResize(function(x){return g._onResize(x.rows)})),g.register(g._terminal.onRender(function(x){return g._refreshRows(x.start,x.end)})),g.register(g._terminal.onScroll(function(){return g._refreshRows()})),g.register(g._terminal.onA11yChar(function(x){return g._onChar(x)})),g.register(g._terminal.onLineFeed(function(){return g._onChar(`
`)})),g.register(g._terminal.onA11yTab(function(x){return g._onTab(x)})),g.register(g._terminal.onKey(function(x){return g._onKey(x.key)})),g.register(g._terminal.onBlur(function(){return g._clearLiveRegion()})),g.register(g._renderService.onDimensionsChange(function(){return g._refreshRowsDimensions()})),g._screenDprMonitor=new p.ScreenDprMonitor,g.register(g._screenDprMonitor),g._screenDprMonitor.setListener(function(){return g._refreshRowsDimensions()}),g.register((0,y.addDisposableDomListener)(window,"resize",function(){return g._refreshRowsDimensions()})),g}return s(a,l),a.prototype.dispose=function(){l.prototype.dispose.call(this),(0,v.removeElementFromParent)(this._accessibilityTreeRoot),this._rowElements.length=0},a.prototype._onBoundaryFocus=function(u,h){var g=u.target,w=this._rowElements[h===0?1:this._rowElements.length-2];if(g.getAttribute("aria-posinset")!==(h===0?"1":""+this._terminal.buffer.lines.length)&&u.relatedTarget===w){var x,C;if(h===0?(x=g,C=this._rowElements.pop(),this._rowContainer.removeChild(C)):(x=this._rowElements.shift(),C=g,this._rowContainer.removeChild(x)),x.removeEventListener("focus",this._topBoundaryFocusListener),C.removeEventListener("focus",this._bottomBoundaryFocusListener),h===0){var k=this._createAccessibilityTreeNode();this._rowElements.unshift(k),this._rowContainer.insertAdjacentElement("afterbegin",k)}else k=this._createAccessibilityTreeNode(),this._rowElements.push(k),this._rowContainer.appendChild(k);this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(h===0?-1:1),this._rowElements[h===0?1:this._rowElements.length-2].focus(),u.preventDefault(),u.stopImmediatePropagation()}},a.prototype._onResize=function(u){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(var h=this._rowContainer.children.length;h<this._terminal.rows;h++)this._rowElements[h]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[h]);for(;this._rowElements.length>u;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()},a.prototype._createAccessibilityTreeNode=function(){var u=document.createElement("div");return u.setAttribute("role","listitem"),u.tabIndex=-1,this._refreshRowDimensions(u),u},a.prototype._onTab=function(u){for(var h=0;h<u;h++)this._onChar(" ")},a.prototype._onChar=function(u){var h=this;this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==u&&(this._charsToAnnounce+=u):this._charsToAnnounce+=u,u===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=c.tooMuchOutput)),f.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(function(){h._accessibilityTreeRoot.appendChild(h._liveRegion)},0))},a.prototype._clearLiveRegion=function(){this._liveRegion.textContent="",this._liveRegionLineCount=0,f.isMac&&(0,v.removeElementFromParent)(this._liveRegion)},a.prototype._onKey=function(u){this._clearLiveRegion(),this._charsToConsume.push(u)},a.prototype._refreshRows=function(u,h){this._renderRowsDebouncer.refresh(u,h,this._terminal.rows)},a.prototype._renderRows=function(u,h){for(var g=this._terminal.buffer,w=g.lines.length.toString(),x=u;x<=h;x++){var C=g.translateBufferLineToString(g.ydisp+x,!0),k=(g.ydisp+x+1).toString(),S=this._rowElements[x];S&&(C.length===0?S.innerText="\xA0":S.textContent=C,S.setAttribute("aria-posinset",k),S.setAttribute("aria-setsize",w))}this._announceCharacters()},a.prototype._refreshRowsDimensions=function(){if(this._renderService.dimensions.actualCellHeight){this._rowElements.length!==this._terminal.rows&&this._onResize(this._terminal.rows);for(var u=0;u<this._terminal.rows;u++)this._refreshRowDimensions(this._rowElements[u])}},a.prototype._refreshRowDimensions=function(u){u.style.height=this._renderService.dimensions.actualCellHeight+"px"},a.prototype._announceCharacters=function(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")},a}(m.Disposable);n.AccessibilityManager=d},3614:(r,n)=>{function i(f){return f.replace(/\r?\n/g,"\r")}function o(f,_){return _?"\x1B[200~"+f+"\x1B[201~":f}function s(f,_,y){f=o(f=i(f),y.decPrivateModes.bracketedPasteMode),y.triggerDataEvent(f,!0),_.value=""}function c(f,_,y){var m=y.getBoundingClientRect(),p=f.clientX-m.left-10,v=f.clientY-m.top-10;_.style.width="20px",_.style.height="20px",_.style.left=p+"px",_.style.top=v+"px",_.style.zIndex="1000",_.focus()}Object.defineProperty(n,"__esModule",{value:!0}),n.rightClickHandler=n.moveTextAreaUnderMouseCursor=n.paste=n.handlePasteEvent=n.copyHandler=n.bracketTextForPaste=n.prepareTextForTerminal=void 0,n.prepareTextForTerminal=i,n.bracketTextForPaste=o,n.copyHandler=function(f,_){f.clipboardData&&f.clipboardData.setData("text/plain",_.selectionText),f.preventDefault()},n.handlePasteEvent=function(f,_,y){f.stopPropagation(),f.clipboardData&&s(f.clipboardData.getData("text/plain"),_,y)},n.paste=s,n.moveTextAreaUnderMouseCursor=c,n.rightClickHandler=function(f,_,y,m,p){c(f,_,y),p&&m.rightClickSelect(f),_.value=m.selectionText,_.select()}},4774:(r,n)=>{var i,o,s,c;function f(y){var m=y.toString(16);return m.length<2?"0"+m:m}function _(y,m){return y<m?(m+.05)/(y+.05):(y+.05)/(m+.05)}Object.defineProperty(n,"__esModule",{value:!0}),n.contrastRatio=n.toPaddedHex=n.rgba=n.rgb=n.css=n.color=n.channels=void 0,function(y){y.toCss=function(m,p,v,d){return d!==void 0?"#"+f(m)+f(p)+f(v)+f(d):"#"+f(m)+f(p)+f(v)},y.toRgba=function(m,p,v,d){return d===void 0&&(d=255),(m<<24|p<<16|v<<8|d)>>>0}}(i=n.channels||(n.channels={})),(o=n.color||(n.color={})).blend=function(y,m){var p=(255&m.rgba)/255;if(p===1)return{css:m.css,rgba:m.rgba};var v=m.rgba>>24&255,d=m.rgba>>16&255,l=m.rgba>>8&255,a=y.rgba>>24&255,u=y.rgba>>16&255,h=y.rgba>>8&255,g=a+Math.round((v-a)*p),w=u+Math.round((d-u)*p),x=h+Math.round((l-h)*p);return{css:i.toCss(g,w,x),rgba:i.toRgba(g,w,x)}},o.isOpaque=function(y){return(255&y.rgba)==255},o.ensureContrastRatio=function(y,m,p){var v=c.ensureContrastRatio(y.rgba,m.rgba,p);if(v)return c.toColor(v>>24&255,v>>16&255,v>>8&255)},o.opaque=function(y){var m=(255|y.rgba)>>>0,p=c.toChannels(m),v=p[0],d=p[1],l=p[2];return{css:i.toCss(v,d,l),rgba:m}},o.opacity=function(y,m){var p=Math.round(255*m),v=c.toChannels(y.rgba),d=v[0],l=v[1],a=v[2];return{css:i.toCss(d,l,a,p),rgba:i.toRgba(d,l,a,p)}},o.toColorRGB=function(y){return[y.rgba>>24&255,y.rgba>>16&255,y.rgba>>8&255]},(n.css||(n.css={})).toColor=function(y){switch(y.length){case 7:return{css:y,rgba:(parseInt(y.slice(1),16)<<8|255)>>>0};case 9:return{css:y,rgba:parseInt(y.slice(1),16)>>>0}}throw new Error("css.toColor: Unsupported css format")},function(y){function m(p,v,d){var l=p/255,a=v/255,u=d/255;return .2126*(l<=.03928?l/12.92:Math.pow((l+.055)/1.055,2.4))+.7152*(a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4))+.0722*(u<=.03928?u/12.92:Math.pow((u+.055)/1.055,2.4))}y.relativeLuminance=function(p){return m(p>>16&255,p>>8&255,255&p)},y.relativeLuminance2=m}(s=n.rgb||(n.rgb={})),function(y){function m(v,d,l){for(var a=v>>24&255,u=v>>16&255,h=v>>8&255,g=d>>24&255,w=d>>16&255,x=d>>8&255,C=_(s.relativeLuminance2(g,x,w),s.relativeLuminance2(a,u,h));C<l&&(g>0||w>0||x>0);)g-=Math.max(0,Math.ceil(.1*g)),w-=Math.max(0,Math.ceil(.1*w)),x-=Math.max(0,Math.ceil(.1*x)),C=_(s.relativeLuminance2(g,x,w),s.relativeLuminance2(a,u,h));return(g<<24|w<<16|x<<8|255)>>>0}function p(v,d,l){for(var a=v>>24&255,u=v>>16&255,h=v>>8&255,g=d>>24&255,w=d>>16&255,x=d>>8&255,C=_(s.relativeLuminance2(g,x,w),s.relativeLuminance2(a,u,h));C<l&&(g<255||w<255||x<255);)g=Math.min(255,g+Math.ceil(.1*(255-g))),w=Math.min(255,w+Math.ceil(.1*(255-w))),x=Math.min(255,x+Math.ceil(.1*(255-x))),C=_(s.relativeLuminance2(g,x,w),s.relativeLuminance2(a,u,h));return(g<<24|w<<16|x<<8|255)>>>0}y.ensureContrastRatio=function(v,d,l){var a=s.relativeLuminance(v>>8),u=s.relativeLuminance(d>>8);if(_(a,u)<l)return u<a?m(v,d,l):p(v,d,l)},y.reduceLuminance=m,y.increaseLuminance=p,y.toChannels=function(v){return[v>>24&255,v>>16&255,v>>8&255,255&v]},y.toColor=function(v,d,l){return{css:i.toCss(v,d,l),rgba:i.toRgba(v,d,l)}}}(c=n.rgba||(n.rgba={})),n.toPaddedHex=f,n.contrastRatio=_},7239:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ColorContrastCache=void 0;var i=function(){function o(){this._color={},this._rgba={}}return o.prototype.clear=function(){this._color={},this._rgba={}},o.prototype.setCss=function(s,c,f){this._rgba[s]||(this._rgba[s]={}),this._rgba[s][c]=f},o.prototype.getCss=function(s,c){return this._rgba[s]?this._rgba[s][c]:void 0},o.prototype.setColor=function(s,c,f){this._color[s]||(this._color[s]={}),this._color[s][c]=f},o.prototype.getColor=function(s,c){return this._color[s]?this._color[s][c]:void 0},o}();n.ColorContrastCache=i},5680:function(r,n,i){var o=this&&this.__spreadArray||function(d,l,a){if(a||arguments.length===2)for(var u,h=0,g=l.length;h<g;h++)!u&&h in l||(u||(u=Array.prototype.slice.call(l,0,h)),u[h]=l[h]);return d.concat(u||Array.prototype.slice.call(l))};Object.defineProperty(n,"__esModule",{value:!0}),n.ColorManager=n.DEFAULT_ANSI_COLORS=void 0;var s=i(4774),c=i(7239),f=s.css.toColor("#ffffff"),_=s.css.toColor("#000000"),y=s.css.toColor("#ffffff"),m=s.css.toColor("#000000"),p={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};n.DEFAULT_ANSI_COLORS=Object.freeze(function(){for(var d=[s.css.toColor("#2e3436"),s.css.toColor("#cc0000"),s.css.toColor("#4e9a06"),s.css.toColor("#c4a000"),s.css.toColor("#3465a4"),s.css.toColor("#75507b"),s.css.toColor("#06989a"),s.css.toColor("#d3d7cf"),s.css.toColor("#555753"),s.css.toColor("#ef2929"),s.css.toColor("#8ae234"),s.css.toColor("#fce94f"),s.css.toColor("#729fcf"),s.css.toColor("#ad7fa8"),s.css.toColor("#34e2e2"),s.css.toColor("#eeeeec")],l=[0,95,135,175,215,255],a=0;a<216;a++){var u=l[a/36%6|0],h=l[a/6%6|0],g=l[a%6];d.push({css:s.channels.toCss(u,h,g),rgba:s.channels.toRgba(u,h,g)})}for(a=0;a<24;a++){var w=8+10*a;d.push({css:s.channels.toCss(w,w,w),rgba:s.channels.toRgba(w,w,w)})}return d}());var v=function(){function d(l,a){this.allowTransparency=a;var u=l.createElement("canvas");u.width=1,u.height=1;var h=u.getContext("2d");if(!h)throw new Error("Could not get rendering context");this._ctx=h,this._ctx.globalCompositeOperation="copy",this._litmusColor=this._ctx.createLinearGradient(0,0,1,1),this._contrastCache=new c.ColorContrastCache,this.colors={foreground:f,background:_,cursor:y,cursorAccent:m,selectionTransparent:p,selectionOpaque:s.color.blend(_,p),ansi:n.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache},this._updateRestoreColors()}return d.prototype.onOptionsChange=function(l){l==="minimumContrastRatio"&&this._contrastCache.clear()},d.prototype.setTheme=function(l){l===void 0&&(l={}),this.colors.foreground=this._parseColor(l.foreground,f),this.colors.background=this._parseColor(l.background,_),this.colors.cursor=this._parseColor(l.cursor,y,!0),this.colors.cursorAccent=this._parseColor(l.cursorAccent,m,!0),this.colors.selectionTransparent=this._parseColor(l.selection,p,!0),this.colors.selectionOpaque=s.color.blend(this.colors.background,this.colors.selectionTransparent),s.color.isOpaque(this.colors.selectionTransparent)&&(this.colors.selectionTransparent=s.color.opacity(this.colors.selectionTransparent,.3)),this.colors.ansi[0]=this._parseColor(l.black,n.DEFAULT_ANSI_COLORS[0]),this.colors.ansi[1]=this._parseColor(l.red,n.DEFAULT_ANSI_COLORS[1]),this.colors.ansi[2]=this._parseColor(l.green,n.DEFAULT_ANSI_COLORS[2]),this.colors.ansi[3]=this._parseColor(l.yellow,n.DEFAULT_ANSI_COLORS[3]),this.colors.ansi[4]=this._parseColor(l.blue,n.DEFAULT_ANSI_COLORS[4]),this.colors.ansi[5]=this._parseColor(l.magenta,n.DEFAULT_ANSI_COLORS[5]),this.colors.ansi[6]=this._parseColor(l.cyan,n.DEFAULT_ANSI_COLORS[6]),this.colors.ansi[7]=this._parseColor(l.white,n.DEFAULT_ANSI_COLORS[7]),this.colors.ansi[8]=this._parseColor(l.brightBlack,n.DEFAULT_ANSI_COLORS[8]),this.colors.ansi[9]=this._parseColor(l.brightRed,n.DEFAULT_ANSI_COLORS[9]),this.colors.ansi[10]=this._parseColor(l.brightGreen,n.DEFAULT_ANSI_COLORS[10]),this.colors.ansi[11]=this._parseColor(l.brightYellow,n.DEFAULT_ANSI_COLORS[11]),this.colors.ansi[12]=this._parseColor(l.brightBlue,n.DEFAULT_ANSI_COLORS[12]),this.colors.ansi[13]=this._parseColor(l.brightMagenta,n.DEFAULT_ANSI_COLORS[13]),this.colors.ansi[14]=this._parseColor(l.brightCyan,n.DEFAULT_ANSI_COLORS[14]),this.colors.ansi[15]=this._parseColor(l.brightWhite,n.DEFAULT_ANSI_COLORS[15]),this._contrastCache.clear(),this._updateRestoreColors()},d.prototype.restoreColor=function(l){if(l!==void 0)switch(l){case 256:this.colors.foreground=this._restoreColors.foreground;break;case 257:this.colors.background=this._restoreColors.background;break;case 258:this.colors.cursor=this._restoreColors.cursor;break;default:this.colors.ansi[l]=this._restoreColors.ansi[l]}else for(var a=0;a<this._restoreColors.ansi.length;++a)this.colors.ansi[a]=this._restoreColors.ansi[a]},d.prototype._updateRestoreColors=function(){this._restoreColors={foreground:this.colors.foreground,background:this.colors.background,cursor:this.colors.cursor,ansi:o([],this.colors.ansi,!0)}},d.prototype._parseColor=function(l,a,u){if(u===void 0&&(u=this.allowTransparency),l===void 0)return a;if(this._ctx.fillStyle=this._litmusColor,this._ctx.fillStyle=l,typeof this._ctx.fillStyle!="string")return console.warn("Color: "+l+" is invalid using fallback "+a.css),a;this._ctx.fillRect(0,0,1,1);var h=this._ctx.getImageData(0,0,1,1).data;if(h[3]!==255){if(!u)return console.warn("Color: "+l+" is using transparency, but allowTransparency is false. Using fallback "+a.css+"."),a;var g=this._ctx.fillStyle.substring(5,this._ctx.fillStyle.length-1).split(",").map(function(b){return Number(b)}),w=g[0],x=g[1],C=g[2],k=g[3],S=Math.round(255*k);return{rgba:s.channels.toRgba(w,x,C,S),css:l}}return{css:this._ctx.fillStyle,rgba:s.channels.toRgba(h[0],h[1],h[2],h[3])}},d}();n.ColorManager=v},9631:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.removeElementFromParent=void 0,n.removeElementFromParent=function(){for(var i,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];for(var c=0,f=o;c<f.length;c++){var _=f[c];(i=_?.parentElement)===null||i===void 0||i.removeChild(_)}}},3656:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.addDisposableDomListener=void 0,n.addDisposableDomListener=function(i,o,s,c){i.addEventListener(o,s,c);var f=!1;return{dispose:function(){f||(f=!0,i.removeEventListener(o,s,c))}}}},3551:function(r,n,i){var o=this&&this.__decorate||function(m,p,v,d){var l,a=arguments.length,u=a<3?p:d===null?d=Object.getOwnPropertyDescriptor(p,v):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(m,p,v,d);else for(var h=m.length-1;h>=0;h--)(l=m[h])&&(u=(a<3?l(u):a>3?l(p,v,u):l(p,v))||u);return a>3&&u&&Object.defineProperty(p,v,u),u},s=this&&this.__param||function(m,p){return function(v,d){p(v,d,m)}};Object.defineProperty(n,"__esModule",{value:!0}),n.MouseZone=n.Linkifier=void 0;var c=i(8460),f=i(2585),_=function(){function m(p,v,d){this._bufferService=p,this._logService=v,this._unicodeService=d,this._linkMatchers=[],this._nextLinkMatcherId=0,this._onShowLinkUnderline=new c.EventEmitter,this._onHideLinkUnderline=new c.EventEmitter,this._onLinkTooltip=new c.EventEmitter,this._rowsToLinkify={start:void 0,end:void 0}}return Object.defineProperty(m.prototype,"onShowLinkUnderline",{get:function(){return this._onShowLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onHideLinkUnderline",{get:function(){return this._onHideLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onLinkTooltip",{get:function(){return this._onLinkTooltip.event},enumerable:!1,configurable:!0}),m.prototype.attachToDom=function(p,v){this._element=p,this._mouseZoneManager=v},m.prototype.linkifyRows=function(p,v){var d=this;this._mouseZoneManager&&(this._rowsToLinkify.start===void 0||this._rowsToLinkify.end===void 0?(this._rowsToLinkify.start=p,this._rowsToLinkify.end=v):(this._rowsToLinkify.start=Math.min(this._rowsToLinkify.start,p),this._rowsToLinkify.end=Math.max(this._rowsToLinkify.end,v)),this._mouseZoneManager.clearAll(p,v),this._rowsTimeoutId&&clearTimeout(this._rowsTimeoutId),this._rowsTimeoutId=setTimeout(function(){return d._linkifyRows()},m._timeBeforeLatency))},m.prototype._linkifyRows=function(){this._rowsTimeoutId=void 0;var p=this._bufferService.buffer;if(this._rowsToLinkify.start!==void 0&&this._rowsToLinkify.end!==void 0){var v=p.ydisp+this._rowsToLinkify.start;if(!(v>=p.lines.length)){for(var d=p.ydisp+Math.min(this._rowsToLinkify.end,this._bufferService.rows)+1,l=Math.ceil(2e3/this._bufferService.cols),a=this._bufferService.buffer.iterator(!1,v,d,l,l);a.hasNext();)for(var u=a.next(),h=0;h<this._linkMatchers.length;h++)this._doLinkifyRow(u.range.first,u.content,this._linkMatchers[h]);this._rowsToLinkify.start=void 0,this._rowsToLinkify.end=void 0}}else this._logService.debug("_rowToLinkify was unset before _linkifyRows was called")},m.prototype.registerLinkMatcher=function(p,v,d){if(d===void 0&&(d={}),!v)throw new Error("handler must be defined");var l={id:this._nextLinkMatcherId++,regex:p,handler:v,matchIndex:d.matchIndex,validationCallback:d.validationCallback,hoverTooltipCallback:d.tooltipCallback,hoverLeaveCallback:d.leaveCallback,willLinkActivate:d.willLinkActivate,priority:d.priority||0};return this._addLinkMatcherToList(l),l.id},m.prototype._addLinkMatcherToList=function(p){if(this._linkMatchers.length!==0){for(var v=this._linkMatchers.length-1;v>=0;v--)if(p.priority<=this._linkMatchers[v].priority)return void this._linkMatchers.splice(v+1,0,p);this._linkMatchers.splice(0,0,p)}else this._linkMatchers.push(p)},m.prototype.deregisterLinkMatcher=function(p){for(var v=0;v<this._linkMatchers.length;v++)if(this._linkMatchers[v].id===p)return this._linkMatchers.splice(v,1),!0;return!1},m.prototype._doLinkifyRow=function(p,v,d){for(var l,a=this,u=new RegExp(d.regex.source,(d.regex.flags||"")+"g"),h=-1,g=function(){var x=l[typeof d.matchIndex!="number"?0:d.matchIndex];if(!x)return w._logService.debug("match found without corresponding matchIndex",l,d),"break";if(h=v.indexOf(x,h+1),u.lastIndex=h+x.length,h<0)return"break";var C=w._bufferService.buffer.stringIndexToBufferIndex(p,h);if(C[0]<0)return"break";var k=w._bufferService.buffer.lines.get(C[0]);if(!k)return"break";var S=k.getFg(C[1]),b=S?S>>9&511:void 0;d.validationCallback?d.validationCallback(x,function(O){a._rowsTimeoutId||O&&a._addLink(C[1],C[0]-a._bufferService.buffer.ydisp,x,d,b)}):w._addLink(C[1],C[0]-w._bufferService.buffer.ydisp,x,d,b)},w=this;(l=u.exec(v))!==null&&g()!=="break";);},m.prototype._addLink=function(p,v,d,l,a){var u=this;if(this._mouseZoneManager&&this._element){var h=this._unicodeService.getStringCellWidth(d),g=p%this._bufferService.cols,w=v+Math.floor(p/this._bufferService.cols),x=(g+h)%this._bufferService.cols,C=w+Math.floor((g+h)/this._bufferService.cols);x===0&&(x=this._bufferService.cols,C--),this._mouseZoneManager.add(new y(g+1,w+1,x+1,C+1,function(k){if(l.handler)return l.handler(k,d);var S=window.open();S?(S.opener=null,S.location.href=d):console.warn("Opening link blocked as opener could not be cleared")},function(){u._onShowLinkUnderline.fire(u._createLinkHoverEvent(g,w,x,C,a)),u._element.classList.add("xterm-cursor-pointer")},function(k){u._onLinkTooltip.fire(u._createLinkHoverEvent(g,w,x,C,a)),l.hoverTooltipCallback&&l.hoverTooltipCallback(k,d,{start:{x:g,y:w},end:{x,y:C}})},function(){u._onHideLinkUnderline.fire(u._createLinkHoverEvent(g,w,x,C,a)),u._element.classList.remove("xterm-cursor-pointer"),l.hoverLeaveCallback&&l.hoverLeaveCallback()},function(k){return!l.willLinkActivate||l.willLinkActivate(k,d)}))}},m.prototype._createLinkHoverEvent=function(p,v,d,l,a){return{x1:p,y1:v,x2:d,y2:l,cols:this._bufferService.cols,fg:a}},m._timeBeforeLatency=200,m=o([s(0,f.IBufferService),s(1,f.ILogService),s(2,f.IUnicodeService)],m)}();n.Linkifier=_;var y=function(m,p,v,d,l,a,u,h,g){this.x1=m,this.y1=p,this.x2=v,this.y2=d,this.clickCallback=l,this.hoverCallback=a,this.tooltipCallback=u,this.leaveCallback=h,this.willLinkActivate=g};n.MouseZone=y},6465:function(r,n,i){var o,s=this&&this.__extends||(o=function(d,l){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(a[h]=u[h])},o(d,l)},function(d,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function a(){this.constructor=d}o(d,l),d.prototype=l===null?Object.create(l):(a.prototype=l.prototype,new a)}),c=this&&this.__decorate||function(d,l,a,u){var h,g=arguments.length,w=g<3?l:u===null?u=Object.getOwnPropertyDescriptor(l,a):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(d,l,a,u);else for(var x=d.length-1;x>=0;x--)(h=d[x])&&(w=(g<3?h(w):g>3?h(l,a,w):h(l,a))||w);return g>3&&w&&Object.defineProperty(l,a,w),w},f=this&&this.__param||function(d,l){return function(a,u){l(a,u,d)}};Object.defineProperty(n,"__esModule",{value:!0}),n.Linkifier2=void 0;var _=i(2585),y=i(8460),m=i(844),p=i(3656),v=function(d){function l(a){var u=d.call(this)||this;return u._bufferService=a,u._linkProviders=[],u._linkCacheDisposables=[],u._isMouseOut=!0,u._activeLine=-1,u._onShowLinkUnderline=u.register(new y.EventEmitter),u._onHideLinkUnderline=u.register(new y.EventEmitter),u.register((0,m.getDisposeArrayDisposable)(u._linkCacheDisposables)),u}return s(l,d),Object.defineProperty(l.prototype,"currentLink",{get:function(){return this._currentLink},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"onShowLinkUnderline",{get:function(){return this._onShowLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"onHideLinkUnderline",{get:function(){return this._onHideLinkUnderline.event},enumerable:!1,configurable:!0}),l.prototype.registerLinkProvider=function(a){var u=this;return this._linkProviders.push(a),{dispose:function(){var h=u._linkProviders.indexOf(a);h!==-1&&u._linkProviders.splice(h,1)}}},l.prototype.attachToDom=function(a,u,h){var g=this;this._element=a,this._mouseService=u,this._renderService=h,this.register((0,p.addDisposableDomListener)(this._element,"mouseleave",function(){g._isMouseOut=!0,g._clearCurrentLink()})),this.register((0,p.addDisposableDomListener)(this._element,"mousemove",this._onMouseMove.bind(this))),this.register((0,p.addDisposableDomListener)(this._element,"click",this._onClick.bind(this)))},l.prototype._onMouseMove=function(a){if(this._lastMouseEvent=a,this._element&&this._mouseService){var u=this._positionFromMouseEvent(a,this._element,this._mouseService);if(u){this._isMouseOut=!1;for(var h=a.composedPath(),g=0;g<h.length;g++){var w=h[g];if(w.classList.contains("xterm"))break;if(w.classList.contains("xterm-hover"))return}this._lastBufferCell&&u.x===this._lastBufferCell.x&&u.y===this._lastBufferCell.y||(this._onHover(u),this._lastBufferCell=u)}}},l.prototype._onHover=function(a){if(this._activeLine!==a.y)return this._clearCurrentLink(),void this._askForLink(a,!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,a)||(this._clearCurrentLink(),this._askForLink(a,!0))},l.prototype._askForLink=function(a,u){var h,g=this;this._activeProviderReplies&&u||((h=this._activeProviderReplies)===null||h===void 0||h.forEach(function(x){x?.forEach(function(C){C.link.dispose&&C.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=a.y);var w=!1;this._linkProviders.forEach(function(x,C){var k;u?!((k=g._activeProviderReplies)===null||k===void 0)&&k.get(C)&&(w=g._checkLinkProviderResult(C,a,w)):x.provideLinks(a.y,function(S){var b,O;if(!g._isMouseOut){var E=S?.map(function(B){return{link:B}});(b=g._activeProviderReplies)===null||b===void 0||b.set(C,E),w=g._checkLinkProviderResult(C,a,w),((O=g._activeProviderReplies)===null||O===void 0?void 0:O.size)===g._linkProviders.length&&g._removeIntersectingLinks(a.y,g._activeProviderReplies)}})})},l.prototype._removeIntersectingLinks=function(a,u){for(var h=new Set,g=0;g<u.size;g++){var w=u.get(g);if(w)for(var x=0;x<w.length;x++)for(var C=w[x],k=C.link.range.start.y<a?0:C.link.range.start.x,S=C.link.range.end.y>a?this._bufferService.cols:C.link.range.end.x,b=k;b<=S;b++){if(h.has(b)){w.splice(x--,1);break}h.add(b)}}},l.prototype._checkLinkProviderResult=function(a,u,h){var g,w=this;if(!this._activeProviderReplies)return h;for(var x=this._activeProviderReplies.get(a),C=!1,k=0;k<a;k++)this._activeProviderReplies.has(k)&&!this._activeProviderReplies.get(k)||(C=!0);if(!C&&x){var S=x.find(function(O){return w._linkAtPosition(O.link,u)});S&&(h=!0,this._handleNewLink(S))}if(this._activeProviderReplies.size===this._linkProviders.length&&!h)for(k=0;k<this._activeProviderReplies.size;k++){var b=(g=this._activeProviderReplies.get(k))===null||g===void 0?void 0:g.find(function(O){return w._linkAtPosition(O.link,u)});if(b){h=!0,this._handleNewLink(b);break}}return h},l.prototype._onClick=function(a){if(this._element&&this._mouseService&&this._currentLink){var u=this._positionFromMouseEvent(a,this._element,this._mouseService);u&&this._linkAtPosition(this._currentLink.link,u)&&this._currentLink.link.activate(a,this._currentLink.link.text)}},l.prototype._clearCurrentLink=function(a,u){this._element&&this._currentLink&&this._lastMouseEvent&&(!a||!u||this._currentLink.link.range.start.y>=a&&this._currentLink.link.range.end.y<=u)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,m.disposeArray)(this._linkCacheDisposables))},l.prototype._handleNewLink=function(a){var u=this;if(this._element&&this._lastMouseEvent&&this._mouseService){var h=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);h&&this._linkAtPosition(a.link,h)&&(this._currentLink=a,this._currentLink.state={decorations:{underline:a.link.decorations===void 0||a.link.decorations.underline,pointerCursor:a.link.decorations===void 0||a.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,a.link,this._lastMouseEvent),a.link.decorations={},Object.defineProperties(a.link.decorations,{pointerCursor:{get:function(){var g,w;return(w=(g=u._currentLink)===null||g===void 0?void 0:g.state)===null||w===void 0?void 0:w.decorations.pointerCursor},set:function(g){var w,x;((w=u._currentLink)===null||w===void 0?void 0:w.state)&&u._currentLink.state.decorations.pointerCursor!==g&&(u._currentLink.state.decorations.pointerCursor=g,u._currentLink.state.isHovered&&((x=u._element)===null||x===void 0||x.classList.toggle("xterm-cursor-pointer",g)))}},underline:{get:function(){var g,w;return(w=(g=u._currentLink)===null||g===void 0?void 0:g.state)===null||w===void 0?void 0:w.decorations.underline},set:function(g){var w,x,C;((w=u._currentLink)===null||w===void 0?void 0:w.state)&&((C=(x=u._currentLink)===null||x===void 0?void 0:x.state)===null||C===void 0?void 0:C.decorations.underline)!==g&&(u._currentLink.state.decorations.underline=g,u._currentLink.state.isHovered&&u._fireUnderlineEvent(a.link,g))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedBufferChange(function(g){var w=g.start===0?0:g.start+1+u._bufferService.buffer.ydisp;u._clearCurrentLink(w,g.end+1+u._bufferService.buffer.ydisp)})))}},l.prototype._linkHover=function(a,u,h){var g;!((g=this._currentLink)===null||g===void 0)&&g.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(u,!0),this._currentLink.state.decorations.pointerCursor&&a.classList.add("xterm-cursor-pointer")),u.hover&&u.hover(h,u.text)},l.prototype._fireUnderlineEvent=function(a,u){var h=a.range,g=this._bufferService.buffer.ydisp,w=this._createLinkUnderlineEvent(h.start.x-1,h.start.y-g-1,h.end.x,h.end.y-g-1,void 0);(u?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(w)},l.prototype._linkLeave=function(a,u,h){var g;!((g=this._currentLink)===null||g===void 0)&&g.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(u,!1),this._currentLink.state.decorations.pointerCursor&&a.classList.remove("xterm-cursor-pointer")),u.leave&&u.leave(h,u.text)},l.prototype._linkAtPosition=function(a,u){var h=a.range.start.y===a.range.end.y,g=a.range.start.y<u.y,w=a.range.end.y>u.y;return(h&&a.range.start.x<=u.x&&a.range.end.x>=u.x||g&&a.range.end.x>=u.x||w&&a.range.start.x<=u.x||g&&w)&&a.range.start.y<=u.y&&a.range.end.y>=u.y},l.prototype._positionFromMouseEvent=function(a,u,h){var g=h.getCoords(a,u,this._bufferService.cols,this._bufferService.rows);if(g)return{x:g[0],y:g[1]+this._bufferService.buffer.ydisp}},l.prototype._createLinkUnderlineEvent=function(a,u,h,g,w){return{x1:a,y1:u,x2:h,y2:g,cols:this._bufferService.cols,fg:w}},c([f(0,_.IBufferService)],l)}(m.Disposable);n.Linkifier2=v},9042:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.tooMuchOutput=n.promptLabel=void 0,n.promptLabel="Terminal input",n.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},6954:function(r,n,i){var o,s=this&&this.__extends||(o=function(d,l){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(a[h]=u[h])},o(d,l)},function(d,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function a(){this.constructor=d}o(d,l),d.prototype=l===null?Object.create(l):(a.prototype=l.prototype,new a)}),c=this&&this.__decorate||function(d,l,a,u){var h,g=arguments.length,w=g<3?l:u===null?u=Object.getOwnPropertyDescriptor(l,a):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(d,l,a,u);else for(var x=d.length-1;x>=0;x--)(h=d[x])&&(w=(g<3?h(w):g>3?h(l,a,w):h(l,a))||w);return g>3&&w&&Object.defineProperty(l,a,w),w},f=this&&this.__param||function(d,l){return function(a,u){l(a,u,d)}};Object.defineProperty(n,"__esModule",{value:!0}),n.MouseZoneManager=void 0;var _=i(844),y=i(3656),m=i(4725),p=i(2585),v=function(d){function l(a,u,h,g,w,x){var C=d.call(this)||this;return C._element=a,C._screenElement=u,C._bufferService=h,C._mouseService=g,C._selectionService=w,C._optionsService=x,C._zones=[],C._areZonesActive=!1,C._lastHoverCoords=[void 0,void 0],C._initialSelectionLength=0,C.register((0,y.addDisposableDomListener)(C._element,"mousedown",function(k){return C._onMouseDown(k)})),C._mouseMoveListener=function(k){return C._onMouseMove(k)},C._mouseLeaveListener=function(k){return C._onMouseLeave(k)},C._clickListener=function(k){return C._onClick(k)},C}return s(l,d),l.prototype.dispose=function(){d.prototype.dispose.call(this),this._deactivate()},l.prototype.add=function(a){this._zones.push(a),this._zones.length===1&&this._activate()},l.prototype.clearAll=function(a,u){if(this._zones.length!==0){a&&u||(a=0,u=this._bufferService.rows-1);for(var h=0;h<this._zones.length;h++){var g=this._zones[h];(g.y1>a&&g.y1<=u+1||g.y2>a&&g.y2<=u+1||g.y1<a&&g.y2>u+1)&&(this._currentZone&&this._currentZone===g&&(this._currentZone.leaveCallback(),this._currentZone=void 0),this._zones.splice(h--,1))}this._zones.length===0&&this._deactivate()}},l.prototype._activate=function(){this._areZonesActive||(this._areZonesActive=!0,this._element.addEventListener("mousemove",this._mouseMoveListener),this._element.addEventListener("mouseleave",this._mouseLeaveListener),this._element.addEventListener("click",this._clickListener))},l.prototype._deactivate=function(){this._areZonesActive&&(this._areZonesActive=!1,this._element.removeEventListener("mousemove",this._mouseMoveListener),this._element.removeEventListener("mouseleave",this._mouseLeaveListener),this._element.removeEventListener("click",this._clickListener))},l.prototype._onMouseMove=function(a){this._lastHoverCoords[0]===a.pageX&&this._lastHoverCoords[1]===a.pageY||(this._onHover(a),this._lastHoverCoords=[a.pageX,a.pageY])},l.prototype._onHover=function(a){var u=this,h=this._findZoneEventAt(a);h!==this._currentZone&&(this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=void 0,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout)),h&&(this._currentZone=h,h.hoverCallback&&h.hoverCallback(a),this._tooltipTimeout=window.setTimeout(function(){return u._onTooltip(a)},this._optionsService.rawOptions.linkTooltipHoverDuration)))},l.prototype._onTooltip=function(a){this._tooltipTimeout=void 0;var u=this._findZoneEventAt(a);u?.tooltipCallback(a)},l.prototype._onMouseDown=function(a){if(this._initialSelectionLength=this._getSelectionLength(),this._areZonesActive){var u=this._findZoneEventAt(a);u?.willLinkActivate(a)&&(a.preventDefault(),a.stopImmediatePropagation())}},l.prototype._onMouseLeave=function(a){this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=void 0,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout))},l.prototype._onClick=function(a){var u=this._findZoneEventAt(a),h=this._getSelectionLength();u&&h===this._initialSelectionLength&&(u.clickCallback(a),a.preventDefault(),a.stopImmediatePropagation())},l.prototype._getSelectionLength=function(){var a=this._selectionService.selectionText;return a?a.length:0},l.prototype._findZoneEventAt=function(a){var u=this._mouseService.getCoords(a,this._screenElement,this._bufferService.cols,this._bufferService.rows);if(u)for(var h=u[0],g=u[1],w=0;w<this._zones.length;w++){var x=this._zones[w];if(x.y1===x.y2){if(g===x.y1&&h>=x.x1&&h<x.x2)return x}else if(g===x.y1&&h>=x.x1||g===x.y2&&h<x.x2||g>x.y1&&g<x.y2)return x}},c([f(2,p.IBufferService),f(3,m.IMouseService),f(4,m.ISelectionService),f(5,p.IOptionsService)],l)}(_.Disposable);n.MouseZoneManager=v},6193:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.RenderDebouncer=void 0;var i=function(){function o(s){this._renderCallback=s}return o.prototype.dispose=function(){this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},o.prototype.refresh=function(s,c,f){var _=this;this._rowCount=f,s=s!==void 0?s:0,c=c!==void 0?c:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,s):s,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,c):c,this._animationFrame||(this._animationFrame=window.requestAnimationFrame(function(){return _._innerRefresh()}))},o.prototype._innerRefresh=function(){if(this._rowStart!==void 0&&this._rowEnd!==void 0&&this._rowCount!==void 0){var s=Math.max(this._rowStart,0),c=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._animationFrame=void 0,this._renderCallback(s,c)}},o}();n.RenderDebouncer=i},5596:function(r,n,i){var o,s=this&&this.__extends||(o=function(f,_){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,m){y.__proto__=m}||function(y,m){for(var p in m)Object.prototype.hasOwnProperty.call(m,p)&&(y[p]=m[p])},o(f,_)},function(f,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");function y(){this.constructor=f}o(f,_),f.prototype=_===null?Object.create(_):(y.prototype=_.prototype,new y)});Object.defineProperty(n,"__esModule",{value:!0}),n.ScreenDprMonitor=void 0;var c=function(f){function _(){var y=f!==null&&f.apply(this,arguments)||this;return y._currentDevicePixelRatio=window.devicePixelRatio,y}return s(_,f),_.prototype.setListener=function(y){var m=this;this._listener&&this.clearListener(),this._listener=y,this._outerListener=function(){m._listener&&(m._listener(window.devicePixelRatio,m._currentDevicePixelRatio),m._updateDpr())},this._updateDpr()},_.prototype.dispose=function(){f.prototype.dispose.call(this),this.clearListener()},_.prototype._updateDpr=function(){var y;this._outerListener&&((y=this._resolutionMediaMatchList)===null||y===void 0||y.removeListener(this._outerListener),this._currentDevicePixelRatio=window.devicePixelRatio,this._resolutionMediaMatchList=window.matchMedia("screen and (resolution: "+window.devicePixelRatio+"dppx)"),this._resolutionMediaMatchList.addListener(this._outerListener))},_.prototype.clearListener=function(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)},_}(i(844).Disposable);n.ScreenDprMonitor=c},3236:function(r,n,i){var o,s=this&&this.__extends||(o=function(M,W){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,N){R.__proto__=N}||function(R,N){for(var P in N)Object.prototype.hasOwnProperty.call(N,P)&&(R[P]=N[P])},o(M,W)},function(M,W){if(typeof W!="function"&&W!==null)throw new TypeError("Class extends value "+String(W)+" is not a constructor or null");function R(){this.constructor=M}o(M,W),M.prototype=W===null?Object.create(W):(R.prototype=W.prototype,new R)});Object.defineProperty(n,"__esModule",{value:!0}),n.Terminal=void 0;var c=i(2950),f=i(1680),_=i(3614),y=i(2584),m=i(5435),p=i(3525),v=i(3551),d=i(9312),l=i(6114),a=i(3656),u=i(9042),h=i(357),g=i(6954),w=i(4567),x=i(1296),C=i(7399),k=i(8460),S=i(8437),b=i(5680),O=i(3230),E=i(4725),B=i(428),A=i(8934),L=i(6465),I=i(5114),D=i(8969),j=i(4774),z=i(4269),V=i(5941),oe=i(7641),re=typeof window<"u"?window.document:null,xe=function(M){function W(R){R===void 0&&(R={});var N=M.call(this,R)||this;return N.browser=l,N._keyDownHandled=!1,N._keyPressHandled=!1,N._unprocessedDeadKey=!1,N._onCursorMove=new k.EventEmitter,N._onKey=new k.EventEmitter,N._onRender=new k.EventEmitter,N._onSelectionChange=new k.EventEmitter,N._onTitleChange=new k.EventEmitter,N._onBell=new k.EventEmitter,N._onFocus=new k.EventEmitter,N._onBlur=new k.EventEmitter,N._onA11yCharEmitter=new k.EventEmitter,N._onA11yTabEmitter=new k.EventEmitter,N._setup(),N.linkifier=N._instantiationService.createInstance(v.Linkifier),N.linkifier2=N.register(N._instantiationService.createInstance(L.Linkifier2)),N.decorationService=N.register(N._instantiationService.createInstance(oe.DecorationService)),N.register(N._inputHandler.onRequestBell(function(){return N.bell()})),N.register(N._inputHandler.onRequestRefreshRows(function(P,Q){return N.refresh(P,Q)})),N.register(N._inputHandler.onRequestSendFocus(function(){return N._reportFocus()})),N.register(N._inputHandler.onRequestReset(function(){return N.reset()})),N.register(N._inputHandler.onRequestWindowsOptionsReport(function(P){return N._reportWindowsOptions(P)})),N.register(N._inputHandler.onColor(function(P){return N._handleColorEvent(P)})),N.register((0,k.forwardEvent)(N._inputHandler.onCursorMove,N._onCursorMove)),N.register((0,k.forwardEvent)(N._inputHandler.onTitleChange,N._onTitleChange)),N.register((0,k.forwardEvent)(N._inputHandler.onA11yChar,N._onA11yCharEmitter)),N.register((0,k.forwardEvent)(N._inputHandler.onA11yTab,N._onA11yTabEmitter)),N.register(N._bufferService.onResize(function(P){return N._afterResize(P.cols,P.rows)})),N}return s(W,M),Object.defineProperty(W.prototype,"onCursorMove",{get:function(){return this._onCursorMove.event},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"onKey",{get:function(){return this._onKey.event},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"onRender",{get:function(){return this._onRender.event},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"onSelectionChange",{get:function(){return this._onSelectionChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"onTitleChange",{get:function(){return this._onTitleChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"onBell",{get:function(){return this._onBell.event},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"onFocus",{get:function(){return this._onFocus.event},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"onBlur",{get:function(){return this._onBlur.event},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"onA11yChar",{get:function(){return this._onA11yCharEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"onA11yTab",{get:function(){return this._onA11yTabEmitter.event},enumerable:!1,configurable:!0}),W.prototype._handleColorEvent=function(R){var N,P;if(this._colorManager){for(var Q=0,ne=R;Q<ne.length;Q++){var se=ne[Q],Re=void 0,Ge="";switch(se.index){case 256:Re="foreground",Ge="10";break;case 257:Re="background",Ge="11";break;case 258:Re="cursor",Ge="12";break;default:Re="ansi",Ge="4;"+se.index}if(Re)switch(se.type){case 0:var cr=j.color.toColorRGB(Re==="ansi"?this._colorManager.colors.ansi[se.index]:this._colorManager.colors[Re]);this.coreService.triggerDataEvent(y.C0.ESC+"]"+Ge+";"+(0,V.toRgbString)(cr)+y.C0.BEL);break;case 1:Re==="ansi"?this._colorManager.colors.ansi[se.index]=j.rgba.toColor.apply(j.rgba,se.color):this._colorManager.colors[Re]=j.rgba.toColor.apply(j.rgba,se.color);break;case 2:this._colorManager.restoreColor(se.index)}}(N=this._renderService)===null||N===void 0||N.setColors(this._colorManager.colors),(P=this.viewport)===null||P===void 0||P.onThemeChange(this._colorManager.colors)}},W.prototype.dispose=function(){var R,N,P;this._isDisposed||(M.prototype.dispose.call(this),(R=this._renderService)===null||R===void 0||R.dispose(),this._customKeyEventHandler=void 0,this.write=function(){},(P=(N=this.element)===null||N===void 0?void 0:N.parentNode)===null||P===void 0||P.removeChild(this.element))},W.prototype._setup=function(){M.prototype._setup.call(this),this._customKeyEventHandler=void 0},Object.defineProperty(W.prototype,"buffer",{get:function(){return this.buffers.active},enumerable:!1,configurable:!0}),W.prototype.focus=function(){this.textarea&&this.textarea.focus({preventScroll:!0})},W.prototype._updateOptions=function(R){var N,P,Q,ne;switch(M.prototype._updateOptions.call(this,R),R){case"fontFamily":case"fontSize":(N=this._renderService)===null||N===void 0||N.clear(),(P=this._charSizeService)===null||P===void 0||P.measure();break;case"cursorBlink":case"cursorStyle":this.refresh(this.buffer.y,this.buffer.y);break;case"customGlyphs":case"drawBoldTextInBrightColors":case"letterSpacing":case"lineHeight":case"fontWeight":case"fontWeightBold":case"minimumContrastRatio":this._renderService&&(this._renderService.clear(),this._renderService.onResize(this.cols,this.rows),this.refresh(0,this.rows-1));break;case"rendererType":this._renderService&&(this._renderService.setRenderer(this._createRenderer()),this._renderService.onResize(this.cols,this.rows));break;case"scrollback":(Q=this.viewport)===null||Q===void 0||Q.syncScrollArea();break;case"screenReaderMode":this.optionsService.rawOptions.screenReaderMode?!this._accessibilityManager&&this._renderService&&(this._accessibilityManager=new w.AccessibilityManager(this,this._renderService)):((ne=this._accessibilityManager)===null||ne===void 0||ne.dispose(),this._accessibilityManager=void 0);break;case"tabStopWidth":this.buffers.setupTabStops();break;case"theme":this._setTheme(this.optionsService.rawOptions.theme)}},W.prototype._onTextAreaFocus=function(R){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(y.C0.ESC+"[I"),this.updateCursorStyle(R),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()},W.prototype.blur=function(){var R;return(R=this.textarea)===null||R===void 0?void 0:R.blur()},W.prototype._onTextAreaBlur=function(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(y.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()},W.prototype._syncTextArea=function(){if(this.textarea&&this.buffer.isCursorInViewport&&!this._compositionHelper.isComposing&&this._renderService){var R=this.buffer.ybase+this.buffer.y,N=this.buffer.lines.get(R);if(N){var P=Math.min(this.buffer.x,this.cols-1),Q=this._renderService.dimensions.actualCellHeight,ne=N.getWidth(P),se=this._renderService.dimensions.actualCellWidth*ne,Re=this.buffer.y*this._renderService.dimensions.actualCellHeight,Ge=P*this._renderService.dimensions.actualCellWidth;this.textarea.style.left=Ge+"px",this.textarea.style.top=Re+"px",this.textarea.style.width=se+"px",this.textarea.style.height=Q+"px",this.textarea.style.lineHeight=Q+"px",this.textarea.style.zIndex="-5"}}},W.prototype._initGlobal=function(){var R=this;this._bindKeys(),this.register((0,a.addDisposableDomListener)(this.element,"copy",function(P){R.hasSelection()&&(0,_.copyHandler)(P,R._selectionService)}));var N=function(P){return(0,_.handlePasteEvent)(P,R.textarea,R.coreService)};this.register((0,a.addDisposableDomListener)(this.textarea,"paste",N)),this.register((0,a.addDisposableDomListener)(this.element,"paste",N)),l.isFirefox?this.register((0,a.addDisposableDomListener)(this.element,"mousedown",function(P){P.button===2&&(0,_.rightClickHandler)(P,R.textarea,R.screenElement,R._selectionService,R.options.rightClickSelectsWord)})):this.register((0,a.addDisposableDomListener)(this.element,"contextmenu",function(P){(0,_.rightClickHandler)(P,R.textarea,R.screenElement,R._selectionService,R.options.rightClickSelectsWord)})),l.isLinux&&this.register((0,a.addDisposableDomListener)(this.element,"auxclick",function(P){P.button===1&&(0,_.moveTextAreaUnderMouseCursor)(P,R.textarea,R.screenElement)}))},W.prototype._bindKeys=function(){var R=this;this.register((0,a.addDisposableDomListener)(this.textarea,"keyup",function(N){return R._keyUp(N)},!0)),this.register((0,a.addDisposableDomListener)(this.textarea,"keydown",function(N){return R._keyDown(N)},!0)),this.register((0,a.addDisposableDomListener)(this.textarea,"keypress",function(N){return R._keyPress(N)},!0)),this.register((0,a.addDisposableDomListener)(this.textarea,"compositionstart",function(){return R._compositionHelper.compositionstart()})),this.register((0,a.addDisposableDomListener)(this.textarea,"compositionupdate",function(N){return R._compositionHelper.compositionupdate(N)})),this.register((0,a.addDisposableDomListener)(this.textarea,"compositionend",function(){return R._compositionHelper.compositionend()})),this.register((0,a.addDisposableDomListener)(this.textarea,"input",function(N){return R._inputEvent(N)},!0)),this.register(this.onRender(function(){return R._compositionHelper.updateCompositionElements()})),this.register(this.onRender(function(N){return R._queueLinkification(N.start,N.end)}))},W.prototype.open=function(R){var N=this;if(!R)throw new Error("Terminal requires a parent element.");R.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=R.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),this.element.setAttribute("tabindex","0"),R.appendChild(this.element);var P=re.createDocumentFragment();this._viewportElement=re.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),P.appendChild(this._viewportElement),this._viewportScrollArea=re.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=re.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=re.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),P.appendChild(this.screenElement),this.textarea=re.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",u.promptLabel),this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this.register((0,a.addDisposableDomListener)(this.textarea,"focus",function(se){return N._onTextAreaFocus(se)})),this.register((0,a.addDisposableDomListener)(this.textarea,"blur",function(){return N._onTextAreaBlur()})),this._helperContainer.appendChild(this.textarea);var Q=this._instantiationService.createInstance(I.CoreBrowserService,this.textarea);this._instantiationService.setService(E.ICoreBrowserService,Q),this._charSizeService=this._instantiationService.createInstance(B.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(E.ICharSizeService,this._charSizeService),this._theme=this.options.theme||this._theme,this._colorManager=new b.ColorManager(re,this.options.allowTransparency),this.register(this.optionsService.onOptionChange(function(se){return N._colorManager.onOptionsChange(se)})),this._colorManager.setTheme(this._theme),this._characterJoinerService=this._instantiationService.createInstance(z.CharacterJoinerService),this._instantiationService.setService(E.ICharacterJoinerService,this._characterJoinerService);var ne=this._createRenderer();this._renderService=this.register(this._instantiationService.createInstance(O.RenderService,ne,this.rows,this.screenElement)),this._instantiationService.setService(E.IRenderService,this._renderService),this.register(this._renderService.onRenderedBufferChange(function(se){return N._onRender.fire(se)})),this.onResize(function(se){return N._renderService.resize(se.cols,se.rows)}),this._compositionView=re.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(c.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(P),this._soundService=this._instantiationService.createInstance(h.SoundService),this._instantiationService.setService(E.ISoundService,this._soundService),this._mouseService=this._instantiationService.createInstance(A.MouseService),this._instantiationService.setService(E.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(f.Viewport,function(se){return N.scrollLines(se,!0,1)},this._viewportElement,this._viewportScrollArea,this.element),this.viewport.onThemeChange(this._colorManager.colors),this.register(this._inputHandler.onRequestSyncScrollBar(function(){return N.viewport.syncScrollArea()})),this.register(this.viewport),this.register(this.onCursorMove(function(){N._renderService.onCursorMove(),N._syncTextArea()})),this.register(this.onResize(function(){return N._renderService.onResize(N.cols,N.rows)})),this.register(this.onBlur(function(){return N._renderService.onBlur()})),this.register(this.onFocus(function(){return N._renderService.onFocus()})),this.register(this._renderService.onDimensionsChange(function(){return N.viewport.syncScrollArea()})),this._selectionService=this.register(this._instantiationService.createInstance(d.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(E.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(function(se){return N.scrollLines(se.amount,se.suppressScrollEvent)})),this.register(this._selectionService.onSelectionChange(function(){return N._onSelectionChange.fire()})),this.register(this._selectionService.onRequestRedraw(function(se){return N._renderService.onSelectionChanged(se.start,se.end,se.columnSelectMode)})),this.register(this._selectionService.onLinuxMouseSelection(function(se){N.textarea.value=se,N.textarea.focus(),N.textarea.select()})),this.register(this._onScroll.event(function(se){N.viewport.syncScrollArea(),N._selectionService.refresh()})),this.register((0,a.addDisposableDomListener)(this._viewportElement,"scroll",function(){return N._selectionService.refresh()})),this._mouseZoneManager=this._instantiationService.createInstance(g.MouseZoneManager,this.element,this.screenElement),this.register(this._mouseZoneManager),this.register(this.onScroll(function(){return N._mouseZoneManager.clearAll()})),this.linkifier.attachToDom(this.element,this._mouseZoneManager),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.decorationService.attachToDom(this.screenElement,this._renderService,this._bufferService),this.register((0,a.addDisposableDomListener)(this.element,"mousedown",function(se){return N._selectionService.onMouseDown(se)})),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager=new w.AccessibilityManager(this,this._renderService)),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()},W.prototype._createRenderer=function(){switch(this.options.rendererType){case"canvas":return this._instantiationService.createInstance(p.Renderer,this._colorManager.colors,this.screenElement,this.linkifier,this.linkifier2);case"dom":return this._instantiationService.createInstance(x.DomRenderer,this._colorManager.colors,this.element,this.screenElement,this._viewportElement,this.linkifier,this.linkifier2);default:throw new Error('Unrecognized rendererType "'+this.options.rendererType+'"')}},W.prototype._setTheme=function(R){var N,P,Q;this._theme=R,(N=this._colorManager)===null||N===void 0||N.setTheme(R),(P=this._renderService)===null||P===void 0||P.setColors(this._colorManager.colors),(Q=this.viewport)===null||Q===void 0||Q.onThemeChange(this._colorManager.colors)},W.prototype.bindMouse=function(){var R=this,N=this,P=this.element;function Q(Z){var dt,Vt,yr=N._mouseService.getRawByteCoords(Z,N.screenElement,N.cols,N.rows);if(!yr)return!1;switch(Z.overrideType||Z.type){case"mousemove":Vt=32,Z.buttons===void 0?(dt=3,Z.button!==void 0&&(dt=Z.button<3?Z.button:3)):dt=1&Z.buttons?0:4&Z.buttons?1:2&Z.buttons?2:3;break;case"mouseup":Vt=0,dt=Z.button<3?Z.button:3;break;case"mousedown":Vt=1,dt=Z.button<3?Z.button:3;break;case"wheel":Z.deltaY!==0&&(Vt=Z.deltaY<0?0:1),dt=4;break;default:return!1}return!(Vt===void 0||dt===void 0||dt>4)&&N.coreMouseService.triggerMouseEvent({col:yr.x-33,row:yr.y-33,button:dt,action:Vt,ctrl:Z.ctrlKey,alt:Z.altKey,shift:Z.shiftKey})}var ne={mouseup:null,wheel:null,mousedrag:null,mousemove:null},se=function(Z){return Q(Z),Z.buttons||(R._document.removeEventListener("mouseup",ne.mouseup),ne.mousedrag&&R._document.removeEventListener("mousemove",ne.mousedrag)),R.cancel(Z)},Re=function(Z){return Q(Z),R.cancel(Z,!0)},Ge=function(Z){Z.buttons&&Q(Z)},cr=function(Z){Z.buttons||Q(Z)};this.register(this.coreMouseService.onProtocolChange(function(Z){Z?(R.optionsService.rawOptions.logLevel==="debug"&&R._logService.debug("Binding to mouse events:",R.coreMouseService.explainEvents(Z)),R.element.classList.add("enable-mouse-events"),R._selectionService.disable()):(R._logService.debug("Unbinding from mouse events."),R.element.classList.remove("enable-mouse-events"),R._selectionService.enable()),8&Z?ne.mousemove||(P.addEventListener("mousemove",cr),ne.mousemove=cr):(P.removeEventListener("mousemove",ne.mousemove),ne.mousemove=null),16&Z?ne.wheel||(P.addEventListener("wheel",Re,{passive:!1}),ne.wheel=Re):(P.removeEventListener("wheel",ne.wheel),ne.wheel=null),2&Z?ne.mouseup||(ne.mouseup=se):(R._document.removeEventListener("mouseup",ne.mouseup),ne.mouseup=null),4&Z?ne.mousedrag||(ne.mousedrag=Ge):(R._document.removeEventListener("mousemove",ne.mousedrag),ne.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,a.addDisposableDomListener)(P,"mousedown",function(Z){if(Z.preventDefault(),R.focus(),R.coreMouseService.areMouseEventsActive&&!R._selectionService.shouldForceSelection(Z))return Q(Z),ne.mouseup&&R._document.addEventListener("mouseup",ne.mouseup),ne.mousedrag&&R._document.addEventListener("mousemove",ne.mousedrag),R.cancel(Z)})),this.register((0,a.addDisposableDomListener)(P,"wheel",function(Z){if(!ne.wheel){if(!R.buffer.hasScrollback){var dt=R.viewport.getLinesScrolled(Z);if(dt===0)return;for(var Vt=y.C0.ESC+(R.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(Z.deltaY<0?"A":"B"),yr="",xi=0;xi<Math.abs(dt);xi++)yr+=Vt;return R.coreService.triggerDataEvent(yr,!0),R.cancel(Z,!0)}return R.viewport.onWheel(Z)?R.cancel(Z):void 0}},{passive:!1})),this.register((0,a.addDisposableDomListener)(P,"touchstart",function(Z){if(!R.coreMouseService.areMouseEventsActive)return R.viewport.onTouchStart(Z),R.cancel(Z)},{passive:!0})),this.register((0,a.addDisposableDomListener)(P,"touchmove",function(Z){if(!R.coreMouseService.areMouseEventsActive)return R.viewport.onTouchMove(Z)?void 0:R.cancel(Z)},{passive:!1}))},W.prototype.refresh=function(R,N){var P;(P=this._renderService)===null||P===void 0||P.refreshRows(R,N)},W.prototype._queueLinkification=function(R,N){var P;(P=this.linkifier)===null||P===void 0||P.linkifyRows(R,N)},W.prototype.updateCursorStyle=function(R){var N;!((N=this._selectionService)===null||N===void 0)&&N.shouldColumnSelect(R)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")},W.prototype._showCursor=function(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))},W.prototype.scrollLines=function(R,N,P){P===void 0&&(P=0),M.prototype.scrollLines.call(this,R,N,P),this.refresh(0,this.rows-1)},W.prototype.paste=function(R){(0,_.paste)(R,this.textarea,this.coreService)},W.prototype.attachCustomKeyEventHandler=function(R){this._customKeyEventHandler=R},W.prototype.registerLinkMatcher=function(R,N,P){var Q=this.linkifier.registerLinkMatcher(R,N,P);return this.refresh(0,this.rows-1),Q},W.prototype.deregisterLinkMatcher=function(R){this.linkifier.deregisterLinkMatcher(R)&&this.refresh(0,this.rows-1)},W.prototype.registerLinkProvider=function(R){return this.linkifier2.registerLinkProvider(R)},W.prototype.registerCharacterJoiner=function(R){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");var N=this._characterJoinerService.register(R);return this.refresh(0,this.rows-1),N},W.prototype.deregisterCharacterJoiner=function(R){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(R)&&this.refresh(0,this.rows-1)},Object.defineProperty(W.prototype,"markers",{get:function(){return this.buffer.markers},enumerable:!1,configurable:!0}),W.prototype.addMarker=function(R){if(this.buffer===this.buffers.normal)return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+R)},W.prototype.registerDecoration=function(R){return this.decorationService.registerDecoration(R)},W.prototype.hasSelection=function(){return!!this._selectionService&&this._selectionService.hasSelection},W.prototype.select=function(R,N,P){this._selectionService.setSelection(R,N,P)},W.prototype.getSelection=function(){return this._selectionService?this._selectionService.selectionText:""},W.prototype.getSelectionPosition=function(){if(this._selectionService&&this._selectionService.hasSelection)return{startColumn:this._selectionService.selectionStart[0],startRow:this._selectionService.selectionStart[1],endColumn:this._selectionService.selectionEnd[0],endRow:this._selectionService.selectionEnd[1]}},W.prototype.clearSelection=function(){var R;(R=this._selectionService)===null||R===void 0||R.clearSelection()},W.prototype.selectAll=function(){var R;(R=this._selectionService)===null||R===void 0||R.selectAll()},W.prototype.selectLines=function(R,N){var P;(P=this._selectionService)===null||P===void 0||P.selectLines(R,N)},W.prototype._keyDown=function(R){if(this._keyDownHandled=!1,this._customKeyEventHandler&&this._customKeyEventHandler(R)===!1)return!1;if(!this._compositionHelper.keydown(R))return this.buffer.ybase!==this.buffer.ydisp&&this._bufferService.scrollToBottom(),!1;R.key!=="Dead"&&R.key!=="AltGraph"||(this._unprocessedDeadKey=!0);var N=(0,C.evaluateKeyboardEvent)(R,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(R),N.type===3||N.type===2){var P=this.rows-1;return this.scrollLines(N.type===2?-P:P),this.cancel(R,!0)}return N.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,R)||(N.cancel&&this.cancel(R,!0),!N.key||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(N.key!==y.C0.ETX&&N.key!==y.C0.CR||(this.textarea.value=""),this._onKey.fire({key:N.key,domEvent:R}),this._showCursor(),this.coreService.triggerDataEvent(N.key,!0),this.optionsService.rawOptions.screenReaderMode?void(this._keyDownHandled=!0):this.cancel(R,!0))))},W.prototype._isThirdLevelShift=function(R,N){var P=R.isMac&&!this.options.macOptionIsMeta&&N.altKey&&!N.ctrlKey&&!N.metaKey||R.isWindows&&N.altKey&&N.ctrlKey&&!N.metaKey||R.isWindows&&N.getModifierState("AltGraph");return N.type==="keypress"?P:P&&(!N.keyCode||N.keyCode>47)},W.prototype._keyUp=function(R){this._customKeyEventHandler&&this._customKeyEventHandler(R)===!1||(function(N){return N.keyCode===16||N.keyCode===17||N.keyCode===18}(R)||this.focus(),this.updateCursorStyle(R),this._keyPressHandled=!1)},W.prototype._keyPress=function(R){var N;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(R)===!1)return!1;if(this.cancel(R),R.charCode)N=R.charCode;else if(R.which===null||R.which===void 0)N=R.keyCode;else{if(R.which===0||R.charCode===0)return!1;N=R.which}return!(!N||(R.altKey||R.ctrlKey||R.metaKey)&&!this._isThirdLevelShift(this.browser,R)||(N=String.fromCharCode(N),this._onKey.fire({key:N,domEvent:R}),this._showCursor(),this.coreService.triggerDataEvent(N,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))},W.prototype._inputEvent=function(R){if(R.data&&R.inputType==="insertText"&&!R.composed&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;var N=R.data;return this.coreService.triggerDataEvent(N,!0),this.cancel(R),!0}return!1},W.prototype.bell=function(){var R;this._soundBell()&&((R=this._soundService)===null||R===void 0||R.playBellSound()),this._onBell.fire()},W.prototype.resize=function(R,N){R!==this.cols||N!==this.rows?M.prototype.resize.call(this,R,N):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()},W.prototype._afterResize=function(R,N){var P,Q;(P=this._charSizeService)===null||P===void 0||P.measure(),(Q=this.viewport)===null||Q===void 0||Q.syncScrollArea(!0)},W.prototype.clear=function(){if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(var R=1;R<this.rows;R++)this.buffer.lines.push(this.buffer.getBlankLine(S.DEFAULT_ATTR_DATA));this.refresh(0,this.rows-1),this._onScroll.fire({position:this.buffer.ydisp,source:0})}},W.prototype.reset=function(){var R,N;this.options.rows=this.rows,this.options.cols=this.cols;var P=this._customKeyEventHandler;this._setup(),M.prototype.reset.call(this),(R=this._selectionService)===null||R===void 0||R.reset(),this._customKeyEventHandler=P,this.refresh(0,this.rows-1),(N=this.viewport)===null||N===void 0||N.syncScrollArea()},W.prototype.clearTextureAtlas=function(){var R;(R=this._renderService)===null||R===void 0||R.clearTextureAtlas()},W.prototype._reportFocus=function(){var R;!((R=this.element)===null||R===void 0)&&R.classList.contains("focus")?this.coreService.triggerDataEvent(y.C0.ESC+"[I"):this.coreService.triggerDataEvent(y.C0.ESC+"[O")},W.prototype._reportWindowsOptions=function(R){if(this._renderService)switch(R){case m.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:var N=this._renderService.dimensions.scaledCanvasWidth.toFixed(0),P=this._renderService.dimensions.scaledCanvasHeight.toFixed(0);this.coreService.triggerDataEvent(y.C0.ESC+"[4;"+P+";"+N+"t");break;case m.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:var Q=this._renderService.dimensions.scaledCellWidth.toFixed(0),ne=this._renderService.dimensions.scaledCellHeight.toFixed(0);this.coreService.triggerDataEvent(y.C0.ESC+"[6;"+ne+";"+Q+"t")}},W.prototype.cancel=function(R,N){if(this.options.cancelEvents||N)return R.preventDefault(),R.stopPropagation(),!1},W.prototype._visualBell=function(){return!1},W.prototype._soundBell=function(){return this.options.bellStyle==="sound"},W}(D.CoreTerminal);n.Terminal=xe},9924:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.TimeBasedDebouncer=void 0;var i=function(){function o(s,c){c===void 0&&(c=1e3),this._renderCallback=s,this._debounceThresholdMS=c,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}return o.prototype.dispose=function(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)},o.prototype.refresh=function(s,c,f){var _=this;this._rowCount=f,s=s!==void 0?s:0,c=c!==void 0?c:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,s):s,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,c):c;var y=Date.now();if(y-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=y,this._innerRefresh();else if(!this._additionalRefreshRequested){var m=y-this._lastRefreshMs,p=this._debounceThresholdMS-m;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(function(){_._lastRefreshMs=Date.now(),_._innerRefresh(),_._additionalRefreshRequested=!1,_._refreshTimeoutID=void 0},p)}},o.prototype._innerRefresh=function(){if(this._rowStart!==void 0&&this._rowEnd!==void 0&&this._rowCount!==void 0){var s=Math.max(this._rowStart,0),c=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(s,c)}},o}();n.TimeBasedDebouncer=i},1680:function(r,n,i){var o,s=this&&this.__extends||(o=function(d,l){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(a[h]=u[h])},o(d,l)},function(d,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function a(){this.constructor=d}o(d,l),d.prototype=l===null?Object.create(l):(a.prototype=l.prototype,new a)}),c=this&&this.__decorate||function(d,l,a,u){var h,g=arguments.length,w=g<3?l:u===null?u=Object.getOwnPropertyDescriptor(l,a):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(d,l,a,u);else for(var x=d.length-1;x>=0;x--)(h=d[x])&&(w=(g<3?h(w):g>3?h(l,a,w):h(l,a))||w);return g>3&&w&&Object.defineProperty(l,a,w),w},f=this&&this.__param||function(d,l){return function(a,u){l(a,u,d)}};Object.defineProperty(n,"__esModule",{value:!0}),n.Viewport=void 0;var _=i(844),y=i(3656),m=i(4725),p=i(2585),v=function(d){function l(a,u,h,g,w,x,C,k){var S=d.call(this)||this;return S._scrollLines=a,S._viewportElement=u,S._scrollArea=h,S._element=g,S._bufferService=w,S._optionsService=x,S._charSizeService=C,S._renderService=k,S.scrollBarWidth=0,S._currentRowHeight=0,S._currentScaledCellHeight=0,S._lastRecordedBufferLength=0,S._lastRecordedViewportHeight=0,S._lastRecordedBufferHeight=0,S._lastTouchY=0,S._lastScrollTop=0,S._lastHadScrollBar=!1,S._wheelPartialScroll=0,S._refreshAnimationFrame=null,S._ignoreNextScrollEvent=!1,S.scrollBarWidth=S._viewportElement.offsetWidth-S._scrollArea.offsetWidth||15,S._lastHadScrollBar=!0,S.register((0,y.addDisposableDomListener)(S._viewportElement,"scroll",S._onScroll.bind(S))),S._activeBuffer=S._bufferService.buffer,S.register(S._bufferService.buffers.onBufferActivate(function(b){return S._activeBuffer=b.activeBuffer})),S._renderDimensions=S._renderService.dimensions,S.register(S._renderService.onDimensionsChange(function(b){return S._renderDimensions=b})),setTimeout(function(){return S.syncScrollArea()},0),S}return s(l,d),l.prototype.onThemeChange=function(a){this._viewportElement.style.backgroundColor=a.background.css},l.prototype._refresh=function(a){var u=this;if(a)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=requestAnimationFrame(function(){return u._innerRefresh()}))},l.prototype._innerRefresh=function(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.scaledCellHeight/window.devicePixelRatio,this._currentScaledCellHeight=this._renderService.dimensions.scaledCellHeight,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;var a=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.canvasHeight);this._lastRecordedBufferHeight!==a&&(this._lastRecordedBufferHeight=a,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}var u=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==u&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=u),this._optionsService.rawOptions.scrollback===0?this.scrollBarWidth=0:this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this._lastHadScrollBar=this.scrollBarWidth>0;var h=window.getComputedStyle(this._element),g=parseInt(h.paddingLeft)+parseInt(h.paddingRight);this._viewportElement.style.width=(this._renderService.dimensions.actualCellWidth*this._bufferService.cols+this.scrollBarWidth+(this._lastHadScrollBar?g:0)).toString()+"px",this._refreshAnimationFrame=null},l.prototype.syncScrollArea=function(a){if(a===void 0&&(a=!1),this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(a);this._lastRecordedViewportHeight===this._renderService.dimensions.canvasHeight&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.scaledCellHeight===this._currentScaledCellHeight?this._lastHadScrollBar!==this._optionsService.rawOptions.scrollback>0&&this._refresh(a):this._refresh(a)},l.prototype._onScroll=function(a){if(this._lastScrollTop=this._viewportElement.scrollTop,this._viewportElement.offsetParent){if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._scrollLines(0);var u=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._scrollLines(u)}},l.prototype._bubbleScroll=function(a,u){var h=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(u<0&&this._viewportElement.scrollTop!==0||u>0&&h<this._lastRecordedBufferHeight)||(a.cancelable&&a.preventDefault(),!1)},l.prototype.onWheel=function(a){var u=this._getPixelsScrolled(a);return u!==0&&(this._viewportElement.scrollTop+=u,this._bubbleScroll(a,u))},l.prototype._getPixelsScrolled=function(a){if(a.deltaY===0||a.shiftKey)return 0;var u=this._applyScrollModifier(a.deltaY,a);return a.deltaMode===WheelEvent.DOM_DELTA_LINE?u*=this._currentRowHeight:a.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(u*=this._currentRowHeight*this._bufferService.rows),u},l.prototype.getLinesScrolled=function(a){if(a.deltaY===0||a.shiftKey)return 0;var u=this._applyScrollModifier(a.deltaY,a);return a.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(u/=this._currentRowHeight+0,this._wheelPartialScroll+=u,u=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):a.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(u*=this._bufferService.rows),u},l.prototype._applyScrollModifier=function(a,u){var h=this._optionsService.rawOptions.fastScrollModifier;return h==="alt"&&u.altKey||h==="ctrl"&&u.ctrlKey||h==="shift"&&u.shiftKey?a*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:a*this._optionsService.rawOptions.scrollSensitivity},l.prototype.onTouchStart=function(a){this._lastTouchY=a.touches[0].pageY},l.prototype.onTouchMove=function(a){var u=this._lastTouchY-a.touches[0].pageY;return this._lastTouchY=a.touches[0].pageY,u!==0&&(this._viewportElement.scrollTop+=u,this._bubbleScroll(a,u))},c([f(4,p.IBufferService),f(5,p.IOptionsService),f(6,m.ICharSizeService),f(7,m.IRenderService)],l)}(_.Disposable);n.Viewport=v},2950:function(r,n,i){var o=this&&this.__decorate||function(y,m,p,v){var d,l=arguments.length,a=l<3?m:v===null?v=Object.getOwnPropertyDescriptor(m,p):v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(y,m,p,v);else for(var u=y.length-1;u>=0;u--)(d=y[u])&&(a=(l<3?d(a):l>3?d(m,p,a):d(m,p))||a);return l>3&&a&&Object.defineProperty(m,p,a),a},s=this&&this.__param||function(y,m){return function(p,v){m(p,v,y)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CompositionHelper=void 0;var c=i(4725),f=i(2585),_=function(){function y(m,p,v,d,l,a){this._textarea=m,this._compositionView=p,this._bufferService=v,this._optionsService=d,this._coreService=l,this._renderService=a,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}return Object.defineProperty(y.prototype,"isComposing",{get:function(){return this._isComposing},enumerable:!1,configurable:!0}),y.prototype.compositionstart=function(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")},y.prototype.compositionupdate=function(m){var p=this;this._compositionView.textContent=m.data,this.updateCompositionElements(),setTimeout(function(){p._compositionPosition.end=p._textarea.value.length},0)},y.prototype.compositionend=function(){this._finalizeComposition(!0)},y.prototype.keydown=function(m){if(this._isComposing||this._isSendingComposition){if(m.keyCode===229||m.keyCode===16||m.keyCode===17||m.keyCode===18)return!1;this._finalizeComposition(!1)}return m.keyCode!==229||(this._handleAnyTextareaChanges(),!1)},y.prototype._finalizeComposition=function(m){var p=this;if(this._compositionView.classList.remove("active"),this._isComposing=!1,m){var v={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(function(){if(p._isSendingComposition){p._isSendingComposition=!1;var l;v.start+=p._dataAlreadySent.length,(l=p._isComposing?p._textarea.value.substring(v.start,v.end):p._textarea.value.substring(v.start)).length>0&&p._coreService.triggerDataEvent(l,!0)}},0)}else{this._isSendingComposition=!1;var d=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(d,!0)}},y.prototype._handleAnyTextareaChanges=function(){var m=this,p=this._textarea.value;setTimeout(function(){if(!m._isComposing){var v=m._textarea.value.replace(p,"");v.length>0&&(m._dataAlreadySent=v,m._coreService.triggerDataEvent(v,!0))}},0)},y.prototype.updateCompositionElements=function(m){var p=this;if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){var v=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),d=this._renderService.dimensions.actualCellHeight,l=this._bufferService.buffer.y*this._renderService.dimensions.actualCellHeight,a=v*this._renderService.dimensions.actualCellWidth;this._compositionView.style.left=a+"px",this._compositionView.style.top=l+"px",this._compositionView.style.height=d+"px",this._compositionView.style.lineHeight=d+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";var u=this._compositionView.getBoundingClientRect();this._textarea.style.left=a+"px",this._textarea.style.top=l+"px",this._textarea.style.width=Math.max(u.width,1)+"px",this._textarea.style.height=Math.max(u.height,1)+"px",this._textarea.style.lineHeight=u.height+"px"}m||setTimeout(function(){return p.updateCompositionElements(!0)},0)}},o([s(2,f.IBufferService),s(3,f.IOptionsService),s(4,f.ICoreService),s(5,c.IRenderService)],y)}();n.CompositionHelper=_},9806:(r,n)=>{function i(o,s){var c=s.getBoundingClientRect();return[o.clientX-c.left,o.clientY-c.top]}Object.defineProperty(n,"__esModule",{value:!0}),n.getRawByteCoords=n.getCoords=n.getCoordsRelativeToElement=void 0,n.getCoordsRelativeToElement=i,n.getCoords=function(o,s,c,f,_,y,m,p){if(_){var v=i(o,s);if(v)return v[0]=Math.ceil((v[0]+(p?y/2:0))/y),v[1]=Math.ceil(v[1]/m),v[0]=Math.min(Math.max(v[0],1),c+(p?1:0)),v[1]=Math.min(Math.max(v[1],1),f),v}},n.getRawByteCoords=function(o){if(o)return{x:o[0]+32,y:o[1]+32}}},9504:(r,n,i)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.moveToCellSequence=void 0;var o=i(2584);function s(p,v,d,l){var a=p-c(d,p),u=v-c(d,v),h=Math.abs(a-u)-function(g,w,x){for(var C=0,k=g-c(x,g),S=w-c(x,w),b=0;b<Math.abs(k-S);b++){var O=f(g,w)==="A"?-1:1,E=x.buffer.lines.get(k+O*b);E?.isWrapped&&C++}return C}(p,v,d);return m(h,y(f(p,v),l))}function c(p,v){for(var d=0,l=p.buffer.lines.get(v),a=l?.isWrapped;a&&v>=0&&v<p.rows;)d++,a=(l=p.buffer.lines.get(--v))==null?void 0:l.isWrapped;return d}function f(p,v){return p>v?"A":"B"}function _(p,v,d,l,a,u){for(var h=p,g=v,w="";h!==d||g!==l;)h+=a?1:-1,a&&h>u.cols-1?(w+=u.buffer.translateBufferLineToString(g,!1,p,h),h=0,p=0,g++):!a&&h<0&&(w+=u.buffer.translateBufferLineToString(g,!1,0,p+1),p=h=u.cols-1,g--);return w+u.buffer.translateBufferLineToString(g,!1,p,h)}function y(p,v){var d=v?"O":"[";return o.C0.ESC+d+p}function m(p,v){p=Math.floor(p);for(var d="",l=0;l<p;l++)d+=v;return d}n.moveToCellSequence=function(p,v,d,l){var a,u=d.buffer.x,h=d.buffer.y;if(!d.buffer.hasScrollback)return function(w,x,C,k,S,b){return s(x,k,S,b).length===0?"":m(_(w,x,w,x-c(S,x),!1,S).length,y("D",b))}(u,h,0,v,d,l)+s(h,v,d,l)+function(w,x,C,k,S,b){var O;O=s(x,k,S,b).length>0?k-c(S,k):x;var E=k,B=function(A,L,I,D,j,z){var V;return V=s(I,D,j,z).length>0?D-c(j,D):L,A<I&&V<=D||A>=I&&V<D?"C":"D"}(w,x,C,k,S,b);return m(_(w,O,C,E,B==="C",S).length,y(B,b))}(u,h,p,v,d,l);if(h===v)return a=u>p?"D":"C",m(Math.abs(u-p),y(a,l));a=h>v?"D":"C";var g=Math.abs(h-v);return m(function(w,x){return x.cols-w}(h>v?p:u,d)+(g-1)*d.cols+1+((h>v?u:p)-1),y(a,l))}},4389:function(r,n,i){var o=this&&this.__assign||function(){return o=Object.assign||function(d){for(var l,a=1,u=arguments.length;a<u;a++)for(var h in l=arguments[a])Object.prototype.hasOwnProperty.call(l,h)&&(d[h]=l[h]);return d},o.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.Terminal=void 0;var s=i(3236),c=i(9042),f=i(7975),_=i(7090),y=i(5741),m=i(8285),p=["cols","rows"],v=function(){function d(l){var a=this;this._core=new s.Terminal(l),this._addonManager=new y.AddonManager,this._publicOptions=o({},this._core.options);var u=function(x){return a._core.options[x]},h=function(x,C){a._checkReadonlyOptions(x),a._core.options[x]=C};for(var g in this._core.options){var w={get:u.bind(this,g),set:h.bind(this,g)};Object.defineProperty(this._publicOptions,g,w)}}return d.prototype._checkReadonlyOptions=function(l){if(p.includes(l))throw new Error('Option "'+l+'" can only be set in the constructor')},d.prototype._checkProposedApi=function(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")},Object.defineProperty(d.prototype,"onBell",{get:function(){return this._core.onBell},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onBinary",{get:function(){return this._core.onBinary},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onCursorMove",{get:function(){return this._core.onCursorMove},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onData",{get:function(){return this._core.onData},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onKey",{get:function(){return this._core.onKey},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onLineFeed",{get:function(){return this._core.onLineFeed},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onRender",{get:function(){return this._core.onRender},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onResize",{get:function(){return this._core.onResize},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onScroll",{get:function(){return this._core.onScroll},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onSelectionChange",{get:function(){return this._core.onSelectionChange},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onTitleChange",{get:function(){return this._core.onTitleChange},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"element",{get:function(){return this._core.element},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"parser",{get:function(){return this._checkProposedApi(),this._parser||(this._parser=new f.ParserApi(this._core)),this._parser},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"unicode",{get:function(){return this._checkProposedApi(),new _.UnicodeApi(this._core)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"textarea",{get:function(){return this._core.textarea},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"rows",{get:function(){return this._core.rows},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"cols",{get:function(){return this._core.cols},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"buffer",{get:function(){return this._checkProposedApi(),this._buffer||(this._buffer=new m.BufferNamespaceApi(this._core)),this._buffer},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"markers",{get:function(){return this._checkProposedApi(),this._core.markers},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"modes",{get:function(){var l=this._core.coreService.decPrivateModes,a="none";switch(this._core.coreMouseService.activeProtocol){case"X10":a="x10";break;case"VT200":a="vt200";break;case"DRAG":a="drag";break;case"ANY":a="any"}return{applicationCursorKeysMode:l.applicationCursorKeys,applicationKeypadMode:l.applicationKeypad,bracketedPasteMode:l.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:a,originMode:l.origin,reverseWraparoundMode:l.reverseWraparound,sendFocusMode:l.sendFocus,wraparoundMode:l.wraparound}},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"options",{get:function(){return this._publicOptions},set:function(l){for(var a in l)this._publicOptions[a]=l[a]},enumerable:!1,configurable:!0}),d.prototype.blur=function(){this._core.blur()},d.prototype.focus=function(){this._core.focus()},d.prototype.resize=function(l,a){this._verifyIntegers(l,a),this._core.resize(l,a)},d.prototype.open=function(l){this._core.open(l)},d.prototype.attachCustomKeyEventHandler=function(l){this._core.attachCustomKeyEventHandler(l)},d.prototype.registerLinkMatcher=function(l,a,u){return this._checkProposedApi(),this._core.registerLinkMatcher(l,a,u)},d.prototype.deregisterLinkMatcher=function(l){this._checkProposedApi(),this._core.deregisterLinkMatcher(l)},d.prototype.registerLinkProvider=function(l){return this._checkProposedApi(),this._core.registerLinkProvider(l)},d.prototype.registerCharacterJoiner=function(l){return this._checkProposedApi(),this._core.registerCharacterJoiner(l)},d.prototype.deregisterCharacterJoiner=function(l){this._checkProposedApi(),this._core.deregisterCharacterJoiner(l)},d.prototype.registerMarker=function(l){return l===void 0&&(l=0),this._checkProposedApi(),this._verifyIntegers(l),this._core.addMarker(l)},d.prototype.registerDecoration=function(l){var a,u,h;return this._checkProposedApi(),this._verifyPositiveIntegers((a=l.x)!==null&&a!==void 0?a:0,(u=l.width)!==null&&u!==void 0?u:0,(h=l.height)!==null&&h!==void 0?h:0),this._core.registerDecoration(l)},d.prototype.addMarker=function(l){return this.registerMarker(l)},d.prototype.hasSelection=function(){return this._core.hasSelection()},d.prototype.select=function(l,a,u){this._verifyIntegers(l,a,u),this._core.select(l,a,u)},d.prototype.getSelection=function(){return this._core.getSelection()},d.prototype.getSelectionPosition=function(){return this._core.getSelectionPosition()},d.prototype.clearSelection=function(){this._core.clearSelection()},d.prototype.selectAll=function(){this._core.selectAll()},d.prototype.selectLines=function(l,a){this._verifyIntegers(l,a),this._core.selectLines(l,a)},d.prototype.dispose=function(){this._addonManager.dispose(),this._core.dispose()},d.prototype.scrollLines=function(l){this._verifyIntegers(l),this._core.scrollLines(l)},d.prototype.scrollPages=function(l){this._verifyIntegers(l),this._core.scrollPages(l)},d.prototype.scrollToTop=function(){this._core.scrollToTop()},d.prototype.scrollToBottom=function(){this._core.scrollToBottom()},d.prototype.scrollToLine=function(l){this._verifyIntegers(l),this._core.scrollToLine(l)},d.prototype.clear=function(){this._core.clear()},d.prototype.write=function(l,a){this._core.write(l,a)},d.prototype.writeUtf8=function(l,a){this._core.write(l,a)},d.prototype.writeln=function(l,a){this._core.write(l),this._core.write(`\r
`,a)},d.prototype.paste=function(l){this._core.paste(l)},d.prototype.getOption=function(l){return this._core.optionsService.getOption(l)},d.prototype.setOption=function(l,a){this._checkReadonlyOptions(l),this._core.optionsService.setOption(l,a)},d.prototype.refresh=function(l,a){this._verifyIntegers(l,a),this._core.refresh(l,a)},d.prototype.reset=function(){this._core.reset()},d.prototype.clearTextureAtlas=function(){this._core.clearTextureAtlas()},d.prototype.loadAddon=function(l){return this._addonManager.loadAddon(this,l)},Object.defineProperty(d,"strings",{get:function(){return c},enumerable:!1,configurable:!0}),d.prototype._verifyIntegers=function(){for(var l=[],a=0;a<arguments.length;a++)l[a]=arguments[a];for(var u=0,h=l;u<h.length;u++){var g=h[u];if(g===1/0||isNaN(g)||g%1!=0)throw new Error("This API only accepts integers")}},d.prototype._verifyPositiveIntegers=function(){for(var l=[],a=0;a<arguments.length;a++)l[a]=arguments[a];for(var u=0,h=l;u<h.length;u++){var g=h[u];if(g&&(g===1/0||isNaN(g)||g%1!=0||g<0))throw new Error("This API only accepts positive integers")}},d}();n.Terminal=v},1546:(r,n,i)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BaseRenderLayer=void 0;var o=i(643),s=i(8803),c=i(1420),f=i(3734),_=i(1752),y=i(4774),m=i(9631),p=i(8978),v=function(){function d(l,a,u,h,g,w,x,C){this._container=l,this._alpha=h,this._colors=g,this._rendererId=w,this._bufferService=x,this._optionsService=C,this._scaledCharWidth=0,this._scaledCharHeight=0,this._scaledCellWidth=0,this._scaledCellHeight=0,this._scaledCharLeft=0,this._scaledCharTop=0,this._currentGlyphIdentifier={chars:"",code:0,bg:0,fg:0,bold:!1,dim:!1,italic:!1},this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-"+a+"-layer"),this._canvas.style.zIndex=u.toString(),this._initCanvas(),this._container.appendChild(this._canvas)}return d.prototype.dispose=function(){var l;(0,m.removeElementFromParent)(this._canvas),(l=this._charAtlas)===null||l===void 0||l.dispose()},d.prototype._initCanvas=function(){this._ctx=(0,_.throwIfFalsy)(this._canvas.getContext("2d",{alpha:this._alpha})),this._alpha||this._clearAll()},d.prototype.onOptionsChanged=function(){},d.prototype.onBlur=function(){},d.prototype.onFocus=function(){},d.prototype.onCursorMove=function(){},d.prototype.onGridChanged=function(l,a){},d.prototype.onSelectionChanged=function(l,a,u){u===void 0&&(u=!1)},d.prototype.setColors=function(l){this._refreshCharAtlas(l)},d.prototype._setTransparency=function(l){if(l!==this._alpha){var a=this._canvas;this._alpha=l,this._canvas=this._canvas.cloneNode(),this._initCanvas(),this._container.replaceChild(this._canvas,a),this._refreshCharAtlas(this._colors),this.onGridChanged(0,this._bufferService.rows-1)}},d.prototype._refreshCharAtlas=function(l){this._scaledCharWidth<=0&&this._scaledCharHeight<=0||(this._charAtlas=(0,c.acquireCharAtlas)(this._optionsService.rawOptions,this._rendererId,l,this._scaledCharWidth,this._scaledCharHeight),this._charAtlas.warmUp())},d.prototype.resize=function(l){this._scaledCellWidth=l.scaledCellWidth,this._scaledCellHeight=l.scaledCellHeight,this._scaledCharWidth=l.scaledCharWidth,this._scaledCharHeight=l.scaledCharHeight,this._scaledCharLeft=l.scaledCharLeft,this._scaledCharTop=l.scaledCharTop,this._canvas.width=l.scaledCanvasWidth,this._canvas.height=l.scaledCanvasHeight,this._canvas.style.width=l.canvasWidth+"px",this._canvas.style.height=l.canvasHeight+"px",this._alpha||this._clearAll(),this._refreshCharAtlas(this._colors)},d.prototype.clearTextureAtlas=function(){var l;(l=this._charAtlas)===null||l===void 0||l.clear()},d.prototype._fillCells=function(l,a,u,h){this._ctx.fillRect(l*this._scaledCellWidth,a*this._scaledCellHeight,u*this._scaledCellWidth,h*this._scaledCellHeight)},d.prototype._fillMiddleLineAtCells=function(l,a,u){u===void 0&&(u=1);var h=Math.ceil(.5*this._scaledCellHeight);this._ctx.fillRect(l*this._scaledCellWidth,(a+1)*this._scaledCellHeight-h-window.devicePixelRatio,u*this._scaledCellWidth,window.devicePixelRatio)},d.prototype._fillBottomLineAtCells=function(l,a,u){u===void 0&&(u=1),this._ctx.fillRect(l*this._scaledCellWidth,(a+1)*this._scaledCellHeight-window.devicePixelRatio-1,u*this._scaledCellWidth,window.devicePixelRatio)},d.prototype._fillLeftLineAtCell=function(l,a,u){this._ctx.fillRect(l*this._scaledCellWidth,a*this._scaledCellHeight,window.devicePixelRatio*u,this._scaledCellHeight)},d.prototype._strokeRectAtCell=function(l,a,u,h){this._ctx.lineWidth=window.devicePixelRatio,this._ctx.strokeRect(l*this._scaledCellWidth+window.devicePixelRatio/2,a*this._scaledCellHeight+window.devicePixelRatio/2,u*this._scaledCellWidth-window.devicePixelRatio,h*this._scaledCellHeight-window.devicePixelRatio)},d.prototype._clearAll=function(){this._alpha?this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(0,0,this._canvas.width,this._canvas.height))},d.prototype._clearCells=function(l,a,u,h){this._alpha?this._ctx.clearRect(l*this._scaledCellWidth,a*this._scaledCellHeight,u*this._scaledCellWidth,h*this._scaledCellHeight):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(l*this._scaledCellWidth,a*this._scaledCellHeight,u*this._scaledCellWidth,h*this._scaledCellHeight))},d.prototype._fillCharTrueColor=function(l,a,u){this._ctx.font=this._getFont(!1,!1),this._ctx.textBaseline=s.TEXT_BASELINE,this._clipRow(u);var h=!1;this._optionsService.rawOptions.customGlyphs!==!1&&(h=(0,p.tryDrawCustomChar)(this._ctx,l.getChars(),a*this._scaledCellWidth,u*this._scaledCellHeight,this._scaledCellWidth,this._scaledCellHeight)),h||this._ctx.fillText(l.getChars(),a*this._scaledCellWidth+this._scaledCharLeft,u*this._scaledCellHeight+this._scaledCharTop+this._scaledCharHeight)},d.prototype._drawChars=function(l,a,u){var h,g,w,x=this._getContrastColor(l);x||l.isFgRGB()||l.isBgRGB()?this._drawUncachedChars(l,a,u,x):(l.isInverse()?(g=l.isBgDefault()?s.INVERTED_DEFAULT_COLOR:l.getBgColor(),w=l.isFgDefault()?s.INVERTED_DEFAULT_COLOR:l.getFgColor()):(w=l.isBgDefault()?o.DEFAULT_COLOR:l.getBgColor(),g=l.isFgDefault()?o.DEFAULT_COLOR:l.getFgColor()),g+=this._optionsService.rawOptions.drawBoldTextInBrightColors&&l.isBold()&&g<8?8:0,this._currentGlyphIdentifier.chars=l.getChars()||o.WHITESPACE_CELL_CHAR,this._currentGlyphIdentifier.code=l.getCode()||o.WHITESPACE_CELL_CODE,this._currentGlyphIdentifier.bg=w,this._currentGlyphIdentifier.fg=g,this._currentGlyphIdentifier.bold=!!l.isBold(),this._currentGlyphIdentifier.dim=!!l.isDim(),this._currentGlyphIdentifier.italic=!!l.isItalic(),!((h=this._charAtlas)===null||h===void 0)&&h.draw(this._ctx,this._currentGlyphIdentifier,a*this._scaledCellWidth+this._scaledCharLeft,u*this._scaledCellHeight+this._scaledCharTop)||this._drawUncachedChars(l,a,u))},d.prototype._drawUncachedChars=function(l,a,u,h){if(this._ctx.save(),this._ctx.font=this._getFont(!!l.isBold(),!!l.isItalic()),this._ctx.textBaseline=s.TEXT_BASELINE,l.isInverse())if(h)this._ctx.fillStyle=h.css;else if(l.isBgDefault())this._ctx.fillStyle=y.color.opaque(this._colors.background).css;else if(l.isBgRGB())this._ctx.fillStyle="rgb("+f.AttributeData.toColorRGB(l.getBgColor()).join(",")+")";else{var g=l.getBgColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&l.isBold()&&g<8&&(g+=8),this._ctx.fillStyle=this._colors.ansi[g].css}else if(h)this._ctx.fillStyle=h.css;else if(l.isFgDefault())this._ctx.fillStyle=this._colors.foreground.css;else if(l.isFgRGB())this._ctx.fillStyle="rgb("+f.AttributeData.toColorRGB(l.getFgColor()).join(",")+")";else{var w=l.getFgColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&l.isBold()&&w<8&&(w+=8),this._ctx.fillStyle=this._colors.ansi[w].css}this._clipRow(u),l.isDim()&&(this._ctx.globalAlpha=s.DIM_OPACITY);var x=!1;this._optionsService.rawOptions.customGlyphs!==!1&&(x=(0,p.tryDrawCustomChar)(this._ctx,l.getChars(),a*this._scaledCellWidth,u*this._scaledCellHeight,this._scaledCellWidth,this._scaledCellHeight)),x||this._ctx.fillText(l.getChars(),a*this._scaledCellWidth+this._scaledCharLeft,u*this._scaledCellHeight+this._scaledCharTop+this._scaledCharHeight),this._ctx.restore()},d.prototype._clipRow=function(l){this._ctx.beginPath(),this._ctx.rect(0,l*this._scaledCellHeight,this._bufferService.cols*this._scaledCellWidth,this._scaledCellHeight),this._ctx.clip()},d.prototype._getFont=function(l,a){return(a?"italic":"")+" "+(l?this._optionsService.rawOptions.fontWeightBold:this._optionsService.rawOptions.fontWeight)+" "+this._optionsService.rawOptions.fontSize*window.devicePixelRatio+"px "+this._optionsService.rawOptions.fontFamily},d.prototype._getContrastColor=function(l){if(this._optionsService.rawOptions.minimumContrastRatio!==1){var a=this._colors.contrastCache.getColor(l.bg,l.fg);if(a!==void 0)return a||void 0;var u=l.getFgColor(),h=l.getFgColorMode(),g=l.getBgColor(),w=l.getBgColorMode(),x=!!l.isInverse(),C=!!l.isInverse();if(x){var k=u;u=g,g=k;var S=h;h=w,w=S}var b=this._resolveBackgroundRgba(w,g,x),O=this._resolveForegroundRgba(h,u,x,C),E=y.rgba.ensureContrastRatio(b,O,this._optionsService.rawOptions.minimumContrastRatio);if(E){var B={css:y.channels.toCss(E>>24&255,E>>16&255,E>>8&255),rgba:E};return this._colors.contrastCache.setColor(l.bg,l.fg,B),B}this._colors.contrastCache.setColor(l.bg,l.fg,null)}},d.prototype._resolveBackgroundRgba=function(l,a,u){switch(l){case 16777216:case 33554432:return this._colors.ansi[a].rgba;case 50331648:return a<<8;default:return u?this._colors.foreground.rgba:this._colors.background.rgba}},d.prototype._resolveForegroundRgba=function(l,a,u,h){switch(l){case 16777216:case 33554432:return this._optionsService.rawOptions.drawBoldTextInBrightColors&&h&&a<8&&(a+=8),this._colors.ansi[a].rgba;case 50331648:return a<<8;default:return u?this._colors.background.rgba:this._colors.foreground.rgba}},d}();n.BaseRenderLayer=v},2512:function(r,n,i){var o,s=this&&this.__extends||(o=function(a,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var w in g)Object.prototype.hasOwnProperty.call(g,w)&&(h[w]=g[w])},o(a,u)},function(a,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function h(){this.constructor=a}o(a,u),a.prototype=u===null?Object.create(u):(h.prototype=u.prototype,new h)}),c=this&&this.__decorate||function(a,u,h,g){var w,x=arguments.length,C=x<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,h):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(a,u,h,g);else for(var k=a.length-1;k>=0;k--)(w=a[k])&&(C=(x<3?w(C):x>3?w(u,h,C):w(u,h))||C);return x>3&&C&&Object.defineProperty(u,h,C),C},f=this&&this.__param||function(a,u){return function(h,g){u(h,g,a)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CursorRenderLayer=void 0;var _=i(1546),y=i(511),m=i(2585),p=i(4725),v=600,d=function(a){function u(h,g,w,x,C,k,S,b,O){var E=a.call(this,h,"cursor",g,!0,w,x,k,S)||this;return E._onRequestRedraw=C,E._coreService=b,E._coreBrowserService=O,E._cell=new y.CellData,E._state={x:0,y:0,isFocused:!1,style:"",width:0},E._cursorRenderers={bar:E._renderBarCursor.bind(E),block:E._renderBlockCursor.bind(E),underline:E._renderUnderlineCursor.bind(E)},E}return s(u,a),u.prototype.dispose=function(){this._cursorBlinkStateManager&&(this._cursorBlinkStateManager.dispose(),this._cursorBlinkStateManager=void 0),a.prototype.dispose.call(this)},u.prototype.resize=function(h){a.prototype.resize.call(this,h),this._state={x:0,y:0,isFocused:!1,style:"",width:0}},u.prototype.reset=function(){var h;this._clearCursor(),(h=this._cursorBlinkStateManager)===null||h===void 0||h.restartBlinkAnimation(),this.onOptionsChanged()},u.prototype.onBlur=function(){var h;(h=this._cursorBlinkStateManager)===null||h===void 0||h.pause(),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},u.prototype.onFocus=function(){var h;(h=this._cursorBlinkStateManager)===null||h===void 0||h.resume(),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},u.prototype.onOptionsChanged=function(){var h,g=this;this._optionsService.rawOptions.cursorBlink?this._cursorBlinkStateManager||(this._cursorBlinkStateManager=new l(this._coreBrowserService.isFocused,function(){g._render(!0)})):((h=this._cursorBlinkStateManager)===null||h===void 0||h.dispose(),this._cursorBlinkStateManager=void 0),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},u.prototype.onCursorMove=function(){var h;(h=this._cursorBlinkStateManager)===null||h===void 0||h.restartBlinkAnimation()},u.prototype.onGridChanged=function(h,g){!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isPaused?this._render(!1):this._cursorBlinkStateManager.restartBlinkAnimation()},u.prototype._render=function(h){if(this._coreService.isCursorInitialized&&!this._coreService.isCursorHidden){var g=this._bufferService.buffer.ybase+this._bufferService.buffer.y,w=g-this._bufferService.buffer.ydisp;if(w<0||w>=this._bufferService.rows)this._clearCursor();else{var x=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1);if(this._bufferService.buffer.lines.get(g).loadCell(x,this._cell),this._cell.content!==void 0){if(!this._coreBrowserService.isFocused){this._clearCursor(),this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css;var C=this._optionsService.rawOptions.cursorStyle;return C&&C!=="block"?this._cursorRenderers[C](x,w,this._cell):this._renderBlurCursor(x,w,this._cell),this._ctx.restore(),this._state.x=x,this._state.y=w,this._state.isFocused=!1,this._state.style=C,void(this._state.width=this._cell.getWidth())}if(!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isCursorVisible){if(this._state){if(this._state.x===x&&this._state.y===w&&this._state.isFocused===this._coreBrowserService.isFocused&&this._state.style===this._optionsService.rawOptions.cursorStyle&&this._state.width===this._cell.getWidth())return;this._clearCursor()}this._ctx.save(),this._cursorRenderers[this._optionsService.rawOptions.cursorStyle||"block"](x,w,this._cell),this._ctx.restore(),this._state.x=x,this._state.y=w,this._state.isFocused=!1,this._state.style=this._optionsService.rawOptions.cursorStyle,this._state.width=this._cell.getWidth()}else this._clearCursor()}}}else this._clearCursor()},u.prototype._clearCursor=function(){this._state&&(window.devicePixelRatio<1?this._clearAll():this._clearCells(this._state.x,this._state.y,this._state.width,1),this._state={x:0,y:0,isFocused:!1,style:"",width:0})},u.prototype._renderBarCursor=function(h,g,w){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillLeftLineAtCell(h,g,this._optionsService.rawOptions.cursorWidth),this._ctx.restore()},u.prototype._renderBlockCursor=function(h,g,w){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillCells(h,g,w.getWidth(),1),this._ctx.fillStyle=this._colors.cursorAccent.css,this._fillCharTrueColor(w,h,g),this._ctx.restore()},u.prototype._renderUnderlineCursor=function(h,g,w){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillBottomLineAtCells(h,g),this._ctx.restore()},u.prototype._renderBlurCursor=function(h,g,w){this._ctx.save(),this._ctx.strokeStyle=this._colors.cursor.css,this._strokeRectAtCell(h,g,w.getWidth(),1),this._ctx.restore()},c([f(5,m.IBufferService),f(6,m.IOptionsService),f(7,m.ICoreService),f(8,p.ICoreBrowserService)],u)}(_.BaseRenderLayer);n.CursorRenderLayer=d;var l=function(){function a(u,h){this._renderCallback=h,this.isCursorVisible=!0,u&&this._restartInterval()}return Object.defineProperty(a.prototype,"isPaused",{get:function(){return!(this._blinkStartTimeout||this._blinkInterval)},enumerable:!1,configurable:!0}),a.prototype.dispose=function(){this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},a.prototype.restartBlinkAnimation=function(){var u=this;this.isPaused||(this._animationTimeRestarted=Date.now(),this.isCursorVisible=!0,this._animationFrame||(this._animationFrame=window.requestAnimationFrame(function(){u._renderCallback(),u._animationFrame=void 0})))},a.prototype._restartInterval=function(u){var h=this;u===void 0&&(u=v),this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout=window.setTimeout(function(){if(h._animationTimeRestarted){var g=v-(Date.now()-h._animationTimeRestarted);if(h._animationTimeRestarted=void 0,g>0)return void h._restartInterval(g)}h.isCursorVisible=!1,h._animationFrame=window.requestAnimationFrame(function(){h._renderCallback(),h._animationFrame=void 0}),h._blinkInterval=window.setInterval(function(){if(h._animationTimeRestarted){var w=v-(Date.now()-h._animationTimeRestarted);return h._animationTimeRestarted=void 0,void h._restartInterval(w)}h.isCursorVisible=!h.isCursorVisible,h._animationFrame=window.requestAnimationFrame(function(){h._renderCallback(),h._animationFrame=void 0})},v)},u)},a.prototype.pause=function(){this.isCursorVisible=!0,this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},a.prototype.resume=function(){this.pause(),this._animationTimeRestarted=void 0,this._restartInterval(),this.restartBlinkAnimation()},a}()},8978:(r,n,i)=>{var o,s,c,f,_,y,m,p,v,d,l,a,u,h,g,w,x,C,k,S,b,O,E,B,A,L,I,D,j,z,V,oe,re,xe,M,W,R,N,P,Q,ne,se,Re,Ge,cr,Z,dt,Vt,yr,xi,Gc,Kc,Xc,Yc,Jc,Zc,Qc,ef,tf,rf,nf,of,Da,Ba,Na,ja,Fa,Ha,Ua,qa,Wa,za,Va,$a,Ga,Ka,Xa,Ya,Ja,Za,Qa,eu,tu,ru,nu,iu,ou,su,au,uu,lu,cu,fu,pu,du,hu,mu,_u,vu,gu,yu,wu,xu,Su,bu,Cu,ku,Eu,Lu,Ou,Tu,Iu,sf,af,uf,lf,cf,ff,pf,df,hf,mf,_f,vf,gf,yf,wf,xf;Object.defineProperty(n,"__esModule",{value:!0}),n.tryDrawCustomChar=n.boxDrawingDefinitions=n.blockElementDefinitions=void 0;var Lm=i(1752);n.blockElementDefinitions={"\u2580":[{x:0,y:0,w:8,h:4}],"\u2581":[{x:0,y:7,w:8,h:1}],"\u2582":[{x:0,y:6,w:8,h:2}],"\u2583":[{x:0,y:5,w:8,h:3}],"\u2584":[{x:0,y:4,w:8,h:4}],"\u2585":[{x:0,y:3,w:8,h:5}],"\u2586":[{x:0,y:2,w:8,h:6}],"\u2587":[{x:0,y:1,w:8,h:7}],"\u2588":[{x:0,y:0,w:8,h:8}],"\u2589":[{x:0,y:0,w:7,h:8}],"\u258A":[{x:0,y:0,w:6,h:8}],"\u258B":[{x:0,y:0,w:5,h:8}],"\u258C":[{x:0,y:0,w:4,h:8}],"\u258D":[{x:0,y:0,w:3,h:8}],"\u258E":[{x:0,y:0,w:2,h:8}],"\u258F":[{x:0,y:0,w:1,h:8}],"\u2590":[{x:4,y:0,w:4,h:8}],"\u2594":[{x:0,y:0,w:9,h:1}],"\u2595":[{x:7,y:0,w:1,h:8}],"\u2596":[{x:0,y:4,w:4,h:4}],"\u2597":[{x:4,y:4,w:4,h:4}],"\u2598":[{x:0,y:0,w:4,h:4}],"\u2599":[{x:0,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"\u259A":[{x:0,y:0,w:4,h:4},{x:4,y:4,w:4,h:4}],"\u259B":[{x:0,y:0,w:4,h:8},{x:0,y:0,w:4,h:8}],"\u259C":[{x:0,y:0,w:8,h:4},{x:4,y:0,w:4,h:8}],"\u259D":[{x:4,y:0,w:4,h:4}],"\u259E":[{x:4,y:0,w:4,h:4},{x:0,y:4,w:4,h:4}],"\u259F":[{x:4,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"\u{1FB70}":[{x:1,y:0,w:1,h:8}],"\u{1FB71}":[{x:2,y:0,w:1,h:8}],"\u{1FB72}":[{x:3,y:0,w:1,h:8}],"\u{1FB73}":[{x:4,y:0,w:1,h:8}],"\u{1FB74}":[{x:5,y:0,w:1,h:8}],"\u{1FB75}":[{x:6,y:0,w:1,h:8}],"\u{1FB76}":[{x:0,y:1,w:8,h:1}],"\u{1FB77}":[{x:0,y:2,w:8,h:1}],"\u{1FB78}":[{x:0,y:3,w:8,h:1}],"\u{1FB79}":[{x:0,y:4,w:8,h:1}],"\u{1FB7A}":[{x:0,y:5,w:8,h:1}],"\u{1FB7B}":[{x:0,y:6,w:8,h:1}],"\u{1FB7C}":[{x:0,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"\u{1FB7D}":[{x:0,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"\u{1FB7E}":[{x:7,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"\u{1FB7F}":[{x:7,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"\u{1FB80}":[{x:0,y:0,w:8,h:1},{x:0,y:7,w:8,h:1}],"\u{1FB81}":[{x:0,y:0,w:8,h:1},{x:0,y:2,w:8,h:1},{x:0,y:4,w:8,h:1},{x:0,y:7,w:8,h:1}],"\u{1FB82}":[{x:0,y:0,w:8,h:2}],"\u{1FB83}":[{x:0,y:0,w:8,h:3}],"\u{1FB84}":[{x:0,y:0,w:8,h:5}],"\u{1FB85}":[{x:0,y:0,w:8,h:6}],"\u{1FB86}":[{x:0,y:0,w:8,h:7}],"\u{1FB87}":[{x:6,y:0,w:2,h:8}],"\u{1FB88}":[{x:5,y:0,w:3,h:8}],"\u{1FB89}":[{x:3,y:0,w:5,h:8}],"\u{1FB8A}":[{x:2,y:0,w:6,h:8}],"\u{1FB8B}":[{x:1,y:0,w:7,h:8}],"\u{1FB95}":[{x:0,y:0,w:2,h:2},{x:4,y:0,w:2,h:2},{x:2,y:2,w:2,h:2},{x:6,y:2,w:2,h:2},{x:0,y:4,w:2,h:2},{x:4,y:4,w:2,h:2},{x:2,y:6,w:2,h:2},{x:6,y:6,w:2,h:2}],"\u{1FB96}":[{x:2,y:0,w:2,h:2},{x:6,y:0,w:2,h:2},{x:0,y:2,w:2,h:2},{x:4,y:2,w:2,h:2},{x:2,y:4,w:2,h:2},{x:6,y:4,w:2,h:2},{x:0,y:6,w:2,h:2},{x:4,y:6,w:2,h:2}],"\u{1FB97}":[{x:0,y:2,w:8,h:2},{x:0,y:6,w:8,h:2}]};var C1={"\u2591":[[1,0,0,0],[0,0,0,0],[0,0,1,0],[0,0,0,0]],"\u2592":[[1,0],[0,0],[0,1],[0,0]],"\u2593":[[0,1],[1,1],[1,0],[1,1]]};n.boxDrawingDefinitions={"\u2500":(o={},o[1]="M0,.5 L1,.5",o),"\u2501":(s={},s[3]="M0,.5 L1,.5",s),"\u2502":(c={},c[1]="M.5,0 L.5,1",c),"\u2503":(f={},f[3]="M.5,0 L.5,1",f),"\u250C":(_={},_[1]="M0.5,1 L.5,.5 L1,.5",_),"\u250F":(y={},y[3]="M0.5,1 L.5,.5 L1,.5",y),"\u2510":(m={},m[1]="M0,.5 L.5,.5 L.5,1",m),"\u2513":(p={},p[3]="M0,.5 L.5,.5 L.5,1",p),"\u2514":(v={},v[1]="M.5,0 L.5,.5 L1,.5",v),"\u2517":(d={},d[3]="M.5,0 L.5,.5 L1,.5",d),"\u2518":(l={},l[1]="M.5,0 L.5,.5 L0,.5",l),"\u251B":(a={},a[3]="M.5,0 L.5,.5 L0,.5",a),"\u251C":(u={},u[1]="M.5,0 L.5,1 M.5,.5 L1,.5",u),"\u2523":(h={},h[3]="M.5,0 L.5,1 M.5,.5 L1,.5",h),"\u2524":(g={},g[1]="M.5,0 L.5,1 M.5,.5 L0,.5",g),"\u252B":(w={},w[3]="M.5,0 L.5,1 M.5,.5 L0,.5",w),"\u252C":(x={},x[1]="M0,.5 L1,.5 M.5,.5 L.5,1",x),"\u2533":(C={},C[3]="M0,.5 L1,.5 M.5,.5 L.5,1",C),"\u2534":(k={},k[1]="M0,.5 L1,.5 M.5,.5 L.5,0",k),"\u253B":(S={},S[3]="M0,.5 L1,.5 M.5,.5 L.5,0",S),"\u253C":(b={},b[1]="M0,.5 L1,.5 M.5,0 L.5,1",b),"\u254B":(O={},O[3]="M0,.5 L1,.5 M.5,0 L.5,1",O),"\u2574":(E={},E[1]="M.5,.5 L0,.5",E),"\u2578":(B={},B[3]="M.5,.5 L0,.5",B),"\u2575":(A={},A[1]="M.5,.5 L.5,0",A),"\u2579":(L={},L[3]="M.5,.5 L.5,0",L),"\u2576":(I={},I[1]="M.5,.5 L1,.5",I),"\u257A":(D={},D[3]="M.5,.5 L1,.5",D),"\u2577":(j={},j[1]="M.5,.5 L.5,1",j),"\u257B":(z={},z[3]="M.5,.5 L.5,1",z),"\u2550":(V={},V[1]=function(U,H){return"M0,"+(.5-H)+" L1,"+(.5-H)+" M0,"+(.5+H)+" L1,"+(.5+H)},V),"\u2551":(oe={},oe[1]=function(U,H){return"M"+(.5-U)+",0 L"+(.5-U)+",1 M"+(.5+U)+",0 L"+(.5+U)+",1"},oe),"\u2552":(re={},re[1]=function(U,H){return"M.5,1 L.5,"+(.5-H)+" L1,"+(.5-H)+" M.5,"+(.5+H)+" L1,"+(.5+H)},re),"\u2553":(xe={},xe[1]=function(U,H){return"M"+(.5-U)+",1 L"+(.5-U)+",.5 L1,.5 M"+(.5+U)+",.5 L"+(.5+U)+",1"},xe),"\u2554":(M={},M[1]=function(U,H){return"M1,"+(.5-H)+" L"+(.5-U)+","+(.5-H)+" L"+(.5-U)+",1 M1,"+(.5+H)+" L"+(.5+U)+","+(.5+H)+" L"+(.5+U)+",1"},M),"\u2555":(W={},W[1]=function(U,H){return"M0,"+(.5-H)+" L.5,"+(.5-H)+" L.5,1 M0,"+(.5+H)+" L.5,"+(.5+H)},W),"\u2556":(R={},R[1]=function(U,H){return"M"+(.5+U)+",1 L"+(.5+U)+",.5 L0,.5 M"+(.5-U)+",.5 L"+(.5-U)+",1"},R),"\u2557":(N={},N[1]=function(U,H){return"M0,"+(.5+H)+" L"+(.5-U)+","+(.5+H)+" L"+(.5-U)+",1 M0,"+(.5-H)+" L"+(.5+U)+","+(.5-H)+" L"+(.5+U)+",1"},N),"\u2558":(P={},P[1]=function(U,H){return"M.5,0 L.5,"+(.5+H)+" L1,"+(.5+H)+" M.5,"+(.5-H)+" L1,"+(.5-H)},P),"\u2559":(Q={},Q[1]=function(U,H){return"M1,.5 L"+(.5-U)+",.5 L"+(.5-U)+",0 M"+(.5+U)+",.5 L"+(.5+U)+",0"},Q),"\u255A":(ne={},ne[1]=function(U,H){return"M1,"+(.5-H)+" L"+(.5+U)+","+(.5-H)+" L"+(.5+U)+",0 M1,"+(.5+H)+" L"+(.5-U)+","+(.5+H)+" L"+(.5-U)+",0"},ne),"\u255B":(se={},se[1]=function(U,H){return"M0,"+(.5+H)+" L.5,"+(.5+H)+" L.5,0 M0,"+(.5-H)+" L.5,"+(.5-H)},se),"\u255C":(Re={},Re[1]=function(U,H){return"M0,.5 L"+(.5+U)+",.5 L"+(.5+U)+",0 M"+(.5-U)+",.5 L"+(.5-U)+",0"},Re),"\u255D":(Ge={},Ge[1]=function(U,H){return"M0,"+(.5-H)+" L"+(.5-U)+","+(.5-H)+" L"+(.5-U)+",0 M0,"+(.5+H)+" L"+(.5+U)+","+(.5+H)+" L"+(.5+U)+",0"},Ge),"\u255E":(cr={},cr[1]=function(U,H){return"M.5,0 L.5,1 M.5,"+(.5-H)+" L1,"+(.5-H)+" M.5,"+(.5+H)+" L1,"+(.5+H)},cr),"\u255F":(Z={},Z[1]=function(U,H){return"M"+(.5-U)+",0 L"+(.5-U)+",1 M"+(.5+U)+",0 L"+(.5+U)+",1 M"+(.5+U)+",.5 L1,.5"},Z),"\u2560":(dt={},dt[1]=function(U,H){return"M"+(.5-U)+",0 L"+(.5-U)+",1 M1,"+(.5+H)+" L"+(.5+U)+","+(.5+H)+" L"+(.5+U)+",1 M1,"+(.5-H)+" L"+(.5+U)+","+(.5-H)+" L"+(.5+U)+",0"},dt),"\u2561":(Vt={},Vt[1]=function(U,H){return"M.5,0 L.5,1 M0,"+(.5-H)+" L.5,"+(.5-H)+" M0,"+(.5+H)+" L.5,"+(.5+H)},Vt),"\u2562":(yr={},yr[1]=function(U,H){return"M0,.5 L"+(.5-U)+",.5 M"+(.5-U)+",0 L"+(.5-U)+",1 M"+(.5+U)+",0 L"+(.5+U)+",1"},yr),"\u2563":(xi={},xi[1]=function(U,H){return"M"+(.5+U)+",0 L"+(.5+U)+",1 M0,"+(.5+H)+" L"+(.5-U)+","+(.5+H)+" L"+(.5-U)+",1 M0,"+(.5-H)+" L"+(.5-U)+","+(.5-H)+" L"+(.5-U)+",0"},xi),"\u2564":(Gc={},Gc[1]=function(U,H){return"M0,"+(.5-H)+" L1,"+(.5-H)+" M0,"+(.5+H)+" L1,"+(.5+H)+" M.5,"+(.5+H)+" L.5,1"},Gc),"\u2565":(Kc={},Kc[1]=function(U,H){return"M0,.5 L1,.5 M"+(.5-U)+",.5 L"+(.5-U)+",1 M"+(.5+U)+",.5 L"+(.5+U)+",1"},Kc),"\u2566":(Xc={},Xc[1]=function(U,H){return"M0,"+(.5-H)+" L1,"+(.5-H)+" M0,"+(.5+H)+" L"+(.5-U)+","+(.5+H)+" L"+(.5-U)+",1 M1,"+(.5+H)+" L"+(.5+U)+","+(.5+H)+" L"+(.5+U)+",1"},Xc),"\u2567":(Yc={},Yc[1]=function(U,H){return"M.5,0 L.5,"+(.5-H)+" M0,"+(.5-H)+" L1,"+(.5-H)+" M0,"+(.5+H)+" L1,"+(.5+H)},Yc),"\u2568":(Jc={},Jc[1]=function(U,H){return"M0,.5 L1,.5 M"+(.5-U)+",.5 L"+(.5-U)+",0 M"+(.5+U)+",.5 L"+(.5+U)+",0"},Jc),"\u2569":(Zc={},Zc[1]=function(U,H){return"M0,"+(.5+H)+" L1,"+(.5+H)+" M0,"+(.5-H)+" L"+(.5-U)+","+(.5-H)+" L"+(.5-U)+",0 M1,"+(.5-H)+" L"+(.5+U)+","+(.5-H)+" L"+(.5+U)+",0"},Zc),"\u256A":(Qc={},Qc[1]=function(U,H){return"M.5,0 L.5,1 M0,"+(.5-H)+" L1,"+(.5-H)+" M0,"+(.5+H)+" L1,"+(.5+H)},Qc),"\u256B":(ef={},ef[1]=function(U,H){return"M0,.5 L1,.5 M"+(.5-U)+",0 L"+(.5-U)+",1 M"+(.5+U)+",0 L"+(.5+U)+",1"},ef),"\u256C":(tf={},tf[1]=function(U,H){return"M0,"+(.5+H)+" L"+(.5-U)+","+(.5+H)+" L"+(.5-U)+",1 M1,"+(.5+H)+" L"+(.5+U)+","+(.5+H)+" L"+(.5+U)+",1 M0,"+(.5-H)+" L"+(.5-U)+","+(.5-H)+" L"+(.5-U)+",0 M1,"+(.5-H)+" L"+(.5+U)+","+(.5-H)+" L"+(.5+U)+",0"},tf),"\u2571":(rf={},rf[1]="M1,0 L0,1",rf),"\u2572":(nf={},nf[1]="M0,0 L1,1",nf),"\u2573":(of={},of[1]="M1,0 L0,1 M0,0 L1,1",of),"\u257C":(Da={},Da[1]="M.5,.5 L0,.5",Da[3]="M.5,.5 L1,.5",Da),"\u257D":(Ba={},Ba[1]="M.5,.5 L.5,0",Ba[3]="M.5,.5 L.5,1",Ba),"\u257E":(Na={},Na[1]="M.5,.5 L1,.5",Na[3]="M.5,.5 L0,.5",Na),"\u257F":(ja={},ja[1]="M.5,.5 L.5,1",ja[3]="M.5,.5 L.5,0",ja),"\u250D":(Fa={},Fa[1]="M.5,.5 L.5,1",Fa[3]="M.5,.5 L1,.5",Fa),"\u250E":(Ha={},Ha[1]="M.5,.5 L1,.5",Ha[3]="M.5,.5 L.5,1",Ha),"\u2511":(Ua={},Ua[1]="M.5,.5 L.5,1",Ua[3]="M.5,.5 L0,.5",Ua),"\u2512":(qa={},qa[1]="M.5,.5 L0,.5",qa[3]="M.5,.5 L.5,1",qa),"\u2515":(Wa={},Wa[1]="M.5,.5 L.5,0",Wa[3]="M.5,.5 L1,.5",Wa),"\u2516":(za={},za[1]="M.5,.5 L1,.5",za[3]="M.5,.5 L.5,0",za),"\u2519":(Va={},Va[1]="M.5,.5 L.5,0",Va[3]="M.5,.5 L0,.5",Va),"\u251A":($a={},$a[1]="M.5,.5 L0,.5",$a[3]="M.5,.5 L.5,0",$a),"\u251D":(Ga={},Ga[1]="M.5,0 L.5,1",Ga[3]="M.5,.5 L1,.5",Ga),"\u251E":(Ka={},Ka[1]="M0.5,1 L.5,.5 L1,.5",Ka[3]="M.5,.5 L.5,0",Ka),"\u251F":(Xa={},Xa[1]="M.5,0 L.5,.5 L1,.5",Xa[3]="M.5,.5 L.5,1",Xa),"\u2520":(Ya={},Ya[1]="M.5,.5 L1,.5",Ya[3]="M.5,0 L.5,1",Ya),"\u2521":(Ja={},Ja[1]="M.5,.5 L.5,1",Ja[3]="M.5,0 L.5,.5 L1,.5",Ja),"\u2522":(Za={},Za[1]="M.5,.5 L.5,0",Za[3]="M0.5,1 L.5,.5 L1,.5",Za),"\u2525":(Qa={},Qa[1]="M.5,0 L.5,1",Qa[3]="M.5,.5 L0,.5",Qa),"\u2526":(eu={},eu[1]="M0,.5 L.5,.5 L.5,1",eu[3]="M.5,.5 L.5,0",eu),"\u2527":(tu={},tu[1]="M.5,0 L.5,.5 L0,.5",tu[3]="M.5,.5 L.5,1",tu),"\u2528":(ru={},ru[1]="M.5,.5 L0,.5",ru[3]="M.5,0 L.5,1",ru),"\u2529":(nu={},nu[1]="M.5,.5 L.5,1",nu[3]="M.5,0 L.5,.5 L0,.5",nu),"\u252A":(iu={},iu[1]="M.5,.5 L.5,0",iu[3]="M0,.5 L.5,.5 L.5,1",iu),"\u252D":(ou={},ou[1]="M0.5,1 L.5,.5 L1,.5",ou[3]="M.5,.5 L0,.5",ou),"\u252E":(su={},su[1]="M0,.5 L.5,.5 L.5,1",su[3]="M.5,.5 L1,.5",su),"\u252F":(au={},au[1]="M.5,.5 L.5,1",au[3]="M0,.5 L1,.5",au),"\u2530":(uu={},uu[1]="M0,.5 L1,.5",uu[3]="M.5,.5 L.5,1",uu),"\u2531":(lu={},lu[1]="M.5,.5 L1,.5",lu[3]="M0,.5 L.5,.5 L.5,1",lu),"\u2532":(cu={},cu[1]="M.5,.5 L0,.5",cu[3]="M0.5,1 L.5,.5 L1,.5",cu),"\u2535":(fu={},fu[1]="M.5,0 L.5,.5 L1,.5",fu[3]="M.5,.5 L0,.5",fu),"\u2536":(pu={},pu[1]="M.5,0 L.5,.5 L0,.5",pu[3]="M.5,.5 L1,.5",pu),"\u2537":(du={},du[1]="M.5,.5 L.5,0",du[3]="M0,.5 L1,.5",du),"\u2538":(hu={},hu[1]="M0,.5 L1,.5",hu[3]="M.5,.5 L.5,0",hu),"\u2539":(mu={},mu[1]="M.5,.5 L1,.5",mu[3]="M.5,0 L.5,.5 L0,.5",mu),"\u253A":(_u={},_u[1]="M.5,.5 L0,.5",_u[3]="M.5,0 L.5,.5 L1,.5",_u),"\u253D":(vu={},vu[1]="M.5,0 L.5,1 M.5,.5 L1,.5",vu[3]="M.5,.5 L0,.5",vu),"\u253E":(gu={},gu[1]="M.5,0 L.5,1 M.5,.5 L0,.5",gu[3]="M.5,.5 L1,.5",gu),"\u253F":(yu={},yu[1]="M.5,0 L.5,1",yu[3]="M0,.5 L1,.5",yu),"\u2540":(wu={},wu[1]="M0,.5 L1,.5 M.5,.5 L.5,1",wu[3]="M.5,.5 L.5,0",wu),"\u2541":(xu={},xu[1]="M.5,.5 L.5,0 M0,.5 L1,.5",xu[3]="M.5,.5 L.5,1",xu),"\u2542":(Su={},Su[1]="M0,.5 L1,.5",Su[3]="M.5,0 L.5,1",Su),"\u2543":(bu={},bu[1]="M0.5,1 L.5,.5 L1,.5",bu[3]="M.5,0 L.5,.5 L0,.5",bu),"\u2544":(Cu={},Cu[1]="M0,.5 L.5,.5 L.5,1",Cu[3]="M.5,0 L.5,.5 L1,.5",Cu),"\u2545":(ku={},ku[1]="M.5,0 L.5,.5 L1,.5",ku[3]="M0,.5 L.5,.5 L.5,1",ku),"\u2546":(Eu={},Eu[1]="M.5,0 L.5,.5 L0,.5",Eu[3]="M0.5,1 L.5,.5 L1,.5",Eu),"\u2547":(Lu={},Lu[1]="M.5,.5 L.5,1",Lu[3]="M.5,.5 L.5,0 M0,.5 L1,.5",Lu),"\u2548":(Ou={},Ou[1]="M.5,.5 L.5,0",Ou[3]="M0,.5 L1,.5 M.5,.5 L.5,1",Ou),"\u2549":(Tu={},Tu[1]="M.5,.5 L1,.5",Tu[3]="M.5,0 L.5,1 M.5,.5 L0,.5",Tu),"\u254A":(Iu={},Iu[1]="M.5,.5 L0,.5",Iu[3]="M.5,0 L.5,1 M.5,.5 L1,.5",Iu),"\u254C":(sf={},sf[1]="M.1,.5 L.4,.5 M.6,.5 L.9,.5",sf),"\u254D":(af={},af[3]="M.1,.5 L.4,.5 M.6,.5 L.9,.5",af),"\u2504":(uf={},uf[1]="M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5",uf),"\u2505":(lf={},lf[3]="M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5",lf),"\u2508":(cf={},cf[1]="M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5",cf),"\u2509":(ff={},ff[3]="M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5",ff),"\u254E":(pf={},pf[1]="M.5,.1 L.5,.4 M.5,.6 L.5,.9",pf),"\u254F":(df={},df[3]="M.5,.1 L.5,.4 M.5,.6 L.5,.9",df),"\u2506":(hf={},hf[1]="M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333",hf),"\u2507":(mf={},mf[3]="M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333",mf),"\u250A":(_f={},_f[1]="M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95",_f),"\u250B":(vf={},vf[3]="M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95",vf),"\u256D":(gf={},gf[1]="C.5,1,.5,.5,1,.5",gf),"\u256E":(yf={},yf[1]="C.5,1,.5,.5,0,.5",yf),"\u256F":(wf={},wf[1]="C.5,0,.5,.5,0,.5",wf),"\u2570":(xf={},xf[1]="C.5,0,.5,.5,1,.5",xf)},n.tryDrawCustomChar=function(U,H,wr,Oo,To,tt){var xr=n.blockElementDefinitions[H];if(xr)return function(Tt,br,Mo,Ao,Si,bi){for(var $t=0;$t<br.length;$t++){var Bt=br[$t],Ke=Si/8,jr=bi/8;Tt.fillRect(Mo+Bt.x*Ke,Ao+Bt.y*jr,Bt.w*Ke,Bt.h*jr)}}(U,xr,wr,Oo,To,tt),!0;var Sr=C1[H];if(Sr)return function(Tt,br,Mo,Ao,Si,bi){var $t,Bt=Om.get(br);Bt||(Bt=new Map,Om.set(br,Bt));var Ke=Tt.fillStyle;if(typeof Ke!="string")throw new Error('Unexpected fillStyle type "'+Ke+'"');var jr=Bt.get(Ke);if(!jr){var fr=br[0].length,zn=br.length,Vn=document.createElement("canvas");Vn.width=fr,Vn.height=zn;var Mu=(0,Lm.throwIfFalsy)(Vn.getContext("2d")),tn=new ImageData(fr,zn),Ci=void 0,$n=void 0,Sf=void 0,bf=void 0;if(Ke.startsWith("#"))Ci=parseInt(Ke.substr(1,2),16),$n=parseInt(Ke.substr(3,2),16),Sf=parseInt(Ke.substr(5,2),16),bf=Ke.length>7&&parseInt(Ke.substr(7,2),16)||1;else{if(!Ke.startsWith("rgba"))throw new Error('Unexpected fillStyle color format "'+Ke+'" when drawing pattern glyph');Ci=($t=Ke.substring(5,Ke.length-1).split(",").map(function(L1){return parseFloat(L1)}))[0],$n=$t[1],Sf=$t[2],bf=$t[3]}for(var Gn=0;Gn<zn;Gn++)for(var Kn=0;Kn<fr;Kn++)tn.data[4*(Gn*fr+Kn)]=Ci,tn.data[4*(Gn*fr+Kn)+1]=$n,tn.data[4*(Gn*fr+Kn)+2]=Sf,tn.data[4*(Gn*fr+Kn)+3]=br[Gn][Kn]*(255*bf);Mu.putImageData(tn,0,0),jr=(0,Lm.throwIfFalsy)(Tt.createPattern(Vn,null)),Bt.set(Ke,jr)}Tt.fillStyle=jr,Tt.fillRect(Mo,Ao,Si,bi)}(U,Sr,wr,Oo,To,tt),!0;var Io=n.boxDrawingDefinitions[H];return!!Io&&(function(Tt,br,Mo,Ao,Si,bi){Tt.strokeStyle=Tt.fillStyle;for(var $t=0,Bt=Object.entries(br);$t<Bt.length;$t++){var Ke=Bt[$t],jr=Ke[0],fr=Ke[1];Tt.beginPath(),Tt.lineWidth=window.devicePixelRatio*Number.parseInt(jr);for(var zn=0,Vn=(typeof fr=="function"?fr(.15,.15/bi*Si):fr).split(" ");zn<Vn.length;zn++){var Mu=Vn[zn],tn=Mu[0],Ci=k1[tn];if(Ci){var $n=Mu.substring(1).split(",");$n[0]&&$n[1]&&Ci(Tt,E1($n,Si,bi,Mo,Ao))}else console.error('Could not find drawing instructions for "'+tn+'"')}Tt.stroke(),Tt.closePath()}}(U,Io,wr,Oo,To,tt),!0)};var Om=new Map;function Tm(U,H,wr){return wr===void 0&&(wr=0),Math.max(Math.min(U,H),wr)}var k1={C:function(U,H){return U.bezierCurveTo(H[0],H[1],H[2],H[3],H[4],H[5])},L:function(U,H){return U.lineTo(H[0],H[1])},M:function(U,H){return U.moveTo(H[0],H[1])}};function E1(U,H,wr,Oo,To){var tt=U.map(function(Io){return parseFloat(Io)||parseInt(Io)});if(tt.length<2)throw new Error("Too few arguments for instruction");for(var xr=0;xr<tt.length;xr+=2)tt[xr]*=H,tt[xr]!==0&&(tt[xr]=Tm(Math.round(tt[xr]+.5)-.5,H,0)),tt[xr]+=Oo;for(var Sr=1;Sr<tt.length;Sr+=2)tt[Sr]*=wr,tt[Sr]!==0&&(tt[Sr]=Tm(Math.round(tt[Sr]+.5)-.5,wr,0)),tt[Sr]+=To;return tt}},3700:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.GridCache=void 0;var i=function(){function o(){this.cache=[]}return o.prototype.resize=function(s,c){for(var f=0;f<s;f++){this.cache.length<=f&&this.cache.push([]);for(var _=this.cache[f].length;_<c;_++)this.cache[f].push(void 0);this.cache[f].length=c}this.cache.length=s},o.prototype.clear=function(){for(var s=0;s<this.cache.length;s++)for(var c=0;c<this.cache[s].length;c++)this.cache[s][c]=void 0},o}();n.GridCache=i},5098:function(r,n,i){var o,s=this&&this.__extends||(o=function(d,l){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(a[h]=u[h])},o(d,l)},function(d,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function a(){this.constructor=d}o(d,l),d.prototype=l===null?Object.create(l):(a.prototype=l.prototype,new a)}),c=this&&this.__decorate||function(d,l,a,u){var h,g=arguments.length,w=g<3?l:u===null?u=Object.getOwnPropertyDescriptor(l,a):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(d,l,a,u);else for(var x=d.length-1;x>=0;x--)(h=d[x])&&(w=(g<3?h(w):g>3?h(l,a,w):h(l,a))||w);return g>3&&w&&Object.defineProperty(l,a,w),w},f=this&&this.__param||function(d,l){return function(a,u){l(a,u,d)}};Object.defineProperty(n,"__esModule",{value:!0}),n.LinkRenderLayer=void 0;var _=i(1546),y=i(8803),m=i(2040),p=i(2585),v=function(d){function l(a,u,h,g,w,x,C,k){var S=d.call(this,a,"link",u,!0,h,g,C,k)||this;return w.onShowLinkUnderline(function(b){return S._onShowLinkUnderline(b)}),w.onHideLinkUnderline(function(b){return S._onHideLinkUnderline(b)}),x.onShowLinkUnderline(function(b){return S._onShowLinkUnderline(b)}),x.onHideLinkUnderline(function(b){return S._onHideLinkUnderline(b)}),S}return s(l,d),l.prototype.resize=function(a){d.prototype.resize.call(this,a),this._state=void 0},l.prototype.reset=function(){this._clearCurrentLink()},l.prototype._clearCurrentLink=function(){if(this._state){this._clearCells(this._state.x1,this._state.y1,this._state.cols-this._state.x1,1);var a=this._state.y2-this._state.y1-1;a>0&&this._clearCells(0,this._state.y1+1,this._state.cols,a),this._clearCells(0,this._state.y2,this._state.x2,1),this._state=void 0}},l.prototype._onShowLinkUnderline=function(a){if(a.fg===y.INVERTED_DEFAULT_COLOR?this._ctx.fillStyle=this._colors.background.css:a.fg&&(0,m.is256Color)(a.fg)?this._ctx.fillStyle=this._colors.ansi[a.fg].css:this._ctx.fillStyle=this._colors.foreground.css,a.y1===a.y2)this._fillBottomLineAtCells(a.x1,a.y1,a.x2-a.x1);else{this._fillBottomLineAtCells(a.x1,a.y1,a.cols-a.x1);for(var u=a.y1+1;u<a.y2;u++)this._fillBottomLineAtCells(0,u,a.cols);this._fillBottomLineAtCells(0,a.y2,a.x2)}this._state=a},l.prototype._onHideLinkUnderline=function(a){this._clearCurrentLink()},c([f(6,p.IBufferService),f(7,p.IOptionsService)],l)}(_.BaseRenderLayer);n.LinkRenderLayer=v},3525:function(r,n,i){var o,s=this&&this.__extends||(o=function(w,x){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,k){C.__proto__=k}||function(C,k){for(var S in k)Object.prototype.hasOwnProperty.call(k,S)&&(C[S]=k[S])},o(w,x)},function(w,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");function C(){this.constructor=w}o(w,x),w.prototype=x===null?Object.create(x):(C.prototype=x.prototype,new C)}),c=this&&this.__decorate||function(w,x,C,k){var S,b=arguments.length,O=b<3?x:k===null?k=Object.getOwnPropertyDescriptor(x,C):k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")O=Reflect.decorate(w,x,C,k);else for(var E=w.length-1;E>=0;E--)(S=w[E])&&(O=(b<3?S(O):b>3?S(x,C,O):S(x,C))||O);return b>3&&O&&Object.defineProperty(x,C,O),O},f=this&&this.__param||function(w,x){return function(C,k){x(C,k,w)}};Object.defineProperty(n,"__esModule",{value:!0}),n.Renderer=void 0;var _=i(9596),y=i(4149),m=i(2512),p=i(5098),v=i(844),d=i(4725),l=i(2585),a=i(1420),u=i(8460),h=1,g=function(w){function x(C,k,S,b,O,E,B,A){var L=w.call(this)||this;L._colors=C,L._screenElement=k,L._bufferService=E,L._charSizeService=B,L._optionsService=A,L._id=h++,L._onRequestRedraw=new u.EventEmitter;var I=L._optionsService.rawOptions.allowTransparency;return L._renderLayers=[O.createInstance(_.TextRenderLayer,L._screenElement,0,L._colors,I,L._id),O.createInstance(y.SelectionRenderLayer,L._screenElement,1,L._colors,L._id),O.createInstance(p.LinkRenderLayer,L._screenElement,2,L._colors,L._id,S,b),O.createInstance(m.CursorRenderLayer,L._screenElement,3,L._colors,L._id,L._onRequestRedraw)],L.dimensions={scaledCharWidth:0,scaledCharHeight:0,scaledCellWidth:0,scaledCellHeight:0,scaledCharLeft:0,scaledCharTop:0,scaledCanvasWidth:0,scaledCanvasHeight:0,canvasWidth:0,canvasHeight:0,actualCellWidth:0,actualCellHeight:0},L._devicePixelRatio=window.devicePixelRatio,L._updateDimensions(),L.onOptionsChanged(),L}return s(x,w),Object.defineProperty(x.prototype,"onRequestRedraw",{get:function(){return this._onRequestRedraw.event},enumerable:!1,configurable:!0}),x.prototype.dispose=function(){for(var C=0,k=this._renderLayers;C<k.length;C++)k[C].dispose();w.prototype.dispose.call(this),(0,a.removeTerminalFromCache)(this._id)},x.prototype.onDevicePixelRatioChange=function(){this._devicePixelRatio!==window.devicePixelRatio&&(this._devicePixelRatio=window.devicePixelRatio,this.onResize(this._bufferService.cols,this._bufferService.rows))},x.prototype.setColors=function(C){this._colors=C;for(var k=0,S=this._renderLayers;k<S.length;k++){var b=S[k];b.setColors(this._colors),b.reset()}},x.prototype.onResize=function(C,k){this._updateDimensions();for(var S=0,b=this._renderLayers;S<b.length;S++)b[S].resize(this.dimensions);this._screenElement.style.width=this.dimensions.canvasWidth+"px",this._screenElement.style.height=this.dimensions.canvasHeight+"px"},x.prototype.onCharSizeChanged=function(){this.onResize(this._bufferService.cols,this._bufferService.rows)},x.prototype.onBlur=function(){this._runOperation(function(C){return C.onBlur()})},x.prototype.onFocus=function(){this._runOperation(function(C){return C.onFocus()})},x.prototype.onSelectionChanged=function(C,k,S){S===void 0&&(S=!1),this._runOperation(function(b){return b.onSelectionChanged(C,k,S)})},x.prototype.onCursorMove=function(){this._runOperation(function(C){return C.onCursorMove()})},x.prototype.onOptionsChanged=function(){this._runOperation(function(C){return C.onOptionsChanged()})},x.prototype.clear=function(){this._runOperation(function(C){return C.reset()})},x.prototype._runOperation=function(C){for(var k=0,S=this._renderLayers;k<S.length;k++)C(S[k])},x.prototype.renderRows=function(C,k){for(var S=0,b=this._renderLayers;S<b.length;S++)b[S].onGridChanged(C,k)},x.prototype.clearTextureAtlas=function(){for(var C=0,k=this._renderLayers;C<k.length;C++)k[C].clearTextureAtlas()},x.prototype._updateDimensions=function(){this._charSizeService.hasValidSize&&(this.dimensions.scaledCharWidth=Math.floor(this._charSizeService.width*window.devicePixelRatio),this.dimensions.scaledCharHeight=Math.ceil(this._charSizeService.height*window.devicePixelRatio),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._optionsService.rawOptions.lineHeight),this.dimensions.scaledCharTop=this._optionsService.rawOptions.lineHeight===1?0:Math.round((this.dimensions.scaledCellHeight-this.dimensions.scaledCharHeight)/2),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.scaledCharLeft=Math.floor(this._optionsService.rawOptions.letterSpacing/2),this.dimensions.scaledCanvasHeight=this._bufferService.rows*this.dimensions.scaledCellHeight,this.dimensions.scaledCanvasWidth=this._bufferService.cols*this.dimensions.scaledCellWidth,this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._bufferService.rows,this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._bufferService.cols)},c([f(4,l.IInstantiationService),f(5,l.IBufferService),f(6,d.ICharSizeService),f(7,l.IOptionsService)],x)}(v.Disposable);n.Renderer=g},1752:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.throwIfFalsy=void 0,n.throwIfFalsy=function(i){if(!i)throw new Error("value must not be falsy");return i}},4149:function(r,n,i){var o,s=this&&this.__extends||(o=function(p,v){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,l){d.__proto__=l}||function(d,l){for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(d[a]=l[a])},o(p,v)},function(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function d(){this.constructor=p}o(p,v),p.prototype=v===null?Object.create(v):(d.prototype=v.prototype,new d)}),c=this&&this.__decorate||function(p,v,d,l){var a,u=arguments.length,h=u<3?v:l===null?l=Object.getOwnPropertyDescriptor(v,d):l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(p,v,d,l);else for(var g=p.length-1;g>=0;g--)(a=p[g])&&(h=(u<3?a(h):u>3?a(v,d,h):a(v,d))||h);return u>3&&h&&Object.defineProperty(v,d,h),h},f=this&&this.__param||function(p,v){return function(d,l){v(d,l,p)}};Object.defineProperty(n,"__esModule",{value:!0}),n.SelectionRenderLayer=void 0;var _=i(1546),y=i(2585),m=function(p){function v(d,l,a,u,h,g){var w=p.call(this,d,"selection",l,!0,a,u,h,g)||this;return w._clearState(),w}return s(v,p),v.prototype._clearState=function(){this._state={start:void 0,end:void 0,columnSelectMode:void 0,ydisp:void 0}},v.prototype.resize=function(d){p.prototype.resize.call(this,d),this._clearState()},v.prototype.reset=function(){this._state.start&&this._state.end&&(this._clearState(),this._clearAll())},v.prototype.onSelectionChanged=function(d,l,a){if(this._didStateChange(d,l,a,this._bufferService.buffer.ydisp))if(this._clearAll(),d&&l){var u=d[1]-this._bufferService.buffer.ydisp,h=l[1]-this._bufferService.buffer.ydisp,g=Math.max(u,0),w=Math.min(h,this._bufferService.rows-1);if(g>=this._bufferService.rows||w<0)this._state.ydisp=this._bufferService.buffer.ydisp;else{if(this._ctx.fillStyle=this._colors.selectionTransparent.css,a){var x=d[0],C=l[0]-x,k=w-g+1;this._fillCells(x,g,C,k)}else{x=u===g?d[0]:0;var S=g===h?l[0]:this._bufferService.cols;this._fillCells(x,g,S-x,1);var b=Math.max(w-g-1,0);if(this._fillCells(0,g+1,this._bufferService.cols,b),g!==w){var O=h===w?l[0]:this._bufferService.cols;this._fillCells(0,w,O,1)}}this._state.start=[d[0],d[1]],this._state.end=[l[0],l[1]],this._state.columnSelectMode=a,this._state.ydisp=this._bufferService.buffer.ydisp}}else this._clearState()},v.prototype._didStateChange=function(d,l,a,u){return!this._areCoordinatesEqual(d,this._state.start)||!this._areCoordinatesEqual(l,this._state.end)||a!==this._state.columnSelectMode||u!==this._state.ydisp},v.prototype._areCoordinatesEqual=function(d,l){return!(!d||!l)&&d[0]===l[0]&&d[1]===l[1]},c([f(4,y.IBufferService),f(5,y.IOptionsService)],v)}(_.BaseRenderLayer);n.SelectionRenderLayer=m},9596:function(r,n,i){var o,s=this&&this.__extends||(o=function(h,g){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,x){w.__proto__=x}||function(w,x){for(var C in x)Object.prototype.hasOwnProperty.call(x,C)&&(w[C]=x[C])},o(h,g)},function(h,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function w(){this.constructor=h}o(h,g),h.prototype=g===null?Object.create(g):(w.prototype=g.prototype,new w)}),c=this&&this.__decorate||function(h,g,w,x){var C,k=arguments.length,S=k<3?g:x===null?x=Object.getOwnPropertyDescriptor(g,w):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(h,g,w,x);else for(var b=h.length-1;b>=0;b--)(C=h[b])&&(S=(k<3?C(S):k>3?C(g,w,S):C(g,w))||S);return k>3&&S&&Object.defineProperty(g,w,S),S},f=this&&this.__param||function(h,g){return function(w,x){g(w,x,h)}};Object.defineProperty(n,"__esModule",{value:!0}),n.TextRenderLayer=void 0;var _=i(3700),y=i(1546),m=i(3734),p=i(643),v=i(511),d=i(2585),l=i(4725),a=i(4269),u=function(h){function g(w,x,C,k,S,b,O,E){var B=h.call(this,w,"text",x,k,C,S,b,O)||this;return B._characterJoinerService=E,B._characterWidth=0,B._characterFont="",B._characterOverlapCache={},B._workCell=new v.CellData,B._state=new _.GridCache,B}return s(g,h),g.prototype.resize=function(w){h.prototype.resize.call(this,w);var x=this._getFont(!1,!1);this._characterWidth===w.scaledCharWidth&&this._characterFont===x||(this._characterWidth=w.scaledCharWidth,this._characterFont=x,this._characterOverlapCache={}),this._state.clear(),this._state.resize(this._bufferService.cols,this._bufferService.rows)},g.prototype.reset=function(){this._state.clear(),this._clearAll()},g.prototype._forEachCell=function(w,x,C){for(var k=w;k<=x;k++)for(var S=k+this._bufferService.buffer.ydisp,b=this._bufferService.buffer.lines.get(S),O=this._characterJoinerService.getJoinedCharacters(S),E=0;E<this._bufferService.cols;E++){b.loadCell(E,this._workCell);var B=this._workCell,A=!1,L=E;if(B.getWidth()!==0){if(O.length>0&&E===O[0][0]){A=!0;var I=O.shift();B=new a.JoinedCellData(this._workCell,b.translateToString(!0,I[0],I[1]),I[1]-I[0]),L=I[1]-1}!A&&this._isOverlapping(B)&&L<b.length-1&&b.getCodePoint(L+1)===p.NULL_CELL_CODE&&(B.content&=-12582913,B.content|=2<<22),C(B,E,k),E=L}}},g.prototype._drawBackground=function(w,x){var C=this,k=this._ctx,S=this._bufferService.cols,b=0,O=0,E=null;k.save(),this._forEachCell(w,x,function(B,A,L){var I=null;B.isInverse()?I=B.isFgDefault()?C._colors.foreground.css:B.isFgRGB()?"rgb("+m.AttributeData.toColorRGB(B.getFgColor()).join(",")+")":C._colors.ansi[B.getFgColor()].css:B.isBgRGB()?I="rgb("+m.AttributeData.toColorRGB(B.getBgColor()).join(",")+")":B.isBgPalette()&&(I=C._colors.ansi[B.getBgColor()].css),E===null&&(b=A,O=L),L!==O?(k.fillStyle=E||"",C._fillCells(b,O,S-b,1),b=A,O=L):E!==I&&(k.fillStyle=E||"",C._fillCells(b,O,A-b,1),b=A,O=L),E=I}),E!==null&&(k.fillStyle=E,this._fillCells(b,O,S-b,1)),k.restore()},g.prototype._drawForeground=function(w,x){var C=this;this._forEachCell(w,x,function(k,S,b){if(!k.isInvisible()&&(C._drawChars(k,S,b),k.isUnderline()||k.isStrikethrough())){if(C._ctx.save(),k.isInverse())if(k.isBgDefault())C._ctx.fillStyle=C._colors.background.css;else if(k.isBgRGB())C._ctx.fillStyle="rgb("+m.AttributeData.toColorRGB(k.getBgColor()).join(",")+")";else{var O=k.getBgColor();C._optionsService.rawOptions.drawBoldTextInBrightColors&&k.isBold()&&O<8&&(O+=8),C._ctx.fillStyle=C._colors.ansi[O].css}else if(k.isFgDefault())C._ctx.fillStyle=C._colors.foreground.css;else if(k.isFgRGB())C._ctx.fillStyle="rgb("+m.AttributeData.toColorRGB(k.getFgColor()).join(",")+")";else{var E=k.getFgColor();C._optionsService.rawOptions.drawBoldTextInBrightColors&&k.isBold()&&E<8&&(E+=8),C._ctx.fillStyle=C._colors.ansi[E].css}k.isStrikethrough()&&C._fillMiddleLineAtCells(S,b,k.getWidth()),k.isUnderline()&&C._fillBottomLineAtCells(S,b,k.getWidth()),C._ctx.restore()}})},g.prototype.onGridChanged=function(w,x){this._state.cache.length!==0&&(this._charAtlas&&this._charAtlas.beginFrame(),this._clearCells(0,w,this._bufferService.cols,x-w+1),this._drawBackground(w,x),this._drawForeground(w,x))},g.prototype.onOptionsChanged=function(){this._setTransparency(this._optionsService.rawOptions.allowTransparency)},g.prototype._isOverlapping=function(w){if(w.getWidth()!==1||w.getCode()<256)return!1;var x=w.getChars();if(this._characterOverlapCache.hasOwnProperty(x))return this._characterOverlapCache[x];this._ctx.save(),this._ctx.font=this._characterFont;var C=Math.floor(this._ctx.measureText(x).width)>this._characterWidth;return this._ctx.restore(),this._characterOverlapCache[x]=C,C},c([f(5,d.IBufferService),f(6,d.IOptionsService),f(7,l.ICharacterJoinerService)],g)}(y.BaseRenderLayer);n.TextRenderLayer=u},9616:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BaseCharAtlas=void 0;var i=function(){function o(){this._didWarmUp=!1}return o.prototype.dispose=function(){},o.prototype.warmUp=function(){this._didWarmUp||(this._doWarmUp(),this._didWarmUp=!0)},o.prototype._doWarmUp=function(){},o.prototype.clear=function(){},o.prototype.beginFrame=function(){},o}();n.BaseCharAtlas=i},1420:(r,n,i)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.removeTerminalFromCache=n.acquireCharAtlas=void 0;var o=i(2040),s=i(1906),c=[];n.acquireCharAtlas=function(f,_,y,m,p){for(var v=(0,o.generateConfig)(m,p,f,y),d=0;d<c.length;d++){var l=(a=c[d]).ownedBy.indexOf(_);if(l>=0){if((0,o.configEquals)(a.config,v))return a.atlas;a.ownedBy.length===1?(a.atlas.dispose(),c.splice(d,1)):a.ownedBy.splice(l,1);break}}for(d=0;d<c.length;d++){var a=c[d];if((0,o.configEquals)(a.config,v))return a.ownedBy.push(_),a.atlas}var u={atlas:new s.DynamicCharAtlas(document,v),config:v,ownedBy:[_]};return c.push(u),u.atlas},n.removeTerminalFromCache=function(f){for(var _=0;_<c.length;_++){var y=c[_].ownedBy.indexOf(f);if(y!==-1){c[_].ownedBy.length===1?(c[_].atlas.dispose(),c.splice(_,1)):c[_].ownedBy.splice(y,1);break}}}},2040:function(r,n,i){var o=this&&this.__spreadArray||function(c,f,_){if(_||arguments.length===2)for(var y,m=0,p=f.length;m<p;m++)!y&&m in f||(y||(y=Array.prototype.slice.call(f,0,m)),y[m]=f[m]);return c.concat(y||Array.prototype.slice.call(f))};Object.defineProperty(n,"__esModule",{value:!0}),n.is256Color=n.configEquals=n.generateConfig=void 0;var s=i(643);n.generateConfig=function(c,f,_,y){var m={foreground:y.foreground,background:y.background,cursor:void 0,cursorAccent:void 0,selection:void 0,ansi:o([],y.ansi,!0)};return{devicePixelRatio:window.devicePixelRatio,scaledCharWidth:c,scaledCharHeight:f,fontFamily:_.fontFamily,fontSize:_.fontSize,fontWeight:_.fontWeight,fontWeightBold:_.fontWeightBold,allowTransparency:_.allowTransparency,colors:m}},n.configEquals=function(c,f){for(var _=0;_<c.colors.ansi.length;_++)if(c.colors.ansi[_].rgba!==f.colors.ansi[_].rgba)return!1;return c.devicePixelRatio===f.devicePixelRatio&&c.fontFamily===f.fontFamily&&c.fontSize===f.fontSize&&c.fontWeight===f.fontWeight&&c.fontWeightBold===f.fontWeightBold&&c.allowTransparency===f.allowTransparency&&c.scaledCharWidth===f.scaledCharWidth&&c.scaledCharHeight===f.scaledCharHeight&&c.colors.foreground===f.colors.foreground&&c.colors.background===f.colors.background},n.is256Color=function(c){return c<s.DEFAULT_COLOR}},8803:(r,n,i)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CHAR_ATLAS_CELL_SPACING=n.TEXT_BASELINE=n.DIM_OPACITY=n.INVERTED_DEFAULT_COLOR=void 0;var o=i(6114);n.INVERTED_DEFAULT_COLOR=257,n.DIM_OPACITY=.5,n.TEXT_BASELINE=o.isFirefox||o.isLegacyEdge?"bottom":"ideographic",n.CHAR_ATLAS_CELL_SPACING=1},1906:function(r,n,i){var o,s=this&&this.__extends||(o=function(x,C){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,S){k.__proto__=S}||function(k,S){for(var b in S)Object.prototype.hasOwnProperty.call(S,b)&&(k[b]=S[b])},o(x,C)},function(x,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function k(){this.constructor=x}o(x,C),x.prototype=C===null?Object.create(C):(k.prototype=C.prototype,new k)});Object.defineProperty(n,"__esModule",{value:!0}),n.NoneCharAtlas=n.DynamicCharAtlas=n.getGlyphCacheKey=void 0;var c=i(8803),f=i(9616),_=i(5680),y=i(7001),m=i(6114),p=i(1752),v=i(4774),d=1024,l=1024,a={css:"rgba(0, 0, 0, 0)",rgba:0};function u(x){return x.code<<21|x.bg<<12|x.fg<<3|(x.bold?0:4)+(x.dim?0:2)+(x.italic?0:1)}n.getGlyphCacheKey=u;var h=function(x){function C(k,S){var b=x.call(this)||this;b._config=S,b._drawToCacheCount=0,b._glyphsWaitingOnBitmap=[],b._bitmapCommitTimeout=null,b._bitmap=null,b._cacheCanvas=k.createElement("canvas"),b._cacheCanvas.width=d,b._cacheCanvas.height=l,b._cacheCtx=(0,p.throwIfFalsy)(b._cacheCanvas.getContext("2d",{alpha:!0}));var O=k.createElement("canvas");O.width=b._config.scaledCharWidth,O.height=b._config.scaledCharHeight,b._tmpCtx=(0,p.throwIfFalsy)(O.getContext("2d",{alpha:b._config.allowTransparency})),b._width=Math.floor(d/b._config.scaledCharWidth),b._height=Math.floor(l/b._config.scaledCharHeight);var E=b._width*b._height;return b._cacheMap=new y.LRUMap(E),b._cacheMap.prealloc(E),b}return s(C,x),C.prototype.dispose=function(){this._bitmapCommitTimeout!==null&&(window.clearTimeout(this._bitmapCommitTimeout),this._bitmapCommitTimeout=null)},C.prototype.beginFrame=function(){this._drawToCacheCount=0},C.prototype.clear=function(){if(this._cacheMap.size>0){var k=this._width*this._height;this._cacheMap=new y.LRUMap(k),this._cacheMap.prealloc(k)}this._cacheCtx.clearRect(0,0,d,l),this._tmpCtx.clearRect(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight)},C.prototype.draw=function(k,S,b,O){if(S.code===32)return!0;if(!this._canCache(S))return!1;var E=u(S),B=this._cacheMap.get(E);if(B!=null)return this._drawFromCache(k,B,b,O),!0;if(this._drawToCacheCount<100){var A;A=this._cacheMap.size<this._cacheMap.capacity?this._cacheMap.size:this._cacheMap.peek().index;var L=this._drawToCache(S,A);return this._cacheMap.set(E,L),this._drawFromCache(k,L,b,O),!0}return!1},C.prototype._canCache=function(k){return k.code<256},C.prototype._toCoordinateX=function(k){return k%this._width*this._config.scaledCharWidth},C.prototype._toCoordinateY=function(k){return Math.floor(k/this._width)*this._config.scaledCharHeight},C.prototype._drawFromCache=function(k,S,b,O){if(!S.isEmpty){var E=this._toCoordinateX(S.index),B=this._toCoordinateY(S.index);k.drawImage(S.inBitmap?this._bitmap:this._cacheCanvas,E,B,this._config.scaledCharWidth,this._config.scaledCharHeight,b,O,this._config.scaledCharWidth,this._config.scaledCharHeight)}},C.prototype._getColorFromAnsiIndex=function(k){return k<this._config.colors.ansi.length?this._config.colors.ansi[k]:_.DEFAULT_ANSI_COLORS[k]},C.prototype._getBackgroundColor=function(k){return this._config.allowTransparency?a:k.bg===c.INVERTED_DEFAULT_COLOR?this._config.colors.foreground:k.bg<256?this._getColorFromAnsiIndex(k.bg):this._config.colors.background},C.prototype._getForegroundColor=function(k){return k.fg===c.INVERTED_DEFAULT_COLOR?v.color.opaque(this._config.colors.background):k.fg<256?this._getColorFromAnsiIndex(k.fg):this._config.colors.foreground},C.prototype._drawToCache=function(k,S){this._drawToCacheCount++,this._tmpCtx.save();var b=this._getBackgroundColor(k);this._tmpCtx.globalCompositeOperation="copy",this._tmpCtx.fillStyle=b.css,this._tmpCtx.fillRect(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),this._tmpCtx.globalCompositeOperation="source-over";var O=k.bold?this._config.fontWeightBold:this._config.fontWeight,E=k.italic?"italic":"";this._tmpCtx.font=E+" "+O+" "+this._config.fontSize*this._config.devicePixelRatio+"px "+this._config.fontFamily,this._tmpCtx.textBaseline=c.TEXT_BASELINE,this._tmpCtx.fillStyle=this._getForegroundColor(k).css,k.dim&&(this._tmpCtx.globalAlpha=c.DIM_OPACITY),this._tmpCtx.fillText(k.chars,0,this._config.scaledCharHeight);var B=this._tmpCtx.getImageData(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),A=!1;if(this._config.allowTransparency||(A=w(B,b)),A&&k.chars==="_"&&!this._config.allowTransparency)for(var L=1;L<=5&&(this._tmpCtx.fillText(k.chars,0,this._config.scaledCharHeight-L),A=w(B=this._tmpCtx.getImageData(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),b));L++);this._tmpCtx.restore();var I=this._toCoordinateX(S),D=this._toCoordinateY(S);this._cacheCtx.putImageData(B,I,D);var j={index:S,isEmpty:A,inBitmap:!1};return this._addGlyphToBitmap(j),j},C.prototype._addGlyphToBitmap=function(k){var S=this;!("createImageBitmap"in window)||m.isFirefox||m.isSafari||(this._glyphsWaitingOnBitmap.push(k),this._bitmapCommitTimeout===null&&(this._bitmapCommitTimeout=window.setTimeout(function(){return S._generateBitmap()},100)))},C.prototype._generateBitmap=function(){var k=this,S=this._glyphsWaitingOnBitmap;this._glyphsWaitingOnBitmap=[],window.createImageBitmap(this._cacheCanvas).then(function(b){k._bitmap=b;for(var O=0;O<S.length;O++)S[O].inBitmap=!0}),this._bitmapCommitTimeout=null},C}(f.BaseCharAtlas);n.DynamicCharAtlas=h;var g=function(x){function C(k,S){return x.call(this)||this}return s(C,x),C.prototype.draw=function(k,S,b,O){return!1},C}(f.BaseCharAtlas);function w(x,C){for(var k=!0,S=C.rgba>>>24,b=C.rgba>>>16&255,O=C.rgba>>>8&255,E=0;E<x.data.length;E+=4)x.data[E]===S&&x.data[E+1]===b&&x.data[E+2]===O?x.data[E+3]=0:k=!1;return k}n.NoneCharAtlas=g},7001:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.LRUMap=void 0;var i=function(){function o(s){this.capacity=s,this._map={},this._head=null,this._tail=null,this._nodePool=[],this.size=0}return o.prototype._unlinkNode=function(s){var c=s.prev,f=s.next;s===this._head&&(this._head=f),s===this._tail&&(this._tail=c),c!==null&&(c.next=f),f!==null&&(f.prev=c)},o.prototype._appendNode=function(s){var c=this._tail;c!==null&&(c.next=s),s.prev=c,s.next=null,this._tail=s,this._head===null&&(this._head=s)},o.prototype.prealloc=function(s){for(var c=this._nodePool,f=0;f<s;f++)c.push({prev:null,next:null,key:null,value:null})},o.prototype.get=function(s){var c=this._map[s];return c!==void 0?(this._unlinkNode(c),this._appendNode(c),c.value):null},o.prototype.peekValue=function(s){var c=this._map[s];return c!==void 0?c.value:null},o.prototype.peek=function(){var s=this._head;return s===null?null:s.value},o.prototype.set=function(s,c){var f=this._map[s];if(f!==void 0)f=this._map[s],this._unlinkNode(f),f.value=c;else if(this.size>=this.capacity)f=this._head,this._unlinkNode(f),delete this._map[f.key],f.key=s,f.value=c,this._map[s]=f;else{var _=this._nodePool;_.length>0?((f=_.pop()).key=s,f.value=c):f={prev:null,next:null,key:s,value:c},this._map[s]=f,this.size++}this._appendNode(f)},o}();n.LRUMap=i},1296:function(r,n,i){var o,s=this&&this.__extends||(o=function(k,S){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,O){b.__proto__=O}||function(b,O){for(var E in O)Object.prototype.hasOwnProperty.call(O,E)&&(b[E]=O[E])},o(k,S)},function(k,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");function b(){this.constructor=k}o(k,S),k.prototype=S===null?Object.create(S):(b.prototype=S.prototype,new b)}),c=this&&this.__decorate||function(k,S,b,O){var E,B=arguments.length,A=B<3?S:O===null?O=Object.getOwnPropertyDescriptor(S,b):O;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(k,S,b,O);else for(var L=k.length-1;L>=0;L--)(E=k[L])&&(A=(B<3?E(A):B>3?E(S,b,A):E(S,b))||A);return B>3&&A&&Object.defineProperty(S,b,A),A},f=this&&this.__param||function(k,S){return function(b,O){S(b,O,k)}};Object.defineProperty(n,"__esModule",{value:!0}),n.DomRenderer=void 0;var _=i(3787),y=i(8803),m=i(844),p=i(4725),v=i(2585),d=i(8460),l=i(4774),a=i(9631),u="xterm-dom-renderer-owner-",h="xterm-fg-",g="xterm-bg-",w="xterm-focus",x=1,C=function(k){function S(b,O,E,B,A,L,I,D,j,z){var V=k.call(this)||this;return V._colors=b,V._element=O,V._screenElement=E,V._viewportElement=B,V._linkifier=A,V._linkifier2=L,V._charSizeService=D,V._optionsService=j,V._bufferService=z,V._terminalClass=x++,V._rowElements=[],V._rowContainer=document.createElement("div"),V._rowContainer.classList.add("xterm-rows"),V._rowContainer.style.lineHeight="normal",V._rowContainer.setAttribute("aria-hidden","true"),V._refreshRowElements(V._bufferService.cols,V._bufferService.rows),V._selectionContainer=document.createElement("div"),V._selectionContainer.classList.add("xterm-selection"),V._selectionContainer.setAttribute("aria-hidden","true"),V.dimensions={scaledCharWidth:0,scaledCharHeight:0,scaledCellWidth:0,scaledCellHeight:0,scaledCharLeft:0,scaledCharTop:0,scaledCanvasWidth:0,scaledCanvasHeight:0,canvasWidth:0,canvasHeight:0,actualCellWidth:0,actualCellHeight:0},V._updateDimensions(),V._injectCss(),V._rowFactory=I.createInstance(_.DomRendererRowFactory,document,V._colors),V._element.classList.add(u+V._terminalClass),V._screenElement.appendChild(V._rowContainer),V._screenElement.appendChild(V._selectionContainer),V._linkifier.onShowLinkUnderline(function(oe){return V._onLinkHover(oe)}),V._linkifier.onHideLinkUnderline(function(oe){return V._onLinkLeave(oe)}),V._linkifier2.onShowLinkUnderline(function(oe){return V._onLinkHover(oe)}),V._linkifier2.onHideLinkUnderline(function(oe){return V._onLinkLeave(oe)}),V}return s(S,k),Object.defineProperty(S.prototype,"onRequestRedraw",{get:function(){return new d.EventEmitter().event},enumerable:!1,configurable:!0}),S.prototype.dispose=function(){this._element.classList.remove(u+this._terminalClass),(0,a.removeElementFromParent)(this._rowContainer,this._selectionContainer,this._themeStyleElement,this._dimensionsStyleElement),k.prototype.dispose.call(this)},S.prototype._updateDimensions=function(){this.dimensions.scaledCharWidth=this._charSizeService.width*window.devicePixelRatio,this.dimensions.scaledCharHeight=Math.ceil(this._charSizeService.height*window.devicePixelRatio),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._optionsService.rawOptions.lineHeight),this.dimensions.scaledCharLeft=0,this.dimensions.scaledCharTop=0,this.dimensions.scaledCanvasWidth=this.dimensions.scaledCellWidth*this._bufferService.cols,this.dimensions.scaledCanvasHeight=this.dimensions.scaledCellHeight*this._bufferService.rows,this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._bufferService.cols,this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._bufferService.rows;for(var b=0,O=this._rowElements;b<O.length;b++){var E=O[b];E.style.width=this.dimensions.canvasWidth+"px",E.style.height=this.dimensions.actualCellHeight+"px",E.style.lineHeight=this.dimensions.actualCellHeight+"px",E.style.overflow="hidden"}this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));var B=this._terminalSelector+" .xterm-rows span { display: inline-block; height: 100%; vertical-align: top; width: "+this.dimensions.actualCellWidth+"px}";this._dimensionsStyleElement.textContent=B,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=this.dimensions.canvasWidth+"px",this._screenElement.style.height=this.dimensions.canvasHeight+"px"},S.prototype.setColors=function(b){this._colors=b,this._injectCss()},S.prototype._injectCss=function(){var b=this;this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));var O=this._terminalSelector+" .xterm-rows { color: "+this._colors.foreground.css+"; font-family: "+this._optionsService.rawOptions.fontFamily+"; font-size: "+this._optionsService.rawOptions.fontSize+"px;}";O+=this._terminalSelector+" span:not(."+_.BOLD_CLASS+") { font-weight: "+this._optionsService.rawOptions.fontWeight+";}"+this._terminalSelector+" span."+_.BOLD_CLASS+" { font-weight: "+this._optionsService.rawOptions.fontWeightBold+";}"+this._terminalSelector+" span."+_.ITALIC_CLASS+" { font-style: italic;}",O+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  box-shadow: none; }}",O+="@keyframes blink_block_"+this._terminalClass+" { 0% {  background-color: "+this._colors.cursor.css+";  color: "+this._colors.cursorAccent.css+"; } 50% {  background-color: "+this._colors.cursorAccent.css+";  color: "+this._colors.cursor.css+"; }}",O+=this._terminalSelector+" .xterm-rows:not(.xterm-focus) ."+_.CURSOR_CLASS+"."+_.CURSOR_STYLE_BLOCK_CLASS+" { outline: 1px solid "+this._colors.cursor.css+"; outline-offset: -1px;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+_.CURSOR_CLASS+"."+_.CURSOR_BLINK_CLASS+":not(."+_.CURSOR_STYLE_BLOCK_CLASS+") { animation: blink_box_shadow_"+this._terminalClass+" 1s step-end infinite;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+_.CURSOR_CLASS+"."+_.CURSOR_BLINK_CLASS+"."+_.CURSOR_STYLE_BLOCK_CLASS+" { animation: blink_block_"+this._terminalClass+" 1s step-end infinite;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+_.CURSOR_CLASS+"."+_.CURSOR_STYLE_BLOCK_CLASS+" { background-color: "+this._colors.cursor.css+"; color: "+this._colors.cursorAccent.css+";}"+this._terminalSelector+" .xterm-rows ."+_.CURSOR_CLASS+"."+_.CURSOR_STYLE_BAR_CLASS+" { box-shadow: "+this._optionsService.rawOptions.cursorWidth+"px 0 0 "+this._colors.cursor.css+" inset;}"+this._terminalSelector+" .xterm-rows ."+_.CURSOR_CLASS+"."+_.CURSOR_STYLE_UNDERLINE_CLASS+" { box-shadow: 0 -1px 0 "+this._colors.cursor.css+" inset;}",O+=this._terminalSelector+" .xterm-selection { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}"+this._terminalSelector+" .xterm-selection div { position: absolute; background-color: "+this._colors.selectionTransparent.css+";}",this._colors.ansi.forEach(function(E,B){O+=b._terminalSelector+" ."+h+B+" { color: "+E.css+"; }"+b._terminalSelector+" ."+g+B+" { background-color: "+E.css+"; }"}),O+=this._terminalSelector+" ."+h+y.INVERTED_DEFAULT_COLOR+" { color: "+l.color.opaque(this._colors.background).css+"; }"+this._terminalSelector+" ."+g+y.INVERTED_DEFAULT_COLOR+" { background-color: "+this._colors.foreground.css+"; }",this._themeStyleElement.textContent=O},S.prototype.onDevicePixelRatioChange=function(){this._updateDimensions()},S.prototype._refreshRowElements=function(b,O){for(var E=this._rowElements.length;E<=O;E++){var B=document.createElement("div");this._rowContainer.appendChild(B),this._rowElements.push(B)}for(;this._rowElements.length>O;)this._rowContainer.removeChild(this._rowElements.pop())},S.prototype.onResize=function(b,O){this._refreshRowElements(b,O),this._updateDimensions()},S.prototype.onCharSizeChanged=function(){this._updateDimensions()},S.prototype.onBlur=function(){this._rowContainer.classList.remove(w)},S.prototype.onFocus=function(){this._rowContainer.classList.add(w)},S.prototype.onSelectionChanged=function(b,O,E){for(;this._selectionContainer.children.length;)this._selectionContainer.removeChild(this._selectionContainer.children[0]);if(b&&O){var B=b[1]-this._bufferService.buffer.ydisp,A=O[1]-this._bufferService.buffer.ydisp,L=Math.max(B,0),I=Math.min(A,this._bufferService.rows-1);if(!(L>=this._bufferService.rows||I<0)){var D=document.createDocumentFragment();if(E)D.appendChild(this._createSelectionElement(L,b[0],O[0],I-L+1));else{var j=B===L?b[0]:0,z=L===A?O[0]:this._bufferService.cols;D.appendChild(this._createSelectionElement(L,j,z));var V=I-L-1;if(D.appendChild(this._createSelectionElement(L+1,0,this._bufferService.cols,V)),L!==I){var oe=A===I?O[0]:this._bufferService.cols;D.appendChild(this._createSelectionElement(I,0,oe))}}this._selectionContainer.appendChild(D)}}},S.prototype._createSelectionElement=function(b,O,E,B){B===void 0&&(B=1);var A=document.createElement("div");return A.style.height=B*this.dimensions.actualCellHeight+"px",A.style.top=b*this.dimensions.actualCellHeight+"px",A.style.left=O*this.dimensions.actualCellWidth+"px",A.style.width=this.dimensions.actualCellWidth*(E-O)+"px",A},S.prototype.onCursorMove=function(){},S.prototype.onOptionsChanged=function(){this._updateDimensions(),this._injectCss()},S.prototype.clear=function(){for(var b=0,O=this._rowElements;b<O.length;b++)O[b].innerText=""},S.prototype.renderRows=function(b,O){for(var E=this._bufferService.buffer.ybase+this._bufferService.buffer.y,B=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),A=this._optionsService.rawOptions.cursorBlink,L=b;L<=O;L++){var I=this._rowElements[L];I.innerText="";var D=L+this._bufferService.buffer.ydisp,j=this._bufferService.buffer.lines.get(D),z=this._optionsService.rawOptions.cursorStyle;I.appendChild(this._rowFactory.createRow(j,D,D===E,z,B,A,this.dimensions.actualCellWidth,this._bufferService.cols))}},Object.defineProperty(S.prototype,"_terminalSelector",{get:function(){return"."+u+this._terminalClass},enumerable:!1,configurable:!0}),S.prototype._onLinkHover=function(b){this._setCellUnderline(b.x1,b.x2,b.y1,b.y2,b.cols,!0)},S.prototype._onLinkLeave=function(b){this._setCellUnderline(b.x1,b.x2,b.y1,b.y2,b.cols,!1)},S.prototype._setCellUnderline=function(b,O,E,B,A,L){for(;b!==O||E!==B;){var I=this._rowElements[E];if(!I)return;var D=I.children[b];D&&(D.style.textDecoration=L?"underline":"none"),++b>=A&&(b=0,E++)}},c([f(6,v.IInstantiationService),f(7,p.ICharSizeService),f(8,v.IOptionsService),f(9,v.IBufferService)],S)}(m.Disposable);n.DomRenderer=C},3787:function(r,n,i){var o=this&&this.__decorate||function(a,u,h,g){var w,x=arguments.length,C=x<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,h):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(a,u,h,g);else for(var k=a.length-1;k>=0;k--)(w=a[k])&&(C=(x<3?w(C):x>3?w(u,h,C):w(u,h))||C);return x>3&&C&&Object.defineProperty(u,h,C),C},s=this&&this.__param||function(a,u){return function(h,g){u(h,g,a)}};Object.defineProperty(n,"__esModule",{value:!0}),n.DomRendererRowFactory=n.CURSOR_STYLE_UNDERLINE_CLASS=n.CURSOR_STYLE_BAR_CLASS=n.CURSOR_STYLE_BLOCK_CLASS=n.CURSOR_BLINK_CLASS=n.CURSOR_CLASS=n.STRIKETHROUGH_CLASS=n.UNDERLINE_CLASS=n.ITALIC_CLASS=n.DIM_CLASS=n.BOLD_CLASS=void 0;var c=i(8803),f=i(643),_=i(511),y=i(2585),m=i(4774),p=i(4725),v=i(4269);n.BOLD_CLASS="xterm-bold",n.DIM_CLASS="xterm-dim",n.ITALIC_CLASS="xterm-italic",n.UNDERLINE_CLASS="xterm-underline",n.STRIKETHROUGH_CLASS="xterm-strikethrough",n.CURSOR_CLASS="xterm-cursor",n.CURSOR_BLINK_CLASS="xterm-cursor-blink",n.CURSOR_STYLE_BLOCK_CLASS="xterm-cursor-block",n.CURSOR_STYLE_BAR_CLASS="xterm-cursor-bar",n.CURSOR_STYLE_UNDERLINE_CLASS="xterm-cursor-underline";var d=function(){function a(u,h,g,w,x){this._document=u,this._colors=h,this._characterJoinerService=g,this._optionsService=w,this._coreService=x,this._workCell=new _.CellData}return a.prototype.setColors=function(u){this._colors=u},a.prototype.createRow=function(u,h,g,w,x,C,k,S){for(var b=this._document.createDocumentFragment(),O=this._characterJoinerService.getJoinedCharacters(h),E=0,B=Math.min(u.length,S)-1;B>=0;B--)if(u.loadCell(B,this._workCell).getCode()!==f.NULL_CELL_CODE||g&&B===x){E=B+1;break}for(B=0;B<E;B++){u.loadCell(B,this._workCell);var A=this._workCell.getWidth();if(A!==0){var L=!1,I=B,D=this._workCell;if(O.length>0&&B===O[0][0]){L=!0;var j=O.shift();D=new v.JoinedCellData(this._workCell,u.translateToString(!0,j[0],j[1]),j[1]-j[0]),I=j[1]-1,A=D.getWidth()}var z=this._document.createElement("span");if(A>1&&(z.style.width=k*A+"px"),L&&(z.style.display="inline",x>=B&&x<=I&&(x=B)),!this._coreService.isCursorHidden&&g&&B===x)switch(z.classList.add(n.CURSOR_CLASS),C&&z.classList.add(n.CURSOR_BLINK_CLASS),w){case"bar":z.classList.add(n.CURSOR_STYLE_BAR_CLASS);break;case"underline":z.classList.add(n.CURSOR_STYLE_UNDERLINE_CLASS);break;default:z.classList.add(n.CURSOR_STYLE_BLOCK_CLASS)}D.isBold()&&z.classList.add(n.BOLD_CLASS),D.isItalic()&&z.classList.add(n.ITALIC_CLASS),D.isDim()&&z.classList.add(n.DIM_CLASS),D.isUnderline()&&z.classList.add(n.UNDERLINE_CLASS),D.isInvisible()?z.textContent=f.WHITESPACE_CELL_CHAR:z.textContent=D.getChars()||f.WHITESPACE_CELL_CHAR,D.isStrikethrough()&&z.classList.add(n.STRIKETHROUGH_CLASS);var V=D.getFgColor(),oe=D.getFgColorMode(),re=D.getBgColor(),xe=D.getBgColorMode(),M=!!D.isInverse();if(M){var W=V;V=re,re=W;var R=oe;oe=xe,xe=R}switch(oe){case 16777216:case 33554432:D.isBold()&&V<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(V+=8),this._applyMinimumContrast(z,this._colors.background,this._colors.ansi[V])||z.classList.add("xterm-fg-"+V);break;case 50331648:var N=m.rgba.toColor(V>>16&255,V>>8&255,255&V);this._applyMinimumContrast(z,this._colors.background,N)||this._addStyle(z,"color:#"+l(V.toString(16),"0",6));break;default:this._applyMinimumContrast(z,this._colors.background,this._colors.foreground)||M&&z.classList.add("xterm-fg-"+c.INVERTED_DEFAULT_COLOR)}switch(xe){case 16777216:case 33554432:z.classList.add("xterm-bg-"+re);break;case 50331648:this._addStyle(z,"background-color:#"+l(re.toString(16),"0",6));break;default:M&&z.classList.add("xterm-bg-"+c.INVERTED_DEFAULT_COLOR)}b.appendChild(z),B=I}}return b},a.prototype._applyMinimumContrast=function(u,h,g){if(this._optionsService.rawOptions.minimumContrastRatio===1)return!1;var w=this._colors.contrastCache.getColor(this._workCell.bg,this._workCell.fg);return w===void 0&&(w=m.color.ensureContrastRatio(h,g,this._optionsService.rawOptions.minimumContrastRatio),this._colors.contrastCache.setColor(this._workCell.bg,this._workCell.fg,w??null)),!!w&&(this._addStyle(u,"color:"+w.css),!0)},a.prototype._addStyle=function(u,h){u.setAttribute("style",""+(u.getAttribute("style")||"")+h+";")},o([s(2,p.ICharacterJoinerService),s(3,y.IOptionsService),s(4,y.ICoreService)],a)}();function l(a,u,h){for(;a.length<h;)a=u+a;return a}n.DomRendererRowFactory=d},456:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.SelectionModel=void 0;var i=function(){function o(s){this._bufferService=s,this.isSelectAllActive=!1,this.selectionStartLength=0}return o.prototype.clearSelection=function(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0},Object.defineProperty(o.prototype,"finalSelectionStart",{get:function(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"finalSelectionEnd",{get:function(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){var s=this.selectionStart[0]+this.selectionStartLength;return s>this._bufferService.cols?s%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(s/this._bufferService.cols)-1]:[s%this._bufferService.cols,this.selectionStart[1]+Math.floor(s/this._bufferService.cols)]:[s,this.selectionStart[1]]}return this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]?[Math.max(this.selectionStart[0]+this.selectionStartLength,this.selectionEnd[0]),this.selectionEnd[1]]:this.selectionEnd}},enumerable:!1,configurable:!0}),o.prototype.areSelectionValuesReversed=function(){var s=this.selectionStart,c=this.selectionEnd;return!(!s||!c)&&(s[1]>c[1]||s[1]===c[1]&&s[0]>c[0])},o.prototype.onTrim=function(s){return this.selectionStart&&(this.selectionStart[1]-=s),this.selectionEnd&&(this.selectionEnd[1]-=s),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)},o}();n.SelectionModel=i},428:function(r,n,i){var o=this&&this.__decorate||function(m,p,v,d){var l,a=arguments.length,u=a<3?p:d===null?d=Object.getOwnPropertyDescriptor(p,v):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(m,p,v,d);else for(var h=m.length-1;h>=0;h--)(l=m[h])&&(u=(a<3?l(u):a>3?l(p,v,u):l(p,v))||u);return a>3&&u&&Object.defineProperty(p,v,u),u},s=this&&this.__param||function(m,p){return function(v,d){p(v,d,m)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CharSizeService=void 0;var c=i(2585),f=i(8460),_=function(){function m(p,v,d){this._optionsService=d,this.width=0,this.height=0,this._onCharSizeChange=new f.EventEmitter,this._measureStrategy=new y(p,v,this._optionsService)}return Object.defineProperty(m.prototype,"hasValidSize",{get:function(){return this.width>0&&this.height>0},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onCharSizeChange",{get:function(){return this._onCharSizeChange.event},enumerable:!1,configurable:!0}),m.prototype.measure=function(){var p=this._measureStrategy.measure();p.width===this.width&&p.height===this.height||(this.width=p.width,this.height=p.height,this._onCharSizeChange.fire())},o([s(2,c.IOptionsService)],m)}();n.CharSizeService=_;var y=function(){function m(p,v,d){this._document=p,this._parentElement=v,this._optionsService=d,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W",this._measureElement.setAttribute("aria-hidden","true"),this._parentElement.appendChild(this._measureElement)}return m.prototype.measure=function(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=this._optionsService.rawOptions.fontSize+"px";var p=this._measureElement.getBoundingClientRect();return p.width!==0&&p.height!==0&&(this._result.width=p.width,this._result.height=Math.ceil(p.height)),this._result},m}()},4269:function(r,n,i){var o,s=this&&this.__extends||(o=function(l,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&(u[g]=h[g])},o(l,a)},function(l,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function u(){this.constructor=l}o(l,a),l.prototype=a===null?Object.create(a):(u.prototype=a.prototype,new u)}),c=this&&this.__decorate||function(l,a,u,h){var g,w=arguments.length,x=w<3?a:h===null?h=Object.getOwnPropertyDescriptor(a,u):h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(l,a,u,h);else for(var C=l.length-1;C>=0;C--)(g=l[C])&&(x=(w<3?g(x):w>3?g(a,u,x):g(a,u))||x);return w>3&&x&&Object.defineProperty(a,u,x),x},f=this&&this.__param||function(l,a){return function(u,h){a(u,h,l)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CharacterJoinerService=n.JoinedCellData=void 0;var _=i(3734),y=i(643),m=i(511),p=i(2585),v=function(l){function a(u,h,g){var w=l.call(this)||this;return w.content=0,w.combinedData="",w.fg=u.fg,w.bg=u.bg,w.combinedData=h,w._width=g,w}return s(a,l),a.prototype.isCombined=function(){return 2097152},a.prototype.getWidth=function(){return this._width},a.prototype.getChars=function(){return this.combinedData},a.prototype.getCode=function(){return 2097151},a.prototype.setFromCharData=function(u){throw new Error("not implemented")},a.prototype.getAsCharData=function(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]},a}(_.AttributeData);n.JoinedCellData=v;var d=function(){function l(a){this._bufferService=a,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new m.CellData}return l.prototype.register=function(a){var u={id:this._nextCharacterJoinerId++,handler:a};return this._characterJoiners.push(u),u.id},l.prototype.deregister=function(a){for(var u=0;u<this._characterJoiners.length;u++)if(this._characterJoiners[u].id===a)return this._characterJoiners.splice(u,1),!0;return!1},l.prototype.getJoinedCharacters=function(a){if(this._characterJoiners.length===0)return[];var u=this._bufferService.buffer.lines.get(a);if(!u||u.length===0)return[];for(var h=[],g=u.translateToString(!0),w=0,x=0,C=0,k=u.getFg(0),S=u.getBg(0),b=0;b<u.getTrimmedLength();b++)if(u.loadCell(b,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==k||this._workCell.bg!==S){if(b-w>1)for(var O=this._getJoinedRanges(g,C,x,u,w),E=0;E<O.length;E++)h.push(O[E]);w=b,C=x,k=this._workCell.fg,S=this._workCell.bg}x+=this._workCell.getChars().length||y.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-w>1)for(O=this._getJoinedRanges(g,C,x,u,w),E=0;E<O.length;E++)h.push(O[E]);return h},l.prototype._getJoinedRanges=function(a,u,h,g,w){var x=a.substring(u,h),C=[];try{C=this._characterJoiners[0].handler(x)}catch(O){console.error(O)}for(var k=1;k<this._characterJoiners.length;k++)try{for(var S=this._characterJoiners[k].handler(x),b=0;b<S.length;b++)l._mergeRanges(C,S[b])}catch(O){console.error(O)}return this._stringRangesToCellRanges(C,g,w),C},l.prototype._stringRangesToCellRanges=function(a,u,h){var g=0,w=!1,x=0,C=a[g];if(C){for(var k=h;k<this._bufferService.cols;k++){var S=u.getWidth(k),b=u.getString(k).length||y.WHITESPACE_CELL_CHAR.length;if(S!==0){if(!w&&C[0]<=x&&(C[0]=k,w=!0),C[1]<=x){if(C[1]=k,!(C=a[++g]))break;C[0]<=x?(C[0]=k,w=!0):w=!1}x+=b}}C&&(C[1]=this._bufferService.cols)}},l._mergeRanges=function(a,u){for(var h=!1,g=0;g<a.length;g++){var w=a[g];if(h){if(u[1]<=w[0])return a[g-1][1]=u[1],a;if(u[1]<=w[1])return a[g-1][1]=Math.max(u[1],w[1]),a.splice(g,1),a;a.splice(g,1),g--}else{if(u[1]<=w[0])return a.splice(g,0,u),a;if(u[1]<=w[1])return w[0]=Math.min(u[0],w[0]),a;u[0]<w[1]&&(w[0]=Math.min(u[0],w[0]),h=!0)}}return h?a[a.length-1][1]=u[1]:a.push(u),a},l=c([f(0,p.IBufferService)],l)}();n.CharacterJoinerService=d},5114:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CoreBrowserService=void 0;var i=function(){function o(s){this._textarea=s}return Object.defineProperty(o.prototype,"isFocused",{get:function(){return(this._textarea.getRootNode?this._textarea.getRootNode():document).activeElement===this._textarea&&document.hasFocus()},enumerable:!1,configurable:!0}),o}();n.CoreBrowserService=i},7641:function(r,n,i){var o,s=this&&this.__extends||(o=function(d,l){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(a[h]=u[h])},o(d,l)},function(d,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function a(){this.constructor=d}o(d,l),d.prototype=l===null?Object.create(l):(a.prototype=l.prototype,new a)}),c=this&&this.__decorate||function(d,l,a,u){var h,g=arguments.length,w=g<3?l:u===null?u=Object.getOwnPropertyDescriptor(l,a):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(d,l,a,u);else for(var x=d.length-1;x>=0;x--)(h=d[x])&&(w=(g<3?h(w):g>3?h(l,a,w):h(l,a))||w);return g>3&&w&&Object.defineProperty(l,a,w),w},f=this&&this.__param||function(d,l){return function(a,u){l(a,u,d)}};Object.defineProperty(n,"__esModule",{value:!0}),n.Decoration=n.DecorationService=void 0;var _=i(8460),y=i(844),m=i(2585),p=function(d){function l(a){var u=d.call(this)||this;return u._instantiationService=a,u._decorations=[],u}return s(l,d),l.prototype.attachToDom=function(a,u){var h=this;this._renderService=u,this._screenElement=a,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),a.appendChild(this._container),this.register(this._renderService.onRenderedBufferChange(function(){return h.refresh()})),this.register(this._renderService.onDimensionsChange(function(){return h.refresh(!0)}))},l.prototype.registerDecoration=function(a){var u=this;if(!a.marker.isDisposed&&this._container){var h=this._instantiationService.createInstance(v,a,this._container);return this._decorations.push(h),h.onDispose(function(){return u._decorations.splice(u._decorations.indexOf(h),1)}),this._queueRefresh(),h}},l.prototype._queueRefresh=function(){var a=this;this._animationFrame===void 0&&(this._animationFrame=window.requestAnimationFrame(function(){a.refresh(),a._animationFrame=void 0}))},l.prototype.refresh=function(a){if(this._renderService)for(var u=0,h=this._decorations;u<h.length;u++)h[u].render(this._renderService,a)},l.prototype.dispose=function(){for(var a=0,u=this._decorations;a<u.length;a++)u[a].dispose();this._screenElement&&this._container&&this._screenElement.contains(this._container)&&this._screenElement.removeChild(this._container)},c([f(0,m.IInstantiationService)],l)}(y.Disposable);n.DecorationService=p;var v=function(d){function l(a,u,h){var g,w=d.call(this)||this;return w._container=u,w._bufferService=h,w.isDisposed=!1,w._onDispose=new _.EventEmitter,w._onRender=new _.EventEmitter,w.x=(g=a.x)!==null&&g!==void 0?g:0,w._marker=a.marker,w._marker.onDispose(function(){return w.dispose()}),w.anchor=a.anchor||"left",w.width=a.width||1,w.height=a.height||1,w}return s(l,d),Object.defineProperty(l.prototype,"element",{get:function(){return this._element},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"marker",{get:function(){return this._marker},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"onDispose",{get:function(){return this._onDispose.event},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"onRender",{get:function(){return this._onRender.event},enumerable:!1,configurable:!0}),l.prototype.render=function(a,u){this._element&&!u||this._createElement(a,u),this._container&&this._element&&!this._container.contains(this._element)&&this._container.append(this._element),this._refreshStyle(a),this._element&&this._onRender.fire(this._element)},l.prototype._createElement=function(a,u){u&&this._element&&this._container.contains(this._element)&&this._container.removeChild(this._element),this._element=document.createElement("div"),this._element.classList.add("xterm-decoration"),this._element.style.width=this.width*a.dimensions.actualCellWidth+"px",this._element.style.height=this.height*a.dimensions.actualCellHeight+"px",this._element.style.top=(this.marker.line-this._bufferService.buffers.active.ydisp)*a.dimensions.actualCellHeight+"px",this._element.style.lineHeight=a.dimensions.actualCellHeight+"px",this.x&&this.x>this._bufferService.cols&&(this._element.style.display="none"),this.anchor==="right"?this._element.style.right=this.x?this.x*a.dimensions.actualCellWidth+"px":"":this._element.style.left=this.x?this.x*a.dimensions.actualCellWidth+"px":""},l.prototype._refreshStyle=function(a){if(this._element){var u=this.marker.line-this._bufferService.buffers.active.ydisp;u<0||u>this._bufferService.rows?this._element.style.display="none":(this._element.style.top=u*a.dimensions.actualCellHeight+"px",this._element.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block")}},l.prototype.dispose=function(){this.isDisposed||(this._element&&this._container.contains(this._element)&&this._container.removeChild(this._element),this.isDisposed=!0,this._onDispose.fire())},c([f(2,m.IBufferService)],l)}(y.Disposable);n.Decoration=v},8934:function(r,n,i){var o=this&&this.__decorate||function(y,m,p,v){var d,l=arguments.length,a=l<3?m:v===null?v=Object.getOwnPropertyDescriptor(m,p):v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(y,m,p,v);else for(var u=y.length-1;u>=0;u--)(d=y[u])&&(a=(l<3?d(a):l>3?d(m,p,a):d(m,p))||a);return l>3&&a&&Object.defineProperty(m,p,a),a},s=this&&this.__param||function(y,m){return function(p,v){m(p,v,y)}};Object.defineProperty(n,"__esModule",{value:!0}),n.MouseService=void 0;var c=i(4725),f=i(9806),_=function(){function y(m,p){this._renderService=m,this._charSizeService=p}return y.prototype.getCoords=function(m,p,v,d,l){return(0,f.getCoords)(m,p,v,d,this._charSizeService.hasValidSize,this._renderService.dimensions.actualCellWidth,this._renderService.dimensions.actualCellHeight,l)},y.prototype.getRawByteCoords=function(m,p,v,d){var l=this.getCoords(m,p,v,d);return(0,f.getRawByteCoords)(l)},o([s(0,c.IRenderService),s(1,c.ICharSizeService)],y)}();n.MouseService=_},3230:function(r,n,i){var o,s=this&&this.__extends||(o=function(u,h){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,w){g.__proto__=w}||function(g,w){for(var x in w)Object.prototype.hasOwnProperty.call(w,x)&&(g[x]=w[x])},o(u,h)},function(u,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function g(){this.constructor=u}o(u,h),u.prototype=h===null?Object.create(h):(g.prototype=h.prototype,new g)}),c=this&&this.__decorate||function(u,h,g,w){var x,C=arguments.length,k=C<3?h:w===null?w=Object.getOwnPropertyDescriptor(h,g):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(u,h,g,w);else for(var S=u.length-1;S>=0;S--)(x=u[S])&&(k=(C<3?x(k):C>3?x(h,g,k):x(h,g))||k);return C>3&&k&&Object.defineProperty(h,g,k),k},f=this&&this.__param||function(u,h){return function(g,w){h(g,w,u)}};Object.defineProperty(n,"__esModule",{value:!0}),n.RenderService=void 0;var _=i(6193),y=i(8460),m=i(844),p=i(5596),v=i(3656),d=i(2585),l=i(4725),a=function(u){function h(g,w,x,C,k,S){var b=u.call(this)||this;if(b._renderer=g,b._rowCount=w,b._charSizeService=k,b._isPaused=!1,b._needsFullRefresh=!1,b._isNextRenderRedrawOnly=!0,b._needsSelectionRefresh=!1,b._canvasWidth=0,b._canvasHeight=0,b._selectionState={start:void 0,end:void 0,columnSelectMode:!1},b._onDimensionsChange=new y.EventEmitter,b._onRender=new y.EventEmitter,b._onRefreshRequest=new y.EventEmitter,b.register({dispose:function(){return b._renderer.dispose()}}),b._renderDebouncer=new _.RenderDebouncer(function(E,B){return b._renderRows(E,B)}),b.register(b._renderDebouncer),b._screenDprMonitor=new p.ScreenDprMonitor,b._screenDprMonitor.setListener(function(){return b.onDevicePixelRatioChange()}),b.register(b._screenDprMonitor),b.register(S.onResize(function(){return b._fullRefresh()})),b.register(S.buffers.onBufferActivate(function(){var E;return(E=b._renderer)===null||E===void 0?void 0:E.clear()})),b.register(C.onOptionChange(function(){return b._renderer.onOptionsChanged()})),b.register(b._charSizeService.onCharSizeChange(function(){return b.onCharSizeChanged()})),b._renderer.onRequestRedraw(function(E){return b.refreshRows(E.start,E.end,!0)}),b.register((0,v.addDisposableDomListener)(window,"resize",function(){return b.onDevicePixelRatioChange()})),"IntersectionObserver"in window){var O=new IntersectionObserver(function(E){return b._onIntersectionChange(E[E.length-1])},{threshold:0});O.observe(x),b.register({dispose:function(){return O.disconnect()}})}return b}return s(h,u),Object.defineProperty(h.prototype,"onDimensionsChange",{get:function(){return this._onDimensionsChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"onRenderedBufferChange",{get:function(){return this._onRender.event},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"onRefreshRequest",{get:function(){return this._onRefreshRequest.event},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"dimensions",{get:function(){return this._renderer.dimensions},enumerable:!1,configurable:!0}),h.prototype._onIntersectionChange=function(g){this._isPaused=g.isIntersecting===void 0?g.intersectionRatio===0:!g.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)},h.prototype.refreshRows=function(g,w,x){x===void 0&&(x=!1),this._isPaused?this._needsFullRefresh=!0:(x||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(g,w,this._rowCount))},h.prototype._renderRows=function(g,w){this._renderer.renderRows(g,w),this._needsSelectionRefresh&&(this._renderer.onSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRender.fire({start:g,end:w}),this._isNextRenderRedrawOnly=!0},h.prototype.resize=function(g,w){this._rowCount=w,this._fireOnCanvasResize()},h.prototype.changeOptions=function(){this._renderer.onOptionsChanged(),this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize()},h.prototype._fireOnCanvasResize=function(){this._renderer.dimensions.canvasWidth===this._canvasWidth&&this._renderer.dimensions.canvasHeight===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.dimensions)},h.prototype.dispose=function(){u.prototype.dispose.call(this)},h.prototype.setRenderer=function(g){var w=this;this._renderer.dispose(),this._renderer=g,this._renderer.onRequestRedraw(function(x){return w.refreshRows(x.start,x.end,!0)}),this._needsSelectionRefresh=!0,this._fullRefresh()},h.prototype._fullRefresh=function(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)},h.prototype.clearTextureAtlas=function(){var g,w;(w=(g=this._renderer)===null||g===void 0?void 0:g.clearTextureAtlas)===null||w===void 0||w.call(g),this._fullRefresh()},h.prototype.setColors=function(g){this._renderer.setColors(g),this._fullRefresh()},h.prototype.onDevicePixelRatioChange=function(){this._charSizeService.measure(),this._renderer.onDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1)},h.prototype.onResize=function(g,w){this._renderer.onResize(g,w),this._fullRefresh()},h.prototype.onCharSizeChanged=function(){this._renderer.onCharSizeChanged()},h.prototype.onBlur=function(){this._renderer.onBlur()},h.prototype.onFocus=function(){this._renderer.onFocus()},h.prototype.onSelectionChanged=function(g,w,x){this._selectionState.start=g,this._selectionState.end=w,this._selectionState.columnSelectMode=x,this._renderer.onSelectionChanged(g,w,x)},h.prototype.onCursorMove=function(){this._renderer.onCursorMove()},h.prototype.clear=function(){this._renderer.clear()},c([f(3,d.IOptionsService),f(4,l.ICharSizeService),f(5,d.IBufferService)],h)}(m.Disposable);n.RenderService=a},9312:function(r,n,i){var o,s=this&&this.__extends||(o=function(C,k){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,b){S.__proto__=b}||function(S,b){for(var O in b)Object.prototype.hasOwnProperty.call(b,O)&&(S[O]=b[O])},o(C,k)},function(C,k){if(typeof k!="function"&&k!==null)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");function S(){this.constructor=C}o(C,k),C.prototype=k===null?Object.create(k):(S.prototype=k.prototype,new S)}),c=this&&this.__decorate||function(C,k,S,b){var O,E=arguments.length,B=E<3?k:b===null?b=Object.getOwnPropertyDescriptor(k,S):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(C,k,S,b);else for(var A=C.length-1;A>=0;A--)(O=C[A])&&(B=(E<3?O(B):E>3?O(k,S,B):O(k,S))||B);return E>3&&B&&Object.defineProperty(k,S,B),B},f=this&&this.__param||function(C,k){return function(S,b){k(S,b,C)}};Object.defineProperty(n,"__esModule",{value:!0}),n.SelectionService=void 0;var _=i(6114),y=i(456),m=i(511),p=i(8460),v=i(4725),d=i(2585),l=i(9806),a=i(9504),u=i(844),h=i(4841),g=String.fromCharCode(160),w=new RegExp(g,"g"),x=function(C){function k(S,b,O,E,B,A,L,I){var D=C.call(this)||this;return D._element=S,D._screenElement=b,D._linkifier=O,D._bufferService=E,D._coreService=B,D._mouseService=A,D._optionsService=L,D._renderService=I,D._dragScrollAmount=0,D._enabled=!0,D._workCell=new m.CellData,D._mouseDownTimeStamp=0,D._oldHasSelection=!1,D._oldSelectionStart=void 0,D._oldSelectionEnd=void 0,D._onLinuxMouseSelection=D.register(new p.EventEmitter),D._onRedrawRequest=D.register(new p.EventEmitter),D._onSelectionChange=D.register(new p.EventEmitter),D._onRequestScrollLines=D.register(new p.EventEmitter),D._mouseMoveListener=function(j){return D._onMouseMove(j)},D._mouseUpListener=function(j){return D._onMouseUp(j)},D._coreService.onUserInput(function(){D.hasSelection&&D.clearSelection()}),D._trimListener=D._bufferService.buffer.lines.onTrim(function(j){return D._onTrim(j)}),D.register(D._bufferService.buffers.onBufferActivate(function(j){return D._onBufferActivate(j)})),D.enable(),D._model=new y.SelectionModel(D._bufferService),D._activeSelectionMode=0,D}return s(k,C),Object.defineProperty(k.prototype,"onLinuxMouseSelection",{get:function(){return this._onLinuxMouseSelection.event},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"onRequestRedraw",{get:function(){return this._onRedrawRequest.event},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"onSelectionChange",{get:function(){return this._onSelectionChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"onRequestScrollLines",{get:function(){return this._onRequestScrollLines.event},enumerable:!1,configurable:!0}),k.prototype.dispose=function(){this._removeMouseDownListeners()},k.prototype.reset=function(){this.clearSelection()},k.prototype.disable=function(){this.clearSelection(),this._enabled=!1},k.prototype.enable=function(){this._enabled=!0},Object.defineProperty(k.prototype,"selectionStart",{get:function(){return this._model.finalSelectionStart},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"selectionEnd",{get:function(){return this._model.finalSelectionEnd},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"hasSelection",{get:function(){var S=this._model.finalSelectionStart,b=this._model.finalSelectionEnd;return!(!S||!b||S[0]===b[0]&&S[1]===b[1])},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"selectionText",{get:function(){var S=this._model.finalSelectionStart,b=this._model.finalSelectionEnd;if(!S||!b)return"";var O=this._bufferService.buffer,E=[];if(this._activeSelectionMode===3){if(S[0]===b[0])return"";for(var B=S[1];B<=b[1];B++){var A=O.translateBufferLineToString(B,!0,S[0],b[0]);E.push(A)}}else{var L=S[1]===b[1]?b[0]:void 0;for(E.push(O.translateBufferLineToString(S[1],!0,S[0],L)),B=S[1]+1;B<=b[1]-1;B++){var I=O.lines.get(B);A=O.translateBufferLineToString(B,!0),I?.isWrapped?E[E.length-1]+=A:E.push(A)}S[1]!==b[1]&&(I=O.lines.get(b[1]),A=O.translateBufferLineToString(b[1],!0,0,b[0]),I&&I.isWrapped?E[E.length-1]+=A:E.push(A))}return E.map(function(D){return D.replace(w," ")}).join(_.isWindows?`\r
`:`
`)},enumerable:!1,configurable:!0}),k.prototype.clearSelection=function(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()},k.prototype.refresh=function(S){var b=this;this._refreshAnimationFrame||(this._refreshAnimationFrame=window.requestAnimationFrame(function(){return b._refresh()})),_.isLinux&&S&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)},k.prototype._refresh=function(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})},k.prototype._isClickInSelection=function(S){var b=this._getMouseBufferCoords(S),O=this._model.finalSelectionStart,E=this._model.finalSelectionEnd;return!!(O&&E&&b)&&this._areCoordsInSelection(b,O,E)},k.prototype._areCoordsInSelection=function(S,b,O){return S[1]>b[1]&&S[1]<O[1]||b[1]===O[1]&&S[1]===b[1]&&S[0]>=b[0]&&S[0]<O[0]||b[1]<O[1]&&S[1]===O[1]&&S[0]<O[0]||b[1]<O[1]&&S[1]===b[1]&&S[0]>=b[0]},k.prototype._selectWordAtCursor=function(S,b){var O,E,B=(E=(O=this._linkifier.currentLink)===null||O===void 0?void 0:O.link)===null||E===void 0?void 0:E.range;if(B)return this._model.selectionStart=[B.start.x-1,B.start.y-1],this._model.selectionStartLength=(0,h.getRangeLength)(B,this._bufferService.cols),this._model.selectionEnd=void 0,!0;var A=this._getMouseBufferCoords(S);return!!A&&(this._selectWordAt(A,b),this._model.selectionEnd=void 0,!0)},k.prototype.selectAll=function(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()},k.prototype.selectLines=function(S,b){this._model.clearSelection(),S=Math.max(S,0),b=Math.min(b,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,S],this._model.selectionEnd=[this._bufferService.cols,b],this.refresh(),this._onSelectionChange.fire()},k.prototype._onTrim=function(S){this._model.onTrim(S)&&this.refresh()},k.prototype._getMouseBufferCoords=function(S){var b=this._mouseService.getCoords(S,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(b)return b[0]--,b[1]--,b[1]+=this._bufferService.buffer.ydisp,b},k.prototype._getMouseEventScrollAmount=function(S){var b=(0,l.getCoordsRelativeToElement)(S,this._screenElement)[1],O=this._renderService.dimensions.canvasHeight;return b>=0&&b<=O?0:(b>O&&(b-=O),b=Math.min(Math.max(b,-50),50),(b/=50)/Math.abs(b)+Math.round(14*b))},k.prototype.shouldForceSelection=function(S){return _.isMac?S.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:S.shiftKey},k.prototype.onMouseDown=function(S){if(this._mouseDownTimeStamp=S.timeStamp,(S.button!==2||!this.hasSelection)&&S.button===0){if(!this._enabled){if(!this.shouldForceSelection(S))return;S.stopPropagation()}S.preventDefault(),this._dragScrollAmount=0,this._enabled&&S.shiftKey?this._onIncrementalClick(S):S.detail===1?this._onSingleClick(S):S.detail===2?this._onDoubleClick(S):S.detail===3&&this._onTripleClick(S),this._addMouseDownListeners(),this.refresh(!0)}},k.prototype._addMouseDownListeners=function(){var S=this;this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=window.setInterval(function(){return S._dragScroll()},50)},k.prototype._removeMouseDownListeners=function(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0},k.prototype._onIncrementalClick=function(S){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(S))},k.prototype._onSingleClick=function(S){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(S)?3:0,this._model.selectionStart=this._getMouseBufferCoords(S),this._model.selectionStart){this._model.selectionEnd=void 0;var b=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);b&&b.length!==this._model.selectionStart[0]&&b.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}},k.prototype._onDoubleClick=function(S){this._selectWordAtCursor(S,!0)&&(this._activeSelectionMode=1)},k.prototype._onTripleClick=function(S){var b=this._getMouseBufferCoords(S);b&&(this._activeSelectionMode=2,this._selectLineAt(b[1]))},k.prototype.shouldColumnSelect=function(S){return S.altKey&&!(_.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)},k.prototype._onMouseMove=function(S){if(S.stopImmediatePropagation(),this._model.selectionStart){var b=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(S),this._model.selectionEnd){this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(S),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));var O=this._bufferService.buffer;if(this._model.selectionEnd[1]<O.lines.length){var E=O.lines.get(this._model.selectionEnd[1]);E&&E.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}b&&b[0]===this._model.selectionEnd[0]&&b[1]===this._model.selectionEnd[1]||this.refresh(!0)}else this.refresh(!0)}},k.prototype._dragScroll=function(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});var S=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(S.ydisp+this._bufferService.rows,S.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=S.ydisp),this.refresh()}},k.prototype._onMouseUp=function(S){var b=S.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&b<500&&S.altKey&&this._optionsService.getOption("altClickMovesCursor")){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){var O=this._mouseService.getCoords(S,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(O&&O[0]!==void 0&&O[1]!==void 0){var E=(0,a.moveToCellSequence)(O[0]-1,O[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(E,!0)}}}else this._fireEventIfSelectionChanged()},k.prototype._fireEventIfSelectionChanged=function(){var S=this._model.finalSelectionStart,b=this._model.finalSelectionEnd,O=!(!S||!b||S[0]===b[0]&&S[1]===b[1]);O?S&&b&&(this._oldSelectionStart&&this._oldSelectionEnd&&S[0]===this._oldSelectionStart[0]&&S[1]===this._oldSelectionStart[1]&&b[0]===this._oldSelectionEnd[0]&&b[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(S,b,O)):this._oldHasSelection&&this._fireOnSelectionChange(S,b,O)},k.prototype._fireOnSelectionChange=function(S,b,O){this._oldSelectionStart=S,this._oldSelectionEnd=b,this._oldHasSelection=O,this._onSelectionChange.fire()},k.prototype._onBufferActivate=function(S){var b=this;this.clearSelection(),this._trimListener.dispose(),this._trimListener=S.activeBuffer.lines.onTrim(function(O){return b._onTrim(O)})},k.prototype._convertViewportColToCharacterIndex=function(S,b){for(var O=b[0],E=0;b[0]>=E;E++){var B=S.loadCell(E,this._workCell).getChars().length;this._workCell.getWidth()===0?O--:B>1&&b[0]!==E&&(O+=B-1)}return O},k.prototype.setSelection=function(S,b,O){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[S,b],this._model.selectionStartLength=O,this.refresh()},k.prototype.rightClickSelect=function(S){this._isClickInSelection(S)||(this._selectWordAtCursor(S,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())},k.prototype._getWordAt=function(S,b,O,E){if(O===void 0&&(O=!0),E===void 0&&(E=!0),!(S[0]>=this._bufferService.cols)){var B=this._bufferService.buffer,A=B.lines.get(S[1]);if(A){var L=B.translateBufferLineToString(S[1],!1),I=this._convertViewportColToCharacterIndex(A,S),D=I,j=S[0]-I,z=0,V=0,oe=0,re=0;if(L.charAt(I)===" "){for(;I>0&&L.charAt(I-1)===" ";)I--;for(;D<L.length&&L.charAt(D+1)===" ";)D++}else{var xe=S[0],M=S[0];A.getWidth(xe)===0&&(z++,xe--),A.getWidth(M)===2&&(V++,M++);var W=A.getString(M).length;for(W>1&&(re+=W-1,D+=W-1);xe>0&&I>0&&!this._isCharWordSeparator(A.loadCell(xe-1,this._workCell));){A.loadCell(xe-1,this._workCell);var R=this._workCell.getChars().length;this._workCell.getWidth()===0?(z++,xe--):R>1&&(oe+=R-1,I-=R-1),I--,xe--}for(;M<A.length&&D+1<L.length&&!this._isCharWordSeparator(A.loadCell(M+1,this._workCell));){A.loadCell(M+1,this._workCell);var N=this._workCell.getChars().length;this._workCell.getWidth()===2?(V++,M++):N>1&&(re+=N-1,D+=N-1),D++,M++}}D++;var P=I+j-z+oe,Q=Math.min(this._bufferService.cols,D-I+z+V-oe-re);if(b||L.slice(I,D).trim()!==""){if(O&&P===0&&A.getCodePoint(0)!==32){var ne=B.lines.get(S[1]-1);if(ne&&A.isWrapped&&ne.getCodePoint(this._bufferService.cols-1)!==32){var se=this._getWordAt([this._bufferService.cols-1,S[1]-1],!1,!0,!1);if(se){var Re=this._bufferService.cols-se.start;P-=Re,Q+=Re}}}if(E&&P+Q===this._bufferService.cols&&A.getCodePoint(this._bufferService.cols-1)!==32){var Ge=B.lines.get(S[1]+1);if(Ge?.isWrapped&&Ge.getCodePoint(0)!==32){var cr=this._getWordAt([0,S[1]+1],!1,!1,!0);cr&&(Q+=cr.length)}}return{start:P,length:Q}}}}},k.prototype._selectWordAt=function(S,b){var O=this._getWordAt(S,b);if(O){for(;O.start<0;)O.start+=this._bufferService.cols,S[1]--;this._model.selectionStart=[O.start,S[1]],this._model.selectionStartLength=O.length}},k.prototype._selectToWordAt=function(S){var b=this._getWordAt(S,!0);if(b){for(var O=S[1];b.start<0;)b.start+=this._bufferService.cols,O--;if(!this._model.areSelectionValuesReversed())for(;b.start+b.length>this._bufferService.cols;)b.length-=this._bufferService.cols,O++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?b.start:b.start+b.length,O]}},k.prototype._isCharWordSeparator=function(S){return S.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(S.getChars())>=0},k.prototype._selectLineAt=function(S){var b=this._bufferService.buffer.getWrappedRangeForLine(S);this._model.selectionStart=[0,b.first],this._model.selectionEnd=[this._bufferService.cols,b.last],this._model.selectionStartLength=0},c([f(3,d.IBufferService),f(4,d.ICoreService),f(5,v.IMouseService),f(6,d.IOptionsService),f(7,v.IRenderService)],k)}(u.Disposable);n.SelectionService=x},4725:(r,n,i)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.IDecorationService=n.ICharacterJoinerService=n.ISoundService=n.ISelectionService=n.IRenderService=n.IMouseService=n.ICoreBrowserService=n.ICharSizeService=void 0;var o=i(8343);n.ICharSizeService=(0,o.createDecorator)("CharSizeService"),n.ICoreBrowserService=(0,o.createDecorator)("CoreBrowserService"),n.IMouseService=(0,o.createDecorator)("MouseService"),n.IRenderService=(0,o.createDecorator)("RenderService"),n.ISelectionService=(0,o.createDecorator)("SelectionService"),n.ISoundService=(0,o.createDecorator)("SoundService"),n.ICharacterJoinerService=(0,o.createDecorator)("CharacterJoinerService"),n.IDecorationService=(0,o.createDecorator)("DecorationService")},357:function(r,n,i){var o=this&&this.__decorate||function(_,y,m,p){var v,d=arguments.length,l=d<3?y:p===null?p=Object.getOwnPropertyDescriptor(y,m):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(_,y,m,p);else for(var a=_.length-1;a>=0;a--)(v=_[a])&&(l=(d<3?v(l):d>3?v(y,m,l):v(y,m))||l);return d>3&&l&&Object.defineProperty(y,m,l),l},s=this&&this.__param||function(_,y){return function(m,p){y(m,p,_)}};Object.defineProperty(n,"__esModule",{value:!0}),n.SoundService=void 0;var c=i(2585),f=function(){function _(y){this._optionsService=y}return Object.defineProperty(_,"audioContext",{get:function(){if(!_._audioContext){var y=window.AudioContext||window.webkitAudioContext;if(!y)return console.warn("Web Audio API is not supported by this browser. Consider upgrading to the latest version"),null;_._audioContext=new y}return _._audioContext},enumerable:!1,configurable:!0}),_.prototype.playBellSound=function(){var y=_.audioContext;if(y){var m=y.createBufferSource();y.decodeAudioData(this._base64ToArrayBuffer(this._removeMimeType(this._optionsService.rawOptions.bellSound)),function(p){m.buffer=p,m.connect(y.destination),m.start(0)})}},_.prototype._base64ToArrayBuffer=function(y){for(var m=window.atob(y),p=m.length,v=new Uint8Array(p),d=0;d<p;d++)v[d]=m.charCodeAt(d);return v.buffer},_.prototype._removeMimeType=function(y){return y.split(",")[1]},_=o([s(0,c.IOptionsService)],_)}();n.SoundService=f},6349:(r,n,i)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CircularList=void 0;var o=i(8460),s=function(){function c(f){this._maxLength=f,this.onDeleteEmitter=new o.EventEmitter,this.onInsertEmitter=new o.EventEmitter,this.onTrimEmitter=new o.EventEmitter,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}return Object.defineProperty(c.prototype,"onDelete",{get:function(){return this.onDeleteEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"onInsert",{get:function(){return this.onInsertEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"onTrim",{get:function(){return this.onTrimEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"maxLength",{get:function(){return this._maxLength},set:function(f){if(this._maxLength!==f){for(var _=new Array(f),y=0;y<Math.min(f,this.length);y++)_[y]=this._array[this._getCyclicIndex(y)];this._array=_,this._maxLength=f,this._startIndex=0}},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"length",{get:function(){return this._length},set:function(f){if(f>this._length)for(var _=this._length;_<f;_++)this._array[_]=void 0;this._length=f},enumerable:!1,configurable:!0}),c.prototype.get=function(f){return this._array[this._getCyclicIndex(f)]},c.prototype.set=function(f,_){this._array[this._getCyclicIndex(f)]=_},c.prototype.push=function(f){this._array[this._getCyclicIndex(this._length)]=f,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++},c.prototype.recycle=function(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]},Object.defineProperty(c.prototype,"isFull",{get:function(){return this._length===this._maxLength},enumerable:!1,configurable:!0}),c.prototype.pop=function(){return this._array[this._getCyclicIndex(this._length---1)]},c.prototype.splice=function(f,_){for(var y=[],m=2;m<arguments.length;m++)y[m-2]=arguments[m];if(_){for(var p=f;p<this._length-_;p++)this._array[this._getCyclicIndex(p)]=this._array[this._getCyclicIndex(p+_)];this._length-=_,this.onDeleteEmitter.fire({index:f,amount:_})}for(p=this._length-1;p>=f;p--)this._array[this._getCyclicIndex(p+y.length)]=this._array[this._getCyclicIndex(p)];for(p=0;p<y.length;p++)this._array[this._getCyclicIndex(f+p)]=y[p];if(y.length&&this.onInsertEmitter.fire({index:f,amount:y.length}),this._length+y.length>this._maxLength){var v=this._length+y.length-this._maxLength;this._startIndex+=v,this._length=this._maxLength,this.onTrimEmitter.fire(v)}else this._length+=y.length},c.prototype.trimStart=function(f){f>this._length&&(f=this._length),this._startIndex+=f,this._length-=f,this.onTrimEmitter.fire(f)},c.prototype.shiftElements=function(f,_,y){if(!(_<=0)){if(f<0||f>=this._length)throw new Error("start argument out of range");if(f+y<0)throw new Error("Cannot shift elements in list beyond index 0");if(y>0){for(var m=_-1;m>=0;m--)this.set(f+m+y,this.get(f+m));var p=f+_+y-this._length;if(p>0)for(this._length+=p;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(m=0;m<_;m++)this.set(f+m+y,this.get(f+m))}},c.prototype._getCyclicIndex=function(f){return(this._startIndex+f)%this._maxLength},c}();n.CircularList=s},1439:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.clone=void 0,n.clone=function i(o,s){if(s===void 0&&(s=5),typeof o!="object")return o;var c=Array.isArray(o)?[]:{};for(var f in o)c[f]=s<=1?o[f]:o[f]&&i(o[f],s-1);return c}},8969:function(r,n,i){var o,s=this&&this.__extends||(o=function(S,b){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,E){O.__proto__=E}||function(O,E){for(var B in E)Object.prototype.hasOwnProperty.call(E,B)&&(O[B]=E[B])},o(S,b)},function(S,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function O(){this.constructor=S}o(S,b),S.prototype=b===null?Object.create(b):(O.prototype=b.prototype,new O)});Object.defineProperty(n,"__esModule",{value:!0}),n.CoreTerminal=void 0;var c=i(844),f=i(2585),_=i(4348),y=i(7866),m=i(744),p=i(7302),v=i(6975),d=i(8460),l=i(1753),a=i(3730),u=i(1480),h=i(7994),g=i(9282),w=i(5435),x=i(5981),C=!1,k=function(S){function b(O){var E=S.call(this)||this;return E._onBinary=new d.EventEmitter,E._onData=new d.EventEmitter,E._onLineFeed=new d.EventEmitter,E._onResize=new d.EventEmitter,E._onScroll=new d.EventEmitter,E._instantiationService=new _.InstantiationService,E.optionsService=new p.OptionsService(O),E._instantiationService.setService(f.IOptionsService,E.optionsService),E._bufferService=E.register(E._instantiationService.createInstance(m.BufferService)),E._instantiationService.setService(f.IBufferService,E._bufferService),E._logService=E._instantiationService.createInstance(y.LogService),E._instantiationService.setService(f.ILogService,E._logService),E.coreService=E.register(E._instantiationService.createInstance(v.CoreService,function(){return E.scrollToBottom()})),E._instantiationService.setService(f.ICoreService,E.coreService),E.coreMouseService=E._instantiationService.createInstance(l.CoreMouseService),E._instantiationService.setService(f.ICoreMouseService,E.coreMouseService),E._dirtyRowService=E._instantiationService.createInstance(a.DirtyRowService),E._instantiationService.setService(f.IDirtyRowService,E._dirtyRowService),E.unicodeService=E._instantiationService.createInstance(u.UnicodeService),E._instantiationService.setService(f.IUnicodeService,E.unicodeService),E._charsetService=E._instantiationService.createInstance(h.CharsetService),E._instantiationService.setService(f.ICharsetService,E._charsetService),E._inputHandler=new w.InputHandler(E._bufferService,E._charsetService,E.coreService,E._dirtyRowService,E._logService,E.optionsService,E.coreMouseService,E.unicodeService),E.register((0,d.forwardEvent)(E._inputHandler.onLineFeed,E._onLineFeed)),E.register(E._inputHandler),E.register((0,d.forwardEvent)(E._bufferService.onResize,E._onResize)),E.register((0,d.forwardEvent)(E.coreService.onData,E._onData)),E.register((0,d.forwardEvent)(E.coreService.onBinary,E._onBinary)),E.register(E.optionsService.onOptionChange(function(B){return E._updateOptions(B)})),E.register(E._bufferService.onScroll(function(B){E._onScroll.fire({position:E._bufferService.buffer.ydisp,source:0}),E._dirtyRowService.markRangeDirty(E._bufferService.buffer.scrollTop,E._bufferService.buffer.scrollBottom)})),E.register(E._inputHandler.onScroll(function(B){E._onScroll.fire({position:E._bufferService.buffer.ydisp,source:0}),E._dirtyRowService.markRangeDirty(E._bufferService.buffer.scrollTop,E._bufferService.buffer.scrollBottom)})),E._writeBuffer=new x.WriteBuffer(function(B,A){return E._inputHandler.parse(B,A)}),E}return s(b,S),Object.defineProperty(b.prototype,"onBinary",{get:function(){return this._onBinary.event},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onData",{get:function(){return this._onData.event},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onLineFeed",{get:function(){return this._onLineFeed.event},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onResize",{get:function(){return this._onResize.event},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onScroll",{get:function(){var O=this;return this._onScrollApi||(this._onScrollApi=new d.EventEmitter,this.register(this._onScroll.event(function(E){var B;(B=O._onScrollApi)===null||B===void 0||B.fire(E.position)}))),this._onScrollApi.event},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"cols",{get:function(){return this._bufferService.cols},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"rows",{get:function(){return this._bufferService.rows},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"buffers",{get:function(){return this._bufferService.buffers},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"options",{get:function(){return this.optionsService.options},set:function(O){for(var E in O)this.optionsService.options[E]=O[E]},enumerable:!1,configurable:!0}),b.prototype.dispose=function(){var O;this._isDisposed||(S.prototype.dispose.call(this),(O=this._windowsMode)===null||O===void 0||O.dispose(),this._windowsMode=void 0)},b.prototype.write=function(O,E){this._writeBuffer.write(O,E)},b.prototype.writeSync=function(O,E){this._logService.logLevel<=f.LogLevelEnum.WARN&&!C&&(this._logService.warn("writeSync is unreliable and will be removed soon."),C=!0),this._writeBuffer.writeSync(O,E)},b.prototype.resize=function(O,E){isNaN(O)||isNaN(E)||(O=Math.max(O,m.MINIMUM_COLS),E=Math.max(E,m.MINIMUM_ROWS),this._bufferService.resize(O,E))},b.prototype.scroll=function(O,E){E===void 0&&(E=!1),this._bufferService.scroll(O,E)},b.prototype.scrollLines=function(O,E,B){this._bufferService.scrollLines(O,E,B)},b.prototype.scrollPages=function(O){this._bufferService.scrollPages(O)},b.prototype.scrollToTop=function(){this._bufferService.scrollToTop()},b.prototype.scrollToBottom=function(){this._bufferService.scrollToBottom()},b.prototype.scrollToLine=function(O){this._bufferService.scrollToLine(O)},b.prototype.registerEscHandler=function(O,E){return this._inputHandler.registerEscHandler(O,E)},b.prototype.registerDcsHandler=function(O,E){return this._inputHandler.registerDcsHandler(O,E)},b.prototype.registerCsiHandler=function(O,E){return this._inputHandler.registerCsiHandler(O,E)},b.prototype.registerOscHandler=function(O,E){return this._inputHandler.registerOscHandler(O,E)},b.prototype._setup=function(){this.optionsService.rawOptions.windowsMode&&this._enableWindowsMode()},b.prototype.reset=function(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()},b.prototype._updateOptions=function(O){var E;switch(O){case"scrollback":this.buffers.resize(this.cols,this.rows);break;case"windowsMode":this.optionsService.rawOptions.windowsMode?this._enableWindowsMode():((E=this._windowsMode)===null||E===void 0||E.dispose(),this._windowsMode=void 0)}},b.prototype._enableWindowsMode=function(){var O=this;if(!this._windowsMode){var E=[];E.push(this.onLineFeed(g.updateWindowsModeWrappedState.bind(null,this._bufferService))),E.push(this.registerCsiHandler({final:"H"},function(){return(0,g.updateWindowsModeWrappedState)(O._bufferService),!1})),this._windowsMode={dispose:function(){for(var B=0,A=E;B<A.length;B++)A[B].dispose()}}}},b}(c.Disposable);n.CoreTerminal=k},8460:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.forwardEvent=n.EventEmitter=void 0;var i=function(){function o(){this._listeners=[],this._disposed=!1}return Object.defineProperty(o.prototype,"event",{get:function(){var s=this;return this._event||(this._event=function(c){return s._listeners.push(c),{dispose:function(){if(!s._disposed){for(var f=0;f<s._listeners.length;f++)if(s._listeners[f]===c)return void s._listeners.splice(f,1)}}}}),this._event},enumerable:!1,configurable:!0}),o.prototype.fire=function(s,c){for(var f=[],_=0;_<this._listeners.length;_++)f.push(this._listeners[_]);for(_=0;_<f.length;_++)f[_].call(void 0,s,c)},o.prototype.dispose=function(){this._listeners&&(this._listeners.length=0),this._disposed=!0},o}();n.EventEmitter=i,n.forwardEvent=function(o,s){return o(function(c){return s.fire(c)})}},5435:function(r,n,i){var o,s=this&&this.__extends||(o=function(B,A){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,I){L.__proto__=I}||function(L,I){for(var D in I)Object.prototype.hasOwnProperty.call(I,D)&&(L[D]=I[D])},o(B,A)},function(B,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function L(){this.constructor=B}o(B,A),B.prototype=A===null?Object.create(A):(L.prototype=A.prototype,new L)});Object.defineProperty(n,"__esModule",{value:!0}),n.InputHandler=n.WindowsOptionsReportType=void 0;var c,f=i(2584),_=i(7116),y=i(2015),m=i(844),p=i(8273),v=i(482),d=i(8437),l=i(8460),a=i(643),u=i(511),h=i(3734),g=i(2585),w=i(6242),x=i(6351),C=i(5941),k={"(":0,")":1,"*":2,"+":3,"-":1,".":2},S=131072;function b(B,A){if(B>24)return A.setWinLines||!1;switch(B){case 1:return!!A.restoreWin;case 2:return!!A.minimizeWin;case 3:return!!A.setWinPosition;case 4:return!!A.setWinSizePixels;case 5:return!!A.raiseWin;case 6:return!!A.lowerWin;case 7:return!!A.refreshWin;case 8:return!!A.setWinSizeChars;case 9:return!!A.maximizeWin;case 10:return!!A.fullscreenWin;case 11:return!!A.getWinState;case 13:return!!A.getWinPosition;case 14:return!!A.getWinSizePixels;case 15:return!!A.getScreenSizePixels;case 16:return!!A.getCellSizePixels;case 18:return!!A.getWinSizeChars;case 19:return!!A.getScreenSizeChars;case 20:return!!A.getIconTitle;case 21:return!!A.getWinTitle;case 22:return!!A.pushTitle;case 23:return!!A.popTitle;case 24:return!!A.setWinLines}return!1}(function(B){B[B.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",B[B.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(c=n.WindowsOptionsReportType||(n.WindowsOptionsReportType={}));var O=function(){function B(A,L,I,D){this._bufferService=A,this._coreService=L,this._logService=I,this._optionsService=D,this._data=new Uint32Array(0)}return B.prototype.hook=function(A){this._data=new Uint32Array(0)},B.prototype.put=function(A,L,I){this._data=(0,p.concat)(this._data,A.subarray(L,I))},B.prototype.unhook=function(A){if(!A)return this._data=new Uint32Array(0),!0;var L=(0,v.utf32ToString)(this._data);switch(this._data=new Uint32Array(0),L){case'"q':this._coreService.triggerDataEvent(f.C0.ESC+'P1$r0"q'+f.C0.ESC+"\\");break;case'"p':this._coreService.triggerDataEvent(f.C0.ESC+'P1$r61;1"p'+f.C0.ESC+"\\");break;case"r":var I=this._bufferService.buffer.scrollTop+1+";"+(this._bufferService.buffer.scrollBottom+1)+"r";this._coreService.triggerDataEvent(f.C0.ESC+"P1$r"+I+f.C0.ESC+"\\");break;case"m":this._coreService.triggerDataEvent(f.C0.ESC+"P1$r0m"+f.C0.ESC+"\\");break;case" q":var D={block:2,underline:4,bar:6}[this._optionsService.rawOptions.cursorStyle];D-=this._optionsService.rawOptions.cursorBlink?1:0,this._coreService.triggerDataEvent(f.C0.ESC+"P1$r"+D+" q"+f.C0.ESC+"\\");break;default:this._logService.debug("Unknown DCS $q %s",L),this._coreService.triggerDataEvent(f.C0.ESC+"P0$r"+f.C0.ESC+"\\")}return!0},B}(),E=function(B){function A(L,I,D,j,z,V,oe,re,xe){xe===void 0&&(xe=new y.EscapeSequenceParser);var M=B.call(this)||this;M._bufferService=L,M._charsetService=I,M._coreService=D,M._dirtyRowService=j,M._logService=z,M._optionsService=V,M._coreMouseService=oe,M._unicodeService=re,M._parser=xe,M._parseBuffer=new Uint32Array(4096),M._stringDecoder=new v.StringToUtf32,M._utf8Decoder=new v.Utf8ToUtf32,M._workCell=new u.CellData,M._windowTitle="",M._iconName="",M._windowTitleStack=[],M._iconNameStack=[],M._curAttrData=d.DEFAULT_ATTR_DATA.clone(),M._eraseAttrDataInternal=d.DEFAULT_ATTR_DATA.clone(),M._onRequestBell=new l.EventEmitter,M._onRequestRefreshRows=new l.EventEmitter,M._onRequestReset=new l.EventEmitter,M._onRequestSendFocus=new l.EventEmitter,M._onRequestSyncScrollBar=new l.EventEmitter,M._onRequestWindowsOptionsReport=new l.EventEmitter,M._onA11yChar=new l.EventEmitter,M._onA11yTab=new l.EventEmitter,M._onCursorMove=new l.EventEmitter,M._onLineFeed=new l.EventEmitter,M._onScroll=new l.EventEmitter,M._onTitleChange=new l.EventEmitter,M._onColor=new l.EventEmitter,M._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},M._specialColors=[256,257,258],M.register(M._parser),M._activeBuffer=M._bufferService.buffer,M.register(M._bufferService.buffers.onBufferActivate(function(P){return M._activeBuffer=P.activeBuffer})),M._parser.setCsiHandlerFallback(function(P,Q){M._logService.debug("Unknown CSI code: ",{identifier:M._parser.identToString(P),params:Q.toArray()})}),M._parser.setEscHandlerFallback(function(P){M._logService.debug("Unknown ESC code: ",{identifier:M._parser.identToString(P)})}),M._parser.setExecuteHandlerFallback(function(P){M._logService.debug("Unknown EXECUTE code: ",{code:P})}),M._parser.setOscHandlerFallback(function(P,Q,ne){M._logService.debug("Unknown OSC code: ",{identifier:P,action:Q,data:ne})}),M._parser.setDcsHandlerFallback(function(P,Q,ne){Q==="HOOK"&&(ne=ne.toArray()),M._logService.debug("Unknown DCS code: ",{identifier:M._parser.identToString(P),action:Q,payload:ne})}),M._parser.setPrintHandler(function(P,Q,ne){return M.print(P,Q,ne)}),M._parser.registerCsiHandler({final:"@"},function(P){return M.insertChars(P)}),M._parser.registerCsiHandler({intermediates:" ",final:"@"},function(P){return M.scrollLeft(P)}),M._parser.registerCsiHandler({final:"A"},function(P){return M.cursorUp(P)}),M._parser.registerCsiHandler({intermediates:" ",final:"A"},function(P){return M.scrollRight(P)}),M._parser.registerCsiHandler({final:"B"},function(P){return M.cursorDown(P)}),M._parser.registerCsiHandler({final:"C"},function(P){return M.cursorForward(P)}),M._parser.registerCsiHandler({final:"D"},function(P){return M.cursorBackward(P)}),M._parser.registerCsiHandler({final:"E"},function(P){return M.cursorNextLine(P)}),M._parser.registerCsiHandler({final:"F"},function(P){return M.cursorPrecedingLine(P)}),M._parser.registerCsiHandler({final:"G"},function(P){return M.cursorCharAbsolute(P)}),M._parser.registerCsiHandler({final:"H"},function(P){return M.cursorPosition(P)}),M._parser.registerCsiHandler({final:"I"},function(P){return M.cursorForwardTab(P)}),M._parser.registerCsiHandler({final:"J"},function(P){return M.eraseInDisplay(P)}),M._parser.registerCsiHandler({prefix:"?",final:"J"},function(P){return M.eraseInDisplay(P)}),M._parser.registerCsiHandler({final:"K"},function(P){return M.eraseInLine(P)}),M._parser.registerCsiHandler({prefix:"?",final:"K"},function(P){return M.eraseInLine(P)}),M._parser.registerCsiHandler({final:"L"},function(P){return M.insertLines(P)}),M._parser.registerCsiHandler({final:"M"},function(P){return M.deleteLines(P)}),M._parser.registerCsiHandler({final:"P"},function(P){return M.deleteChars(P)}),M._parser.registerCsiHandler({final:"S"},function(P){return M.scrollUp(P)}),M._parser.registerCsiHandler({final:"T"},function(P){return M.scrollDown(P)}),M._parser.registerCsiHandler({final:"X"},function(P){return M.eraseChars(P)}),M._parser.registerCsiHandler({final:"Z"},function(P){return M.cursorBackwardTab(P)}),M._parser.registerCsiHandler({final:"`"},function(P){return M.charPosAbsolute(P)}),M._parser.registerCsiHandler({final:"a"},function(P){return M.hPositionRelative(P)}),M._parser.registerCsiHandler({final:"b"},function(P){return M.repeatPrecedingCharacter(P)}),M._parser.registerCsiHandler({final:"c"},function(P){return M.sendDeviceAttributesPrimary(P)}),M._parser.registerCsiHandler({prefix:">",final:"c"},function(P){return M.sendDeviceAttributesSecondary(P)}),M._parser.registerCsiHandler({final:"d"},function(P){return M.linePosAbsolute(P)}),M._parser.registerCsiHandler({final:"e"},function(P){return M.vPositionRelative(P)}),M._parser.registerCsiHandler({final:"f"},function(P){return M.hVPosition(P)}),M._parser.registerCsiHandler({final:"g"},function(P){return M.tabClear(P)}),M._parser.registerCsiHandler({final:"h"},function(P){return M.setMode(P)}),M._parser.registerCsiHandler({prefix:"?",final:"h"},function(P){return M.setModePrivate(P)}),M._parser.registerCsiHandler({final:"l"},function(P){return M.resetMode(P)}),M._parser.registerCsiHandler({prefix:"?",final:"l"},function(P){return M.resetModePrivate(P)}),M._parser.registerCsiHandler({final:"m"},function(P){return M.charAttributes(P)}),M._parser.registerCsiHandler({final:"n"},function(P){return M.deviceStatus(P)}),M._parser.registerCsiHandler({prefix:"?",final:"n"},function(P){return M.deviceStatusPrivate(P)}),M._parser.registerCsiHandler({intermediates:"!",final:"p"},function(P){return M.softReset(P)}),M._parser.registerCsiHandler({intermediates:" ",final:"q"},function(P){return M.setCursorStyle(P)}),M._parser.registerCsiHandler({final:"r"},function(P){return M.setScrollRegion(P)}),M._parser.registerCsiHandler({final:"s"},function(P){return M.saveCursor(P)}),M._parser.registerCsiHandler({final:"t"},function(P){return M.windowOptions(P)}),M._parser.registerCsiHandler({final:"u"},function(P){return M.restoreCursor(P)}),M._parser.registerCsiHandler({intermediates:"'",final:"}"},function(P){return M.insertColumns(P)}),M._parser.registerCsiHandler({intermediates:"'",final:"~"},function(P){return M.deleteColumns(P)}),M._parser.setExecuteHandler(f.C0.BEL,function(){return M.bell()}),M._parser.setExecuteHandler(f.C0.LF,function(){return M.lineFeed()}),M._parser.setExecuteHandler(f.C0.VT,function(){return M.lineFeed()}),M._parser.setExecuteHandler(f.C0.FF,function(){return M.lineFeed()}),M._parser.setExecuteHandler(f.C0.CR,function(){return M.carriageReturn()}),M._parser.setExecuteHandler(f.C0.BS,function(){return M.backspace()}),M._parser.setExecuteHandler(f.C0.HT,function(){return M.tab()}),M._parser.setExecuteHandler(f.C0.SO,function(){return M.shiftOut()}),M._parser.setExecuteHandler(f.C0.SI,function(){return M.shiftIn()}),M._parser.setExecuteHandler(f.C1.IND,function(){return M.index()}),M._parser.setExecuteHandler(f.C1.NEL,function(){return M.nextLine()}),M._parser.setExecuteHandler(f.C1.HTS,function(){return M.tabSet()}),M._parser.registerOscHandler(0,new w.OscHandler(function(P){return M.setTitle(P),M.setIconName(P),!0})),M._parser.registerOscHandler(1,new w.OscHandler(function(P){return M.setIconName(P)})),M._parser.registerOscHandler(2,new w.OscHandler(function(P){return M.setTitle(P)})),M._parser.registerOscHandler(4,new w.OscHandler(function(P){return M.setOrReportIndexedColor(P)})),M._parser.registerOscHandler(10,new w.OscHandler(function(P){return M.setOrReportFgColor(P)})),M._parser.registerOscHandler(11,new w.OscHandler(function(P){return M.setOrReportBgColor(P)})),M._parser.registerOscHandler(12,new w.OscHandler(function(P){return M.setOrReportCursorColor(P)})),M._parser.registerOscHandler(104,new w.OscHandler(function(P){return M.restoreIndexedColor(P)})),M._parser.registerOscHandler(110,new w.OscHandler(function(P){return M.restoreFgColor(P)})),M._parser.registerOscHandler(111,new w.OscHandler(function(P){return M.restoreBgColor(P)})),M._parser.registerOscHandler(112,new w.OscHandler(function(P){return M.restoreCursorColor(P)})),M._parser.registerEscHandler({final:"7"},function(){return M.saveCursor()}),M._parser.registerEscHandler({final:"8"},function(){return M.restoreCursor()}),M._parser.registerEscHandler({final:"D"},function(){return M.index()}),M._parser.registerEscHandler({final:"E"},function(){return M.nextLine()}),M._parser.registerEscHandler({final:"H"},function(){return M.tabSet()}),M._parser.registerEscHandler({final:"M"},function(){return M.reverseIndex()}),M._parser.registerEscHandler({final:"="},function(){return M.keypadApplicationMode()}),M._parser.registerEscHandler({final:">"},function(){return M.keypadNumericMode()}),M._parser.registerEscHandler({final:"c"},function(){return M.fullReset()}),M._parser.registerEscHandler({final:"n"},function(){return M.setgLevel(2)}),M._parser.registerEscHandler({final:"o"},function(){return M.setgLevel(3)}),M._parser.registerEscHandler({final:"|"},function(){return M.setgLevel(3)}),M._parser.registerEscHandler({final:"}"},function(){return M.setgLevel(2)}),M._parser.registerEscHandler({final:"~"},function(){return M.setgLevel(1)}),M._parser.registerEscHandler({intermediates:"%",final:"@"},function(){return M.selectDefaultCharset()}),M._parser.registerEscHandler({intermediates:"%",final:"G"},function(){return M.selectDefaultCharset()});var W=function(P){R._parser.registerEscHandler({intermediates:"(",final:P},function(){return M.selectCharset("("+P)}),R._parser.registerEscHandler({intermediates:")",final:P},function(){return M.selectCharset(")"+P)}),R._parser.registerEscHandler({intermediates:"*",final:P},function(){return M.selectCharset("*"+P)}),R._parser.registerEscHandler({intermediates:"+",final:P},function(){return M.selectCharset("+"+P)}),R._parser.registerEscHandler({intermediates:"-",final:P},function(){return M.selectCharset("-"+P)}),R._parser.registerEscHandler({intermediates:".",final:P},function(){return M.selectCharset("."+P)}),R._parser.registerEscHandler({intermediates:"/",final:P},function(){return M.selectCharset("/"+P)})},R=this;for(var N in _.CHARSETS)W(N);return M._parser.registerEscHandler({intermediates:"#",final:"8"},function(){return M.screenAlignmentPattern()}),M._parser.setErrorHandler(function(P){return M._logService.error("Parsing error: ",P),P}),M._parser.registerDcsHandler({intermediates:"$",final:"q"},new O(M._bufferService,M._coreService,M._logService,M._optionsService)),M}return s(A,B),Object.defineProperty(A.prototype,"onRequestBell",{get:function(){return this._onRequestBell.event},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"onRequestRefreshRows",{get:function(){return this._onRequestRefreshRows.event},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"onRequestReset",{get:function(){return this._onRequestReset.event},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"onRequestSendFocus",{get:function(){return this._onRequestSendFocus.event},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"onRequestSyncScrollBar",{get:function(){return this._onRequestSyncScrollBar.event},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"onRequestWindowsOptionsReport",{get:function(){return this._onRequestWindowsOptionsReport.event},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"onA11yChar",{get:function(){return this._onA11yChar.event},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"onA11yTab",{get:function(){return this._onA11yTab.event},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"onCursorMove",{get:function(){return this._onCursorMove.event},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"onLineFeed",{get:function(){return this._onLineFeed.event},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"onScroll",{get:function(){return this._onScroll.event},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"onTitleChange",{get:function(){return this._onTitleChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"onColor",{get:function(){return this._onColor.event},enumerable:!1,configurable:!0}),A.prototype.dispose=function(){B.prototype.dispose.call(this)},A.prototype._preserveStack=function(L,I,D,j){this._parseStack.paused=!0,this._parseStack.cursorStartX=L,this._parseStack.cursorStartY=I,this._parseStack.decodedLength=D,this._parseStack.position=j},A.prototype._logSlowResolvingAsync=function(L){this._logService.logLevel<=g.LogLevelEnum.WARN&&Promise.race([L,new Promise(function(I,D){return setTimeout(function(){return D("#SLOW_TIMEOUT")},5e3)})]).catch(function(I){if(I!=="#SLOW_TIMEOUT")throw I;console.warn("async parser handler taking longer than 5000 ms")})},A.prototype.parse=function(L,I){var D,j=this._activeBuffer.x,z=this._activeBuffer.y,V=0,oe=this._parseStack.paused;if(oe){if(D=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,I))return this._logSlowResolvingAsync(D),D;j=this._parseStack.cursorStartX,z=this._parseStack.cursorStartY,this._parseStack.paused=!1,L.length>S&&(V=this._parseStack.position+S)}if(this._logService.logLevel<=g.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof L=="string"?' "'+L+'"':' "'+Array.prototype.map.call(L,function(W){return String.fromCharCode(W)}).join("")+'"'),typeof L=="string"?L.split("").map(function(W){return W.charCodeAt(0)}):L),this._parseBuffer.length<L.length&&this._parseBuffer.length<S&&(this._parseBuffer=new Uint32Array(Math.min(L.length,S))),oe||this._dirtyRowService.clearRange(),L.length>S)for(var re=V;re<L.length;re+=S){var xe=re+S<L.length?re+S:L.length,M=typeof L=="string"?this._stringDecoder.decode(L.substring(re,xe),this._parseBuffer):this._utf8Decoder.decode(L.subarray(re,xe),this._parseBuffer);if(D=this._parser.parse(this._parseBuffer,M))return this._preserveStack(j,z,M,re),this._logSlowResolvingAsync(D),D}else if(!oe&&(M=typeof L=="string"?this._stringDecoder.decode(L,this._parseBuffer):this._utf8Decoder.decode(L,this._parseBuffer),D=this._parser.parse(this._parseBuffer,M)))return this._preserveStack(j,z,M,0),this._logSlowResolvingAsync(D),D;this._activeBuffer.x===j&&this._activeBuffer.y===z||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowService.start,this._dirtyRowService.end)},A.prototype.print=function(L,I,D){var j,z,V=this._charsetService.charset,oe=this._optionsService.rawOptions.screenReaderMode,re=this._bufferService.cols,xe=this._coreService.decPrivateModes.wraparound,M=this._coreService.modes.insertMode,W=this._curAttrData,R=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowService.markDirty(this._activeBuffer.y),this._activeBuffer.x&&D-I>0&&R.getWidth(this._activeBuffer.x-1)===2&&R.setCellFromCodePoint(this._activeBuffer.x-1,0,1,W.fg,W.bg,W.extended);for(var N=I;N<D;++N){if(j=L[N],z=this._unicodeService.wcwidth(j),j<127&&V){var P=V[String.fromCharCode(j)];P&&(j=P.charCodeAt(0))}if(oe&&this._onA11yChar.fire((0,v.stringFromCodePoint)(j)),z||!this._activeBuffer.x){if(this._activeBuffer.x+z-1>=re){if(xe){for(;this._activeBuffer.x<re;)R.setCellFromCodePoint(this._activeBuffer.x++,0,1,W.fg,W.bg,W.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),R=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=re-1,z===2)continue}if(M&&(R.insertCells(this._activeBuffer.x,z,this._activeBuffer.getNullCell(W),W),R.getWidth(re-1)===2&&R.setCellFromCodePoint(re-1,a.NULL_CELL_CODE,a.NULL_CELL_WIDTH,W.fg,W.bg,W.extended)),R.setCellFromCodePoint(this._activeBuffer.x++,j,z,W.fg,W.bg,W.extended),z>0)for(;--z;)R.setCellFromCodePoint(this._activeBuffer.x++,0,0,W.fg,W.bg,W.extended)}else R.getWidth(this._activeBuffer.x-1)?R.addCodepointToCell(this._activeBuffer.x-1,j):R.addCodepointToCell(this._activeBuffer.x-2,j)}D-I>0&&(R.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<re&&D-I>0&&R.getWidth(this._activeBuffer.x)===0&&!R.hasContent(this._activeBuffer.x)&&R.setCellFromCodePoint(this._activeBuffer.x,0,1,W.fg,W.bg,W.extended),this._dirtyRowService.markDirty(this._activeBuffer.y)},A.prototype.registerCsiHandler=function(L,I){var D=this;return L.final!=="t"||L.prefix||L.intermediates?this._parser.registerCsiHandler(L,I):this._parser.registerCsiHandler(L,function(j){return!b(j.params[0],D._optionsService.rawOptions.windowOptions)||I(j)})},A.prototype.registerDcsHandler=function(L,I){return this._parser.registerDcsHandler(L,new x.DcsHandler(I))},A.prototype.registerEscHandler=function(L,I){return this._parser.registerEscHandler(L,I)},A.prototype.registerOscHandler=function(L,I){return this._parser.registerOscHandler(L,new w.OscHandler(I))},A.prototype.bell=function(){return this._onRequestBell.fire(),!0},A.prototype.lineFeed=function(){return this._dirtyRowService.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowService.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0},A.prototype.carriageReturn=function(){return this._activeBuffer.x=0,!0},A.prototype.backspace=function(){var L;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&((L=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||L===void 0?void 0:L.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;var I=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);I.hasWidth(this._activeBuffer.x)&&!I.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0},A.prototype.tab=function(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;var L=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-L),!0},A.prototype.shiftOut=function(){return this._charsetService.setgLevel(1),!0},A.prototype.shiftIn=function(){return this._charsetService.setgLevel(0),!0},A.prototype._restrictCursor=function(L){L===void 0&&(L=this._bufferService.cols-1),this._activeBuffer.x=Math.min(L,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowService.markDirty(this._activeBuffer.y)},A.prototype._setCursor=function(L,I){this._dirtyRowService.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=L,this._activeBuffer.y=this._activeBuffer.scrollTop+I):(this._activeBuffer.x=L,this._activeBuffer.y=I),this._restrictCursor(),this._dirtyRowService.markDirty(this._activeBuffer.y)},A.prototype._moveCursor=function(L,I){this._restrictCursor(),this._setCursor(this._activeBuffer.x+L,this._activeBuffer.y+I)},A.prototype.cursorUp=function(L){var I=this._activeBuffer.y-this._activeBuffer.scrollTop;return I>=0?this._moveCursor(0,-Math.min(I,L.params[0]||1)):this._moveCursor(0,-(L.params[0]||1)),!0},A.prototype.cursorDown=function(L){var I=this._activeBuffer.scrollBottom-this._activeBuffer.y;return I>=0?this._moveCursor(0,Math.min(I,L.params[0]||1)):this._moveCursor(0,L.params[0]||1),!0},A.prototype.cursorForward=function(L){return this._moveCursor(L.params[0]||1,0),!0},A.prototype.cursorBackward=function(L){return this._moveCursor(-(L.params[0]||1),0),!0},A.prototype.cursorNextLine=function(L){return this.cursorDown(L),this._activeBuffer.x=0,!0},A.prototype.cursorPrecedingLine=function(L){return this.cursorUp(L),this._activeBuffer.x=0,!0},A.prototype.cursorCharAbsolute=function(L){return this._setCursor((L.params[0]||1)-1,this._activeBuffer.y),!0},A.prototype.cursorPosition=function(L){return this._setCursor(L.length>=2?(L.params[1]||1)-1:0,(L.params[0]||1)-1),!0},A.prototype.charPosAbsolute=function(L){return this._setCursor((L.params[0]||1)-1,this._activeBuffer.y),!0},A.prototype.hPositionRelative=function(L){return this._moveCursor(L.params[0]||1,0),!0},A.prototype.linePosAbsolute=function(L){return this._setCursor(this._activeBuffer.x,(L.params[0]||1)-1),!0},A.prototype.vPositionRelative=function(L){return this._moveCursor(0,L.params[0]||1),!0},A.prototype.hVPosition=function(L){return this.cursorPosition(L),!0},A.prototype.tabClear=function(L){var I=L.params[0];return I===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:I===3&&(this._activeBuffer.tabs={}),!0},A.prototype.cursorForwardTab=function(L){if(this._activeBuffer.x>=this._bufferService.cols)return!0;for(var I=L.params[0]||1;I--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0},A.prototype.cursorBackwardTab=function(L){if(this._activeBuffer.x>=this._bufferService.cols)return!0;for(var I=L.params[0]||1;I--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0},A.prototype._eraseInBufferLine=function(L,I,D,j){j===void 0&&(j=!1);var z=this._activeBuffer.lines.get(this._activeBuffer.ybase+L);z.replaceCells(I,D,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),j&&(z.isWrapped=!1)},A.prototype._resetBufferLine=function(L){var I=this._activeBuffer.lines.get(this._activeBuffer.ybase+L);I.fill(this._activeBuffer.getNullCell(this._eraseAttrData())),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+L),I.isWrapped=!1},A.prototype.eraseInDisplay=function(L){var I;switch(this._restrictCursor(this._bufferService.cols),L.params[0]){case 0:for(I=this._activeBuffer.y,this._dirtyRowService.markDirty(I),this._eraseInBufferLine(I++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0);I<this._bufferService.rows;I++)this._resetBufferLine(I);this._dirtyRowService.markDirty(I);break;case 1:for(I=this._activeBuffer.y,this._dirtyRowService.markDirty(I),this._eraseInBufferLine(I,0,this._activeBuffer.x+1,!0),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(I+1).isWrapped=!1);I--;)this._resetBufferLine(I);this._dirtyRowService.markDirty(0);break;case 2:for(I=this._bufferService.rows,this._dirtyRowService.markDirty(I-1);I--;)this._resetBufferLine(I);this._dirtyRowService.markDirty(0);break;case 3:var D=this._activeBuffer.lines.length-this._bufferService.rows;D>0&&(this._activeBuffer.lines.trimStart(D),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-D,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-D,0),this._onScroll.fire(0))}return!0},A.prototype.eraseInLine=function(L){switch(this._restrictCursor(this._bufferService.cols),L.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0)}return this._dirtyRowService.markDirty(this._activeBuffer.y),!0},A.prototype.insertLines=function(L){this._restrictCursor();var I=L.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var D=this._activeBuffer.ybase+this._activeBuffer.y,j=this._bufferService.rows-1-this._activeBuffer.scrollBottom,z=this._bufferService.rows-1+this._activeBuffer.ybase-j+1;I--;)this._activeBuffer.lines.splice(z-1,1),this._activeBuffer.lines.splice(D,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0},A.prototype.deleteLines=function(L){this._restrictCursor();var I=L.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;var D,j=this._activeBuffer.ybase+this._activeBuffer.y;for(D=this._bufferService.rows-1-this._activeBuffer.scrollBottom,D=this._bufferService.rows-1+this._activeBuffer.ybase-D;I--;)this._activeBuffer.lines.splice(j,1),this._activeBuffer.lines.splice(D,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0},A.prototype.insertChars=function(L){this._restrictCursor();var I=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return I&&(I.insertCells(this._activeBuffer.x,L.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0},A.prototype.deleteChars=function(L){this._restrictCursor();var I=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return I&&(I.deleteCells(this._activeBuffer.x,L.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0},A.prototype.scrollUp=function(L){for(var I=L.params[0]||1;I--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},A.prototype.scrollDown=function(L){for(var I=L.params[0]||1;I--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(d.DEFAULT_ATTR_DATA));return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},A.prototype.scrollLeft=function(L){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var I=L.params[0]||1,D=this._activeBuffer.scrollTop;D<=this._activeBuffer.scrollBottom;++D){var j=this._activeBuffer.lines.get(this._activeBuffer.ybase+D);j.deleteCells(0,I,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),j.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},A.prototype.scrollRight=function(L){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var I=L.params[0]||1,D=this._activeBuffer.scrollTop;D<=this._activeBuffer.scrollBottom;++D){var j=this._activeBuffer.lines.get(this._activeBuffer.ybase+D);j.insertCells(0,I,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),j.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},A.prototype.insertColumns=function(L){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var I=L.params[0]||1,D=this._activeBuffer.scrollTop;D<=this._activeBuffer.scrollBottom;++D){var j=this._activeBuffer.lines.get(this._activeBuffer.ybase+D);j.insertCells(this._activeBuffer.x,I,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),j.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},A.prototype.deleteColumns=function(L){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var I=L.params[0]||1,D=this._activeBuffer.scrollTop;D<=this._activeBuffer.scrollBottom;++D){var j=this._activeBuffer.lines.get(this._activeBuffer.ybase+D);j.deleteCells(this._activeBuffer.x,I,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),j.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},A.prototype.eraseChars=function(L){this._restrictCursor();var I=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return I&&(I.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(L.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0},A.prototype.repeatPrecedingCharacter=function(L){if(!this._parser.precedingCodepoint)return!0;for(var I=L.params[0]||1,D=new Uint32Array(I),j=0;j<I;++j)D[j]=this._parser.precedingCodepoint;return this.print(D,0,D.length),!0},A.prototype.sendDeviceAttributesPrimary=function(L){return L.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(f.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(f.C0.ESC+"[?6c")),!0},A.prototype.sendDeviceAttributesSecondary=function(L){return L.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(f.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(f.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(L.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(f.C0.ESC+"[>83;40003;0c")),!0},A.prototype._is=function(L){return(this._optionsService.rawOptions.termName+"").indexOf(L)===0},A.prototype.setMode=function(L){for(var I=0;I<L.length;I++)L.params[I]===4&&(this._coreService.modes.insertMode=!0);return!0},A.prototype.setModePrivate=function(L){for(var I=0;I<L.length;I++)switch(L.params[I]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,_.DEFAULT_CHARSET),this._charsetService.setgCharset(1,_.DEFAULT_CHARSET),this._charsetService.setgCharset(2,_.DEFAULT_CHARSET),this._charsetService.setgCharset(3,_.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0},A.prototype.resetMode=function(L){for(var I=0;I<L.length;I++)L.params[I]===4&&(this._coreService.modes.insertMode=!1);return!0},A.prototype.resetModePrivate=function(L){for(var I=0;I<L.length;I++)switch(L.params[I]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),L.params[I]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0},A.prototype._updateAttrColor=function(L,I,D,j,z){return I===2?(L|=50331648,L&=-16777216,L|=h.AttributeData.fromColorRGB([D,j,z])):I===5&&(L&=-50331904,L|=33554432|255&D),L},A.prototype._extractColor=function(L,I,D){var j=[0,0,-1,0,0,0],z=0,V=0;do{if(j[V+z]=L.params[I+V],L.hasSubParams(I+V)){var oe=L.getSubParams(I+V),re=0;do j[1]===5&&(z=1),j[V+re+1+z]=oe[re];while(++re<oe.length&&re+V+1+z<j.length);break}if(j[1]===5&&V+z>=2||j[1]===2&&V+z>=5)break;j[1]&&(z=1)}while(++V+I<L.length&&V+z<j.length);for(re=2;re<j.length;++re)j[re]===-1&&(j[re]=0);switch(j[0]){case 38:D.fg=this._updateAttrColor(D.fg,j[1],j[3],j[4],j[5]);break;case 48:D.bg=this._updateAttrColor(D.bg,j[1],j[3],j[4],j[5]);break;case 58:D.extended=D.extended.clone(),D.extended.underlineColor=this._updateAttrColor(D.extended.underlineColor,j[1],j[3],j[4],j[5])}return V},A.prototype._processUnderline=function(L,I){I.extended=I.extended.clone(),(!~L||L>5)&&(L=1),I.extended.underlineStyle=L,I.fg|=268435456,L===0&&(I.fg&=-268435457),I.updateExtended()},A.prototype.charAttributes=function(L){if(L.length===1&&L.params[0]===0)return this._curAttrData.fg=d.DEFAULT_ATTR_DATA.fg,this._curAttrData.bg=d.DEFAULT_ATTR_DATA.bg,!0;for(var I,D=L.length,j=this._curAttrData,z=0;z<D;z++)(I=L.params[z])>=30&&I<=37?(j.fg&=-50331904,j.fg|=16777216|I-30):I>=40&&I<=47?(j.bg&=-50331904,j.bg|=16777216|I-40):I>=90&&I<=97?(j.fg&=-50331904,j.fg|=16777224|I-90):I>=100&&I<=107?(j.bg&=-50331904,j.bg|=16777224|I-100):I===0?(j.fg=d.DEFAULT_ATTR_DATA.fg,j.bg=d.DEFAULT_ATTR_DATA.bg):I===1?j.fg|=134217728:I===3?j.bg|=67108864:I===4?(j.fg|=268435456,this._processUnderline(L.hasSubParams(z)?L.getSubParams(z)[0]:1,j)):I===5?j.fg|=536870912:I===7?j.fg|=67108864:I===8?j.fg|=1073741824:I===9?j.fg|=2147483648:I===2?j.bg|=134217728:I===21?this._processUnderline(2,j):I===22?(j.fg&=-134217729,j.bg&=-134217729):I===23?j.bg&=-67108865:I===24?j.fg&=-268435457:I===25?j.fg&=-536870913:I===27?j.fg&=-67108865:I===28?j.fg&=-1073741825:I===29?j.fg&=2147483647:I===39?(j.fg&=-67108864,j.fg|=16777215&d.DEFAULT_ATTR_DATA.fg):I===49?(j.bg&=-67108864,j.bg|=16777215&d.DEFAULT_ATTR_DATA.bg):I===38||I===48||I===58?z+=this._extractColor(L,z,j):I===59?(j.extended=j.extended.clone(),j.extended.underlineColor=-1,j.updateExtended()):I===100?(j.fg&=-67108864,j.fg|=16777215&d.DEFAULT_ATTR_DATA.fg,j.bg&=-67108864,j.bg|=16777215&d.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",I);return!0},A.prototype.deviceStatus=function(L){switch(L.params[0]){case 5:this._coreService.triggerDataEvent(f.C0.ESC+"[0n");break;case 6:var I=this._activeBuffer.y+1,D=this._activeBuffer.x+1;this._coreService.triggerDataEvent(f.C0.ESC+"["+I+";"+D+"R")}return!0},A.prototype.deviceStatusPrivate=function(L){if(L.params[0]===6){var I=this._activeBuffer.y+1,D=this._activeBuffer.x+1;this._coreService.triggerDataEvent(f.C0.ESC+"[?"+I+";"+D+"R")}return!0},A.prototype.softReset=function(L){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=d.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0},A.prototype.setCursorStyle=function(L){var I=L.params[0]||1;switch(I){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}var D=I%2==1;return this._optionsService.options.cursorBlink=D,!0},A.prototype.setScrollRegion=function(L){var I,D=L.params[0]||1;return(L.length<2||(I=L.params[1])>this._bufferService.rows||I===0)&&(I=this._bufferService.rows),I>D&&(this._activeBuffer.scrollTop=D-1,this._activeBuffer.scrollBottom=I-1,this._setCursor(0,0)),!0},A.prototype.windowOptions=function(L){if(!b(L.params[0],this._optionsService.rawOptions.windowOptions))return!0;var I=L.length>1?L.params[1]:0;switch(L.params[0]){case 14:I!==2&&this._onRequestWindowsOptionsReport.fire(c.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(c.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(f.C0.ESC+"[8;"+this._bufferService.rows+";"+this._bufferService.cols+"t");break;case 22:I!==0&&I!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),I!==0&&I!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:I!==0&&I!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),I!==0&&I!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0},A.prototype.saveCursor=function(L){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0},A.prototype.restoreCursor=function(L){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0},A.prototype.setTitle=function(L){return this._windowTitle=L,this._onTitleChange.fire(L),!0},A.prototype.setIconName=function(L){return this._iconName=L,!0},A.prototype.setOrReportIndexedColor=function(L){for(var I=[],D=L.split(";");D.length>1;){var j=D.shift(),z=D.shift();if(/^\d+$/.exec(j)){var V=parseInt(j);if(0<=V&&V<256)if(z==="?")I.push({type:0,index:V});else{var oe=(0,C.parseColor)(z);oe&&I.push({type:1,index:V,color:oe})}}}return I.length&&this._onColor.fire(I),!0},A.prototype._setOrReportSpecialColor=function(L,I){for(var D=L.split(";"),j=0;j<D.length&&!(I>=this._specialColors.length);++j,++I)if(D[j]==="?")this._onColor.fire([{type:0,index:this._specialColors[I]}]);else{var z=(0,C.parseColor)(D[j]);z&&this._onColor.fire([{type:1,index:this._specialColors[I],color:z}])}return!0},A.prototype.setOrReportFgColor=function(L){return this._setOrReportSpecialColor(L,0)},A.prototype.setOrReportBgColor=function(L){return this._setOrReportSpecialColor(L,1)},A.prototype.setOrReportCursorColor=function(L){return this._setOrReportSpecialColor(L,2)},A.prototype.restoreIndexedColor=function(L){if(!L)return this._onColor.fire([{type:2}]),!0;for(var I=[],D=L.split(";"),j=0;j<D.length;++j)if(/^\d+$/.exec(D[j])){var z=parseInt(D[j]);0<=z&&z<256&&I.push({type:2,index:z})}return I.length&&this._onColor.fire(I),!0},A.prototype.restoreFgColor=function(L){return this._onColor.fire([{type:2,index:256}]),!0},A.prototype.restoreBgColor=function(L){return this._onColor.fire([{type:2,index:257}]),!0},A.prototype.restoreCursorColor=function(L){return this._onColor.fire([{type:2,index:258}]),!0},A.prototype.nextLine=function(){return this._activeBuffer.x=0,this.index(),!0},A.prototype.keypadApplicationMode=function(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0},A.prototype.keypadNumericMode=function(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0},A.prototype.selectDefaultCharset=function(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,_.DEFAULT_CHARSET),!0},A.prototype.selectCharset=function(L){return L.length!==2?(this.selectDefaultCharset(),!0):(L[0]==="/"||this._charsetService.setgCharset(k[L[0]],_.CHARSETS[L[1]]||_.DEFAULT_CHARSET),!0)},A.prototype.index=function(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0},A.prototype.tabSet=function(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0},A.prototype.reverseIndex=function(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){var L=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,L,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0},A.prototype.fullReset=function(){return this._parser.reset(),this._onRequestReset.fire(),!0},A.prototype.reset=function(){this._curAttrData=d.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=d.DEFAULT_ATTR_DATA.clone()},A.prototype._eraseAttrData=function(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal},A.prototype.setgLevel=function(L){return this._charsetService.setgLevel(L),!0},A.prototype.screenAlignmentPattern=function(){var L=new u.CellData;L.content=1<<22|"E".charCodeAt(0),L.fg=this._curAttrData.fg,L.bg=this._curAttrData.bg,this._setCursor(0,0);for(var I=0;I<this._bufferService.rows;++I){var D=this._activeBuffer.ybase+this._activeBuffer.y+I,j=this._activeBuffer.lines.get(D);j&&(j.fill(L),j.isWrapped=!1)}return this._dirtyRowService.markAllDirty(),this._setCursor(0,0),!0},A}(m.Disposable);n.InputHandler=E},844:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.getDisposeArrayDisposable=n.disposeArray=n.Disposable=void 0;var i=function(){function s(){this._disposables=[],this._isDisposed=!1}return s.prototype.dispose=function(){this._isDisposed=!0;for(var c=0,f=this._disposables;c<f.length;c++)f[c].dispose();this._disposables.length=0},s.prototype.register=function(c){return this._disposables.push(c),c},s.prototype.unregister=function(c){var f=this._disposables.indexOf(c);f!==-1&&this._disposables.splice(f,1)},s}();function o(s){for(var c=0,f=s;c<f.length;c++)f[c].dispose();s.length=0}n.Disposable=i,n.disposeArray=o,n.getDisposeArrayDisposable=function(s){return{dispose:function(){return o(s)}}}},6114:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.isLinux=n.isWindows=n.isIphone=n.isIpad=n.isMac=n.isSafari=n.isLegacyEdge=n.isFirefox=void 0;var i=typeof navigator>"u",o=i?"node":navigator.userAgent,s=i?"node":navigator.platform;n.isFirefox=o.includes("Firefox"),n.isLegacyEdge=o.includes("Edge"),n.isSafari=/^((?!chrome|android).)*safari/i.test(o),n.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(s),n.isIpad=s==="iPad",n.isIphone=s==="iPhone",n.isWindows=["Windows","Win16","Win32","WinCE"].includes(s),n.isLinux=s.indexOf("Linux")>=0},8273:(r,n)=>{function i(o,s,c,f){if(c===void 0&&(c=0),f===void 0&&(f=o.length),c>=o.length)return o;c=(o.length+c)%o.length,f=f>=o.length?o.length:(o.length+f)%o.length;for(var _=c;_<f;++_)o[_]=s;return o}Object.defineProperty(n,"__esModule",{value:!0}),n.concat=n.fillFallback=n.fill=void 0,n.fill=function(o,s,c,f){return o.fill?o.fill(s,c,f):i(o,s,c,f)},n.fillFallback=i,n.concat=function(o,s){var c=new o.constructor(o.length+s.length);return c.set(o),c.set(s,o.length),c}},9282:(r,n,i)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.updateWindowsModeWrappedState=void 0;var o=i(643);n.updateWindowsModeWrappedState=function(s){var c=s.buffer.lines.get(s.buffer.ybase+s.buffer.y-1),f=c?.get(s.cols-1),_=s.buffer.lines.get(s.buffer.ybase+s.buffer.y);_&&f&&(_.isWrapped=f[o.CHAR_DATA_CODE_INDEX]!==o.NULL_CELL_CODE&&f[o.CHAR_DATA_CODE_INDEX]!==o.WHITESPACE_CELL_CODE)}},3734:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ExtendedAttrs=n.AttributeData=void 0;var i=function(){function s(){this.fg=0,this.bg=0,this.extended=new o}return s.toColorRGB=function(c){return[c>>>16&255,c>>>8&255,255&c]},s.fromColorRGB=function(c){return(255&c[0])<<16|(255&c[1])<<8|255&c[2]},s.prototype.clone=function(){var c=new s;return c.fg=this.fg,c.bg=this.bg,c.extended=this.extended.clone(),c},s.prototype.isInverse=function(){return 67108864&this.fg},s.prototype.isBold=function(){return 134217728&this.fg},s.prototype.isUnderline=function(){return 268435456&this.fg},s.prototype.isBlink=function(){return 536870912&this.fg},s.prototype.isInvisible=function(){return 1073741824&this.fg},s.prototype.isItalic=function(){return 67108864&this.bg},s.prototype.isDim=function(){return 134217728&this.bg},s.prototype.isStrikethrough=function(){return 2147483648&this.fg},s.prototype.getFgColorMode=function(){return 50331648&this.fg},s.prototype.getBgColorMode=function(){return 50331648&this.bg},s.prototype.isFgRGB=function(){return(50331648&this.fg)==50331648},s.prototype.isBgRGB=function(){return(50331648&this.bg)==50331648},s.prototype.isFgPalette=function(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432},s.prototype.isBgPalette=function(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432},s.prototype.isFgDefault=function(){return(50331648&this.fg)==0},s.prototype.isBgDefault=function(){return(50331648&this.bg)==0},s.prototype.isAttributeDefault=function(){return this.fg===0&&this.bg===0},s.prototype.getFgColor=function(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}},s.prototype.getBgColor=function(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}},s.prototype.hasExtendedAttrs=function(){return 268435456&this.bg},s.prototype.updateExtended=function(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456},s.prototype.getUnderlineColor=function(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()},s.prototype.getUnderlineColorMode=function(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()},s.prototype.isUnderlineColorRGB=function(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()},s.prototype.isUnderlineColorPalette=function(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()},s.prototype.isUnderlineColorDefault=function(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()},s.prototype.getUnderlineStyle=function(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0},s}();n.AttributeData=i;var o=function(){function s(c,f){c===void 0&&(c=0),f===void 0&&(f=-1),this.underlineStyle=c,this.underlineColor=f}return s.prototype.clone=function(){return new s(this.underlineStyle,this.underlineColor)},s.prototype.isEmpty=function(){return this.underlineStyle===0},s}();n.ExtendedAttrs=o},9092:(r,n,i)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferStringIterator=n.Buffer=n.MAX_BUFFER_SIZE=void 0;var o=i(6349),s=i(8437),c=i(511),f=i(643),_=i(4634),y=i(4863),m=i(7116),p=i(3734);n.MAX_BUFFER_SIZE=4294967295;var v=function(){function l(a,u,h){this._hasScrollback=a,this._optionsService=u,this._bufferService=h,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.savedY=0,this.savedX=0,this.savedCurAttrData=s.DEFAULT_ATTR_DATA.clone(),this.savedCharset=m.DEFAULT_CHARSET,this.markers=[],this._nullCell=c.CellData.fromCharData([0,f.NULL_CELL_CHAR,f.NULL_CELL_WIDTH,f.NULL_CELL_CODE]),this._whitespaceCell=c.CellData.fromCharData([0,f.WHITESPACE_CELL_CHAR,f.WHITESPACE_CELL_WIDTH,f.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new o.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}return l.prototype.getNullCell=function(a){return a?(this._nullCell.fg=a.fg,this._nullCell.bg=a.bg,this._nullCell.extended=a.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new p.ExtendedAttrs),this._nullCell},l.prototype.getWhitespaceCell=function(a){return a?(this._whitespaceCell.fg=a.fg,this._whitespaceCell.bg=a.bg,this._whitespaceCell.extended=a.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new p.ExtendedAttrs),this._whitespaceCell},l.prototype.getBlankLine=function(a,u){return new s.BufferLine(this._bufferService.cols,this.getNullCell(a),u)},Object.defineProperty(l.prototype,"hasScrollback",{get:function(){return this._hasScrollback&&this.lines.maxLength>this._rows},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isCursorInViewport",{get:function(){var a=this.ybase+this.y-this.ydisp;return a>=0&&a<this._rows},enumerable:!1,configurable:!0}),l.prototype._getCorrectBufferLength=function(a){if(!this._hasScrollback)return a;var u=a+this._optionsService.rawOptions.scrollback;return u>n.MAX_BUFFER_SIZE?n.MAX_BUFFER_SIZE:u},l.prototype.fillViewportRows=function(a){if(this.lines.length===0){a===void 0&&(a=s.DEFAULT_ATTR_DATA);for(var u=this._rows;u--;)this.lines.push(this.getBlankLine(a))}},l.prototype.clear=function(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new o.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()},l.prototype.resize=function(a,u){var h=this.getNullCell(s.DEFAULT_ATTR_DATA),g=this._getCorrectBufferLength(u);if(g>this.lines.maxLength&&(this.lines.maxLength=g),this.lines.length>0){if(this._cols<a)for(var w=0;w<this.lines.length;w++)this.lines.get(w).resize(a,h);var x=0;if(this._rows<u)for(var C=this._rows;C<u;C++)this.lines.length<u+this.ybase&&(this._optionsService.rawOptions.windowsMode?this.lines.push(new s.BufferLine(a,h)):this.ybase>0&&this.lines.length<=this.ybase+this.y+x+1?(this.ybase--,x++,this.ydisp>0&&this.ydisp--):this.lines.push(new s.BufferLine(a,h)));else for(C=this._rows;C>u;C--)this.lines.length>u+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(g<this.lines.maxLength){var k=this.lines.length-g;k>0&&(this.lines.trimStart(k),this.ybase=Math.max(this.ybase-k,0),this.ydisp=Math.max(this.ydisp-k,0),this.savedY=Math.max(this.savedY-k,0)),this.lines.maxLength=g}this.x=Math.min(this.x,a-1),this.y=Math.min(this.y,u-1),x&&(this.y+=x),this.savedX=Math.min(this.savedX,a-1),this.scrollTop=0}if(this.scrollBottom=u-1,this._isReflowEnabled&&(this._reflow(a,u),this._cols>a))for(w=0;w<this.lines.length;w++)this.lines.get(w).resize(a,h);this._cols=a,this._rows=u},Object.defineProperty(l.prototype,"_isReflowEnabled",{get:function(){return this._hasScrollback&&!this._optionsService.rawOptions.windowsMode},enumerable:!1,configurable:!0}),l.prototype._reflow=function(a,u){this._cols!==a&&(a>this._cols?this._reflowLarger(a,u):this._reflowSmaller(a,u))},l.prototype._reflowLarger=function(a,u){var h=(0,_.reflowLargerGetLinesToRemove)(this.lines,this._cols,a,this.ybase+this.y,this.getNullCell(s.DEFAULT_ATTR_DATA));if(h.length>0){var g=(0,_.reflowLargerCreateNewLayout)(this.lines,h);(0,_.reflowLargerApplyNewLayout)(this.lines,g.layout),this._reflowLargerAdjustViewport(a,u,g.countRemoved)}},l.prototype._reflowLargerAdjustViewport=function(a,u,h){for(var g=this.getNullCell(s.DEFAULT_ATTR_DATA),w=h;w-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<u&&this.lines.push(new s.BufferLine(a,g))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-h,0)},l.prototype._reflowSmaller=function(a,u){for(var h=this.getNullCell(s.DEFAULT_ATTR_DATA),g=[],w=0,x=this.lines.length-1;x>=0;x--){var C=this.lines.get(x);if(!(!C||!C.isWrapped&&C.getTrimmedLength()<=a)){for(var k=[C];C.isWrapped&&x>0;)C=this.lines.get(--x),k.unshift(C);var S=this.ybase+this.y;if(!(S>=x&&S<x+k.length)){var b,O=k[k.length-1].getTrimmedLength(),E=(0,_.reflowSmallerGetNewLineLengths)(k,this._cols,a),B=E.length-k.length;b=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+B):Math.max(0,this.lines.length-this.lines.maxLength+B);for(var A=[],L=0;L<B;L++){var I=this.getBlankLine(s.DEFAULT_ATTR_DATA,!0);A.push(I)}A.length>0&&(g.push({start:x+k.length+w,newLines:A}),w+=A.length),k.push.apply(k,A);var D=E.length-1,j=E[D];j===0&&(j=E[--D]);for(var z=k.length-B-1,V=O;z>=0;){var oe=Math.min(V,j);if(k[D]===void 0)break;if(k[D].copyCellsFrom(k[z],V-oe,j-oe,oe,!0),(j-=oe)==0&&(j=E[--D]),(V-=oe)==0){z--;var re=Math.max(z,0);V=(0,_.getWrappedLineTrimmedLength)(k,re,this._cols)}}for(L=0;L<k.length;L++)E[L]<a&&k[L].setCell(E[L],h);for(var xe=B-b;xe-- >0;)this.ybase===0?this.y<u-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+w)-u&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+B,this.ybase+u-1)}}}if(g.length>0){var M=[],W=[];for(L=0;L<this.lines.length;L++)W.push(this.lines.get(L));var R=this.lines.length,N=R-1,P=0,Q=g[P];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+w);var ne=0;for(L=Math.min(this.lines.maxLength-1,R+w-1);L>=0;L--)if(Q&&Q.start>N+ne){for(var se=Q.newLines.length-1;se>=0;se--)this.lines.set(L--,Q.newLines[se]);L++,M.push({index:N+1,amount:Q.newLines.length}),ne+=Q.newLines.length,Q=g[++P]}else this.lines.set(L,W[N--]);var Re=0;for(L=M.length-1;L>=0;L--)M[L].index+=Re,this.lines.onInsertEmitter.fire(M[L]),Re+=M[L].amount;var Ge=Math.max(0,R+w-this.lines.maxLength);Ge>0&&this.lines.onTrimEmitter.fire(Ge)}},l.prototype.stringIndexToBufferIndex=function(a,u,h){for(h===void 0&&(h=!1);u;){var g=this.lines.get(a);if(!g)return[-1,-1];for(var w=h?g.getTrimmedLength():g.length,x=0;x<w;++x)if(g.get(x)[f.CHAR_DATA_WIDTH_INDEX]&&(u-=g.get(x)[f.CHAR_DATA_CHAR_INDEX].length||1),u<0)return[a,x];a++}return[a,0]},l.prototype.translateBufferLineToString=function(a,u,h,g){h===void 0&&(h=0);var w=this.lines.get(a);return w?w.translateToString(u,h,g):""},l.prototype.getWrappedRangeForLine=function(a){for(var u=a,h=a;u>0&&this.lines.get(u).isWrapped;)u--;for(;h+1<this.lines.length&&this.lines.get(h+1).isWrapped;)h++;return{first:u,last:h}},l.prototype.setupTabStops=function(a){for(a!=null?this.tabs[a]||(a=this.prevStop(a)):(this.tabs={},a=0);a<this._cols;a+=this._optionsService.rawOptions.tabStopWidth)this.tabs[a]=!0},l.prototype.prevStop=function(a){for(a==null&&(a=this.x);!this.tabs[--a]&&a>0;);return a>=this._cols?this._cols-1:a<0?0:a},l.prototype.nextStop=function(a){for(a==null&&(a=this.x);!this.tabs[++a]&&a<this._cols;);return a>=this._cols?this._cols-1:a<0?0:a},l.prototype.clearMarkers=function(a){if(this._isClearing=!0,a!==void 0)for(var u=0;u<this.markers.length;u++)this.markers[u].line===a&&(this.markers[u].dispose(),this.markers.splice(u--,1));else{for(var h=0,g=this.markers;h<g.length;h++)g[h].dispose();this.markers=[]}this._isClearing=!1},l.prototype.addMarker=function(a){var u=this,h=new y.Marker(a);return this.markers.push(h),h.register(this.lines.onTrim(function(g){h.line-=g,h.line<0&&h.dispose()})),h.register(this.lines.onInsert(function(g){h.line>=g.index&&(h.line+=g.amount)})),h.register(this.lines.onDelete(function(g){h.line>=g.index&&h.line<g.index+g.amount&&h.dispose(),h.line>g.index&&(h.line-=g.amount)})),h.register(h.onDispose(function(){return u._removeMarker(h)})),h},l.prototype._removeMarker=function(a){this._isClearing||this.markers.splice(this.markers.indexOf(a),1)},l.prototype.iterator=function(a,u,h,g,w){return new d(this,a,u,h,g,w)},l}();n.Buffer=v;var d=function(){function l(a,u,h,g,w,x){h===void 0&&(h=0),g===void 0&&(g=a.lines.length),w===void 0&&(w=0),x===void 0&&(x=0),this._buffer=a,this._trimRight=u,this._startIndex=h,this._endIndex=g,this._startOverscan=w,this._endOverscan=x,this._startIndex<0&&(this._startIndex=0),this._endIndex>this._buffer.lines.length&&(this._endIndex=this._buffer.lines.length),this._current=this._startIndex}return l.prototype.hasNext=function(){return this._current<this._endIndex},l.prototype.next=function(){var a=this._buffer.getWrappedRangeForLine(this._current);a.first<this._startIndex-this._startOverscan&&(a.first=this._startIndex-this._startOverscan),a.last>this._endIndex+this._endOverscan&&(a.last=this._endIndex+this._endOverscan),a.first=Math.max(a.first,0),a.last=Math.min(a.last,this._buffer.lines.length);for(var u="",h=a.first;h<=a.last;++h)u+=this._buffer.translateBufferLineToString(h,this._trimRight);return this._current=a.last+1,{range:a,content:u}},l}();n.BufferStringIterator=d},8437:(r,n,i)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferLine=n.DEFAULT_ATTR_DATA=void 0;var o=i(482),s=i(643),c=i(511),f=i(3734);n.DEFAULT_ATTR_DATA=Object.freeze(new f.AttributeData);var _=function(){function y(m,p,v){v===void 0&&(v=!1),this.isWrapped=v,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*m);for(var d=p||c.CellData.fromCharData([0,s.NULL_CELL_CHAR,s.NULL_CELL_WIDTH,s.NULL_CELL_CODE]),l=0;l<m;++l)this.setCell(l,d);this.length=m}return y.prototype.get=function(m){var p=this._data[3*m+0],v=2097151&p;return[this._data[3*m+1],2097152&p?this._combined[m]:v?(0,o.stringFromCodePoint)(v):"",p>>22,2097152&p?this._combined[m].charCodeAt(this._combined[m].length-1):v]},y.prototype.set=function(m,p){this._data[3*m+1]=p[s.CHAR_DATA_ATTR_INDEX],p[s.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[m]=p[1],this._data[3*m+0]=2097152|m|p[s.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*m+0]=p[s.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|p[s.CHAR_DATA_WIDTH_INDEX]<<22},y.prototype.getWidth=function(m){return this._data[3*m+0]>>22},y.prototype.hasWidth=function(m){return 12582912&this._data[3*m+0]},y.prototype.getFg=function(m){return this._data[3*m+1]},y.prototype.getBg=function(m){return this._data[3*m+2]},y.prototype.hasContent=function(m){return 4194303&this._data[3*m+0]},y.prototype.getCodePoint=function(m){var p=this._data[3*m+0];return 2097152&p?this._combined[m].charCodeAt(this._combined[m].length-1):2097151&p},y.prototype.isCombined=function(m){return 2097152&this._data[3*m+0]},y.prototype.getString=function(m){var p=this._data[3*m+0];return 2097152&p?this._combined[m]:2097151&p?(0,o.stringFromCodePoint)(2097151&p):""},y.prototype.loadCell=function(m,p){var v=3*m;return p.content=this._data[v+0],p.fg=this._data[v+1],p.bg=this._data[v+2],2097152&p.content&&(p.combinedData=this._combined[m]),268435456&p.bg&&(p.extended=this._extendedAttrs[m]),p},y.prototype.setCell=function(m,p){2097152&p.content&&(this._combined[m]=p.combinedData),268435456&p.bg&&(this._extendedAttrs[m]=p.extended),this._data[3*m+0]=p.content,this._data[3*m+1]=p.fg,this._data[3*m+2]=p.bg},y.prototype.setCellFromCodePoint=function(m,p,v,d,l,a){268435456&l&&(this._extendedAttrs[m]=a),this._data[3*m+0]=p|v<<22,this._data[3*m+1]=d,this._data[3*m+2]=l},y.prototype.addCodepointToCell=function(m,p){var v=this._data[3*m+0];2097152&v?this._combined[m]+=(0,o.stringFromCodePoint)(p):(2097151&v?(this._combined[m]=(0,o.stringFromCodePoint)(2097151&v)+(0,o.stringFromCodePoint)(p),v&=-2097152,v|=2097152):v=p|1<<22,this._data[3*m+0]=v)},y.prototype.insertCells=function(m,p,v,d){if((m%=this.length)&&this.getWidth(m-1)===2&&this.setCellFromCodePoint(m-1,0,1,d?.fg||0,d?.bg||0,d?.extended||new f.ExtendedAttrs),p<this.length-m){for(var l=new c.CellData,a=this.length-m-p-1;a>=0;--a)this.setCell(m+p+a,this.loadCell(m+a,l));for(a=0;a<p;++a)this.setCell(m+a,v)}else for(a=m;a<this.length;++a)this.setCell(a,v);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,d?.fg||0,d?.bg||0,d?.extended||new f.ExtendedAttrs)},y.prototype.deleteCells=function(m,p,v,d){if(m%=this.length,p<this.length-m){for(var l=new c.CellData,a=0;a<this.length-m-p;++a)this.setCell(m+a,this.loadCell(m+p+a,l));for(a=this.length-p;a<this.length;++a)this.setCell(a,v)}else for(a=m;a<this.length;++a)this.setCell(a,v);m&&this.getWidth(m-1)===2&&this.setCellFromCodePoint(m-1,0,1,d?.fg||0,d?.bg||0,d?.extended||new f.ExtendedAttrs),this.getWidth(m)!==0||this.hasContent(m)||this.setCellFromCodePoint(m,0,1,d?.fg||0,d?.bg||0,d?.extended||new f.ExtendedAttrs)},y.prototype.replaceCells=function(m,p,v,d){for(m&&this.getWidth(m-1)===2&&this.setCellFromCodePoint(m-1,0,1,d?.fg||0,d?.bg||0,d?.extended||new f.ExtendedAttrs),p<this.length&&this.getWidth(p-1)===2&&this.setCellFromCodePoint(p,0,1,d?.fg||0,d?.bg||0,d?.extended||new f.ExtendedAttrs);m<p&&m<this.length;)this.setCell(m++,v)},y.prototype.resize=function(m,p){if(m!==this.length){if(m>this.length){var v=new Uint32Array(3*m);this.length&&(3*m<this._data.length?v.set(this._data.subarray(0,3*m)):v.set(this._data)),this._data=v;for(var d=this.length;d<m;++d)this.setCell(d,p)}else if(m){(v=new Uint32Array(3*m)).set(this._data.subarray(0,3*m)),this._data=v;var l=Object.keys(this._combined);for(d=0;d<l.length;d++){var a=parseInt(l[d],10);a>=m&&delete this._combined[a]}}else this._data=new Uint32Array(0),this._combined={};this.length=m}},y.prototype.fill=function(m){this._combined={},this._extendedAttrs={};for(var p=0;p<this.length;++p)this.setCell(p,m)},y.prototype.copyFrom=function(m){for(var p in this.length!==m.length?this._data=new Uint32Array(m._data):this._data.set(m._data),this.length=m.length,this._combined={},m._combined)this._combined[p]=m._combined[p];for(var p in this._extendedAttrs={},m._extendedAttrs)this._extendedAttrs[p]=m._extendedAttrs[p];this.isWrapped=m.isWrapped},y.prototype.clone=function(){var m=new y(0);for(var p in m._data=new Uint32Array(this._data),m.length=this.length,this._combined)m._combined[p]=this._combined[p];for(var p in this._extendedAttrs)m._extendedAttrs[p]=this._extendedAttrs[p];return m.isWrapped=this.isWrapped,m},y.prototype.getTrimmedLength=function(){for(var m=this.length-1;m>=0;--m)if(4194303&this._data[3*m+0])return m+(this._data[3*m+0]>>22);return 0},y.prototype.copyCellsFrom=function(m,p,v,d,l){var a=m._data;if(l)for(var u=d-1;u>=0;u--)for(var h=0;h<3;h++)this._data[3*(v+u)+h]=a[3*(p+u)+h];else for(u=0;u<d;u++)for(h=0;h<3;h++)this._data[3*(v+u)+h]=a[3*(p+u)+h];var g=Object.keys(m._combined);for(h=0;h<g.length;h++){var w=parseInt(g[h],10);w>=p&&(this._combined[w-p+v]=m._combined[w])}},y.prototype.translateToString=function(m,p,v){m===void 0&&(m=!1),p===void 0&&(p=0),v===void 0&&(v=this.length),m&&(v=Math.min(v,this.getTrimmedLength()));for(var d="";p<v;){var l=this._data[3*p+0],a=2097151&l;d+=2097152&l?this._combined[p]:a?(0,o.stringFromCodePoint)(a):s.WHITESPACE_CELL_CHAR,p+=l>>22||1}return d},y}();n.BufferLine=_},4841:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.getRangeLength=void 0,n.getRangeLength=function(i,o){if(i.start.y>i.end.y)throw new Error("Buffer range end ("+i.end.x+", "+i.end.y+") cannot be before start ("+i.start.x+", "+i.start.y+")");return o*(i.end.y-i.start.y)+(i.end.x-i.start.x+1)}},4634:(r,n)=>{function i(o,s,c){if(s===o.length-1)return o[s].getTrimmedLength();var f=!o[s].hasContent(c-1)&&o[s].getWidth(c-1)===1,_=o[s+1].getWidth(0)===2;return f&&_?c-1:c}Object.defineProperty(n,"__esModule",{value:!0}),n.getWrappedLineTrimmedLength=n.reflowSmallerGetNewLineLengths=n.reflowLargerApplyNewLayout=n.reflowLargerCreateNewLayout=n.reflowLargerGetLinesToRemove=void 0,n.reflowLargerGetLinesToRemove=function(o,s,c,f,_){for(var y=[],m=0;m<o.length-1;m++){var p=m,v=o.get(++p);if(v.isWrapped){for(var d=[o.get(m)];p<o.length&&v.isWrapped;)d.push(v),v=o.get(++p);if(f>=m&&f<p)m+=d.length-1;else{for(var l=0,a=i(d,l,s),u=1,h=0;u<d.length;){var g=i(d,u,s),w=g-h,x=c-a,C=Math.min(w,x);d[l].copyCellsFrom(d[u],h,a,C,!1),(a+=C)===c&&(l++,a=0),(h+=C)===g&&(u++,h=0),a===0&&l!==0&&d[l-1].getWidth(c-1)===2&&(d[l].copyCellsFrom(d[l-1],c-1,a++,1,!1),d[l-1].setCell(c-1,_))}d[l].replaceCells(a,c,_);for(var k=0,S=d.length-1;S>0&&(S>l||d[S].getTrimmedLength()===0);S--)k++;k>0&&(y.push(m+d.length-k),y.push(k)),m+=d.length-1}}}return y},n.reflowLargerCreateNewLayout=function(o,s){for(var c=[],f=0,_=s[f],y=0,m=0;m<o.length;m++)if(_===m){var p=s[++f];o.onDeleteEmitter.fire({index:m-y,amount:p}),m+=p-1,y+=p,_=s[++f]}else c.push(m);return{layout:c,countRemoved:y}},n.reflowLargerApplyNewLayout=function(o,s){for(var c=[],f=0;f<s.length;f++)c.push(o.get(s[f]));for(f=0;f<c.length;f++)o.set(f,c[f]);o.length=s.length},n.reflowSmallerGetNewLineLengths=function(o,s,c){for(var f=[],_=o.map(function(a,u){return i(o,u,s)}).reduce(function(a,u){return a+u}),y=0,m=0,p=0;p<_;){if(_-p<c){f.push(_-p);break}y+=c;var v=i(o,m,s);y>v&&(y-=v,m++);var d=o[m].getWidth(y-1)===2;d&&y--;var l=d?c-1:c;f.push(l),p+=l}return f},n.getWrappedLineTrimmedLength=i},5295:function(r,n,i){var o,s=this&&this.__extends||(o=function(y,m){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var d in v)Object.prototype.hasOwnProperty.call(v,d)&&(p[d]=v[d])},o(y,m)},function(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function p(){this.constructor=y}o(y,m),y.prototype=m===null?Object.create(m):(p.prototype=m.prototype,new p)});Object.defineProperty(n,"__esModule",{value:!0}),n.BufferSet=void 0;var c=i(9092),f=i(8460),_=function(y){function m(p,v){var d=y.call(this)||this;return d._optionsService=p,d._bufferService=v,d._onBufferActivate=d.register(new f.EventEmitter),d.reset(),d}return s(m,y),Object.defineProperty(m.prototype,"onBufferActivate",{get:function(){return this._onBufferActivate.event},enumerable:!1,configurable:!0}),m.prototype.reset=function(){this._normal=new c.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new c.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()},Object.defineProperty(m.prototype,"alt",{get:function(){return this._alt},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"active",{get:function(){return this._activeBuffer},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"normal",{get:function(){return this._normal},enumerable:!1,configurable:!0}),m.prototype.activateNormalBuffer=function(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))},m.prototype.activateAltBuffer=function(p){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(p),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))},m.prototype.resize=function(p,v){this._normal.resize(p,v),this._alt.resize(p,v)},m.prototype.setupTabStops=function(p){this._normal.setupTabStops(p),this._alt.setupTabStops(p)},m}(i(844).Disposable);n.BufferSet=_},511:function(r,n,i){var o,s=this&&this.__extends||(o=function(m,p){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,d){v.__proto__=d}||function(v,d){for(var l in d)Object.prototype.hasOwnProperty.call(d,l)&&(v[l]=d[l])},o(m,p)},function(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function v(){this.constructor=m}o(m,p),m.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)});Object.defineProperty(n,"__esModule",{value:!0}),n.CellData=void 0;var c=i(482),f=i(643),_=i(3734),y=function(m){function p(){var v=m!==null&&m.apply(this,arguments)||this;return v.content=0,v.fg=0,v.bg=0,v.extended=new _.ExtendedAttrs,v.combinedData="",v}return s(p,m),p.fromCharData=function(v){var d=new p;return d.setFromCharData(v),d},p.prototype.isCombined=function(){return 2097152&this.content},p.prototype.getWidth=function(){return this.content>>22},p.prototype.getChars=function(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,c.stringFromCodePoint)(2097151&this.content):""},p.prototype.getCode=function(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content},p.prototype.setFromCharData=function(v){this.fg=v[f.CHAR_DATA_ATTR_INDEX],this.bg=0;var d=!1;if(v[f.CHAR_DATA_CHAR_INDEX].length>2)d=!0;else if(v[f.CHAR_DATA_CHAR_INDEX].length===2){var l=v[f.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=l&&l<=56319){var a=v[f.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=a&&a<=57343?this.content=1024*(l-55296)+a-56320+65536|v[f.CHAR_DATA_WIDTH_INDEX]<<22:d=!0}else d=!0}else this.content=v[f.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|v[f.CHAR_DATA_WIDTH_INDEX]<<22;d&&(this.combinedData=v[f.CHAR_DATA_CHAR_INDEX],this.content=2097152|v[f.CHAR_DATA_WIDTH_INDEX]<<22)},p.prototype.getAsCharData=function(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]},p}(_.AttributeData);n.CellData=y},643:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.WHITESPACE_CELL_CODE=n.WHITESPACE_CELL_WIDTH=n.WHITESPACE_CELL_CHAR=n.NULL_CELL_CODE=n.NULL_CELL_WIDTH=n.NULL_CELL_CHAR=n.CHAR_DATA_CODE_INDEX=n.CHAR_DATA_WIDTH_INDEX=n.CHAR_DATA_CHAR_INDEX=n.CHAR_DATA_ATTR_INDEX=n.DEFAULT_ATTR=n.DEFAULT_COLOR=void 0,n.DEFAULT_COLOR=256,n.DEFAULT_ATTR=256|n.DEFAULT_COLOR<<9,n.CHAR_DATA_ATTR_INDEX=0,n.CHAR_DATA_CHAR_INDEX=1,n.CHAR_DATA_WIDTH_INDEX=2,n.CHAR_DATA_CODE_INDEX=3,n.NULL_CELL_CHAR="",n.NULL_CELL_WIDTH=1,n.NULL_CELL_CODE=0,n.WHITESPACE_CELL_CHAR=" ",n.WHITESPACE_CELL_WIDTH=1,n.WHITESPACE_CELL_CODE=32},4863:function(r,n,i){var o,s=this&&this.__extends||(o=function(_,y){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,p){m.__proto__=p}||function(m,p){for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(m[v]=p[v])},o(_,y)},function(_,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function m(){this.constructor=_}o(_,y),_.prototype=y===null?Object.create(y):(m.prototype=y.prototype,new m)});Object.defineProperty(n,"__esModule",{value:!0}),n.Marker=void 0;var c=i(8460),f=function(_){function y(m){var p=_.call(this)||this;return p.line=m,p._id=y._nextId++,p.isDisposed=!1,p._onDispose=new c.EventEmitter,p}return s(y,_),Object.defineProperty(y.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"onDispose",{get:function(){return this._onDispose.event},enumerable:!1,configurable:!0}),y.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),_.prototype.dispose.call(this))},y._nextId=1,y}(i(844).Disposable);n.Marker=f},7116:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_CHARSET=n.CHARSETS=void 0,n.CHARSETS={},n.DEFAULT_CHARSET=n.CHARSETS.B,n.CHARSETS[0]={"`":"\u25C6",a:"\u2592",b:"\u2409",c:"\u240C",d:"\u240D",e:"\u240A",f:"\xB0",g:"\xB1",h:"\u2424",i:"\u240B",j:"\u2518",k:"\u2510",l:"\u250C",m:"\u2514",n:"\u253C",o:"\u23BA",p:"\u23BB",q:"\u2500",r:"\u23BC",s:"\u23BD",t:"\u251C",u:"\u2524",v:"\u2534",w:"\u252C",x:"\u2502",y:"\u2264",z:"\u2265","{":"\u03C0","|":"\u2260","}":"\xA3","~":"\xB7"},n.CHARSETS.A={"#":"\xA3"},n.CHARSETS.B=void 0,n.CHARSETS[4]={"#":"\xA3","@":"\xBE","[":"ij","\\":"\xBD","]":"|","{":"\xA8","|":"f","}":"\xBC","~":"\xB4"},n.CHARSETS.C=n.CHARSETS[5]={"[":"\xC4","\\":"\xD6","]":"\xC5","^":"\xDC","`":"\xE9","{":"\xE4","|":"\xF6","}":"\xE5","~":"\xFC"},n.CHARSETS.R={"#":"\xA3","@":"\xE0","[":"\xB0","\\":"\xE7","]":"\xA7","{":"\xE9","|":"\xF9","}":"\xE8","~":"\xA8"},n.CHARSETS.Q={"@":"\xE0","[":"\xE2","\\":"\xE7","]":"\xEA","^":"\xEE","`":"\xF4","{":"\xE9","|":"\xF9","}":"\xE8","~":"\xFB"},n.CHARSETS.K={"@":"\xA7","[":"\xC4","\\":"\xD6","]":"\xDC","{":"\xE4","|":"\xF6","}":"\xFC","~":"\xDF"},n.CHARSETS.Y={"#":"\xA3","@":"\xA7","[":"\xB0","\\":"\xE7","]":"\xE9","`":"\xF9","{":"\xE0","|":"\xF2","}":"\xE8","~":"\xEC"},n.CHARSETS.E=n.CHARSETS[6]={"@":"\xC4","[":"\xC6","\\":"\xD8","]":"\xC5","^":"\xDC","`":"\xE4","{":"\xE6","|":"\xF8","}":"\xE5","~":"\xFC"},n.CHARSETS.Z={"#":"\xA3","@":"\xA7","[":"\xA1","\\":"\xD1","]":"\xBF","{":"\xB0","|":"\xF1","}":"\xE7"},n.CHARSETS.H=n.CHARSETS[7]={"@":"\xC9","[":"\xC4","\\":"\xD6","]":"\xC5","^":"\xDC","`":"\xE9","{":"\xE4","|":"\xF6","}":"\xE5","~":"\xFC"},n.CHARSETS["="]={"#":"\xF9","@":"\xE0","[":"\xE9","\\":"\xE7","]":"\xEA","^":"\xEE",_:"\xE8","`":"\xF4","{":"\xE4","|":"\xF6","}":"\xFC","~":"\xFB"}},2584:(r,n)=>{var i,o;Object.defineProperty(n,"__esModule",{value:!0}),n.C1=n.C0=void 0,(o=n.C0||(n.C0={})).NUL="\0",o.SOH="",o.STX="",o.ETX="",o.EOT="",o.ENQ="",o.ACK="",o.BEL="\x07",o.BS="\b",o.HT="	",o.LF=`
`,o.VT="\v",o.FF="\f",o.CR="\r",o.SO="",o.SI="",o.DLE="",o.DC1="",o.DC2="",o.DC3="",o.DC4="",o.NAK="",o.SYN="",o.ETB="",o.CAN="",o.EM="",o.SUB="",o.ESC="\x1B",o.FS="",o.GS="",o.RS="",o.US="",o.SP=" ",o.DEL="\x7F",(i=n.C1||(n.C1={})).PAD="\x80",i.HOP="\x81",i.BPH="\x82",i.NBH="\x83",i.IND="\x84",i.NEL="\x85",i.SSA="\x86",i.ESA="\x87",i.HTS="\x88",i.HTJ="\x89",i.VTS="\x8A",i.PLD="\x8B",i.PLU="\x8C",i.RI="\x8D",i.SS2="\x8E",i.SS3="\x8F",i.DCS="\x90",i.PU1="\x91",i.PU2="\x92",i.STS="\x93",i.CCH="\x94",i.MW="\x95",i.SPA="\x96",i.EPA="\x97",i.SOS="\x98",i.SGCI="\x99",i.SCI="\x9A",i.CSI="\x9B",i.ST="\x9C",i.OSC="\x9D",i.PM="\x9E",i.APC="\x9F"},7399:(r,n,i)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.evaluateKeyboardEvent=void 0;var o=i(2584),s={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};n.evaluateKeyboardEvent=function(c,f,_,y){var m={type:0,cancel:!1,key:void 0},p=(c.shiftKey?1:0)|(c.altKey?2:0)|(c.ctrlKey?4:0)|(c.metaKey?8:0);switch(c.keyCode){case 0:c.key==="UIKeyInputUpArrow"?m.key=f?o.C0.ESC+"OA":o.C0.ESC+"[A":c.key==="UIKeyInputLeftArrow"?m.key=f?o.C0.ESC+"OD":o.C0.ESC+"[D":c.key==="UIKeyInputRightArrow"?m.key=f?o.C0.ESC+"OC":o.C0.ESC+"[C":c.key==="UIKeyInputDownArrow"&&(m.key=f?o.C0.ESC+"OB":o.C0.ESC+"[B");break;case 8:if(c.shiftKey){m.key=o.C0.BS;break}if(c.altKey){m.key=o.C0.ESC+o.C0.DEL;break}m.key=o.C0.DEL;break;case 9:if(c.shiftKey){m.key=o.C0.ESC+"[Z";break}m.key=o.C0.HT,m.cancel=!0;break;case 13:m.key=c.altKey?o.C0.ESC+o.C0.CR:o.C0.CR,m.cancel=!0;break;case 27:m.key=o.C0.ESC,c.altKey&&(m.key=o.C0.ESC+o.C0.ESC),m.cancel=!0;break;case 37:if(c.metaKey)break;p?(m.key=o.C0.ESC+"[1;"+(p+1)+"D",m.key===o.C0.ESC+"[1;3D"&&(m.key=o.C0.ESC+(_?"b":"[1;5D"))):m.key=f?o.C0.ESC+"OD":o.C0.ESC+"[D";break;case 39:if(c.metaKey)break;p?(m.key=o.C0.ESC+"[1;"+(p+1)+"C",m.key===o.C0.ESC+"[1;3C"&&(m.key=o.C0.ESC+(_?"f":"[1;5C"))):m.key=f?o.C0.ESC+"OC":o.C0.ESC+"[C";break;case 38:if(c.metaKey)break;p?(m.key=o.C0.ESC+"[1;"+(p+1)+"A",_||m.key!==o.C0.ESC+"[1;3A"||(m.key=o.C0.ESC+"[1;5A")):m.key=f?o.C0.ESC+"OA":o.C0.ESC+"[A";break;case 40:if(c.metaKey)break;p?(m.key=o.C0.ESC+"[1;"+(p+1)+"B",_||m.key!==o.C0.ESC+"[1;3B"||(m.key=o.C0.ESC+"[1;5B")):m.key=f?o.C0.ESC+"OB":o.C0.ESC+"[B";break;case 45:c.shiftKey||c.ctrlKey||(m.key=o.C0.ESC+"[2~");break;case 46:m.key=p?o.C0.ESC+"[3;"+(p+1)+"~":o.C0.ESC+"[3~";break;case 36:m.key=p?o.C0.ESC+"[1;"+(p+1)+"H":f?o.C0.ESC+"OH":o.C0.ESC+"[H";break;case 35:m.key=p?o.C0.ESC+"[1;"+(p+1)+"F":f?o.C0.ESC+"OF":o.C0.ESC+"[F";break;case 33:c.shiftKey?m.type=2:m.key=o.C0.ESC+"[5~";break;case 34:c.shiftKey?m.type=3:m.key=o.C0.ESC+"[6~";break;case 112:m.key=p?o.C0.ESC+"[1;"+(p+1)+"P":o.C0.ESC+"OP";break;case 113:m.key=p?o.C0.ESC+"[1;"+(p+1)+"Q":o.C0.ESC+"OQ";break;case 114:m.key=p?o.C0.ESC+"[1;"+(p+1)+"R":o.C0.ESC+"OR";break;case 115:m.key=p?o.C0.ESC+"[1;"+(p+1)+"S":o.C0.ESC+"OS";break;case 116:m.key=p?o.C0.ESC+"[15;"+(p+1)+"~":o.C0.ESC+"[15~";break;case 117:m.key=p?o.C0.ESC+"[17;"+(p+1)+"~":o.C0.ESC+"[17~";break;case 118:m.key=p?o.C0.ESC+"[18;"+(p+1)+"~":o.C0.ESC+"[18~";break;case 119:m.key=p?o.C0.ESC+"[19;"+(p+1)+"~":o.C0.ESC+"[19~";break;case 120:m.key=p?o.C0.ESC+"[20;"+(p+1)+"~":o.C0.ESC+"[20~";break;case 121:m.key=p?o.C0.ESC+"[21;"+(p+1)+"~":o.C0.ESC+"[21~";break;case 122:m.key=p?o.C0.ESC+"[23;"+(p+1)+"~":o.C0.ESC+"[23~";break;case 123:m.key=p?o.C0.ESC+"[24;"+(p+1)+"~":o.C0.ESC+"[24~";break;default:if(!c.ctrlKey||c.shiftKey||c.altKey||c.metaKey)if(_&&!y||!c.altKey||c.metaKey)!_||c.altKey||c.ctrlKey||c.shiftKey||!c.metaKey?c.key&&!c.ctrlKey&&!c.altKey&&!c.metaKey&&c.keyCode>=48&&c.key.length===1?m.key=c.key:c.key&&c.ctrlKey&&c.key==="_"&&(m.key=o.C0.US):c.keyCode===65&&(m.type=1);else{var v=s[c.keyCode],d=v?.[c.shiftKey?1:0];if(d)m.key=o.C0.ESC+d;else if(c.keyCode>=65&&c.keyCode<=90){var l=c.ctrlKey?c.keyCode-64:c.keyCode+32;m.key=o.C0.ESC+String.fromCharCode(l)}}else c.keyCode>=65&&c.keyCode<=90?m.key=String.fromCharCode(c.keyCode-64):c.keyCode===32?m.key=o.C0.NUL:c.keyCode>=51&&c.keyCode<=55?m.key=String.fromCharCode(c.keyCode-51+27):c.keyCode===56?m.key=o.C0.DEL:c.keyCode===219?m.key=o.C0.ESC:c.keyCode===220?m.key=o.C0.FS:c.keyCode===221&&(m.key=o.C0.GS)}return m}},482:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Utf8ToUtf32=n.StringToUtf32=n.utf32ToString=n.stringFromCodePoint=void 0,n.stringFromCodePoint=function(s){return s>65535?(s-=65536,String.fromCharCode(55296+(s>>10))+String.fromCharCode(s%1024+56320)):String.fromCharCode(s)},n.utf32ToString=function(s,c,f){c===void 0&&(c=0),f===void 0&&(f=s.length);for(var _="",y=c;y<f;++y){var m=s[y];m>65535?(m-=65536,_+=String.fromCharCode(55296+(m>>10))+String.fromCharCode(m%1024+56320)):_+=String.fromCharCode(m)}return _};var i=function(){function s(){this._interim=0}return s.prototype.clear=function(){this._interim=0},s.prototype.decode=function(c,f){var _=c.length;if(!_)return 0;var y=0,m=0;this._interim&&(56320<=(d=c.charCodeAt(m++))&&d<=57343?f[y++]=1024*(this._interim-55296)+d-56320+65536:(f[y++]=this._interim,f[y++]=d),this._interim=0);for(var p=m;p<_;++p){var v=c.charCodeAt(p);if(55296<=v&&v<=56319){if(++p>=_)return this._interim=v,y;var d;56320<=(d=c.charCodeAt(p))&&d<=57343?f[y++]=1024*(v-55296)+d-56320+65536:(f[y++]=v,f[y++]=d)}else v!==65279&&(f[y++]=v)}return y},s}();n.StringToUtf32=i;var o=function(){function s(){this.interim=new Uint8Array(3)}return s.prototype.clear=function(){this.interim.fill(0)},s.prototype.decode=function(c,f){var _=c.length;if(!_)return 0;var y,m,p,v,d=0,l=0,a=0;if(this.interim[0]){var u=!1,h=this.interim[0];h&=(224&h)==192?31:(240&h)==224?15:7;for(var g=0,w=void 0;(w=63&this.interim[++g])&&g<4;)h<<=6,h|=w;for(var x=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,C=x-g;a<C;){if(a>=_)return 0;if((192&(w=c[a++]))!=128){a--,u=!0;break}this.interim[g++]=w,h<<=6,h|=63&w}u||(x===2?h<128?a--:f[d++]=h:x===3?h<2048||h>=55296&&h<=57343||h===65279||(f[d++]=h):h<65536||h>1114111||(f[d++]=h)),this.interim.fill(0)}for(var k=_-4,S=a;S<_;){for(;!(!(S<k)||128&(y=c[S])||128&(m=c[S+1])||128&(p=c[S+2])||128&(v=c[S+3]));)f[d++]=y,f[d++]=m,f[d++]=p,f[d++]=v,S+=4;if((y=c[S++])<128)f[d++]=y;else if((224&y)==192){if(S>=_)return this.interim[0]=y,d;if((192&(m=c[S++]))!=128){S--;continue}if((l=(31&y)<<6|63&m)<128){S--;continue}f[d++]=l}else if((240&y)==224){if(S>=_)return this.interim[0]=y,d;if((192&(m=c[S++]))!=128){S--;continue}if(S>=_)return this.interim[0]=y,this.interim[1]=m,d;if((192&(p=c[S++]))!=128){S--;continue}if((l=(15&y)<<12|(63&m)<<6|63&p)<2048||l>=55296&&l<=57343||l===65279)continue;f[d++]=l}else if((248&y)==240){if(S>=_)return this.interim[0]=y,d;if((192&(m=c[S++]))!=128){S--;continue}if(S>=_)return this.interim[0]=y,this.interim[1]=m,d;if((192&(p=c[S++]))!=128){S--;continue}if(S>=_)return this.interim[0]=y,this.interim[1]=m,this.interim[2]=p,d;if((192&(v=c[S++]))!=128){S--;continue}if((l=(7&y)<<18|(63&m)<<12|(63&p)<<6|63&v)<65536||l>1114111)continue;f[d++]=l}}return d},s}();n.Utf8ToUtf32=o},225:(r,n,i)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.UnicodeV6=void 0;var o,s=i(8273),c=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],f=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]],_=function(){function y(){if(this.version="6",!o){o=new Uint8Array(65536),(0,s.fill)(o,1),o[0]=0,(0,s.fill)(o,0,1,32),(0,s.fill)(o,0,127,160),(0,s.fill)(o,2,4352,4448),o[9001]=2,o[9002]=2,(0,s.fill)(o,2,11904,42192),o[12351]=1,(0,s.fill)(o,2,44032,55204),(0,s.fill)(o,2,63744,64256),(0,s.fill)(o,2,65040,65050),(0,s.fill)(o,2,65072,65136),(0,s.fill)(o,2,65280,65377),(0,s.fill)(o,2,65504,65511);for(var m=0;m<c.length;++m)(0,s.fill)(o,0,c[m][0],c[m][1]+1)}}return y.prototype.wcwidth=function(m){return m<32?0:m<127?1:m<65536?o[m]:function(p,v){var d,l=0,a=v.length-1;if(p<v[0][0]||p>v[a][1])return!1;for(;a>=l;)if(p>v[d=l+a>>1][1])l=d+1;else{if(!(p<v[d][0]))return!0;a=d-1}return!1}(m,f)?0:m>=131072&&m<=196605||m>=196608&&m<=262141?2:1},y}();n.UnicodeV6=_},5981:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.WriteBuffer=void 0;var i=typeof queueMicrotask>"u"?function(s){Promise.resolve().then(s)}:queueMicrotask,o=function(){function s(c){this._action=c,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0}return s.prototype.writeSync=function(c,f){if(f!==void 0&&this._syncCalls>f)this._syncCalls=0;else if(this._pendingData+=c.length,this._writeBuffer.push(c),this._callbacks.push(void 0),this._syncCalls++,!this._isSyncWriting){var _;for(this._isSyncWriting=!0;_=this._writeBuffer.shift();){this._action(_);var y=this._callbacks.shift();y&&y()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}},s.prototype.write=function(c,f){var _=this;if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");this._writeBuffer.length||(this._bufferOffset=0,setTimeout(function(){return _._innerWrite()})),this._pendingData+=c.length,this._writeBuffer.push(c),this._callbacks.push(f)},s.prototype._innerWrite=function(c,f){var _=this;c===void 0&&(c=0),f===void 0&&(f=!0);for(var y=c||Date.now();this._writeBuffer.length>this._bufferOffset;){var m=this._writeBuffer[this._bufferOffset],p=this._action(m,f);if(p)return void p.catch(function(d){return i(function(){throw d}),Promise.resolve(!1)}).then(function(d){return Date.now()-y>=12?setTimeout(function(){return _._innerWrite(0,d)}):_._innerWrite(y,d)});var v=this._callbacks[this._bufferOffset];if(v&&v(),this._bufferOffset++,this._pendingData-=m.length,Date.now()-y>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(function(){return _._innerWrite()})):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0)},s}();n.WriteBuffer=o},5941:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.toRgbString=n.parseColor=void 0;var i=/^([\da-f]{1})\/([\da-f]{1})\/([\da-f]{1})$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,o=/^[\da-f]+$/;function s(c,f){var _=c.toString(16),y=_.length<2?"0"+_:_;switch(f){case 4:return _[0];case 8:return y;case 12:return(y+y).slice(0,3);default:return y+y}}n.parseColor=function(c){if(c){var f=c.toLowerCase();if(f.indexOf("rgb:")===0){f=f.slice(4);var _=i.exec(f);if(_){var y=_[1]?15:_[4]?255:_[7]?4095:65535;return[Math.round(parseInt(_[1]||_[4]||_[7]||_[10],16)/y*255),Math.round(parseInt(_[2]||_[5]||_[8]||_[11],16)/y*255),Math.round(parseInt(_[3]||_[6]||_[9]||_[12],16)/y*255)]}}else if(f.indexOf("#")===0&&(f=f.slice(1),o.exec(f)&&[3,6,9,12].includes(f.length))){for(var m=f.length/3,p=[0,0,0],v=0;v<3;++v){var d=parseInt(f.slice(m*v,m*v+m),16);p[v]=m===1?d<<4:m===2?d:m===3?d>>4:d>>8}return p}}},n.toRgbString=function(c,f){f===void 0&&(f=16);var _=c[0],y=c[1],m=c[2];return"rgb:"+s(_,f)+"/"+s(y,f)+"/"+s(m,f)}},5770:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PAYLOAD_LIMIT=void 0,n.PAYLOAD_LIMIT=1e7},6351:(r,n,i)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.DcsHandler=n.DcsParser=void 0;var o=i(482),s=i(8742),c=i(5770),f=[],_=function(){function p(){this._handlers=Object.create(null),this._active=f,this._ident=0,this._handlerFb=function(){},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}return p.prototype.dispose=function(){this._handlers=Object.create(null),this._handlerFb=function(){},this._active=f},p.prototype.registerHandler=function(v,d){this._handlers[v]===void 0&&(this._handlers[v]=[]);var l=this._handlers[v];return l.push(d),{dispose:function(){var a=l.indexOf(d);a!==-1&&l.splice(a,1)}}},p.prototype.clearHandler=function(v){this._handlers[v]&&delete this._handlers[v]},p.prototype.setHandlerFallback=function(v){this._handlerFb=v},p.prototype.reset=function(){if(this._active.length)for(var v=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;v>=0;--v)this._active[v].unhook(!1);this._stack.paused=!1,this._active=f,this._ident=0},p.prototype.hook=function(v,d){if(this.reset(),this._ident=v,this._active=this._handlers[v]||f,this._active.length)for(var l=this._active.length-1;l>=0;l--)this._active[l].hook(d);else this._handlerFb(this._ident,"HOOK",d)},p.prototype.put=function(v,d,l){if(this._active.length)for(var a=this._active.length-1;a>=0;a--)this._active[a].put(v,d,l);else this._handlerFb(this._ident,"PUT",(0,o.utf32ToString)(v,d,l))},p.prototype.unhook=function(v,d){if(d===void 0&&(d=!0),this._active.length){var l=!1,a=this._active.length-1,u=!1;if(this._stack.paused&&(a=this._stack.loopPosition-1,l=d,u=this._stack.fallThrough,this._stack.paused=!1),!u&&l===!1){for(;a>=0&&(l=this._active[a].unhook(v))!==!0;a--)if(l instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=a,this._stack.fallThrough=!1,l;a--}for(;a>=0;a--)if((l=this._active[a].unhook(!1))instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=a,this._stack.fallThrough=!0,l}else this._handlerFb(this._ident,"UNHOOK",v);this._active=f,this._ident=0},p}();n.DcsParser=_;var y=new s.Params;y.addParam(0);var m=function(){function p(v){this._handler=v,this._data="",this._params=y,this._hitLimit=!1}return p.prototype.hook=function(v){this._params=v.length>1||v.params[0]?v.clone():y,this._data="",this._hitLimit=!1},p.prototype.put=function(v,d,l){this._hitLimit||(this._data+=(0,o.utf32ToString)(v,d,l),this._data.length>c.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))},p.prototype.unhook=function(v){var d=this,l=!1;if(this._hitLimit)l=!1;else if(v&&(l=this._handler(this._data,this._params))instanceof Promise)return l.then(function(a){return d._params=y,d._data="",d._hitLimit=!1,a});return this._params=y,this._data="",this._hitLimit=!1,l},p}();n.DcsHandler=m},2015:function(r,n,i){var o,s=this&&this.__extends||(o=function(l,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&(u[g]=h[g])},o(l,a)},function(l,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function u(){this.constructor=l}o(l,a),l.prototype=a===null?Object.create(a):(u.prototype=a.prototype,new u)});Object.defineProperty(n,"__esModule",{value:!0}),n.EscapeSequenceParser=n.VT500_TRANSITION_TABLE=n.TransitionTable=void 0;var c=i(844),f=i(8273),_=i(8742),y=i(6242),m=i(6351),p=function(){function l(a){this.table=new Uint8Array(a)}return l.prototype.setDefault=function(a,u){(0,f.fill)(this.table,a<<4|u)},l.prototype.add=function(a,u,h,g){this.table[u<<8|a]=h<<4|g},l.prototype.addMany=function(a,u,h,g){for(var w=0;w<a.length;w++)this.table[u<<8|a[w]]=h<<4|g},l}();n.TransitionTable=p;var v=160;n.VT500_TRANSITION_TABLE=function(){var l=new p(4095),a=Array.apply(null,Array(256)).map(function(C,k){return k}),u=function(C,k){return a.slice(C,k)},h=u(32,127),g=u(0,24);g.push(25),g.push.apply(g,u(28,32));var w,x=u(0,14);for(w in l.setDefault(1,0),l.addMany(h,0,2,0),x)l.addMany([24,26,153,154],w,3,0),l.addMany(u(128,144),w,3,0),l.addMany(u(144,152),w,3,0),l.add(156,w,0,0),l.add(27,w,11,1),l.add(157,w,4,8),l.addMany([152,158,159],w,0,7),l.add(155,w,11,3),l.add(144,w,11,9);return l.addMany(g,0,3,0),l.addMany(g,1,3,1),l.add(127,1,0,1),l.addMany(g,8,0,8),l.addMany(g,3,3,3),l.add(127,3,0,3),l.addMany(g,4,3,4),l.add(127,4,0,4),l.addMany(g,6,3,6),l.addMany(g,5,3,5),l.add(127,5,0,5),l.addMany(g,2,3,2),l.add(127,2,0,2),l.add(93,1,4,8),l.addMany(h,8,5,8),l.add(127,8,5,8),l.addMany([156,27,24,26,7],8,6,0),l.addMany(u(28,32),8,0,8),l.addMany([88,94,95],1,0,7),l.addMany(h,7,0,7),l.addMany(g,7,0,7),l.add(156,7,0,0),l.add(127,7,0,7),l.add(91,1,11,3),l.addMany(u(64,127),3,7,0),l.addMany(u(48,60),3,8,4),l.addMany([60,61,62,63],3,9,4),l.addMany(u(48,60),4,8,4),l.addMany(u(64,127),4,7,0),l.addMany([60,61,62,63],4,0,6),l.addMany(u(32,64),6,0,6),l.add(127,6,0,6),l.addMany(u(64,127),6,0,0),l.addMany(u(32,48),3,9,5),l.addMany(u(32,48),5,9,5),l.addMany(u(48,64),5,0,6),l.addMany(u(64,127),5,7,0),l.addMany(u(32,48),4,9,5),l.addMany(u(32,48),1,9,2),l.addMany(u(32,48),2,9,2),l.addMany(u(48,127),2,10,0),l.addMany(u(48,80),1,10,0),l.addMany(u(81,88),1,10,0),l.addMany([89,90,92],1,10,0),l.addMany(u(96,127),1,10,0),l.add(80,1,11,9),l.addMany(g,9,0,9),l.add(127,9,0,9),l.addMany(u(28,32),9,0,9),l.addMany(u(32,48),9,9,12),l.addMany(u(48,60),9,8,10),l.addMany([60,61,62,63],9,9,10),l.addMany(g,11,0,11),l.addMany(u(32,128),11,0,11),l.addMany(u(28,32),11,0,11),l.addMany(g,10,0,10),l.add(127,10,0,10),l.addMany(u(28,32),10,0,10),l.addMany(u(48,60),10,8,10),l.addMany([60,61,62,63],10,0,11),l.addMany(u(32,48),10,9,12),l.addMany(g,12,0,12),l.add(127,12,0,12),l.addMany(u(28,32),12,0,12),l.addMany(u(32,48),12,9,12),l.addMany(u(48,64),12,0,11),l.addMany(u(64,127),12,12,13),l.addMany(u(64,127),10,12,13),l.addMany(u(64,127),9,12,13),l.addMany(g,13,13,13),l.addMany(h,13,13,13),l.add(127,13,0,13),l.addMany([27,156,24,26],13,14,0),l.add(v,0,2,0),l.add(v,8,5,8),l.add(v,6,0,6),l.add(v,11,0,11),l.add(v,13,13,13),l}();var d=function(l){function a(u){u===void 0&&(u=n.VT500_TRANSITION_TABLE);var h=l.call(this)||this;return h._transitions=u,h._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},h.initialState=0,h.currentState=h.initialState,h._params=new _.Params,h._params.addParam(0),h._collect=0,h.precedingCodepoint=0,h._printHandlerFb=function(g,w,x){},h._executeHandlerFb=function(g){},h._csiHandlerFb=function(g,w){},h._escHandlerFb=function(g){},h._errorHandlerFb=function(g){return g},h._printHandler=h._printHandlerFb,h._executeHandlers=Object.create(null),h._csiHandlers=Object.create(null),h._escHandlers=Object.create(null),h._oscParser=new y.OscParser,h._dcsParser=new m.DcsParser,h._errorHandler=h._errorHandlerFb,h.registerEscHandler({final:"\\"},function(){return!0}),h}return s(a,l),a.prototype._identifier=function(u,h){h===void 0&&(h=[64,126]);var g=0;if(u.prefix){if(u.prefix.length>1)throw new Error("only one byte as prefix supported");if((g=u.prefix.charCodeAt(0))&&60>g||g>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(u.intermediates){if(u.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(var w=0;w<u.intermediates.length;++w){var x=u.intermediates.charCodeAt(w);if(32>x||x>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");g<<=8,g|=x}}if(u.final.length!==1)throw new Error("final must be a single byte");var C=u.final.charCodeAt(0);if(h[0]>C||C>h[1])throw new Error("final must be in range "+h[0]+" .. "+h[1]);return(g<<=8)|C},a.prototype.identToString=function(u){for(var h=[];u;)h.push(String.fromCharCode(255&u)),u>>=8;return h.reverse().join("")},a.prototype.dispose=function(){this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null),this._oscParser.dispose(),this._dcsParser.dispose()},a.prototype.setPrintHandler=function(u){this._printHandler=u},a.prototype.clearPrintHandler=function(){this._printHandler=this._printHandlerFb},a.prototype.registerEscHandler=function(u,h){var g=this._identifier(u,[48,126]);this._escHandlers[g]===void 0&&(this._escHandlers[g]=[]);var w=this._escHandlers[g];return w.push(h),{dispose:function(){var x=w.indexOf(h);x!==-1&&w.splice(x,1)}}},a.prototype.clearEscHandler=function(u){this._escHandlers[this._identifier(u,[48,126])]&&delete this._escHandlers[this._identifier(u,[48,126])]},a.prototype.setEscHandlerFallback=function(u){this._escHandlerFb=u},a.prototype.setExecuteHandler=function(u,h){this._executeHandlers[u.charCodeAt(0)]=h},a.prototype.clearExecuteHandler=function(u){this._executeHandlers[u.charCodeAt(0)]&&delete this._executeHandlers[u.charCodeAt(0)]},a.prototype.setExecuteHandlerFallback=function(u){this._executeHandlerFb=u},a.prototype.registerCsiHandler=function(u,h){var g=this._identifier(u);this._csiHandlers[g]===void 0&&(this._csiHandlers[g]=[]);var w=this._csiHandlers[g];return w.push(h),{dispose:function(){var x=w.indexOf(h);x!==-1&&w.splice(x,1)}}},a.prototype.clearCsiHandler=function(u){this._csiHandlers[this._identifier(u)]&&delete this._csiHandlers[this._identifier(u)]},a.prototype.setCsiHandlerFallback=function(u){this._csiHandlerFb=u},a.prototype.registerDcsHandler=function(u,h){return this._dcsParser.registerHandler(this._identifier(u),h)},a.prototype.clearDcsHandler=function(u){this._dcsParser.clearHandler(this._identifier(u))},a.prototype.setDcsHandlerFallback=function(u){this._dcsParser.setHandlerFallback(u)},a.prototype.registerOscHandler=function(u,h){return this._oscParser.registerHandler(u,h)},a.prototype.clearOscHandler=function(u){this._oscParser.clearHandler(u)},a.prototype.setOscHandlerFallback=function(u){this._oscParser.setHandlerFallback(u)},a.prototype.setErrorHandler=function(u){this._errorHandler=u},a.prototype.clearErrorHandler=function(){this._errorHandler=this._errorHandlerFb},a.prototype.reset=function(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])},a.prototype._preserveStack=function(u,h,g,w,x){this._parseStack.state=u,this._parseStack.handlers=h,this._parseStack.handlerPos=g,this._parseStack.transition=w,this._parseStack.chunkPos=x},a.prototype.parse=function(u,h,g){var w,x=0,C=0,k=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,k=this._parseStack.chunkPos+1;else{if(g===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");var S=this._parseStack.handlers,b=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(g===!1&&b>-1){for(;b>=0&&(w=S[b](this._params))!==!0;b--)if(w instanceof Promise)return this._parseStack.handlerPos=b,w}this._parseStack.handlers=[];break;case 4:if(g===!1&&b>-1){for(;b>=0&&(w=S[b]())!==!0;b--)if(w instanceof Promise)return this._parseStack.handlerPos=b,w}this._parseStack.handlers=[];break;case 6:if(x=u[this._parseStack.chunkPos],w=this._dcsParser.unhook(x!==24&&x!==26,g))return w;x===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(x=u[this._parseStack.chunkPos],w=this._oscParser.end(x!==24&&x!==26,g))return w;x===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,k=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(var O=k;O<h;++O){switch(x=u[O],(C=this._transitions.table[this.currentState<<8|(x<160?x:v)])>>4){case 2:for(var E=O+1;;++E){if(E>=h||(x=u[E])<32||x>126&&x<v){this._printHandler(u,O,E),O=E-1;break}if(++E>=h||(x=u[E])<32||x>126&&x<v){this._printHandler(u,O,E),O=E-1;break}if(++E>=h||(x=u[E])<32||x>126&&x<v){this._printHandler(u,O,E),O=E-1;break}if(++E>=h||(x=u[E])<32||x>126&&x<v){this._printHandler(u,O,E),O=E-1;break}}break;case 3:this._executeHandlers[x]?this._executeHandlers[x]():this._executeHandlerFb(x),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:O,code:x,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:for(var B=(S=this._csiHandlers[this._collect<<8|x])?S.length-1:-1;B>=0&&(w=S[B](this._params))!==!0;B--)if(w instanceof Promise)return this._preserveStack(3,S,B,C,O),w;B<0&&this._csiHandlerFb(this._collect<<8|x,this._params),this.precedingCodepoint=0;break;case 8:do switch(x){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(x-48)}while(++O<h&&(x=u[O])>47&&x<60);O--;break;case 9:this._collect<<=8,this._collect|=x;break;case 10:for(var A=this._escHandlers[this._collect<<8|x],L=A?A.length-1:-1;L>=0&&(w=A[L]())!==!0;L--)if(w instanceof Promise)return this._preserveStack(4,A,L,C,O),w;L<0&&this._escHandlerFb(this._collect<<8|x),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|x,this._params);break;case 13:for(var I=O+1;;++I)if(I>=h||(x=u[I])===24||x===26||x===27||x>127&&x<v){this._dcsParser.put(u,O,I),O=I-1;break}break;case 14:if(w=this._dcsParser.unhook(x!==24&&x!==26))return this._preserveStack(6,[],0,C,O),w;x===27&&(C|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(var D=O+1;;D++)if(D>=h||(x=u[D])<32||x>127&&x<v){this._oscParser.put(u,O,D),O=D-1;break}break;case 6:if(w=this._oscParser.end(x!==24&&x!==26))return this._preserveStack(5,[],0,C,O),w;x===27&&(C|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&C}},a}(c.Disposable);n.EscapeSequenceParser=d},6242:(r,n,i)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.OscHandler=n.OscParser=void 0;var o=i(5770),s=i(482),c=[],f=function(){function y(){this._state=0,this._active=c,this._id=-1,this._handlers=Object.create(null),this._handlerFb=function(){},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}return y.prototype.registerHandler=function(m,p){this._handlers[m]===void 0&&(this._handlers[m]=[]);var v=this._handlers[m];return v.push(p),{dispose:function(){var d=v.indexOf(p);d!==-1&&v.splice(d,1)}}},y.prototype.clearHandler=function(m){this._handlers[m]&&delete this._handlers[m]},y.prototype.setHandlerFallback=function(m){this._handlerFb=m},y.prototype.dispose=function(){this._handlers=Object.create(null),this._handlerFb=function(){},this._active=c},y.prototype.reset=function(){if(this._state===2)for(var m=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;m>=0;--m)this._active[m].end(!1);this._stack.paused=!1,this._active=c,this._id=-1,this._state=0},y.prototype._start=function(){if(this._active=this._handlers[this._id]||c,this._active.length)for(var m=this._active.length-1;m>=0;m--)this._active[m].start();else this._handlerFb(this._id,"START")},y.prototype._put=function(m,p,v){if(this._active.length)for(var d=this._active.length-1;d>=0;d--)this._active[d].put(m,p,v);else this._handlerFb(this._id,"PUT",(0,s.utf32ToString)(m,p,v))},y.prototype.start=function(){this.reset(),this._state=1},y.prototype.put=function(m,p,v){if(this._state!==3){if(this._state===1)for(;p<v;){var d=m[p++];if(d===59){this._state=2,this._start();break}if(d<48||57<d)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+d-48}this._state===2&&v-p>0&&this._put(m,p,v)}},y.prototype.end=function(m,p){if(p===void 0&&(p=!0),this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){var v=!1,d=this._active.length-1,l=!1;if(this._stack.paused&&(d=this._stack.loopPosition-1,v=p,l=this._stack.fallThrough,this._stack.paused=!1),!l&&v===!1){for(;d>=0&&(v=this._active[d].end(m))!==!0;d--)if(v instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=d,this._stack.fallThrough=!1,v;d--}for(;d>=0;d--)if((v=this._active[d].end(!1))instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=d,this._stack.fallThrough=!0,v}else this._handlerFb(this._id,"END",m);this._active=c,this._id=-1,this._state=0}},y}();n.OscParser=f;var _=function(){function y(m){this._handler=m,this._data="",this._hitLimit=!1}return y.prototype.start=function(){this._data="",this._hitLimit=!1},y.prototype.put=function(m,p,v){this._hitLimit||(this._data+=(0,s.utf32ToString)(m,p,v),this._data.length>o.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))},y.prototype.end=function(m){var p=this,v=!1;if(this._hitLimit)v=!1;else if(m&&(v=this._handler(this._data))instanceof Promise)return v.then(function(d){return p._data="",p._hitLimit=!1,d});return this._data="",this._hitLimit=!1,v},y}();n.OscHandler=_},8742:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Params=void 0;var i=2147483647,o=function(){function s(c,f){if(c===void 0&&(c=32),f===void 0&&(f=32),this.maxLength=c,this.maxSubParamsLength=f,f>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(c),this.length=0,this._subParams=new Int32Array(f),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(c),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}return s.fromArray=function(c){var f=new s;if(!c.length)return f;for(var _=Array.isArray(c[0])?1:0;_<c.length;++_){var y=c[_];if(Array.isArray(y))for(var m=0;m<y.length;++m)f.addSubParam(y[m]);else f.addParam(y)}return f},s.prototype.clone=function(){var c=new s(this.maxLength,this.maxSubParamsLength);return c.params.set(this.params),c.length=this.length,c._subParams.set(this._subParams),c._subParamsLength=this._subParamsLength,c._subParamsIdx.set(this._subParamsIdx),c._rejectDigits=this._rejectDigits,c._rejectSubDigits=this._rejectSubDigits,c._digitIsSub=this._digitIsSub,c},s.prototype.toArray=function(){for(var c=[],f=0;f<this.length;++f){c.push(this.params[f]);var _=this._subParamsIdx[f]>>8,y=255&this._subParamsIdx[f];y-_>0&&c.push(Array.prototype.slice.call(this._subParams,_,y))}return c},s.prototype.reset=function(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1},s.prototype.addParam=function(c){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(c<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=c>i?i:c}},s.prototype.addSubParam=function(c){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(c<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=c>i?i:c,this._subParamsIdx[this.length-1]++}},s.prototype.hasSubParams=function(c){return(255&this._subParamsIdx[c])-(this._subParamsIdx[c]>>8)>0},s.prototype.getSubParams=function(c){var f=this._subParamsIdx[c]>>8,_=255&this._subParamsIdx[c];return _-f>0?this._subParams.subarray(f,_):null},s.prototype.getSubParamsAll=function(){for(var c={},f=0;f<this.length;++f){var _=this._subParamsIdx[f]>>8,y=255&this._subParamsIdx[f];y-_>0&&(c[f]=this._subParams.slice(_,y))}return c},s.prototype.addDigit=function(c){var f;if(!(this._rejectDigits||!(f=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)){var _=this._digitIsSub?this._subParams:this.params,y=_[f-1];_[f-1]=~y?Math.min(10*y+c,i):c}},s}();n.Params=o},5741:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.AddonManager=void 0;var i=function(){function o(){this._addons=[]}return o.prototype.dispose=function(){for(var s=this._addons.length-1;s>=0;s--)this._addons[s].instance.dispose()},o.prototype.loadAddon=function(s,c){var f=this,_={instance:c,dispose:c.dispose,isDisposed:!1};this._addons.push(_),c.dispose=function(){return f._wrappedAddonDispose(_)},c.activate(s)},o.prototype._wrappedAddonDispose=function(s){if(!s.isDisposed){for(var c=-1,f=0;f<this._addons.length;f++)if(this._addons[f]===s){c=f;break}if(c===-1)throw new Error("Could not dispose an addon that has not been loaded");s.isDisposed=!0,s.dispose.apply(s.instance),this._addons.splice(c,1)}},o}();n.AddonManager=i},8771:(r,n,i)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferApiView=void 0;var o=i(3785),s=i(511),c=function(){function f(_,y){this._buffer=_,this.type=y}return f.prototype.init=function(_){return this._buffer=_,this},Object.defineProperty(f.prototype,"cursorY",{get:function(){return this._buffer.y},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"cursorX",{get:function(){return this._buffer.x},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"viewportY",{get:function(){return this._buffer.ydisp},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"baseY",{get:function(){return this._buffer.ybase},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"length",{get:function(){return this._buffer.lines.length},enumerable:!1,configurable:!0}),f.prototype.getLine=function(_){var y=this._buffer.lines.get(_);if(y)return new o.BufferLineApiView(y)},f.prototype.getNullCell=function(){return new s.CellData},f}();n.BufferApiView=c},3785:(r,n,i)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferLineApiView=void 0;var o=i(511),s=function(){function c(f){this._line=f}return Object.defineProperty(c.prototype,"isWrapped",{get:function(){return this._line.isWrapped},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"length",{get:function(){return this._line.length},enumerable:!1,configurable:!0}),c.prototype.getCell=function(f,_){if(!(f<0||f>=this._line.length))return _?(this._line.loadCell(f,_),_):this._line.loadCell(f,new o.CellData)},c.prototype.translateToString=function(f,_,y){return this._line.translateToString(f,_,y)},c}();n.BufferLineApiView=s},8285:(r,n,i)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferNamespaceApi=void 0;var o=i(8771),s=i(8460),c=function(){function f(_){var y=this;this._core=_,this._onBufferChange=new s.EventEmitter,this._normal=new o.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new o.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(function(){return y._onBufferChange.fire(y.active)})}return Object.defineProperty(f.prototype,"onBufferChange",{get:function(){return this._onBufferChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"active",{get:function(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"normal",{get:function(){return this._normal.init(this._core.buffers.normal)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"alternate",{get:function(){return this._alternate.init(this._core.buffers.alt)},enumerable:!1,configurable:!0}),f}();n.BufferNamespaceApi=c},7975:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ParserApi=void 0;var i=function(){function o(s){this._core=s}return o.prototype.registerCsiHandler=function(s,c){return this._core.registerCsiHandler(s,function(f){return c(f.toArray())})},o.prototype.addCsiHandler=function(s,c){return this.registerCsiHandler(s,c)},o.prototype.registerDcsHandler=function(s,c){return this._core.registerDcsHandler(s,function(f,_){return c(f,_.toArray())})},o.prototype.addDcsHandler=function(s,c){return this.registerDcsHandler(s,c)},o.prototype.registerEscHandler=function(s,c){return this._core.registerEscHandler(s,c)},o.prototype.addEscHandler=function(s,c){return this.registerEscHandler(s,c)},o.prototype.registerOscHandler=function(s,c){return this._core.registerOscHandler(s,c)},o.prototype.addOscHandler=function(s,c){return this.registerOscHandler(s,c)},o}();n.ParserApi=i},7090:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.UnicodeApi=void 0;var i=function(){function o(s){this._core=s}return o.prototype.register=function(s){this._core.unicodeService.register(s)},Object.defineProperty(o.prototype,"versions",{get:function(){return this._core.unicodeService.versions},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"activeVersion",{get:function(){return this._core.unicodeService.activeVersion},set:function(s){this._core.unicodeService.activeVersion=s},enumerable:!1,configurable:!0}),o}();n.UnicodeApi=i},744:function(r,n,i){var o,s=this&&this.__extends||(o=function(d,l){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(a[h]=u[h])},o(d,l)},function(d,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function a(){this.constructor=d}o(d,l),d.prototype=l===null?Object.create(l):(a.prototype=l.prototype,new a)}),c=this&&this.__decorate||function(d,l,a,u){var h,g=arguments.length,w=g<3?l:u===null?u=Object.getOwnPropertyDescriptor(l,a):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(d,l,a,u);else for(var x=d.length-1;x>=0;x--)(h=d[x])&&(w=(g<3?h(w):g>3?h(l,a,w):h(l,a))||w);return g>3&&w&&Object.defineProperty(l,a,w),w},f=this&&this.__param||function(d,l){return function(a,u){l(a,u,d)}};Object.defineProperty(n,"__esModule",{value:!0}),n.BufferService=n.MINIMUM_ROWS=n.MINIMUM_COLS=void 0;var _=i(2585),y=i(5295),m=i(8460),p=i(844);n.MINIMUM_COLS=2,n.MINIMUM_ROWS=1;var v=function(d){function l(a){var u=d.call(this)||this;return u._optionsService=a,u.isUserScrolling=!1,u._onResize=new m.EventEmitter,u._onScroll=new m.EventEmitter,u.cols=Math.max(a.rawOptions.cols||0,n.MINIMUM_COLS),u.rows=Math.max(a.rawOptions.rows||0,n.MINIMUM_ROWS),u.buffers=new y.BufferSet(a,u),u}return s(l,d),Object.defineProperty(l.prototype,"onResize",{get:function(){return this._onResize.event},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"onScroll",{get:function(){return this._onScroll.event},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"buffer",{get:function(){return this.buffers.active},enumerable:!1,configurable:!0}),l.prototype.dispose=function(){d.prototype.dispose.call(this),this.buffers.dispose()},l.prototype.resize=function(a,u){this.cols=a,this.rows=u,this.buffers.resize(a,u),this.buffers.setupTabStops(this.cols),this._onResize.fire({cols:a,rows:u})},l.prototype.reset=function(){this.buffers.reset(),this.isUserScrolling=!1},l.prototype.scroll=function(a,u){u===void 0&&(u=!1);var h,g=this.buffer;(h=this._cachedBlankLine)&&h.length===this.cols&&h.getFg(0)===a.fg&&h.getBg(0)===a.bg||(h=g.getBlankLine(a,u),this._cachedBlankLine=h),h.isWrapped=u;var w=g.ybase+g.scrollTop,x=g.ybase+g.scrollBottom;if(g.scrollTop===0){var C=g.lines.isFull;x===g.lines.length-1?C?g.lines.recycle().copyFrom(h):g.lines.push(h.clone()):g.lines.splice(x+1,0,h.clone()),C?this.isUserScrolling&&(g.ydisp=Math.max(g.ydisp-1,0)):(g.ybase++,this.isUserScrolling||g.ydisp++)}else{var k=x-w+1;g.lines.shiftElements(w+1,k-1,-1),g.lines.set(x,h.clone())}this.isUserScrolling||(g.ydisp=g.ybase),this._onScroll.fire(g.ydisp)},l.prototype.scrollLines=function(a,u,h){var g=this.buffer;if(a<0){if(g.ydisp===0)return;this.isUserScrolling=!0}else a+g.ydisp>=g.ybase&&(this.isUserScrolling=!1);var w=g.ydisp;g.ydisp=Math.max(Math.min(g.ydisp+a,g.ybase),0),w!==g.ydisp&&(u||this._onScroll.fire(g.ydisp))},l.prototype.scrollPages=function(a){this.scrollLines(a*(this.rows-1))},l.prototype.scrollToTop=function(){this.scrollLines(-this.buffer.ydisp)},l.prototype.scrollToBottom=function(){this.scrollLines(this.buffer.ybase-this.buffer.ydisp)},l.prototype.scrollToLine=function(a){var u=a-this.buffer.ydisp;u!==0&&this.scrollLines(u)},c([f(0,_.IOptionsService)],l)}(p.Disposable);n.BufferService=v},7994:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CharsetService=void 0;var i=function(){function o(){this.glevel=0,this._charsets=[]}return o.prototype.reset=function(){this.charset=void 0,this._charsets=[],this.glevel=0},o.prototype.setgLevel=function(s){this.glevel=s,this.charset=this._charsets[s]},o.prototype.setgCharset=function(s,c){this._charsets[s]=c,this.glevel===s&&(this.charset=c)},o}();n.CharsetService=i},1753:function(r,n,i){var o=this&&this.__decorate||function(d,l,a,u){var h,g=arguments.length,w=g<3?l:u===null?u=Object.getOwnPropertyDescriptor(l,a):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(d,l,a,u);else for(var x=d.length-1;x>=0;x--)(h=d[x])&&(w=(g<3?h(w):g>3?h(l,a,w):h(l,a))||w);return g>3&&w&&Object.defineProperty(l,a,w),w},s=this&&this.__param||function(d,l){return function(a,u){l(a,u,d)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CoreMouseService=void 0;var c=i(2585),f=i(8460),_={NONE:{events:0,restrict:function(){return!1}},X10:{events:1,restrict:function(d){return d.button!==4&&d.action===1&&(d.ctrl=!1,d.alt=!1,d.shift=!1,!0)}},VT200:{events:19,restrict:function(d){return d.action!==32}},DRAG:{events:23,restrict:function(d){return d.action!==32||d.button!==3}},ANY:{events:31,restrict:function(d){return!0}}};function y(d,l){var a=(d.ctrl?16:0)|(d.shift?4:0)|(d.alt?8:0);return d.button===4?(a|=64,a|=d.action):(a|=3&d.button,4&d.button&&(a|=64),8&d.button&&(a|=128),d.action===32?a|=32:d.action!==0||l||(a|=3)),a}var m=String.fromCharCode,p={DEFAULT:function(d){var l=[y(d,!1)+32,d.col+32,d.row+32];return l[0]>255||l[1]>255||l[2]>255?"":"\x1B[M"+m(l[0])+m(l[1])+m(l[2])},SGR:function(d){var l=d.action===0&&d.button!==4?"m":"M";return"\x1B[<"+y(d,!0)+";"+d.col+";"+d.row+l}},v=function(){function d(l,a){this._bufferService=l,this._coreService=a,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._onProtocolChange=new f.EventEmitter,this._lastEvent=null;for(var u=0,h=Object.keys(_);u<h.length;u++){var g=h[u];this.addProtocol(g,_[g])}for(var w=0,x=Object.keys(p);w<x.length;w++){var C=x[w];this.addEncoding(C,p[C])}this.reset()}return d.prototype.addProtocol=function(l,a){this._protocols[l]=a},d.prototype.addEncoding=function(l,a){this._encodings[l]=a},Object.defineProperty(d.prototype,"activeProtocol",{get:function(){return this._activeProtocol},set:function(l){if(!this._protocols[l])throw new Error('unknown protocol "'+l+'"');this._activeProtocol=l,this._onProtocolChange.fire(this._protocols[l].events)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"areMouseEventsActive",{get:function(){return this._protocols[this._activeProtocol].events!==0},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"activeEncoding",{get:function(){return this._activeEncoding},set:function(l){if(!this._encodings[l])throw new Error('unknown encoding "'+l+'"');this._activeEncoding=l},enumerable:!1,configurable:!0}),d.prototype.reset=function(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null},Object.defineProperty(d.prototype,"onProtocolChange",{get:function(){return this._onProtocolChange.event},enumerable:!1,configurable:!0}),d.prototype.triggerMouseEvent=function(l){if(l.col<0||l.col>=this._bufferService.cols||l.row<0||l.row>=this._bufferService.rows||l.button===4&&l.action===32||l.button===3&&l.action!==32||l.button!==4&&(l.action===2||l.action===3)||(l.col++,l.row++,l.action===32&&this._lastEvent&&this._compareEvents(this._lastEvent,l))||!this._protocols[this._activeProtocol].restrict(l))return!1;var a=this._encodings[this._activeEncoding](l);return a&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(a):this._coreService.triggerDataEvent(a,!0)),this._lastEvent=l,!0},d.prototype.explainEvents=function(l){return{down:!!(1&l),up:!!(2&l),drag:!!(4&l),move:!!(8&l),wheel:!!(16&l)}},d.prototype._compareEvents=function(l,a){return l.col===a.col&&l.row===a.row&&l.button===a.button&&l.action===a.action&&l.ctrl===a.ctrl&&l.alt===a.alt&&l.shift===a.shift},o([s(0,c.IBufferService),s(1,c.ICoreService)],d)}();n.CoreMouseService=v},6975:function(r,n,i){var o,s=this&&this.__extends||(o=function(a,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var w in g)Object.prototype.hasOwnProperty.call(g,w)&&(h[w]=g[w])},o(a,u)},function(a,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function h(){this.constructor=a}o(a,u),a.prototype=u===null?Object.create(u):(h.prototype=u.prototype,new h)}),c=this&&this.__decorate||function(a,u,h,g){var w,x=arguments.length,C=x<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,h):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(a,u,h,g);else for(var k=a.length-1;k>=0;k--)(w=a[k])&&(C=(x<3?w(C):x>3?w(u,h,C):w(u,h))||C);return x>3&&C&&Object.defineProperty(u,h,C),C},f=this&&this.__param||function(a,u){return function(h,g){u(h,g,a)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CoreService=void 0;var _=i(2585),y=i(8460),m=i(1439),p=i(844),v=Object.freeze({insertMode:!1}),d=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0}),l=function(a){function u(h,g,w,x){var C=a.call(this)||this;return C._bufferService=g,C._logService=w,C._optionsService=x,C.isCursorInitialized=!1,C.isCursorHidden=!1,C._onData=C.register(new y.EventEmitter),C._onUserInput=C.register(new y.EventEmitter),C._onBinary=C.register(new y.EventEmitter),C._scrollToBottom=h,C.register({dispose:function(){return C._scrollToBottom=void 0}}),C.modes=(0,m.clone)(v),C.decPrivateModes=(0,m.clone)(d),C}return s(u,a),Object.defineProperty(u.prototype,"onData",{get:function(){return this._onData.event},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"onUserInput",{get:function(){return this._onUserInput.event},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"onBinary",{get:function(){return this._onBinary.event},enumerable:!1,configurable:!0}),u.prototype.reset=function(){this.modes=(0,m.clone)(v),this.decPrivateModes=(0,m.clone)(d)},u.prototype.triggerDataEvent=function(h,g){if(g===void 0&&(g=!1),!this._optionsService.rawOptions.disableStdin){var w=this._bufferService.buffer;w.ybase!==w.ydisp&&this._scrollToBottom(),g&&this._onUserInput.fire(),this._logService.debug('sending data "'+h+'"',function(){return h.split("").map(function(x){return x.charCodeAt(0)})}),this._onData.fire(h)}},u.prototype.triggerBinaryEvent=function(h){this._optionsService.rawOptions.disableStdin||(this._logService.debug('sending binary "'+h+'"',function(){return h.split("").map(function(g){return g.charCodeAt(0)})}),this._onBinary.fire(h))},c([f(1,_.IBufferService),f(2,_.ILogService),f(3,_.IOptionsService)],u)}(p.Disposable);n.CoreService=l},3730:function(r,n,i){var o=this&&this.__decorate||function(_,y,m,p){var v,d=arguments.length,l=d<3?y:p===null?p=Object.getOwnPropertyDescriptor(y,m):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(_,y,m,p);else for(var a=_.length-1;a>=0;a--)(v=_[a])&&(l=(d<3?v(l):d>3?v(y,m,l):v(y,m))||l);return d>3&&l&&Object.defineProperty(y,m,l),l},s=this&&this.__param||function(_,y){return function(m,p){y(m,p,_)}};Object.defineProperty(n,"__esModule",{value:!0}),n.DirtyRowService=void 0;var c=i(2585),f=function(){function _(y){this._bufferService=y,this.clearRange()}return Object.defineProperty(_.prototype,"start",{get:function(){return this._start},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"end",{get:function(){return this._end},enumerable:!1,configurable:!0}),_.prototype.clearRange=function(){this._start=this._bufferService.buffer.y,this._end=this._bufferService.buffer.y},_.prototype.markDirty=function(y){y<this._start?this._start=y:y>this._end&&(this._end=y)},_.prototype.markRangeDirty=function(y,m){if(y>m){var p=y;y=m,m=p}y<this._start&&(this._start=y),m>this._end&&(this._end=m)},_.prototype.markAllDirty=function(){this.markRangeDirty(0,this._bufferService.rows-1)},o([s(0,c.IBufferService)],_)}();n.DirtyRowService=f},4348:function(r,n,i){var o=this&&this.__spreadArray||function(y,m,p){if(p||arguments.length===2)for(var v,d=0,l=m.length;d<l;d++)!v&&d in m||(v||(v=Array.prototype.slice.call(m,0,d)),v[d]=m[d]);return y.concat(v||Array.prototype.slice.call(m))};Object.defineProperty(n,"__esModule",{value:!0}),n.InstantiationService=n.ServiceCollection=void 0;var s=i(2585),c=i(8343),f=function(){function y(){for(var m=[],p=0;p<arguments.length;p++)m[p]=arguments[p];this._entries=new Map;for(var v=0,d=m;v<d.length;v++){var l=d[v],a=l[0],u=l[1];this.set(a,u)}}return y.prototype.set=function(m,p){var v=this._entries.get(m);return this._entries.set(m,p),v},y.prototype.forEach=function(m){this._entries.forEach(function(p,v){return m(v,p)})},y.prototype.has=function(m){return this._entries.has(m)},y.prototype.get=function(m){return this._entries.get(m)},y}();n.ServiceCollection=f;var _=function(){function y(){this._services=new f,this._services.set(s.IInstantiationService,this)}return y.prototype.setService=function(m,p){this._services.set(m,p)},y.prototype.getService=function(m){return this._services.get(m)},y.prototype.createInstance=function(m){for(var p=[],v=1;v<arguments.length;v++)p[v-1]=arguments[v];for(var d=(0,c.getServiceDependencies)(m).sort(function(x,C){return x.index-C.index}),l=[],a=0,u=d;a<u.length;a++){var h=u[a],g=this._services.get(h.id);if(!g)throw new Error("[createInstance] "+m.name+" depends on UNKNOWN service "+h.id+".");l.push(g)}var w=d.length>0?d[0].index:p.length;if(p.length!==w)throw new Error("[createInstance] First service dependency of "+m.name+" at position "+(w+1)+" conflicts with "+p.length+" static arguments");return new(m.bind.apply(m,o([void 0],o(o([],p,!0),l,!0),!1)))},y}();n.InstantiationService=_},7866:function(r,n,i){var o=this&&this.__decorate||function(m,p,v,d){var l,a=arguments.length,u=a<3?p:d===null?d=Object.getOwnPropertyDescriptor(p,v):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(m,p,v,d);else for(var h=m.length-1;h>=0;h--)(l=m[h])&&(u=(a<3?l(u):a>3?l(p,v,u):l(p,v))||u);return a>3&&u&&Object.defineProperty(p,v,u),u},s=this&&this.__param||function(m,p){return function(v,d){p(v,d,m)}},c=this&&this.__spreadArray||function(m,p,v){if(v||arguments.length===2)for(var d,l=0,a=p.length;l<a;l++)!d&&l in p||(d||(d=Array.prototype.slice.call(p,0,l)),d[l]=p[l]);return m.concat(d||Array.prototype.slice.call(p))};Object.defineProperty(n,"__esModule",{value:!0}),n.LogService=void 0;var f=i(2585),_={debug:f.LogLevelEnum.DEBUG,info:f.LogLevelEnum.INFO,warn:f.LogLevelEnum.WARN,error:f.LogLevelEnum.ERROR,off:f.LogLevelEnum.OFF},y=function(){function m(p){var v=this;this._optionsService=p,this.logLevel=f.LogLevelEnum.OFF,this._updateLogLevel(),this._optionsService.onOptionChange(function(d){d==="logLevel"&&v._updateLogLevel()})}return m.prototype._updateLogLevel=function(){this.logLevel=_[this._optionsService.rawOptions.logLevel]},m.prototype._evalLazyOptionalParams=function(p){for(var v=0;v<p.length;v++)typeof p[v]=="function"&&(p[v]=p[v]())},m.prototype._log=function(p,v,d){this._evalLazyOptionalParams(d),p.call.apply(p,c([console,"xterm.js: "+v],d,!1))},m.prototype.debug=function(p){for(var v=[],d=1;d<arguments.length;d++)v[d-1]=arguments[d];this.logLevel<=f.LogLevelEnum.DEBUG&&this._log(console.log,p,v)},m.prototype.info=function(p){for(var v=[],d=1;d<arguments.length;d++)v[d-1]=arguments[d];this.logLevel<=f.LogLevelEnum.INFO&&this._log(console.info,p,v)},m.prototype.warn=function(p){for(var v=[],d=1;d<arguments.length;d++)v[d-1]=arguments[d];this.logLevel<=f.LogLevelEnum.WARN&&this._log(console.warn,p,v)},m.prototype.error=function(p){for(var v=[],d=1;d<arguments.length;d++)v[d-1]=arguments[d];this.logLevel<=f.LogLevelEnum.ERROR&&this._log(console.error,p,v)},o([s(0,f.IOptionsService)],m)}();n.LogService=y},7302:function(r,n,i){var o=this&&this.__assign||function(){return o=Object.assign||function(y){for(var m,p=1,v=arguments.length;p<v;p++)for(var d in m=arguments[p])Object.prototype.hasOwnProperty.call(m,d)&&(y[d]=m[d]);return y},o.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.OptionsService=n.DEFAULT_OPTIONS=n.DEFAULT_BELL_SOUND=void 0;var s=i(8460),c=i(6114);n.DEFAULT_BELL_SOUND="data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjMyLjEwNAAAAAAAAAAAAAAA//tQxAADB8AhSmxhIIEVCSiJrDCQBTcu3UrAIwUdkRgQbFAZC1CQEwTJ9mjRvBA4UOLD8nKVOWfh+UlK3z/177OXrfOdKl7pyn3Xf//WreyTRUoAWgBgkOAGbZHBgG1OF6zM82DWbZaUmMBptgQhGjsyYqc9ae9XFz280948NMBWInljyzsNRFLPWdnZGWrddDsjK1unuSrVN9jJsK8KuQtQCtMBjCEtImISdNKJOopIpBFpNSMbIHCSRpRR5iakjTiyzLhchUUBwCgyKiweBv/7UsQbg8isVNoMPMjAAAA0gAAABEVFGmgqK////9bP/6XCykxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",n.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,customGlyphs:!0,bellSound:n.DEFAULT_BELL_SOUND,bellStyle:"none",drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",lineHeight:1,linkTooltipHoverDuration:500,letterSpacing:0,logLevel:"info",scrollback:1e3,scrollSensitivity:1,screenReaderMode:!1,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!0,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:c.isMac,rendererType:"canvas",windowOptions:{},windowsMode:!1,wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1};var f=["normal","bold","100","200","300","400","500","600","700","800","900"],_=function(){function y(m){this._onOptionChange=new s.EventEmitter;var p=o({},n.DEFAULT_OPTIONS);for(var v in m)if(v in p)try{var d=m[v];p[v]=this._sanitizeAndValidateOption(v,d)}catch(l){console.error(l)}this.rawOptions=p,this.options=o({},p),this._setupOptions()}return Object.defineProperty(y.prototype,"onOptionChange",{get:function(){return this._onOptionChange.event},enumerable:!1,configurable:!0}),y.prototype._setupOptions=function(){var m=this,p=function(a){if(!(a in n.DEFAULT_OPTIONS))throw new Error('No option with key "'+a+'"');return m.rawOptions[a]},v=function(a,u){if(!(a in n.DEFAULT_OPTIONS))throw new Error('No option with key "'+a+'"');u=m._sanitizeAndValidateOption(a,u),m.rawOptions[a]!==u&&(m.rawOptions[a]=u,m._onOptionChange.fire(a))};for(var d in this.rawOptions){var l={get:p.bind(this,d),set:v.bind(this,d)};Object.defineProperty(this.options,d,l)}},y.prototype.setOption=function(m,p){this.options[m]=p},y.prototype._sanitizeAndValidateOption=function(m,p){switch(m){case"bellStyle":case"cursorStyle":case"rendererType":case"wordSeparator":p||(p=n.DEFAULT_OPTIONS[m]);break;case"fontWeight":case"fontWeightBold":if(typeof p=="number"&&1<=p&&p<=1e3)break;p=f.includes(p)?p:n.DEFAULT_OPTIONS[m];break;case"cursorWidth":p=Math.floor(p);case"lineHeight":case"tabStopWidth":if(p<1)throw new Error(m+" cannot be less than 1, value: "+p);break;case"minimumContrastRatio":p=Math.max(1,Math.min(21,Math.round(10*p)/10));break;case"scrollback":if((p=Math.min(p,4294967295))<0)throw new Error(m+" cannot be less than 0, value: "+p);break;case"fastScrollSensitivity":case"scrollSensitivity":if(p<=0)throw new Error(m+" cannot be less than or equal to 0, value: "+p);case"rows":case"cols":if(!p&&p!==0)throw new Error(m+" must be numeric, value: "+p)}return p},y.prototype.getOption=function(m){return this.options[m]},y}();n.OptionsService=_},8343:(r,n)=>{function i(o,s,c){s.di$target===s?s.di$dependencies.push({id:o,index:c}):(s.di$dependencies=[{id:o,index:c}],s.di$target=s)}Object.defineProperty(n,"__esModule",{value:!0}),n.createDecorator=n.getServiceDependencies=n.serviceRegistry=void 0,n.serviceRegistry=new Map,n.getServiceDependencies=function(o){return o.di$dependencies||[]},n.createDecorator=function(o){if(n.serviceRegistry.has(o))return n.serviceRegistry.get(o);var s=function(c,f,_){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");i(s,c,_)};return s.toString=function(){return o},n.serviceRegistry.set(o,s),s}},2585:(r,n,i)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.IUnicodeService=n.IOptionsService=n.ILogService=n.LogLevelEnum=n.IInstantiationService=n.IDirtyRowService=n.ICharsetService=n.ICoreService=n.ICoreMouseService=n.IBufferService=void 0;var o,s=i(8343);n.IBufferService=(0,s.createDecorator)("BufferService"),n.ICoreMouseService=(0,s.createDecorator)("CoreMouseService"),n.ICoreService=(0,s.createDecorator)("CoreService"),n.ICharsetService=(0,s.createDecorator)("CharsetService"),n.IDirtyRowService=(0,s.createDecorator)("DirtyRowService"),n.IInstantiationService=(0,s.createDecorator)("InstantiationService"),(o=n.LogLevelEnum||(n.LogLevelEnum={}))[o.DEBUG=0]="DEBUG",o[o.INFO=1]="INFO",o[o.WARN=2]="WARN",o[o.ERROR=3]="ERROR",o[o.OFF=4]="OFF",n.ILogService=(0,s.createDecorator)("LogService"),n.IOptionsService=(0,s.createDecorator)("OptionsService"),n.IUnicodeService=(0,s.createDecorator)("UnicodeService")},1480:(r,n,i)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.UnicodeService=void 0;var o=i(8460),s=i(225),c=function(){function f(){this._providers=Object.create(null),this._active="",this._onChange=new o.EventEmitter;var _=new s.UnicodeV6;this.register(_),this._active=_.version,this._activeProvider=_}return Object.defineProperty(f.prototype,"onChange",{get:function(){return this._onChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"versions",{get:function(){return Object.keys(this._providers)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"activeVersion",{get:function(){return this._active},set:function(_){if(!this._providers[_])throw new Error('unknown Unicode version "'+_+'"');this._active=_,this._activeProvider=this._providers[_],this._onChange.fire(_)},enumerable:!1,configurable:!0}),f.prototype.register=function(_){this._providers[_.version]=_},f.prototype.wcwidth=function(_){return this._activeProvider.wcwidth(_)},f.prototype.getStringCellWidth=function(_){for(var y=0,m=_.length,p=0;p<m;++p){var v=_.charCodeAt(p);if(55296<=v&&v<=56319){if(++p>=m)return y+this.wcwidth(v);var d=_.charCodeAt(p);56320<=d&&d<=57343?v=1024*(v-55296)+d-56320+65536:y+=this.wcwidth(d)}y+=this.wcwidth(v)}return y},f}();n.UnicodeService=c}},t={};return function r(n){var i=t[n];if(i!==void 0)return i.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}(4389)})()})});var f0=at((Oc,Uh)=>{(function(e,t){typeof Oc=="object"&&typeof Uh=="object"?Uh.exports=t():typeof define=="function"&&define.amd?define([],t):typeof Oc=="object"?Oc.FitAddon=t():e.FitAddon=t()})(self,function(){return(()=>{"use strict";var e={775:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.FitAddon=void 0;var i=function(){function o(){}return o.prototype.activate=function(s){this._terminal=s},o.prototype.dispose=function(){},o.prototype.fit=function(){var s=this.proposeDimensions();if(s&&this._terminal){var c=this._terminal._core;this._terminal.rows===s.rows&&this._terminal.cols===s.cols||(c._renderService.clear(),this._terminal.resize(s.cols,s.rows))}},o.prototype.proposeDimensions=function(){if(this._terminal&&this._terminal.element&&this._terminal.element.parentElement){var s=this._terminal._core;if(s._renderService.dimensions.actualCellWidth!==0&&s._renderService.dimensions.actualCellHeight!==0){var c=window.getComputedStyle(this._terminal.element.parentElement),f=parseInt(c.getPropertyValue("height")),_=Math.max(0,parseInt(c.getPropertyValue("width"))),y=window.getComputedStyle(this._terminal.element),m=f-(parseInt(y.getPropertyValue("padding-top"))+parseInt(y.getPropertyValue("padding-bottom"))),p=_-(parseInt(y.getPropertyValue("padding-right"))+parseInt(y.getPropertyValue("padding-left")))-s.viewport.scrollBarWidth;return{cols:Math.max(2,Math.floor(p/s._renderService.dimensions.actualCellWidth)),rows:Math.max(1,Math.floor(m/s._renderService.dimensions.actualCellHeight))}}}},o}();n.FitAddon=i}},t={};return function r(n){if(t[n])return t[n].exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}(775)})()})});var D0=at(ma=>{"use strict";Au();var kk=Ne(),P0=60103;ma.Fragment=60107;typeof Symbol=="function"&&Symbol.for&&(Yh=Symbol.for,P0=Yh("react.element"),ma.Fragment=Yh("react.fragment"));var Yh,Ek=kk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Lk=Object.prototype.hasOwnProperty,Ok={key:!0,ref:!0,__self:!0,__source:!0};function R0(e,t,r){var n,i={},o=null,s=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)Lk.call(t,n)&&!Ok.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:P0,type:e,key:o,ref:s,props:i,_owner:Ek.current}}ma.jsx=R0;ma.jsxs=R0});var N0=at((eY,B0)=>{"use strict";B0.exports=D0()});var W0=at(Le=>{"use strict";var Rc=60103,Dc=60106,_a=60107,va=60108,ga=60114,ya=60109,wa=60110,xa=60112,Sa=60113,Jh=60120,ba=60115,Ca=60116,j0=60121,F0=60122,H0=60117,U0=60129,q0=60131;typeof Symbol=="function"&&Symbol.for&&(ot=Symbol.for,Rc=ot("react.element"),Dc=ot("react.portal"),_a=ot("react.fragment"),va=ot("react.strict_mode"),ga=ot("react.profiler"),ya=ot("react.provider"),wa=ot("react.context"),xa=ot("react.forward_ref"),Sa=ot("react.suspense"),Jh=ot("react.suspense_list"),ba=ot("react.memo"),Ca=ot("react.lazy"),j0=ot("react.block"),F0=ot("react.server.block"),H0=ot("react.fundamental"),U0=ot("react.debug_trace_mode"),q0=ot("react.legacy_hidden"));var ot;function _r(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Rc:switch(e=e.type,e){case _a:case ga:case va:case Sa:case Jh:return e;default:switch(e=e&&e.$$typeof,e){case wa:case xa:case Ca:case ba:case ya:return e;default:return t}}case Dc:return t}}}var Tk=ya,Ik=Rc,Mk=xa,Ak=_a,Pk=Ca,Rk=ba,Dk=Dc,Bk=ga,Nk=va,jk=Sa;Le.ContextConsumer=wa;Le.ContextProvider=Tk;Le.Element=Ik;Le.ForwardRef=Mk;Le.Fragment=Ak;Le.Lazy=Pk;Le.Memo=Rk;Le.Portal=Dk;Le.Profiler=Bk;Le.StrictMode=Nk;Le.Suspense=jk;Le.isAsyncMode=function(){return!1};Le.isConcurrentMode=function(){return!1};Le.isContextConsumer=function(e){return _r(e)===wa};Le.isContextProvider=function(e){return _r(e)===ya};Le.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Rc};Le.isForwardRef=function(e){return _r(e)===xa};Le.isFragment=function(e){return _r(e)===_a};Le.isLazy=function(e){return _r(e)===Ca};Le.isMemo=function(e){return _r(e)===ba};Le.isPortal=function(e){return _r(e)===Dc};Le.isProfiler=function(e){return _r(e)===ga};Le.isStrictMode=function(e){return _r(e)===va};Le.isSuspense=function(e){return _r(e)===Sa};Le.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===_a||e===ga||e===U0||e===va||e===Sa||e===Jh||e===q0||typeof e=="object"&&e!==null&&(e.$$typeof===Ca||e.$$typeof===ba||e.$$typeof===ya||e.$$typeof===wa||e.$$typeof===xa||e.$$typeof===H0||e.$$typeof===j0||e[0]===F0)};Le.typeOf=_r});var V0=at((rY,z0)=>{"use strict";z0.exports=W0()});var g1=at((SY,v1)=>{"use strict";var Fn={DEBUG:!1,LIB_VERSION:"2.45.0"},bt;typeof window>"u"?(am={hostname:""},bt={navigator:{userAgent:""},document:{location:am,referrer:""},screen:{width:0,height:0},location:am}):bt=window;var am,zc=Array.prototype,aE=Function.prototype,s1=Object.prototype,jn=zc.slice,Pa=s1.toString,Vc=s1.hasOwnProperty,Je=bt.console,Zr=bt.navigator,Te=bt.document,Ta=bt.opera,jc=bt.screen,vr=Zr.userAgent,um=aE.bind,J0=zc.forEach,Z0=zc.indexOf,Q0=zc.map,uE=Array.isArray,fm={},T={trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},ke={log:function(){if(Fn.DEBUG&&!T.isUndefined(Je)&&Je)try{Je.log.apply(Je,arguments)}catch{T.each(arguments,function(t){Je.log(t)})}},warn:function(){if(Fn.DEBUG&&!T.isUndefined(Je)&&Je){var e=["Mixpanel warning:"].concat(T.toArray(arguments));try{Je.warn.apply(Je,e)}catch{T.each(e,function(r){Je.warn(r)})}}},error:function(){if(Fn.DEBUG&&!T.isUndefined(Je)&&Je){var e=["Mixpanel error:"].concat(T.toArray(arguments));try{Je.error.apply(Je,e)}catch{T.each(e,function(r){Je.error(r)})}}},critical:function(){if(!T.isUndefined(Je)&&Je){var e=["Mixpanel error:"].concat(T.toArray(arguments));try{Je.error.apply(Je,e)}catch{T.each(e,function(r){Je.error(r)})}}}},lm=function(e,t){return function(){return arguments[0]="["+t+"] "+arguments[0],e.apply(ke,arguments)}},dm=function(e){return{log:lm(ke.log,e),error:lm(ke.error,e),critical:lm(ke.critical,e)}};T.bind=function(e,t){var r,n;if(um&&e.bind===um)return um.apply(e,jn.call(arguments,1));if(!T.isFunction(e))throw new TypeError;return r=jn.call(arguments,2),n=function(){if(!(this instanceof n))return e.apply(t,r.concat(jn.call(arguments)));var i={};i.prototype=e.prototype;var o=new i;i.prototype=null;var s=e.apply(o,r.concat(jn.call(arguments)));return Object(s)===s?s:o},n};T.each=function(e,t,r){if(e!=null){if(J0&&e.forEach===J0)e.forEach(t,r);else if(e.length===+e.length){for(var n=0,i=e.length;n<i;n++)if(n in e&&t.call(r,e[n],n,e)===fm)return}else for(var o in e)if(Vc.call(e,o)&&t.call(r,e[o],o,e)===fm)return}};T.extend=function(e){return T.each(jn.call(arguments,1),function(t){for(var r in t)t[r]!==void 0&&(e[r]=t[r])}),e};T.isArray=uE||function(e){return Pa.call(e)==="[object Array]"};T.isFunction=function(e){try{return/^\s*\bfunction\b/.test(e)}catch{return!1}};T.isArguments=function(e){return!!(e&&Vc.call(e,"callee"))};T.toArray=function(e){return e?e.toArray?e.toArray():T.isArray(e)||T.isArguments(e)?jn.call(e):T.values(e):[]};T.map=function(e,t,r){if(Q0&&e.map===Q0)return e.map(t,r);var n=[];return T.each(e,function(i){n.push(t.call(r,i))}),n};T.keys=function(e){var t=[];return e===null||T.each(e,function(r,n){t[t.length]=n}),t};T.values=function(e){var t=[];return e===null||T.each(e,function(r){t[t.length]=r}),t};T.include=function(e,t){var r=!1;return e===null?r:Z0&&e.indexOf===Z0?e.indexOf(t)!=-1:(T.each(e,function(n){if(r||(r=n===t))return fm}),r)};T.includes=function(e,t){return e.indexOf(t)!==-1};T.inherit=function(e,t){return e.prototype=new t,e.prototype.constructor=e,e.superclass=t.prototype,e};T.isObject=function(e){return e===Object(e)&&!T.isArray(e)};T.isEmptyObject=function(e){if(T.isObject(e)){for(var t in e)if(Vc.call(e,t))return!1;return!0}return!1};T.isUndefined=function(e){return e===void 0};T.isString=function(e){return Pa.call(e)=="[object String]"};T.isDate=function(e){return Pa.call(e)=="[object Date]"};T.isNumber=function(e){return Pa.call(e)=="[object Number]"};T.isElement=function(e){return!!(e&&e.nodeType===1)};T.encodeDates=function(e){return T.each(e,function(t,r){T.isDate(t)?e[r]=T.formatDate(t):T.isObject(t)&&(e[r]=T.encodeDates(t))}),e};T.timestamp=function(){return Date.now=Date.now||function(){return+new Date},Date.now()};T.formatDate=function(e){function t(r){return r<10?"0"+r:r}return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())};T.strip_empty_properties=function(e){var t={};return T.each(e,function(r,n){T.isString(r)&&r.length>0&&(t[n]=r)}),t};T.truncate=function(e,t){var r;return typeof e=="string"?r=e.slice(0,t):T.isArray(e)?(r=[],T.each(e,function(n){r.push(T.truncate(n,t))})):T.isObject(e)?(r={},T.each(e,function(n,i){r[i]=T.truncate(n,t)})):r=e,r};T.JSONEncode=function(){return function(e){var t=e,r=function(i){var o=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return o.lastIndex=0,o.test(i)?'"'+i.replace(o,function(c){var f=s[c];return typeof f=="string"?f:"\\u"+("0000"+c.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+i+'"'},n=function(i,o){var s="",c="    ",f=0,_="",y="",m=0,p=s,v=[],d=o[i];switch(d&&typeof d=="object"&&typeof d.toJSON=="function"&&(d=d.toJSON(i)),typeof d){case"string":return r(d);case"number":return isFinite(d)?String(d):"null";case"boolean":case"null":return String(d);case"object":if(!d)return"null";if(s+=c,v=[],Pa.apply(d)==="[object Array]"){for(m=d.length,f=0;f<m;f+=1)v[f]=n(f,d)||"null";return y=v.length===0?"[]":s?`[
`+s+v.join(`,
`+s)+`
`+p+"]":"["+v.join(",")+"]",s=p,y}for(_ in d)Vc.call(d,_)&&(y=n(_,d),y&&v.push(r(_)+(s?": ":":")+y));return y=v.length===0?"{}":s?"{"+v.join(",")+p+"}":"{"+v.join(",")+"}",s=p,y}};return n("",{"":t})}}();T.JSONDecode=function(){var e,t,r={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},n,i=function(v){var d=new SyntaxError(v);throw d.at=e,d.text=n,d},o=function(v){return v&&v!==t&&i("Expected '"+v+"' instead of '"+t+"'"),t=n.charAt(e),e+=1,t},s=function(){var v,d="";for(t==="-"&&(d="-",o("-"));t>="0"&&t<="9";)d+=t,o();if(t===".")for(d+=".";o()&&t>="0"&&t<="9";)d+=t;if(t==="e"||t==="E")for(d+=t,o(),(t==="-"||t==="+")&&(d+=t,o());t>="0"&&t<="9";)d+=t,o();if(v=+d,!isFinite(v))i("Bad number");else return v},c=function(){var v,d,l="",a;if(t==='"')for(;o();){if(t==='"')return o(),l;if(t==="\\")if(o(),t==="u"){for(a=0,d=0;d<4&&(v=parseInt(o(),16),!!isFinite(v));d+=1)a=a*16+v;l+=String.fromCharCode(a)}else if(typeof r[t]=="string")l+=r[t];else break;else l+=t}i("Bad string")},f=function(){for(;t&&t<=" ";)o()},_=function(){switch(t){case"t":return o("t"),o("r"),o("u"),o("e"),!0;case"f":return o("f"),o("a"),o("l"),o("s"),o("e"),!1;case"n":return o("n"),o("u"),o("l"),o("l"),null}i('Unexpected "'+t+'"')},y,m=function(){var v=[];if(t==="["){if(o("["),f(),t==="]")return o("]"),v;for(;t;){if(v.push(y()),f(),t==="]")return o("]"),v;o(","),f()}}i("Bad array")},p=function(){var v,d={};if(t==="{"){if(o("{"),f(),t==="}")return o("}"),d;for(;t;){if(v=c(),f(),o(":"),Object.hasOwnProperty.call(d,v)&&i('Duplicate key "'+v+'"'),d[v]=y(),f(),t==="}")return o("}"),d;o(","),f()}}i("Bad object")};return y=function(){switch(f(),t){case"{":return p();case"[":return m();case'"':return c();case"-":return s();default:return t>="0"&&t<="9"?s():_()}},function(v){var d;return n=v,e=0,t=" ",d=y(),f(),t&&i("Syntax error"),d}}();T.base64Encode=function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r,n,i,o,s,c,f,_,y=0,m=0,p="",v=[];if(!e)return e;e=T.utf8Encode(e);do r=e.charCodeAt(y++),n=e.charCodeAt(y++),i=e.charCodeAt(y++),_=r<<16|n<<8|i,o=_>>18&63,s=_>>12&63,c=_>>6&63,f=_&63,v[m++]=t.charAt(o)+t.charAt(s)+t.charAt(c)+t.charAt(f);while(y<e.length);switch(p=v.join(""),e.length%3){case 1:p=p.slice(0,-2)+"==";break;case 2:p=p.slice(0,-1)+"=";break}return p};T.utf8Encode=function(e){e=(e+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`);var t="",r,n,i=0,o;for(r=n=0,i=e.length,o=0;o<i;o++){var s=e.charCodeAt(o),c=null;s<128?n++:s>127&&s<2048?c=String.fromCharCode(s>>6|192,s&63|128):c=String.fromCharCode(s>>12|224,s>>6&63|128,s&63|128),c!==null&&(n>r&&(t+=e.substring(r,n)),t+=c,r=n=o+1)}return n>r&&(t+=e.substring(r,e.length)),t};T.UUID=function(){var e=function(){for(var n=1*new Date,i=0;n==1*new Date;)i++;return n.toString(16)+i.toString(16)},t=function(){return Math.random().toString(16).replace(".","")},r=function(){var n=vr,i,o,s=[],c=0;function f(_,y){var m,p=0;for(m=0;m<y.length;m++)p|=s[m]<<m*8;return _^p}for(i=0;i<n.length;i++)o=n.charCodeAt(i),s.unshift(o&255),s.length>=4&&(c=f(c,s),s=[]);return s.length>0&&(c=f(c,s)),c.toString(16)};return function(){var n=(jc.height*jc.width).toString(16);return e()+"-"+t()+"-"+r()+"-"+n+"-"+e()}}();var e1=["ahrefsbot","baiduspider","bingbot","bingpreview","facebookexternal","petalbot","pinterest","screaming frog","yahoo! slurp","yandexbot","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google"];T.isBlockedUA=function(e){var t;for(e=e.toLowerCase(),t=0;t<e1.length;t++)if(e.indexOf(e1[t])!==-1)return!0;return!1};T.HTTPBuildQuery=function(e,t){var r,n,i=[];return T.isUndefined(t)&&(t="&"),T.each(e,function(o,s){r=encodeURIComponent(o.toString()),n=encodeURIComponent(s),i[i.length]=n+"="+r}),i.join(t)};T.getQueryParam=function(e,t){t=t.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");var r="[\\?&]"+t+"=([^&#]*)",n=new RegExp(r),i=n.exec(e);if(i===null||i&&typeof i[1]!="string"&&i[1].length)return"";var o=i[1];try{o=decodeURIComponent(o)}catch{ke.error("Skipping decoding for malformed query param: "+o)}return o.replace(/\+/g," ")};T.cookie={get:function(e){for(var t=e+"=",r=Te.cookie.split(";"),n=0;n<r.length;n++){for(var i=r[n];i.charAt(0)==" ";)i=i.substring(1,i.length);if(i.indexOf(t)===0)return decodeURIComponent(i.substring(t.length,i.length))}return null},parse:function(e){var t;try{t=T.JSONDecode(T.cookie.get(e))||{}}catch{}return t},set_seconds:function(e,t,r,n,i,o,s){var c="",f="",_="";if(s)c="; domain="+s;else if(n){var y=t1(Te.location.hostname);c=y?"; domain=."+y:""}if(r){var m=new Date;m.setTime(m.getTime()+r*1e3),f="; expires="+m.toGMTString()}o&&(i=!0,_="; SameSite=None"),i&&(_+="; secure"),Te.cookie=e+"="+encodeURIComponent(t)+f+"; path=/"+c+_},set:function(e,t,r,n,i,o,s){var c="",f="",_="";if(s)c="; domain="+s;else if(n){var y=t1(Te.location.hostname);c=y?"; domain=."+y:""}if(r){var m=new Date;m.setTime(m.getTime()+r*24*60*60*1e3),f="; expires="+m.toGMTString()}o&&(i=!0,_="; SameSite=None"),i&&(_+="; secure");var p=e+"="+encodeURIComponent(t)+f+"; path=/"+c+_;return Te.cookie=p,p},remove:function(e,t,r){T.cookie.set(e,"",-1,t,!1,!1,r)}};var cm=null,Fc=function(e,t){if(cm!==null&&!t)return cm;var r=!0;try{e=e||window.localStorage;var n="__mplss_"+hm(8),i="xyz";e.setItem(n,i),e.getItem(n)!==i&&(r=!1),e.removeItem(n)}catch{r=!1}return cm=r,r};T.localStorage={is_supported:function(e){var t=Fc(null,e);return t||ke.error("localStorage unsupported; falling back to cookie store"),t},error:function(e){ke.error("localStorage error: "+e)},get:function(e){try{return window.localStorage.getItem(e)}catch(t){T.localStorage.error(t)}return null},parse:function(e){try{return T.JSONDecode(T.localStorage.get(e))||{}}catch{}return null},set:function(e,t){try{window.localStorage.setItem(e,t)}catch(r){T.localStorage.error(r)}},remove:function(e){try{window.localStorage.removeItem(e)}catch(t){T.localStorage.error(t)}}};T.register_event=function(){var e=function(n,i,o,s,c){if(!n){ke.error("No valid element provided to register_event");return}if(n.addEventListener&&!s)n.addEventListener(i,o,!!c);else{var f="on"+i,_=n[f];n[f]=t(n,o,_)}};function t(n,i,o){var s=function(c){if(c=c||r(window.event),!!c){var f=!0,_,y;return T.isFunction(o)&&(_=o(c)),y=i.call(n,c),(_===!1||y===!1)&&(f=!1),f}};return s}function r(n){return n&&(n.preventDefault=r.preventDefault,n.stopPropagation=r.stopPropagation),n}return r.preventDefault=function(){this.returnValue=!1},r.stopPropagation=function(){this.cancelBubble=!0},e}();var lE=new RegExp('^(\\w*)\\[(\\w+)([=~\\|\\^\\$\\*]?)=?"?([^\\]"]*)"?\\]$');T.dom_query=function(){function e(i){return i.all?i.all:i.getElementsByTagName("*")}var t=/[\t\r\n]/g;function r(i,o){var s=" "+o+" ";return(" "+i.className+" ").replace(t," ").indexOf(s)>=0}function n(i){if(!Te.getElementsByTagName)return[];var o=i.split(" "),s,c,f,_,y,m,p,v,d,l,a=[Te];for(m=0;m<o.length;m++){if(s=o[m].replace(/^\s+/,"").replace(/\s+$/,""),s.indexOf("#")>-1){c=s.split("#"),f=c[0];var u=c[1],h=Te.getElementById(u);if(!h||f&&h.nodeName.toLowerCase()!=f)return[];a=[h];continue}if(s.indexOf(".")>-1){c=s.split("."),f=c[0];var g=c[1];for(f||(f="*"),_=[],y=0,p=0;p<a.length;p++)for(f=="*"?d=e(a[p]):d=a[p].getElementsByTagName(f),v=0;v<d.length;v++)_[y++]=d[v];for(a=[],l=0,p=0;p<_.length;p++)_[p].className&&T.isString(_[p].className)&&r(_[p],g)&&(a[l++]=_[p]);continue}var w=s.match(lE);if(w){f=w[1];var x=w[2],C=w[3],k=w[4];for(f||(f="*"),_=[],y=0,p=0;p<a.length;p++)for(f=="*"?d=e(a[p]):d=a[p].getElementsByTagName(f),v=0;v<d.length;v++)_[y++]=d[v];a=[],l=0;var S;switch(C){case"=":S=function(b){return b.getAttribute(x)==k};break;case"~":S=function(b){return b.getAttribute(x).match(new RegExp("\\b"+k+"\\b"))};break;case"|":S=function(b){return b.getAttribute(x).match(new RegExp("^"+k+"-?"))};break;case"^":S=function(b){return b.getAttribute(x).indexOf(k)===0};break;case"$":S=function(b){return b.getAttribute(x).lastIndexOf(k)==b.getAttribute(x).length-k.length};break;case"*":S=function(b){return b.getAttribute(x).indexOf(k)>-1};break;default:S=function(b){return b.getAttribute(x)}}for(a=[],l=0,p=0;p<_.length;p++)S(_[p])&&(a[l++]=_[p]);continue}for(f=s,_=[],y=0,p=0;p<a.length;p++)for(d=a[p].getElementsByTagName(f),v=0;v<d.length;v++)_[y++]=d[v];a=_}return a}return function(i){return T.isElement(i)?[i]:T.isObject(i)&&!T.isUndefined(i.length)?i:n.call(this,i)}}();T.info={campaignParams:function(){var e="utm_source utm_medium utm_campaign utm_content utm_term".split(" "),t="",r={};return T.each(e,function(n){t=T.getQueryParam(Te.URL,n),t.length&&(r[n]=t)}),r},searchEngine:function(e){return e.search("https?://(.*)google.([^/?]*)")===0?"google":e.search("https?://(.*)bing.com")===0?"bing":e.search("https?://(.*)yahoo.com")===0?"yahoo":e.search("https?://(.*)duckduckgo.com")===0?"duckduckgo":null},searchInfo:function(e){var t=T.info.searchEngine(e),r=t!="yahoo"?"q":"p",n={};if(t!==null){n.$search_engine=t;var i=T.getQueryParam(e,r);i.length&&(n.mp_keyword=i)}return n},browser:function(e,t,r){return t=t||"",r||T.includes(e," OPR/")?T.includes(e,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":T.includes(e,"IEMobile")||T.includes(e,"WPDesktop")?"Internet Explorer Mobile":T.includes(e,"SamsungBrowser/")?"Samsung Internet":T.includes(e,"Edge")||T.includes(e,"Edg/")?"Microsoft Edge":T.includes(e,"FBIOS")?"Facebook Mobile":T.includes(e,"Chrome")?"Chrome":T.includes(e,"CriOS")?"Chrome iOS":T.includes(e,"UCWEB")||T.includes(e,"UCBrowser")?"UC Browser":T.includes(e,"FxiOS")?"Firefox iOS":T.includes(t,"Apple")?T.includes(e,"Mobile")?"Mobile Safari":"Safari":T.includes(e,"Android")?"Android Mobile":T.includes(e,"Konqueror")?"Konqueror":T.includes(e,"Firefox")?"Firefox":T.includes(e,"MSIE")||T.includes(e,"Trident/")?"Internet Explorer":T.includes(e,"Gecko")?"Mozilla":""},browserVersion:function(e,t,r){var n=T.info.browser(e,t,r),i={"Internet Explorer Mobile":/rv:(\d+(\.\d+)?)/,"Microsoft Edge":/Edge?\/(\d+(\.\d+)?)/,Chrome:/Chrome\/(\d+(\.\d+)?)/,"Chrome iOS":/CriOS\/(\d+(\.\d+)?)/,"UC Browser":/(UCBrowser|UCWEB)\/(\d+(\.\d+)?)/,Safari:/Version\/(\d+(\.\d+)?)/,"Mobile Safari":/Version\/(\d+(\.\d+)?)/,Opera:/(Opera|OPR)\/(\d+(\.\d+)?)/,Firefox:/Firefox\/(\d+(\.\d+)?)/,"Firefox iOS":/FxiOS\/(\d+(\.\d+)?)/,Konqueror:/Konqueror:(\d+(\.\d+)?)/,BlackBerry:/BlackBerry (\d+(\.\d+)?)/,"Android Mobile":/android\s(\d+(\.\d+)?)/,"Samsung Internet":/SamsungBrowser\/(\d+(\.\d+)?)/,"Internet Explorer":/(rv:|MSIE )(\d+(\.\d+)?)/,Mozilla:/rv:(\d+(\.\d+)?)/},o=i[n];if(o===void 0)return null;var s=e.match(o);return s?parseFloat(s[s.length-2]):null},os:function(){var e=vr;return/Windows/i.test(e)?/Phone/.test(e)||/WPDesktop/.test(e)?"Windows Phone":"Windows":/(iPhone|iPad|iPod)/.test(e)?"iOS":/Android/.test(e)?"Android":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Mac/i.test(e)?"Mac OS X":/Linux/.test(e)?"Linux":/CrOS/.test(e)?"Chrome OS":""},device:function(e){return/Windows Phone/i.test(e)||/WPDesktop/.test(e)?"Windows Phone":/iPad/.test(e)?"iPad":/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Android/.test(e)?"Android":""},referringDomain:function(e){var t=e.split("/");return t.length>=3?t[2]:""},properties:function(){return T.extend(T.strip_empty_properties({$os:T.info.os(),$browser:T.info.browser(vr,Zr.vendor,Ta),$referrer:Te.referrer,$referring_domain:T.info.referringDomain(Te.referrer),$device:T.info.device(vr)}),{$current_url:bt.location.href,$browser_version:T.info.browserVersion(vr,Zr.vendor,Ta),$screen_height:jc.height,$screen_width:jc.width,mp_lib:"web",$lib_version:Fn.LIB_VERSION,$insert_id:hm(),time:T.timestamp()/1e3})},people_properties:function(){return T.extend(T.strip_empty_properties({$os:T.info.os(),$browser:T.info.browser(vr,Zr.vendor,Ta)}),{$browser_version:T.info.browserVersion(vr,Zr.vendor,Ta)})},pageviewInfo:function(e){return T.strip_empty_properties({mp_page:e,mp_referrer:Te.referrer,mp_browser:T.info.browser(vr,Zr.vendor,Ta),mp_platform:T.info.os()})}};var hm=function(e){var t=Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10);return e?t.substring(0,e):t},cE=/[a-z0-9][a-z0-9-]*\.[a-z]+$/i,fE=/[a-z0-9][a-z0-9-]+\.[a-z.]{2,6}$/i,t1=function(e){var t=fE,r=e.split("."),n=r[r.length-1];(n.length>4||n==="com"||n==="org")&&(t=cE);var i=e.match(t);return i?i[0]:""},Hc=null,Uc=null;typeof JSON<"u"&&(Hc=JSON.stringify,Uc=JSON.parse);Hc=Hc||T.JSONEncode;Uc=Uc||T.JSONDecode;T.toArray=T.toArray;T.isObject=T.isObject;T.JSONEncode=T.JSONEncode;T.JSONDecode=T.JSONDecode;T.isBlockedUA=T.isBlockedUA;T.isEmptyObject=T.isEmptyObject;T.info=T.info;T.info.device=T.info.device;T.info.browser=T.info.browser;T.info.browserVersion=T.info.browserVersion;T.info.properties=T.info.properties;var en=function(){};en.prototype.create_properties=function(){};en.prototype.event_handler=function(){};en.prototype.after_track_handler=function(){};en.prototype.init=function(e){return this.mp=e,this};en.prototype.track=function(e,t,r,n){var i=this,o=T.dom_query(e);if(o.length===0){ke.error("The DOM query ("+e+") returned 0 elements");return}return T.each(o,function(s){T.register_event(s,this.override_event,function(c){var f={},_=i.create_properties(r,this),y=i.mp.get_config("track_links_timeout");i.event_handler(c,this,f),window.setTimeout(i.track_callback(n,_,f,!0),y),i.mp.track(t,_,i.track_callback(n,_,f))})},this),!0};en.prototype.track_callback=function(e,t,r,n){n=n||!1;var i=this;return function(){r.callback_fired||(r.callback_fired=!0,!(e&&e(n,t)===!1)&&i.after_track_handler(t,r,n))}};en.prototype.create_properties=function(e,t){var r;return typeof e=="function"?r=e(t):r=T.extend({},e),r};var ko=function(){this.override_event="click"};T.inherit(ko,en);ko.prototype.create_properties=function(e,t){var r=ko.superclass.create_properties.apply(this,arguments);return t.href&&(r.url=t.href),r};ko.prototype.event_handler=function(e,t,r){r.new_tab=e.which===2||e.metaKey||e.ctrlKey||t.target==="_blank",r.href=t.href,r.new_tab||e.preventDefault()};ko.prototype.after_track_handler=function(e,t){t.new_tab||setTimeout(function(){window.location=t.href},0)};var $c=function(){this.override_event="submit"};T.inherit($c,en);$c.prototype.event_handler=function(e,t,r){r.element=t,e.preventDefault()};$c.prototype.after_track_handler=function(e,t){setTimeout(function(){t.element.submit()},0)};var pE=dm("lock"),a1=function(e,t){t=t||{},this.storageKey=e,this.storage=t.storage||window.localStorage,this.pollIntervalMS=t.pollIntervalMS||100,this.timeoutMS=t.timeoutMS||2e3};a1.prototype.withLock=function(e,t,r){!r&&typeof t!="function"&&(r=t,t=null);var n=r||new Date().getTime()+"|"+Math.random(),i=new Date().getTime(),o=this.storageKey,s=this.pollIntervalMS,c=this.timeoutMS,f=this.storage,_=o+":X",y=o+":Y",m=o+":Z",p=function(h){t&&t(h)},v=function(h){if(new Date().getTime()-i>c){pE.error("Timeout waiting for mutex on "+o+"; clearing lock. ["+n+"]"),f.removeItem(m),f.removeItem(y),a();return}setTimeout(function(){try{h()}catch(g){p(g)}},s*(Math.random()+.1))},d=function(h,g){h()?g():v(function(){d(h,g)})},l=function(){var h=f.getItem(y);if(h&&h!==n)return!1;if(f.setItem(y,n),f.getItem(y)===n)return!0;if(!Fc(f,!0))throw new Error("localStorage support dropped while acquiring lock");return!1},a=function(){f.setItem(_,n),d(l,function(){if(f.getItem(_)===n){u();return}v(function(){if(f.getItem(y)!==n){a();return}d(function(){return!f.getItem(m)},u)})})},u=function(){f.setItem(m,"1");try{e()}finally{f.removeItem(m),f.getItem(y)===n&&f.removeItem(y),f.getItem(_)===n&&f.removeItem(_)}};try{if(Fc(f,!0))a();else throw new Error("localStorage support check failed")}catch(h){p(h)}};var r1=dm("batch"),qn=function(e,t){t=t||{},this.storageKey=e,this.storage=t.storage||window.localStorage,this.reportError=t.errorReporter||T.bind(r1.error,r1),this.lock=new a1(e,{storage:this.storage}),this.pid=t.pid||null,this.memQueue=[]};qn.prototype.enqueue=function(e,t,r){var n={id:hm(),flushAfter:new Date().getTime()+t*2,payload:e};this.lock.withLock(T.bind(function(){var o;try{var s=this.readFromStorage();s.push(n),o=this.saveToStorage(s),o&&this.memQueue.push(n)}catch{this.reportError("Error enqueueing item",e),o=!1}r&&r(o)},this),T.bind(function(o){this.reportError("Error acquiring storage lock",o),r&&r(!1)},this),this.pid)};qn.prototype.fillBatch=function(e){var t=this.memQueue.slice(0,e);if(t.length<e){var r=this.readFromStorage();if(r.length){var n={};T.each(t,function(s){n[s.id]=!0});for(var i=0;i<r.length;i++){var o=r[i];if(new Date().getTime()>o.flushAfter&&!n[o.id]&&(o.orphaned=!0,t.push(o),t.length>=e))break}}}return t};var n1=function(e,t){var r=[];return T.each(e,function(n){n.id&&!t[n.id]&&r.push(n)}),r};qn.prototype.removeItemsByID=function(e,t){var r={};T.each(e,function(i){r[i]=!0}),this.memQueue=n1(this.memQueue,r);var n=T.bind(function(){var i;try{var o=this.readFromStorage();if(o=n1(o,r),i=this.saveToStorage(o),i){o=this.readFromStorage();for(var s=0;s<o.length;s++){var c=o[s];if(c.id&&!!r[c.id])return this.reportError("Item not removed from storage"),!1}}}catch{this.reportError("Error removing items",e),i=!1}return i},this);this.lock.withLock(function(){var o=n();t&&t(o)},T.bind(function(o){var s=!1;if(this.reportError("Error acquiring storage lock",o),!Fc(this.storage,!0)&&(s=n(),!s))try{this.storage.removeItem(this.storageKey)}catch(c){this.reportError("Error clearing queue",c)}t&&t(s)},this),this.pid)};var i1=function(e,t){var r=[];return T.each(e,function(n){var i=n.id;if(i in t){var o=t[i];o!==null&&(n.payload=o,r.push(n))}else r.push(n)}),r};qn.prototype.updatePayloads=function(e,t){this.memQueue=i1(this.memQueue,e),this.lock.withLock(T.bind(function(){var n;try{var i=this.readFromStorage();i=i1(i,e),n=this.saveToStorage(i)}catch{this.reportError("Error updating items",e),n=!1}t&&t(n)},this),T.bind(function(n){this.reportError("Error acquiring storage lock",n),t&&t(!1)},this),this.pid)};qn.prototype.readFromStorage=function(){var e;try{e=this.storage.getItem(this.storageKey),e&&(e=Uc(e),T.isArray(e)||(this.reportError("Invalid storage entry:",e),e=null))}catch(t){this.reportError("Error retrieving queue",t),e=null}return e||[]};qn.prototype.saveToStorage=function(e){try{return this.storage.setItem(this.storageKey,Hc(e)),!0}catch(t){return this.reportError("Error saving queue",t),!1}};qn.prototype.clear=function(){this.memQueue=[],this.storage.removeItem(this.storageKey)};var dE=10*60*1e3,Ia=dm("batch"),Nr=function(e,t){this.errorReporter=t.errorReporter,this.queue=new qn(e,{errorReporter:T.bind(this.reportError,this),storage:t.storage}),this.libConfig=t.libConfig,this.sendRequest=t.sendRequestFunc,this.beforeSendHook=t.beforeSendHook,this.stopAllBatching=t.stopAllBatchingFunc,this.batchSize=this.libConfig.batch_size,this.flushInterval=this.libConfig.batch_flush_interval_ms,this.stopped=!this.libConfig.batch_autostart,this.consecutiveRemovalFailures=0};Nr.prototype.enqueue=function(e,t){this.queue.enqueue(e,this.flushInterval,t)};Nr.prototype.start=function(){this.stopped=!1,this.consecutiveRemovalFailures=0,this.flush()};Nr.prototype.stop=function(){this.stopped=!0,this.timeoutID&&(clearTimeout(this.timeoutID),this.timeoutID=null)};Nr.prototype.clear=function(){this.queue.clear()};Nr.prototype.resetBatchSize=function(){this.batchSize=this.libConfig.batch_size};Nr.prototype.resetFlush=function(){this.scheduleFlush(this.libConfig.batch_flush_interval_ms)};Nr.prototype.scheduleFlush=function(e){this.flushInterval=e,this.stopped||(this.timeoutID=setTimeout(T.bind(this.flush,this),this.flushInterval))};Nr.prototype.flush=function(e){try{if(this.requestInProgress){Ia.log("Flush: Request already in progress");return}e=e||{};var t=this.libConfig.batch_request_timeout_ms,r=new Date().getTime(),n=this.batchSize,i=this.queue.fillBatch(n),o=[],s={};if(T.each(i,function(_){var y=_.payload;this.beforeSendHook&&!_.orphaned&&(y=this.beforeSendHook(y)),y&&o.push(y),s[_.id]=y},this),o.length<1){this.resetFlush();return}this.requestInProgress=!0;var c=T.bind(function(_){this.requestInProgress=!1;try{var y=!1;if(e.unloading)this.queue.updatePayloads(s);else if(T.isObject(_)&&_.error==="timeout"&&new Date().getTime()-r>=t)this.reportError("Network timeout; retrying"),this.flush();else if(T.isObject(_)&&_.xhr_req&&(_.xhr_req.status>=500||_.xhr_req.status===429||_.error==="timeout")){var m=this.flushInterval*2,p=_.xhr_req.responseHeaders;if(p){var v=p["Retry-After"];v&&(m=parseInt(v,10)*1e3||m)}m=Math.min(dE,m),this.reportError("Error; retry in "+m+" ms"),this.scheduleFlush(m)}else if(T.isObject(_)&&_.xhr_req&&_.xhr_req.status===413)if(i.length>1){var d=Math.max(1,Math.floor(n/2));this.batchSize=Math.min(this.batchSize,d,i.length-1),this.reportError("413 response; reducing batch size to "+this.batchSize),this.resetFlush()}else this.reportError("Single-event request too large; dropping",i),this.resetBatchSize(),y=!0;else y=!0;y&&this.queue.removeItemsByID(T.map(i,function(l){return l.id}),T.bind(function(l){l?(this.consecutiveRemovalFailures=0,this.flush()):(this.reportError("Failed to remove items from queue"),++this.consecutiveRemovalFailures>5?(this.reportError("Too many queue failures; disabling batching system."),this.stopAllBatching()):this.resetFlush())},this))}catch(l){this.reportError("Error handling API response",l),this.resetFlush()}},this),f={method:"POST",verbose:!0,ignore_json_errors:!0,timeout_ms:t};e.unloading&&(f.transport="sendBeacon"),Ia.log("MIXPANEL REQUEST:",o),this.sendRequest(o,f,c)}catch(_){this.reportError("Error flushing request queue",_),this.resetFlush()}};Nr.prototype.reportError=function(e,t){if(Ia.error.apply(Ia.error,arguments),this.errorReporter)try{t instanceof Error||(t=new Error(e)),this.errorReporter(e,t)}catch(r){Ia.error(r)}};var hE="__mp_opt_in_out_";function mE(e,t){c1(!0,e,t)}function _E(e,t){c1(!1,e,t)}function vE(e,t){return l1(e,t)==="1"}function u1(e,t){if(yE(t))return ke.warn('This browser has "Do Not Track" enabled. This will prevent the Mixpanel SDK from sending any data. To ignore the "Do Not Track" browser setting, initialize the Mixpanel instance with the config "ignore_dnt: true"'),!0;var r=l1(e,t)==="0";return r&&ke.warn("You are opted out of Mixpanel tracking. This will prevent the Mixpanel SDK from sending any data."),r}function Ra(e){return vm(e,function(t){return this.get_config(t)})}function Wn(e){return vm(e,function(t){return this._get_config(t)})}function Lo(e){return vm(e,function(t){return this._get_config(t)})}function gE(e,t){t=t||{},mm(t).remove(_m(e,t),!!t.crossSubdomainCookie,t.cookieDomain)}function mm(e){return e=e||{},e.persistenceType==="localStorage"?T.localStorage:T.cookie}function _m(e,t){return t=t||{},(t.persistencePrefix||hE)+e}function l1(e,t){return mm(t).get(_m(e,t))}function yE(e){if(e&&e.ignoreDnt)return!1;var t=e&&e.window||bt,r=t.navigator||{},n=!1;return T.each([r.doNotTrack,r.msDoNotTrack,t.doNotTrack],function(i){T.includes([!0,1,"1","yes"],i)&&(n=!0)}),n}function c1(e,t,r){if(!T.isString(t)||!t.length){ke.error("gdpr."+(e?"optIn":"optOut")+" called with an invalid token");return}r=r||{},mm(r).set(_m(t,r),e?1:0,T.isNumber(r.cookieExpiration)?r.cookieExpiration:null,!!r.crossSubdomainCookie,!!r.secureCookie,!!r.crossSiteCookie,r.cookieDomain),r.track&&e&&r.track(r.trackEventName||"$opt_in",r.trackProperties,{send_immediately:!0})}function vm(e,t){return function(){var r=!1;try{var n=t.call(this,"token"),i=t.call(this,"ignore_dnt"),o=t.call(this,"opt_out_tracking_persistence_type"),s=t.call(this,"opt_out_tracking_cookie_prefix"),c=t.call(this,"window");n&&(r=u1(n,{ignoreDnt:i,persistenceType:o,persistencePrefix:s,window:c}))}catch(_){ke.error("Unexpected error when checking tracking opt-out status: "+_)}if(!r)return e.apply(this,arguments);var f=arguments[arguments.length-1];typeof f=="function"&&f(0)}}var Hn="$set",Eo="$set_once",gr="$unset",yi="$add",Qr="$append",wi="$union",Un="$remove",wE="$delete",f1={set_action:function(e,t){var r={},n={};return T.isObject(e)?T.each(e,function(i,o){this._is_reserved_property(o)||(n[o]=i)},this):n[e]=t,r[Hn]=n,r},unset_action:function(e){var t={},r=[];return T.isArray(e)||(e=[e]),T.each(e,function(n){this._is_reserved_property(n)||r.push(n)},this),t[gr]=r,t},set_once_action:function(e,t){var r={},n={};return T.isObject(e)?T.each(e,function(i,o){this._is_reserved_property(o)||(n[o]=i)},this):n[e]=t,r[Eo]=n,r},union_action:function(e,t){var r={},n={};return T.isObject(e)?T.each(e,function(i,o){this._is_reserved_property(o)||(n[o]=T.isArray(i)?i:[i])},this):n[e]=T.isArray(t)?t:[t],r[wi]=n,r},append_action:function(e,t){var r={},n={};return T.isObject(e)?T.each(e,function(i,o){this._is_reserved_property(o)||(n[o]=i)},this):n[e]=t,r[Qr]=n,r},remove_action:function(e,t){var r={},n={};return T.isObject(e)?T.each(e,function(i,o){this._is_reserved_property(o)||(n[o]=i)},this):n[e]=t,r[Un]=n,r},delete_action:function(){var e={};return e[wE]="",e}},Pe=function(){};T.extend(Pe.prototype,f1);Pe.prototype._init=function(e,t,r){this._mixpanel=e,this._group_key=t,this._group_id=r};Pe.prototype.set=Lo(function(e,t,r){var n=this.set_action(e,t);return T.isObject(e)&&(r=t),this._send_request(n,r)});Pe.prototype.set_once=Lo(function(e,t,r){var n=this.set_once_action(e,t);return T.isObject(e)&&(r=t),this._send_request(n,r)});Pe.prototype.unset=Lo(function(e,t){var r=this.unset_action(e);return this._send_request(r,t)});Pe.prototype.union=Lo(function(e,t,r){T.isObject(e)&&(r=t);var n=this.union_action(e,t);return this._send_request(n,r)});Pe.prototype.delete=Lo(function(e){var t=this.delete_action();return this._send_request(t,e)});Pe.prototype.remove=Lo(function(e,t,r){var n=this.remove_action(e,t);return this._send_request(n,r)});Pe.prototype._send_request=function(e,t){e.$group_key=this._group_key,e.$group_id=this._group_id,e.$token=this._get_config("token");var r=T.encodeDates(e);return this._mixpanel._track_or_batch({type:"groups",data:r,endpoint:this._get_config("api_host")+"/groups/",batcher:this._mixpanel.request_batchers.groups},t)};Pe.prototype._is_reserved_property=function(e){return e==="$group_key"||e==="$group_id"};Pe.prototype._get_config=function(e){return this._mixpanel.get_config(e)};Pe.prototype.toString=function(){return this._mixpanel.toString()+".group."+this._group_key+"."+this._group_id};Pe.prototype.remove=Pe.prototype.remove;Pe.prototype.set=Pe.prototype.set;Pe.prototype.set_once=Pe.prototype.set_once;Pe.prototype.union=Pe.prototype.union;Pe.prototype.unset=Pe.prototype.unset;Pe.prototype.toString=Pe.prototype.toString;var ue=function(){};T.extend(ue.prototype,f1);ue.prototype._init=function(e){this._mixpanel=e};ue.prototype.set=Wn(function(e,t,r){var n=this.set_action(e,t);return T.isObject(e)&&(r=t),this._get_config("save_referrer")&&this._mixpanel.persistence.update_referrer_info(document.referrer),n[Hn]=T.extend({},T.info.people_properties(),this._mixpanel.persistence.get_referrer_info(),n[Hn]),this._send_request(n,r)});ue.prototype.set_once=Wn(function(e,t,r){var n=this.set_once_action(e,t);return T.isObject(e)&&(r=t),this._send_request(n,r)});ue.prototype.unset=Wn(function(e,t){var r=this.unset_action(e);return this._send_request(r,t)});ue.prototype.increment=Wn(function(e,t,r){var n={},i={};return T.isObject(e)?(T.each(e,function(o,s){if(!this._is_reserved_property(s))if(isNaN(parseFloat(o))){ke.error("Invalid increment value passed to mixpanel.people.increment - must be a number");return}else i[s]=o},this),r=t):(T.isUndefined(t)&&(t=1),i[e]=t),n[yi]=i,this._send_request(n,r)});ue.prototype.append=Wn(function(e,t,r){T.isObject(e)&&(r=t);var n=this.append_action(e,t);return this._send_request(n,r)});ue.prototype.remove=Wn(function(e,t,r){T.isObject(e)&&(r=t);var n=this.remove_action(e,t);return this._send_request(n,r)});ue.prototype.union=Wn(function(e,t,r){T.isObject(e)&&(r=t);var n=this.union_action(e,t);return this._send_request(n,r)});ue.prototype.track_charge=Wn(function(e,t,r){if(!T.isNumber(e)&&(e=parseFloat(e),isNaN(e))){ke.error("Invalid value passed to mixpanel.people.track_charge - must be a number");return}return this.append("$transactions",T.extend({$amount:e},t),r)});ue.prototype.clear_charges=function(e){return this.set("$transactions",[],e)};ue.prototype.delete_user=function(){if(!this._identify_called()){ke.error("mixpanel.people.delete_user() requires you to call identify() first");return}var e={$delete:this._mixpanel.get_distinct_id()};return this._send_request(e)};ue.prototype.toString=function(){return this._mixpanel.toString()+".people"};ue.prototype._send_request=function(e,t){e.$token=this._get_config("token"),e.$distinct_id=this._mixpanel.get_distinct_id();var r=this._mixpanel.get_property("$device_id"),n=this._mixpanel.get_property("$user_id"),i=this._mixpanel.get_property("$had_persisted_distinct_id");r&&(e.$device_id=r),n&&(e.$user_id=n),i&&(e.$had_persisted_distinct_id=i);var o=T.encodeDates(e);return this._identify_called()?this._mixpanel._track_or_batch({type:"people",data:o,endpoint:this._get_config("api_host")+"/engage/",batcher:this._mixpanel.request_batchers.people},t):(this._enqueue(e),T.isUndefined(t)||(this._get_config("verbose")?t({status:-1,error:null}):t(-1)),T.truncate(o,255))};ue.prototype._get_config=function(e){return this._mixpanel.get_config(e)};ue.prototype._identify_called=function(){return this._mixpanel._flags.identify_called===!0};ue.prototype._enqueue=function(e){Hn in e?this._mixpanel.persistence._add_to_people_queue(Hn,e):Eo in e?this._mixpanel.persistence._add_to_people_queue(Eo,e):gr in e?this._mixpanel.persistence._add_to_people_queue(gr,e):yi in e?this._mixpanel.persistence._add_to_people_queue(yi,e):Qr in e?this._mixpanel.persistence._add_to_people_queue(Qr,e):Un in e?this._mixpanel.persistence._add_to_people_queue(Un,e):wi in e?this._mixpanel.persistence._add_to_people_queue(wi,e):ke.error("Invalid call to _enqueue():",e)};ue.prototype._flush_one_queue=function(e,t,r,n){var i=this,o=T.extend({},this._mixpanel.persistence._get_queue(e)),s=o;!T.isUndefined(o)&&T.isObject(o)&&!T.isEmptyObject(o)&&(i._mixpanel.persistence._pop_from_people_queue(e,o),n&&(s=n(o)),t.call(i,s,function(c,f){c===0&&i._mixpanel.persistence._add_to_people_queue(e,o),T.isUndefined(r)||r(c,f)}))};ue.prototype._flush=function(e,t,r,n,i,o,s){var c=this,f=this._mixpanel.persistence._get_queue(Qr),_=this._mixpanel.persistence._get_queue(Un);if(this._flush_one_queue(Hn,this.set,e),this._flush_one_queue(Eo,this.set_once,n),this._flush_one_queue(gr,this.unset,o,function(a){return T.keys(a)}),this._flush_one_queue(yi,this.increment,t),this._flush_one_queue(wi,this.union,i),!T.isUndefined(f)&&T.isArray(f)&&f.length){for(var y,m=function(a,u){a===0&&c._mixpanel.persistence._add_to_people_queue(Qr,y),T.isUndefined(r)||r(a,u)},p=f.length-1;p>=0;p--)y=f.pop(),T.isEmptyObject(y)||c.append(y,m);c._mixpanel.persistence.save()}if(!T.isUndefined(_)&&T.isArray(_)&&_.length){for(var v,d=function(a,u){a===0&&c._mixpanel.persistence._add_to_people_queue(Un,v),T.isUndefined(s)||s(a,u)},l=_.length-1;l>=0;l--)v=_.pop(),T.isEmptyObject(v)||c.remove(v,d);c._mixpanel.persistence.save()}};ue.prototype._is_reserved_property=function(e){return e==="$distinct_id"||e==="$token"||e==="$device_id"||e==="$user_id"||e==="$had_persisted_distinct_id"};ue.prototype.set=ue.prototype.set;ue.prototype.set_once=ue.prototype.set_once;ue.prototype.unset=ue.prototype.unset;ue.prototype.increment=ue.prototype.increment;ue.prototype.append=ue.prototype.append;ue.prototype.remove=ue.prototype.remove;ue.prototype.union=ue.prototype.union;ue.prototype.track_charge=ue.prototype.track_charge;ue.prototype.clear_charges=ue.prototype.clear_charges;ue.prototype.delete_user=ue.prototype.delete_user;ue.prototype.toString=ue.prototype.toString;var gm="__mps",ym="__mpso",wm="__mpus",xm="__mpa",Sm="__mpap",bm="__mpr",Cm="__mpu",p1="$people_distinct_id",qc="__alias",Ma="__timers",xE=[gm,ym,wm,xm,Sm,bm,Cm,p1,qc,Ma],le=function(e){this.props={},this.campaign_params_saved=!1,e.persistence_name?this.name="mp_"+e.persistence_name:this.name="mp_"+e.token+"_mixpanel";var t=e.persistence;t!=="cookie"&&t!=="localStorage"&&(ke.critical("Unknown persistence type "+t+"; falling back to cookie"),t=e.persistence="cookie"),t==="localStorage"&&T.localStorage.is_supported()?this.storage=T.localStorage:this.storage=T.cookie,this.load(),this.update_config(e),this.upgrade(e),this.save()};le.prototype.properties=function(){var e={};return T.each(this.props,function(t,r){T.include(xE,r)||(e[r]=t)}),e};le.prototype.load=function(){if(!this.disabled){var e=this.storage.parse(this.name);e&&(this.props=T.extend({},e))}};le.prototype.upgrade=function(e){var t=e.upgrade,r,n;t&&(r="mp_super_properties",typeof t=="string"&&(r=t),n=this.storage.parse(r),this.storage.remove(r),this.storage.remove(r,!0),n&&(this.props=T.extend(this.props,n.all,n.events))),!e.cookie_name&&e.name!=="mixpanel"&&(r="mp_"+e.token+"_"+e.name,n=this.storage.parse(r),n&&(this.storage.remove(r),this.storage.remove(r,!0),this.register_once(n))),this.storage===T.localStorage&&(n=T.cookie.parse(this.name),T.cookie.remove(this.name),T.cookie.remove(this.name,!0),n&&this.register_once(n))};le.prototype.save=function(){this.disabled||this.storage.set(this.name,T.JSONEncode(this.props),this.expire_days,this.cross_subdomain,this.secure,this.cross_site,this.cookie_domain)};le.prototype.remove=function(){this.storage.remove(this.name,!1,this.cookie_domain),this.storage.remove(this.name,!0,this.cookie_domain)};le.prototype.clear=function(){this.remove(),this.props={}};le.prototype.register_once=function(e,t,r){return T.isObject(e)?(typeof t>"u"&&(t="None"),this.expire_days=typeof r>"u"?this.default_expiry:r,T.each(e,function(n,i){(!this.props.hasOwnProperty(i)||this.props[i]===t)&&(this.props[i]=n)},this),this.save(),!0):!1};le.prototype.register=function(e,t){return T.isObject(e)?(this.expire_days=typeof t>"u"?this.default_expiry:t,T.extend(this.props,e),this.save(),!0):!1};le.prototype.unregister=function(e){e in this.props&&(delete this.props[e],this.save())};le.prototype.update_campaign_params=function(){this.campaign_params_saved||(this.register_once(T.info.campaignParams()),this.campaign_params_saved=!0)};le.prototype.update_search_keyword=function(e){this.register(T.info.searchInfo(e))};le.prototype.update_referrer_info=function(e){this.register_once({$initial_referrer:e||"$direct",$initial_referring_domain:T.info.referringDomain(e)||"$direct"},"")};le.prototype.get_referrer_info=function(){return T.strip_empty_properties({$initial_referrer:this.props.$initial_referrer,$initial_referring_domain:this.props.$initial_referring_domain})};le.prototype.safe_merge=function(e){return T.each(this.props,function(t,r){r in e||(e[r]=t)}),e};le.prototype.update_config=function(e){this.default_expiry=this.expire_days=e.cookie_expiration,this.set_disabled(e.disable_persistence),this.set_cookie_domain(e.cookie_domain),this.set_cross_site(e.cross_site_cookie),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie)};le.prototype.set_disabled=function(e){this.disabled=e,this.disabled?this.remove():this.save()};le.prototype.set_cookie_domain=function(e){e!==this.cookie_domain&&(this.remove(),this.cookie_domain=e,this.save())};le.prototype.set_cross_site=function(e){e!==this.cross_site&&(this.cross_site=e,this.remove(),this.save())};le.prototype.set_cross_subdomain=function(e){e!==this.cross_subdomain&&(this.cross_subdomain=e,this.remove(),this.save())};le.prototype.get_cross_subdomain=function(){return this.cross_subdomain};le.prototype.set_secure=function(e){e!==this.secure&&(this.secure=!!e,this.remove(),this.save())};le.prototype._add_to_people_queue=function(e,t){var r=this._get_queue_key(e),n=t[e],i=this._get_or_create_queue(Hn),o=this._get_or_create_queue(Eo),s=this._get_or_create_queue(gr),c=this._get_or_create_queue(yi),f=this._get_or_create_queue(wi),_=this._get_or_create_queue(Un,[]),y=this._get_or_create_queue(Qr,[]);r===gm?(T.extend(i,n),this._pop_from_people_queue(yi,n),this._pop_from_people_queue(wi,n),this._pop_from_people_queue(gr,n)):r===ym?(T.each(n,function(m,p){p in o||(o[p]=m)}),this._pop_from_people_queue(gr,n)):r===wm?T.each(n,function(m){T.each([i,o,c,f],function(p){m in p&&delete p[m]}),T.each(y,function(p){m in p&&delete p[m]}),s[m]=!0}):r===xm?(T.each(n,function(m,p){p in i?i[p]+=m:(p in c||(c[p]=0),c[p]+=m)},this),this._pop_from_people_queue(gr,n)):r===Cm?(T.each(n,function(m,p){T.isArray(m)&&(p in f||(f[p]=[]),f[p]=f[p].concat(m))}),this._pop_from_people_queue(gr,n)):r===bm?(_.push(n),this._pop_from_people_queue(Qr,n)):r===Sm&&(y.push(n),this._pop_from_people_queue(gr,n)),ke.log("MIXPANEL PEOPLE REQUEST (QUEUED, PENDING IDENTIFY):"),ke.log(t),this.save()};le.prototype._pop_from_people_queue=function(e,t){var r=this._get_queue(e);T.isUndefined(r)||(T.each(t,function(n,i){e===Qr||e===Un?T.each(r,function(o){o[i]===n&&delete o[i]}):delete r[i]},this),this.save())};le.prototype._get_queue_key=function(e){if(e===Hn)return gm;if(e===Eo)return ym;if(e===gr)return wm;if(e===yi)return xm;if(e===Qr)return Sm;if(e===Un)return bm;if(e===wi)return Cm;ke.error("Invalid queue:",e)};le.prototype._get_queue=function(e){return this.props[this._get_queue_key(e)]};le.prototype._get_or_create_queue=function(e,t){var r=this._get_queue_key(e);return t=T.isUndefined(t)?{}:t,this.props[r]||(this.props[r]=t)};le.prototype.set_event_timer=function(e,t){var r=this.props[Ma]||{};r[e]=t,this.props[Ma]=r,this.save()};le.prototype.remove_event_timer=function(e){var t=this.props[Ma]||{},r=t[e];return T.isUndefined(r)||(delete this.props[Ma][e],this.save()),r};var km,St,d1=0,SE=1,bE=function(e){return e},Aa=function(){},lr="mixpanel",h1="base64",CE="json",Co=bt.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,m1=!Co&&vr.indexOf("MSIE")===-1&&vr.indexOf("Mozilla")===-1,Wc=null;Zr.sendBeacon&&(Wc=function(){return Zr.sendBeacon.apply(Zr,arguments)});var o1={api_host:"https://api-js.mixpanel.com",api_method:"POST",api_transport:"XHR",api_payload_format:h1,app_host:"https://mixpanel.com",cdn:"https://cdn.mxpnl.com",cross_site_cookie:!1,cross_subdomain_cookie:!0,error_reporter:Aa,persistence:"cookie",persistence_name:"",cookie_domain:"",cookie_name:"",loaded:Aa,store_google:!0,save_referrer:!0,test:!1,verbose:!1,img:!1,debug:!1,track_links_timeout:300,cookie_expiration:365,upgrade:!1,disable_persistence:!1,disable_cookie:!1,secure_cookie:!1,ip:!0,opt_out_tracking_by_default:!1,opt_out_persistence_by_default:!1,opt_out_tracking_persistence_type:"localStorage",opt_out_tracking_cookie_prefix:null,property_blacklist:[],xhr_headers:{},ignore_dnt:!1,batch_requests:!0,batch_size:50,batch_flush_interval_ms:5e3,batch_request_timeout_ms:9e4,batch_autostart:!0,hooks:{}},_1=!1,q=function(){},pm=function(e,t,r){var n,i=r===lr?St:St[r];if(i&&km===d1)n=i;else{if(i&&!T.isArray(i)){ke.error("You have already initialized "+r);return}n=new q}return n._cached_groups={},n._init(e,t,r),n.people=new ue,n.people._init(n),Fn.DEBUG=Fn.DEBUG||n.get_config("debug"),!T.isUndefined(i)&&T.isArray(i)&&(n._execute_array.call(n.people,i.people),n._execute_array(i)),n};q.prototype.init=function(e,t,r){if(T.isUndefined(r)){this.report_error("You must name your new library: init(token, config, name)");return}if(r===lr){this.report_error("You must initialize the main mixpanel object right after you include the Mixpanel js snippet");return}var n=pm(e,t,r);return St[r]=n,n._loaded(),n};q.prototype._init=function(e,t,r){t=t||{},this.__loaded=!0,this.config={};var n={};if(!("api_payload_format"in t)){var i=t.api_host||o1.api_host;i.match(/\.mixpanel\.com$/)&&(n.api_payload_format=CE)}if(this.set_config(T.extend({},o1,n,t,{name:r,token:e,callback_fn:(r===lr?r:lr+"."+r)+"._jsc"})),this._jsc=Aa,this.__dom_loaded_queue=[],this.__request_queue=[],this.__disabled_events=[],this._flags={disable_all_events:!1,identify_called:!1},this.request_batchers={},this._batch_requests=this.get_config("batch_requests"),this._batch_requests){if(!T.localStorage.is_supported(!0)||!Co)this._batch_requests=!1,ke.log("Turning off Mixpanel request-queueing; needs XHR and localStorage support");else if(this.init_batchers(),Wc&&bt.addEventListener){var o=T.bind(function(){this.request_batchers.events.stopped||this.request_batchers.events.flush({unloading:!0})},this);bt.addEventListener("pagehide",function(c){c.persisted&&o()}),bt.addEventListener("visibilitychange",function(){Te.visibilityState==="hidden"&&o()})}}this.persistence=this.cookie=new le(this.config),this.unpersisted_superprops={},this._gdpr_init();var s=T.UUID();this.get_distinct_id()||this.register_once({distinct_id:s,$device_id:s},"")};q.prototype._loaded=function(){this.get_config("loaded")(this),this._set_default_superprops()};q.prototype._set_default_superprops=function(){this.persistence.update_search_keyword(Te.referrer),this.get_config("store_google")&&this.persistence.update_campaign_params(),this.get_config("save_referrer")&&this.persistence.update_referrer_info(Te.referrer)};q.prototype._dom_loaded=function(){T.each(this.__dom_loaded_queue,function(e){this._track_dom.apply(this,e)},this),this.has_opted_out_tracking()||T.each(this.__request_queue,function(e){this._send_request.apply(this,e)},this),delete this.__dom_loaded_queue,delete this.__request_queue};q.prototype._track_dom=function(e,t){if(this.get_config("img"))return this.report_error("You can't use DOM tracking functions with img = true."),!1;if(!_1)return this.__dom_loaded_queue.push([e,t]),!1;var r=new e().init(this);return r.track.apply(r,t)};q.prototype._prepare_callback=function(e,t){if(T.isUndefined(e))return null;if(Co){var r=function(s){e(s,t)};return r}else{var n=this._jsc,i=""+Math.floor(Math.random()*1e8),o=this.get_config("callback_fn")+"["+i+"]";return n[i]=function(s){delete n[i],e(s,t)},o}};q.prototype._send_request=function(e,t,r,n){var i=!0;if(m1)return this.__request_queue.push(arguments),i;var o={method:this.get_config("api_method"),transport:this.get_config("api_transport"),verbose:this.get_config("verbose")},s=null;!n&&(T.isFunction(r)||typeof r=="string")&&(n=r,r=null),r=T.extend(o,r||{}),Co||(r.method="GET");var c=r.method==="POST",f=Wc&&c&&r.transport.toLowerCase()==="sendbeacon",_=r.verbose;t.verbose&&(_=!0),this.get_config("test")&&(t.test=1),_&&(t.verbose=1),this.get_config("img")&&(t.img=1),Co||(n?t.callback=n:(_||this.get_config("test"))&&(t.callback="(function(){})")),t.ip=this.get_config("ip")?1:0,t._=new Date().getTime().toString(),c&&(s="data="+encodeURIComponent(t.data),delete t.data),e+="?"+T.HTTPBuildQuery(t);var y=this;if("img"in t){var m=Te.createElement("img");m.src=e,Te.body.appendChild(m)}else if(f){try{i=Wc(e,s)}catch(u){y.report_error(u),i=!1}try{n&&n(i?1:0)}catch(u){y.report_error(u)}}else if(Co)try{var p=new XMLHttpRequest;p.open(r.method,e,!0);var v=this.get_config("xhr_headers");if(c&&(v["Content-Type"]="application/x-www-form-urlencoded"),T.each(v,function(u,h){p.setRequestHeader(h,u)}),r.timeout_ms&&typeof p.timeout<"u"){p.timeout=r.timeout_ms;var d=new Date().getTime()}p.withCredentials=!0,p.onreadystatechange=function(){if(p.readyState===4)if(p.status===200){if(n)if(_){var u;try{u=T.JSONDecode(p.responseText)}catch(g){if(y.report_error(g),r.ignore_json_errors)u=p.responseText;else return}n(u)}else n(Number(p.responseText))}else{var h;p.timeout&&!p.status&&new Date().getTime()-d>=p.timeout?h="timeout":h="Bad HTTP status: "+p.status+" "+p.statusText,y.report_error(h),n&&n(_?{status:0,error:h,xhr_req:p}:0)}},p.send(s)}catch(u){y.report_error(u),i=!1}else{var l=Te.createElement("script");l.type="text/javascript",l.async=!0,l.defer=!0,l.src=e;var a=Te.getElementsByTagName("script")[0];a.parentNode.insertBefore(l,a)}return i};q.prototype._execute_array=function(e){var t,r=[],n=[],i=[];T.each(e,function(s){s&&(t=s[0],T.isArray(t)?i.push(s):typeof s=="function"?s.call(this):T.isArray(s)&&t==="alias"?r.push(s):T.isArray(s)&&t.indexOf("track")!==-1&&typeof this[t]=="function"?i.push(s):n.push(s))},this);var o=function(s,c){T.each(s,function(f){if(T.isArray(f[0])){var _=c;T.each(f,function(y){_=_[y[0]].apply(_,y.slice(1))})}else this[f[0]].apply(this,f.slice(1))},c)};o(r,this),o(n,this),o(i,this)};q.prototype.are_batchers_initialized=function(){return!!this.request_batchers.events};q.prototype.init_batchers=function(){var e=this.get_config("token");if(!this.are_batchers_initialized()){var t=T.bind(function(r){return new Nr("__mpq_"+e+r.queue_suffix,{libConfig:this.config,sendRequestFunc:T.bind(function(n,i,o){this._send_request(this.get_config("api_host")+r.endpoint,this._encode_data_for_request(n),i,this._prepare_callback(o,n))},this),beforeSendHook:T.bind(function(n){return this._run_hook("before_send_"+r.type,n)},this),errorReporter:this.get_config("error_reporter"),stopAllBatchingFunc:T.bind(this.stop_batch_senders,this)})},this);this.request_batchers={events:t({type:"events",endpoint:"/track/",queue_suffix:"_ev"}),people:t({type:"people",endpoint:"/engage/",queue_suffix:"_pp"}),groups:t({type:"groups",endpoint:"/groups/",queue_suffix:"_gr"})}}this.get_config("batch_autostart")&&this.start_batch_senders()};q.prototype.start_batch_senders=function(){this.are_batchers_initialized()&&(this._batch_requests=!0,T.each(this.request_batchers,function(e){e.start()}))};q.prototype.stop_batch_senders=function(){this._batch_requests=!1,T.each(this.request_batchers,function(e){e.stop(),e.clear()})};q.prototype.push=function(e){this._execute_array([e])};q.prototype.disable=function(e){typeof e>"u"?this._flags.disable_all_events=!0:this.__disabled_events=this.__disabled_events.concat(e)};q.prototype._encode_data_for_request=function(e){var t=T.JSONEncode(e);return this.get_config("api_payload_format")===h1&&(t=T.base64Encode(t)),{data:t}};q.prototype._track_or_batch=function(e,t){var r=T.truncate(e.data,255),n=e.endpoint,i=e.batcher,o=e.should_send_immediately,s=e.send_request_options||{};t=t||Aa;var c=!0,f=T.bind(function(){return s.skip_hooks||(r=this._run_hook("before_send_"+e.type,r)),r?(ke.log("MIXPANEL REQUEST:"),ke.log(r),this._send_request(n,this._encode_data_for_request(r),s,this._prepare_callback(t,r))):null},this);return this._batch_requests&&!o?i.enqueue(r,function(_){_?t(1,r):f()}):c=f(),c&&r};q.prototype.track=Ra(function(e,t,r,n){!n&&typeof r=="function"&&(n=r,r=null),r=r||{};var i=r.transport;i&&(r.transport=i);var o=r.send_immediately;if(typeof n!="function"&&(n=Aa),T.isUndefined(e)){this.report_error("No event name provided to mixpanel.track");return}if(this._event_is_disabled(e)){n(0);return}t=t||{},t.token=this.get_config("token");var s=this.persistence.remove_event_timer(e);if(!T.isUndefined(s)){var c=new Date().getTime()-s;t.$duration=parseFloat((c/1e3).toFixed(3))}this._set_default_superprops(),t=T.extend({},T.info.properties(),this.persistence.properties(),this.unpersisted_superprops,t);var f=this.get_config("property_blacklist");T.isArray(f)?T.each(f,function(m){delete t[m]}):this.report_error("Invalid value for property_blacklist config: "+f);var _={event:e,properties:t},y=this._track_or_batch({type:"events",data:_,endpoint:this.get_config("api_host")+"/track/",batcher:this.request_batchers.events,should_send_immediately:o,send_request_options:r},n);return y});q.prototype.set_group=Ra(function(e,t,r){T.isArray(t)||(t=[t]);var n={};return n[e]=t,this.register(n),this.people.set(e,t,r)});q.prototype.add_group=Ra(function(e,t,r){var n=this.get_property(e);if(n===void 0){var i={};i[e]=[t],this.register(i)}else n.indexOf(t)===-1&&(n.push(t),this.register(i));return this.people.union(e,t,r)});q.prototype.remove_group=Ra(function(e,t,r){var n=this.get_property(e);if(n!==void 0){var i=n.indexOf(t);i>-1&&(n.splice(i,1),this.register({group_key:n})),n.length===0&&this.unregister(e)}return this.people.remove(e,t,r)});q.prototype.track_with_groups=Ra(function(e,t,r,n){var i=T.extend({},t||{});return T.each(r,function(o,s){o!=null&&(i[s]=o)}),this.track(e,i,n)});q.prototype._create_map_key=function(e,t){return e+"_"+JSON.stringify(t)};q.prototype._remove_group_from_cache=function(e,t){delete this._cached_groups[this._create_map_key(e,t)]};q.prototype.get_group=function(e,t){var r=this._create_map_key(e,t),n=this._cached_groups[r];return(n===void 0||n._group_key!==e||n._group_id!==t)&&(n=new Pe,n._init(this,e,t),this._cached_groups[r]=n),n};q.prototype.track_pageview=function(e){T.isUndefined(e)&&(e=Te.location.href),this.track("mp_page_view",T.info.pageviewInfo(e))};q.prototype.track_links=function(){return this._track_dom.call(this,ko,arguments)};q.prototype.track_forms=function(){return this._track_dom.call(this,$c,arguments)};q.prototype.time_event=function(e){if(T.isUndefined(e)){this.report_error("No event name provided to mixpanel.time_event");return}this._event_is_disabled(e)||this.persistence.set_event_timer(e,new Date().getTime())};var kE={persistent:!0},Em=function(e){var t;return T.isObject(e)?t=e:T.isUndefined(e)?t={}:t={days:e},T.extend({},kE,t)};q.prototype.register=function(e,t){var r=Em(t);r.persistent?this.persistence.register(e,r.days):T.extend(this.unpersisted_superprops,e)};q.prototype.register_once=function(e,t,r){var n=Em(r);n.persistent?this.persistence.register_once(e,t,n.days):(typeof t>"u"&&(t="None"),T.each(e,function(i,o){(!this.unpersisted_superprops.hasOwnProperty(o)||this.unpersisted_superprops[o]===t)&&(this.unpersisted_superprops[o]=i)},this))};q.prototype.unregister=function(e,t){t=Em(t),t.persistent?this.persistence.unregister(e):delete this.unpersisted_superprops[e]};q.prototype._register_single=function(e,t){var r={};r[e]=t,this.register(r)};q.prototype.identify=function(e,t,r,n,i,o,s,c){var f=this.get_distinct_id();if(this.register({$user_id:e}),!this.get_property("$device_id")){var _=f;this.register_once({$had_persisted_distinct_id:!0,$device_id:_},"")}e!==f&&e!==this.get_property(qc)&&(this.unregister(qc),this.register({distinct_id:e})),this._flags.identify_called=!0,this.people._flush(t,r,n,i,o,s,c),e!==f&&this.track("$identify",{distinct_id:e,$anon_distinct_id:f},{skip_hooks:!0})};q.prototype.reset=function(){this.persistence.clear(),this._flags.identify_called=!1;var e=T.UUID();this.register_once({distinct_id:e,$device_id:e},"")};q.prototype.get_distinct_id=function(){return this.get_property("distinct_id")};q.prototype.alias=function(e,t){if(e===this.get_property(p1))return this.report_error("Attempting to create alias for existing People user - aborting."),-2;var r=this;return T.isUndefined(t)&&(t=this.get_distinct_id()),e!==t?(this._register_single(qc,e),this.track("$create_alias",{alias:e,distinct_id:t},{skip_hooks:!0},function(){r.identify(e)})):(this.report_error("alias matches current distinct_id - skipping api call."),this.identify(e),-1)};q.prototype.name_tag=function(e){this._register_single("mp_name_tag",e)};q.prototype.set_config=function(e){if(T.isObject(e)){T.extend(this.config,e);var t=e.batch_size;t&&T.each(this.request_batchers,function(r){r.resetBatchSize()}),this.get_config("persistence_name")||(this.config.persistence_name=this.config.cookie_name),this.get_config("disable_persistence")||(this.config.disable_persistence=this.config.disable_cookie),this.persistence&&this.persistence.update_config(this.config),Fn.DEBUG=Fn.DEBUG||this.get_config("debug")}};q.prototype.get_config=function(e){return this.config[e]};q.prototype._run_hook=function(e){var t=(this.config.hooks[e]||bE).apply(this,jn.call(arguments,1));return typeof t>"u"&&(this.report_error(e+" hook did not return a value"),t=null),t};q.prototype.get_property=function(e){return this.persistence.props[e]};q.prototype.toString=function(){var e=this.get_config("name");return e!==lr&&(e=lr+"."+e),e};q.prototype._event_is_disabled=function(e){return T.isBlockedUA(vr)||this._flags.disable_all_events||T.include(this.__disabled_events,e)};q.prototype._gdpr_init=function(){var e=this.get_config("opt_out_tracking_persistence_type")==="localStorage";e&&T.localStorage.is_supported()&&(!this.has_opted_in_tracking()&&this.has_opted_in_tracking({persistence_type:"cookie"})&&this.opt_in_tracking({enable_persistence:!1}),!this.has_opted_out_tracking()&&this.has_opted_out_tracking({persistence_type:"cookie"})&&this.opt_out_tracking({clear_persistence:!1}),this.clear_opt_in_out_tracking({persistence_type:"cookie",enable_persistence:!1})),this.has_opted_out_tracking()?this._gdpr_update_persistence({clear_persistence:!0}):!this.has_opted_in_tracking()&&(this.get_config("opt_out_tracking_by_default")||T.cookie.get("mp_optout"))&&(T.cookie.remove("mp_optout"),this.opt_out_tracking({clear_persistence:this.get_config("opt_out_persistence_by_default")}))};q.prototype._gdpr_update_persistence=function(e){var t;if(e&&e.clear_persistence)t=!0;else if(e&&e.enable_persistence)t=!1;else return;!this.get_config("disable_persistence")&&this.persistence.disabled!==t&&this.persistence.set_disabled(t),t&&T.each(this.request_batchers,function(r){r.clear()})};q.prototype._gdpr_call_func=function(e,t){return t=T.extend({track:T.bind(this.track,this),persistence_type:this.get_config("opt_out_tracking_persistence_type"),cookie_prefix:this.get_config("opt_out_tracking_cookie_prefix"),cookie_expiration:this.get_config("cookie_expiration"),cross_site_cookie:this.get_config("cross_site_cookie"),cross_subdomain_cookie:this.get_config("cross_subdomain_cookie"),cookie_domain:this.get_config("cookie_domain"),secure_cookie:this.get_config("secure_cookie"),ignore_dnt:this.get_config("ignore_dnt")},t),T.localStorage.is_supported()||(t.persistence_type="cookie"),e(this.get_config("token"),{track:t.track,trackEventName:t.track_event_name,trackProperties:t.track_properties,persistenceType:t.persistence_type,persistencePrefix:t.cookie_prefix,cookieDomain:t.cookie_domain,cookieExpiration:t.cookie_expiration,crossSiteCookie:t.cross_site_cookie,crossSubdomainCookie:t.cross_subdomain_cookie,secureCookie:t.secure_cookie,ignoreDnt:t.ignore_dnt})};q.prototype.opt_in_tracking=function(e){e=T.extend({enable_persistence:!0},e),this._gdpr_call_func(mE,e),this._gdpr_update_persistence(e)};q.prototype.opt_out_tracking=function(e){e=T.extend({clear_persistence:!0,delete_user:!0},e),e.delete_user&&this.people&&this.people._identify_called()&&(this.people.delete_user(),this.people.clear_charges()),this._gdpr_call_func(_E,e),this._gdpr_update_persistence(e)};q.prototype.has_opted_in_tracking=function(e){return this._gdpr_call_func(vE,e)};q.prototype.has_opted_out_tracking=function(e){return this._gdpr_call_func(u1,e)};q.prototype.clear_opt_in_out_tracking=function(e){e=T.extend({enable_persistence:!0},e),this._gdpr_call_func(gE,e),this._gdpr_update_persistence(e)};q.prototype.report_error=function(e,t){ke.error.apply(ke.error,arguments);try{!t&&!(e instanceof Error)&&(e=new Error(e)),this.get_config("error_reporter")(e,t)}catch(r){ke.error(r)}};q.prototype.init=q.prototype.init;q.prototype.reset=q.prototype.reset;q.prototype.disable=q.prototype.disable;q.prototype.time_event=q.prototype.time_event;q.prototype.track=q.prototype.track;q.prototype.track_links=q.prototype.track_links;q.prototype.track_forms=q.prototype.track_forms;q.prototype.track_pageview=q.prototype.track_pageview;q.prototype.register=q.prototype.register;q.prototype.register_once=q.prototype.register_once;q.prototype.unregister=q.prototype.unregister;q.prototype.identify=q.prototype.identify;q.prototype.alias=q.prototype.alias;q.prototype.name_tag=q.prototype.name_tag;q.prototype.set_config=q.prototype.set_config;q.prototype.get_config=q.prototype.get_config;q.prototype.get_property=q.prototype.get_property;q.prototype.get_distinct_id=q.prototype.get_distinct_id;q.prototype.toString=q.prototype.toString;q.prototype.opt_out_tracking=q.prototype.opt_out_tracking;q.prototype.opt_in_tracking=q.prototype.opt_in_tracking;q.prototype.has_opted_out_tracking=q.prototype.has_opted_out_tracking;q.prototype.has_opted_in_tracking=q.prototype.has_opted_in_tracking;q.prototype.clear_opt_in_out_tracking=q.prototype.clear_opt_in_out_tracking;q.prototype.get_group=q.prototype.get_group;q.prototype.set_group=q.prototype.set_group;q.prototype.add_group=q.prototype.add_group;q.prototype.remove_group=q.prototype.remove_group;q.prototype.track_with_groups=q.prototype.track_with_groups;q.prototype.start_batch_senders=q.prototype.start_batch_senders;q.prototype.stop_batch_senders=q.prototype.stop_batch_senders;le.prototype.properties=le.prototype.properties;le.prototype.update_search_keyword=le.prototype.update_search_keyword;le.prototype.update_referrer_info=le.prototype.update_referrer_info;le.prototype.get_cross_subdomain=le.prototype.get_cross_subdomain;le.prototype.clear=le.prototype.clear;var bo={},EE=function(){T.each(bo,function(e,t){t!==lr&&(St[t]=e)}),St._=T},LE=function(){St.init=function(e,t,r){if(r)return St[r]||(St[r]=bo[r]=pm(e,t,r),St[r]._loaded()),St[r];var n=St;bo[lr]?n=bo[lr]:e&&(n=pm(e,t,lr),n._loaded(),bo[lr]=n),St=n,km===SE&&(bt[lr]=St),EE()}},OE=function(){function e(){e.done||(e.done=!0,_1=!0,m1=!1,T.each(bo,function(n){n._dom_loaded()}))}function t(){try{Te.documentElement.doScroll("left")}catch{setTimeout(t,1);return}e()}if(Te.addEventListener)Te.readyState==="complete"?e():Te.addEventListener("DOMContentLoaded",e,!1);else if(Te.attachEvent){Te.attachEvent("onreadystatechange",e);var r=!1;try{r=bt.frameElement===null}catch{}Te.documentElement.doScroll&&r&&t()}T.register_event(bt,"load",e,!0)};function TE(){return km=d1,St=new q,LE(),St.init(),OE(),St}var IE=TE();v1.exports=IE});var zt=Se(Ne()),b1=Se(Ud());var Ps=Se(Ne());var Vg=Se(Ne()),Et=Vg.default.createContext(null);function Hx(e){e()}var $g=Hx,Gg=function(t){return $g=t},Kg=function(){return $g};function Ux(){var e=Kg(),t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e(function(){for(var i=t;i;)i.callback(),i=i.next})},get:function(){for(var i=[],o=t;o;)i.push(o),o=o.next;return i},subscribe:function(i){var o=!0,s=r={callback:i,next:null,prev:r};return s.prev?s.prev.next=s:t=s,function(){!o||t===null||(o=!1,s.next?s.next.prev=s.prev:r=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}var Xg={notify:function(){},get:function(){return[]}};function As(e,t){var r,n=Xg;function i(m){return f(),n.subscribe(m)}function o(){n.notify()}function s(){y.onStateChange&&y.onStateChange()}function c(){return Boolean(r)}function f(){r||(r=t?t.addNestedSub(s):e.subscribe(s),n=Ux())}function _(){r&&(r(),r=void 0,n.clear(),n=Xg)}var y={addNestedSub:i,notifyNestedSubs:o,handleChangeWrapper:s,isSubscribed:c,trySubscribe:f,tryUnsubscribe:_,getListeners:function(){return n}};return y}var Gl=Se(Ne()),io=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?Gl.useLayoutEffect:Gl.useEffect;function qx(e){var t=e.store,r=e.context,n=e.children,i=(0,Ps.useMemo)(function(){var c=As(t);return c.onStateChange=c.notifyNestedSubs,{store:t,subscription:c}},[t]),o=(0,Ps.useMemo)(function(){return t.getState()},[t]);io(function(){var c=i.subscription;return c.trySubscribe(),o!==t.getState()&&c.notifyNestedSubs(),function(){c.tryUnsubscribe(),c.onStateChange=null}},[i,o]);var s=r||Et;return Ps.default.createElement(s.Provider,{value:i},n)}var qd=qx;var tS=Se(oy()),Rs=Se(Ne()),rS=Se($d());var ly=Se(Ne());var uy=Se(Ne());function ic(){var e=(0,uy.useContext)(Et);return e}function oc(e){e===void 0&&(e=Et);var t=e===Et?ic:function(){return(0,ly.useContext)(e)};return function(){var n=t(),i=n.store;return i}}var Xd=oc();function cy(e){e===void 0&&(e=Et);var t=e===Et?Xd:oc(e);return function(){var n=t();return n.dispatch}}var Lt=cy();var Ut=Se(Ne());var uS=function(t,r){return t===r};function lS(e,t,r,n){var i=(0,Ut.useReducer)(function(d){return d+1},0),o=i[1],s=(0,Ut.useMemo)(function(){return As(r,n)},[r,n]),c=(0,Ut.useRef)(),f=(0,Ut.useRef)(),_=(0,Ut.useRef)(),y=(0,Ut.useRef)(),m=r.getState(),p;try{if(e!==f.current||m!==_.current||c.current){var v=e(m);y.current===void 0||!t(v,y.current)?p=v:p=y.current}else p=y.current}catch(d){throw c.current&&(d.message+=`
The error may be correlated with this previous error:
`+c.current.stack+`

`),d}return io(function(){f.current=e,_.current=m,y.current=p,c.current=void 0}),io(function(){function d(){try{var l=r.getState();if(l===_.current)return;var a=f.current(l);if(t(a,y.current))return;y.current=a,_.current=l}catch(u){c.current=u}o()}return s.onStateChange=d,s.trySubscribe(),d(),function(){return s.tryUnsubscribe()}},[r,s]),p}function fy(e){e===void 0&&(e=Et);var t=e===Et?ic:function(){return(0,Ut.useContext)(e)};return function(n,i){i===void 0&&(i=uS);var o=t(),s=o.store,c=o.subscription,f=lS(n,i,s,c);return(0,Ut.useDebugValue)(f),f}}var J=fy();var Yd=Se(Ud());Gg(Yd.unstable_batchedUpdates);function tr(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(!1)var i,o;throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(s){return"'"+s+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Ar(e){return!!e&&!!e[Be]}function $r(e){return!!e&&(function(t){if(!t||typeof t!="object")return!1;var r=Object.getPrototypeOf(t);if(r===null)return!0;var n=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return n===Object||typeof n=="function"&&Function.toString.call(n)===_S}(e)||Array.isArray(e)||!!e[gy]||!!e.constructor[gy]||oh(e)||sh(e))}function ci(e,t,r){r===void 0&&(r=!1),ao(e)===0?(r?Object.keys:so)(e).forEach(function(n){r&&typeof n=="symbol"||t(n,e[n],e)}):e.forEach(function(n,i){return t(i,n,e)})}function ao(e){var t=e[Be];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:oh(e)?2:sh(e)?3:0}function oo(e,t){return ao(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function cS(e,t){return ao(e)===2?e.get(t):e[t]}function yy(e,t,r){var n=ao(e);n===2?e.set(t,r):n===3?(e.delete(t),e.add(r)):e[t]=r}function wy(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function oh(e){return hS&&e instanceof Map}function sh(e){return mS&&e instanceof Set}function Cn(e){return e.o||e.t}function ah(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Cy(e);delete t[Be];for(var r=so(t),n=0;n<r.length;n++){var i=r[n],o=t[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function lc(e,t){return t===void 0&&(t=!1),uh(e)||Ar(e)||!$r(e)||(ao(e)>1&&(e.set=e.add=e.clear=e.delete=fS),Object.freeze(e),t&&ci(e,function(r,n){return lc(n,!0)},!0)),e}function fS(){tr(2)}function uh(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Mr(e){var t=ih[e];return t||tr(18,e),t}function pS(e,t){ih[e]||(ih[e]=t)}function th(){return Bs}function Jd(e,t){t&&(Mr("Patches"),e.u=[],e.s=[],e.v=t)}function sc(e){rh(e),e.p.forEach(dS),e.p=null}function rh(e){e===Bs&&(Bs=e.l)}function py(e){return Bs={p:[],l:Bs,h:e,m:!0,_:0}}function dS(e){var t=e[Be];t.i===0||t.i===1?t.j():t.O=!0}function Zd(e,t){t._=t.p.length;var r=t.p[0],n=e!==void 0&&e!==r;return t.h.g||Mr("ES5").S(t,e,n),n?(r[Be].P&&(sc(t),tr(4)),$r(e)&&(e=ac(t,e),t.l||uc(t,e)),t.u&&Mr("Patches").M(r[Be].t,e,t.u,t.s)):e=ac(t,r,[]),sc(t),t.u&&t.v(t.u,t.s),e!==by?e:void 0}function ac(e,t,r){if(uh(t))return t;var n=t[Be];if(!n)return ci(t,function(o,s){return dy(e,n,t,o,s,r)},!0),t;if(n.A!==e)return t;if(!n.P)return uc(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=n.i===4||n.i===5?n.o=ah(n.k):n.o;ci(n.i===3?new Set(i):i,function(o,s){return dy(e,n,i,o,s,r)}),uc(e,i,!1),r&&e.u&&Mr("Patches").R(n,r,e.u,e.s)}return n.o}function dy(e,t,r,n,i,o){if(Ar(i)){var s=ac(e,i,o&&t&&t.i!==3&&!oo(t.D,n)?o.concat(n):void 0);if(yy(r,n,s),!Ar(s))return;e.m=!1}if($r(i)&&!uh(i)){if(!e.h.F&&e._<1)return;ac(e,i),t&&t.A.l||uc(e,i)}}function uc(e,t,r){r===void 0&&(r=!1),e.h.F&&e.m&&lc(t,r)}function Qd(e,t){var r=e[Be];return(r?Cn(r):e)[t]}function hy(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function kn(e){e.P||(e.P=!0,e.l&&kn(e.l))}function eh(e){e.o||(e.o=ah(e.t))}function nh(e,t,r){var n=oh(t)?Mr("MapSet").N(t,r):sh(t)?Mr("MapSet").T(t,r):e.g?function(i,o){var s=Array.isArray(i),c={i:s?1:0,A:o?o.A:th(),P:!1,I:!1,D:{},l:o,t:i,k:null,o:null,j:null,C:!1},f=c,_=Ns;s&&(f=[c],_=Ds);var y=Proxy.revocable(f,_),m=y.revoke,p=y.proxy;return c.k=p,c.j=m,p}(t,r):Mr("ES5").J(t,r);return(r?r.A:th()).p.push(n),n}function xy(e){return Ar(e)||tr(22,e),function t(r){if(!$r(r))return r;var n,i=r[Be],o=ao(r);if(i){if(!i.P&&(i.i<4||!Mr("ES5").K(i)))return i.t;i.I=!0,n=my(r,o),i.I=!1}else n=my(r,o);return ci(n,function(s,c){i&&cS(i.t,s)===c||yy(n,s,t(c))}),o===3?new Set(n):n}(e)}function my(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return ah(e)}function Sy(){function e(s,c){var f=o[s];return f?f.enumerable=c:o[s]=f={configurable:!0,enumerable:c,get:function(){var _=this[Be];return Ns.get(_,s)},set:function(_){var y=this[Be];Ns.set(y,s,_)}},f}function t(s){for(var c=s.length-1;c>=0;c--){var f=s[c][Be];if(!f.P)switch(f.i){case 5:n(f)&&kn(f);break;case 4:r(f)&&kn(f)}}}function r(s){for(var c=s.t,f=s.k,_=so(f),y=_.length-1;y>=0;y--){var m=_[y];if(m!==Be){var p=c[m];if(p===void 0&&!oo(c,m))return!0;var v=f[m],d=v&&v[Be];if(d?d.t!==p:!wy(v,p))return!0}}var l=!!c[Be];return _.length!==so(c).length+(l?0:1)}function n(s){var c=s.k;if(c.length!==s.t.length)return!0;var f=Object.getOwnPropertyDescriptor(c,c.length-1);if(f&&!f.get)return!0;for(var _=0;_<c.length;_++)if(!c.hasOwnProperty(_))return!0;return!1}function i(s){s.O&&tr(3,JSON.stringify(Cn(s)))}var o={};pS("ES5",{J:function(s,c){var f=Array.isArray(s),_=function(m,p){if(m){for(var v=Array(p.length),d=0;d<p.length;d++)Object.defineProperty(v,""+d,e(d,!0));return v}var l=Cy(p);delete l[Be];for(var a=so(l),u=0;u<a.length;u++){var h=a[u];l[h]=e(h,m||!!l[h].enumerable)}return Object.create(Object.getPrototypeOf(p),l)}(f,s),y={i:f?5:4,A:c?c.A:th(),P:!1,I:!1,D:{},l:c,t:s,k:_,o:null,O:!1,C:!1};return Object.defineProperty(_,Be,{value:y,writable:!0}),_},S:function(s,c,f){f?Ar(c)&&c[Be].A===s&&t(s.p):(s.u&&function _(y){if(y&&typeof y=="object"){var m=y[Be];if(m){var p=m.t,v=m.k,d=m.D,l=m.i;if(l===4)ci(v,function(w){w!==Be&&(p[w]!==void 0||oo(p,w)?d[w]||_(v[w]):(d[w]=!0,kn(m)))}),ci(p,function(w){v[w]!==void 0||oo(v,w)||(d[w]=!1,kn(m))});else if(l===5){if(n(m)&&(kn(m),d.length=!0),v.length<p.length)for(var a=v.length;a<p.length;a++)d[a]=!1;else for(var u=p.length;u<v.length;u++)d[u]=!0;for(var h=Math.min(v.length,p.length),g=0;g<h;g++)v.hasOwnProperty(g)||(d[g]=!0),d[g]===void 0&&_(v[g])}}}}(s.p[0]),t(s.p))},K:function(s){return s.i===4?r(s):n(s)}})}var _y,Bs,lh=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",hS=typeof Map<"u",mS=typeof Set<"u",vy=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",by=lh?Symbol.for("immer-nothing"):((_y={})["immer-nothing"]=!0,_y),gy=lh?Symbol.for("immer-draftable"):"__$immer_draftable",Be=lh?Symbol.for("immer-state"):"__$immer_state";var _S=""+Object.prototype.constructor,so=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Cy=Object.getOwnPropertyDescriptors||function(e){var t={};return so(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)}),t},ih={},Ns={get:function(e,t){if(t===Be)return e;var r=Cn(e);if(!oo(r,t))return function(i,o,s){var c,f=hy(o,s);return f?"value"in f?f.value:(c=f.get)===null||c===void 0?void 0:c.call(i.k):void 0}(e,r,t);var n=r[t];return e.I||!$r(n)?n:n===Qd(e.t,t)?(eh(e),e.o[t]=nh(e.A.h,n,e)):n},has:function(e,t){return t in Cn(e)},ownKeys:function(e){return Reflect.ownKeys(Cn(e))},set:function(e,t,r){var n=hy(Cn(e),t);if(n?.set)return n.set.call(e.k,r),!0;if(!e.P){var i=Qd(Cn(e),t),o=i?.[Be];if(o&&o.t===r)return e.o[t]=r,e.D[t]=!1,!0;if(wy(r,i)&&(r!==void 0||oo(e.t,t)))return!0;eh(e),kn(e)}return e.o[t]===r&&typeof r!="number"&&(r!==void 0||t in e.o)||(e.o[t]=r,e.D[t]=!0,!0)},deleteProperty:function(e,t){return Qd(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,eh(e),kn(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=Cn(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty:function(){tr(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){tr(12)}},Ds={};ci(Ns,function(e,t){Ds[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Ds.deleteProperty=function(e,t){return Ds.set.call(this,e,t,void 0)},Ds.set=function(e,t,r){return Ns.set.call(this,e[0],t,r,e[0])};var vS=function(){function e(r){var n=this;this.g=vy,this.F=!0,this.produce=function(i,o,s){if(typeof i=="function"&&typeof o!="function"){var c=o;o=i;var f=n;return function(l){var a=this;l===void 0&&(l=c);for(var u=arguments.length,h=Array(u>1?u-1:0),g=1;g<u;g++)h[g-1]=arguments[g];return f.produce(l,function(w){var x;return(x=o).call.apply(x,[a,w].concat(h))})}}var _;if(typeof o!="function"&&tr(6),s!==void 0&&typeof s!="function"&&tr(7),$r(i)){var y=py(n),m=nh(n,i,void 0),p=!0;try{_=o(m),p=!1}finally{p?sc(y):rh(y)}return typeof Promise<"u"&&_ instanceof Promise?_.then(function(l){return Jd(y,s),Zd(l,y)},function(l){throw sc(y),l}):(Jd(y,s),Zd(_,y))}if(!i||typeof i!="object"){if((_=o(i))===void 0&&(_=i),_===by&&(_=void 0),n.F&&lc(_,!0),s){var v=[],d=[];Mr("Patches").M(i,_,v,d),s(v,d)}return _}tr(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(_){for(var y=arguments.length,m=Array(y>1?y-1:0),p=1;p<y;p++)m[p-1]=arguments[p];return n.produceWithPatches(_,function(v){return i.apply(void 0,[v].concat(m))})};var s,c,f=n.produce(i,o,function(_,y){s=_,c=y});return typeof Promise<"u"&&f instanceof Promise?f.then(function(_){return[_,s,c]}):[f,s,c]},typeof r?.useProxies=="boolean"&&this.setUseProxies(r.useProxies),typeof r?.autoFreeze=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var t=e.prototype;return t.createDraft=function(r){$r(r)||tr(8),Ar(r)&&(r=xy(r));var n=py(this),i=nh(this,r,void 0);return i[Be].C=!0,rh(n),i},t.finishDraft=function(r,n){var i=r&&r[Be],o=i.A;return Jd(o,n),Zd(void 0,o)},t.setAutoFreeze=function(r){this.F=r},t.setUseProxies=function(r){r&&!vy&&tr(20),this.g=r},t.applyPatches=function(r,n){var i;for(i=n.length-1;i>=0;i--){var o=n[i];if(o.path.length===0&&o.op==="replace"){r=o.value;break}}i>-1&&(n=n.slice(i+1));var s=Mr("Patches").$;return Ar(r)?s(r,n):this.produce(r,function(c){return s(c,n)})},e}(),qt=new vS,gS=qt.produce,D5=qt.produceWithPatches.bind(qt),B5=qt.setAutoFreeze.bind(qt),N5=qt.setUseProxies.bind(qt),j5=qt.applyPatches.bind(qt),F5=qt.createDraft.bind(qt),H5=qt.finishDraft.bind(qt),uo=gS;function ch(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ky(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ky(Object(r),!0).forEach(function(n){ch(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ky(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yt(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Ey=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),fh=function(){return Math.random().toString(36).substring(7).split("").join(".")},fc={INIT:"@@redux/INIT"+fh(),REPLACE:"@@redux/REPLACE"+fh(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+fh()}};function yS(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function ph(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(yt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(yt(1));return r(ph)(e,t)}if(typeof e!="function")throw new Error(yt(2));var i=e,o=t,s=[],c=s,f=!1;function _(){c===s&&(c=s.slice())}function y(){if(f)throw new Error(yt(3));return o}function m(l){if(typeof l!="function")throw new Error(yt(4));if(f)throw new Error(yt(5));var a=!0;return _(),c.push(l),function(){if(!!a){if(f)throw new Error(yt(6));a=!1,_();var h=c.indexOf(l);c.splice(h,1),s=null}}}function p(l){if(!yS(l))throw new Error(yt(7));if(typeof l.type>"u")throw new Error(yt(8));if(f)throw new Error(yt(9));try{f=!0,o=i(o,l)}finally{f=!1}for(var a=s=c,u=0;u<a.length;u++){var h=a[u];h()}return l}function v(l){if(typeof l!="function")throw new Error(yt(10));i=l,p({type:fc.REPLACE})}function d(){var l,a=m;return l={subscribe:function(h){if(typeof h!="object"||h===null)throw new Error(yt(11));function g(){h.next&&h.next(y())}g();var w=a(g);return{unsubscribe:w}}},l[Ey]=function(){return this},l}return p({type:fc.INIT}),n={dispatch:p,subscribe:m,getState:y,replaceReducer:v},n[Ey]=d,n}function wS(e){Object.keys(e).forEach(function(t){var r=e[t],n=r(void 0,{type:fc.INIT});if(typeof n>"u")throw new Error(yt(12));if(typeof r(void 0,{type:fc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(yt(13))})}function Ly(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var i=t[n];typeof e[i]=="function"&&(r[i]=e[i])}var o=Object.keys(r),s,c;try{wS(r)}catch(f){c=f}return function(_,y){if(_===void 0&&(_={}),c)throw c;if(!1)var m;for(var p=!1,v={},d=0;d<o.length;d++){var l=o[d],a=r[l],u=_[l],h=a(u,y);if(typeof h>"u"){var g=y&&y.type;throw new Error(yt(14))}v[l]=h,p=p||h!==u}return p=p||o.length!==Object.keys(_).length,p?v:_}}function lo(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,i){return function(){return n(i.apply(void 0,arguments))}})}function Oy(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var i=n.apply(void 0,arguments),o=function(){throw new Error(yt(15))},s={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},c=t.map(function(f){return f(s)});return o=lo.apply(void 0,c)(i.dispatch),cc(cc({},i),{},{dispatch:o})}}}function Ty(e){var t=function(n){var i=n.dispatch,o=n.getState;return function(s){return function(c){return typeof c=="function"?c(i,o,e):s(c)}}};return t}var Iy=Ty();Iy.withExtraArgument=Ty;var dh=Iy;var xS=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),SS=function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(_){return function(y){return f([_,y])}}function f(_){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=_[0]&2?i.return:_[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,_[1])).done)return o;switch(i=0,o&&(_=[_[0]&2,o.value]),_[0]){case 0:case 1:o=_;break;case 4:return r.label++,{value:_[1],done:!1};case 5:r.label++,i=_[1],_=[0];continue;case 7:_=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(_[0]===6||_[0]===2)){r=0;continue}if(_[0]===3&&(!o||_[1]>o[0]&&_[1]<o[3])){r.label=_[1];break}if(_[0]===6&&r.label<o[1]){r.label=o[1],o=_;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(_);break}o[2]&&r.ops.pop(),r.trys.pop();continue}_=t.call(e,r)}catch(y){_=[6,y],i=0}finally{n=o=0}if(_[0]&5)throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}},pc=function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e},bS=Object.defineProperty,CS=Object.defineProperties,kS=Object.getOwnPropertyDescriptors,My=Object.getOwnPropertySymbols,ES=Object.prototype.hasOwnProperty,LS=Object.prototype.propertyIsEnumerable,Ay=function(e,t,r){return t in e?bS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},En=function(e,t){for(var r in t||(t={}))ES.call(t,r)&&Ay(e,r,t[r]);if(My)for(var n=0,i=My(t);n<i.length;n++){var r=i[n];LS.call(t,r)&&Ay(e,r,t[r])}return e},hh=function(e,t){return CS(e,kS(t))},OS=function(e,t,r){return new Promise(function(n,i){var o=function(f){try{c(r.next(f))}catch(_){i(_)}},s=function(f){try{c(r.throw(f))}catch(_){i(_)}},c=function(f){return f.done?n(f.value):Promise.resolve(f.value).then(o,s)};c((r=r.apply(e,t)).next())})};var TS=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?lo:lo.apply(null,arguments)},Q5=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__:function(){return function(e){return e}};function IS(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var r=t;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return t===r}var MS=function(e){xS(t,e);function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=e.apply(this,r)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.prototype.concat.apply(this,r)},t.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(t.bind.apply(t,pc([void 0],r[0].concat(this)))):new(t.bind.apply(t,pc([void 0],r.concat(this))))},t}(Array);function AS(e){return typeof e=="boolean"}function PS(){return function(t){return RS(t)}}function RS(e){e===void 0&&(e={});var t=e.thunk,r=t===void 0?!0:t,n=e.immutableCheck,i=n===void 0?!0:n,o=e.serializableCheck,s=o===void 0?!0:o,c=new MS;if(r&&(AS(r)?c.push(dh):c.push(dh.withExtraArgument(r.extraArgument))),!1){if(i)var f;if(s)var _}return c}var mh=!0;function Ry(e){var t=PS(),r=e||{},n=r.reducer,i=n===void 0?void 0:n,o=r.middleware,s=o===void 0?t():o,c=r.devTools,f=c===void 0?!0:c,_=r.preloadedState,y=_===void 0?void 0:_,m=r.enhancers,p=m===void 0?void 0:m,v;if(typeof i=="function")v=i;else if(IS(i))v=Ly(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var d=s;if(typeof d=="function"&&(d=d(t),!mh&&!Array.isArray(d)))throw new Error("when using a middleware builder function, an array of middleware must be returned");if(!mh&&d.some(function(g){return typeof g!="function"}))throw new Error("each middleware provided to configureStore must be a function");var l=Oy.apply(void 0,d),a=lo;f&&(a=TS(En({trace:!mh},typeof f=="object"&&f)));var u=[l];Array.isArray(p)?u=pc([l],p):typeof p=="function"&&(u=p(u));var h=a.apply(void 0,u);return ph(v,y,h)}function Ln(e,t){function r(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(t){var o=t.apply(void 0,n);if(!o)throw new Error("prepareAction did not return an object");return En(En({type:e,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:e,payload:n[0]}}return r.toString=function(){return""+e},r.type=e,r.match=function(n){return n.type===e},r}function Dy(e){var t={},r=[],n,i={addCase:function(o,s){var c=typeof o=="string"?o:o.type;if(c in t)throw new Error("addCase cannot be called with two reducers for the same action type");return t[c]=s,i},addMatcher:function(o,s){return r.push({matcher:o,reducer:s}),i},addDefaultCase:function(o){return n=o,i}};return e(i),[t,r,n]}function DS(e){return typeof e=="function"}function BS(e,t,r,n){r===void 0&&(r=[]);var i=typeof t=="function"?Dy(t):[t,r,n],o=i[0],s=i[1],c=i[2],f;if(DS(e))f=function(){return uo(e(),function(){})};else{var _=uo(e,function(){});f=function(){return _}}function y(m,p){m===void 0&&(m=f());var v=pc([o[p.type]],s.filter(function(d){var l=d.matcher;return l(p)}).map(function(d){var l=d.reducer;return l}));return v.filter(function(d){return!!d}).length===0&&(v=[c]),v.reduce(function(d,l){if(l)if(Ar(d)){var a=d,u=l(a,p);return typeof u>"u"?d:u}else{if($r(d))return uo(d,function(h){return l(h,p)});var u=l(d,p);if(typeof u>"u"){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return u}return d},m)}return y.getInitialState=f,y}function NS(e,t){return e+"/"+t}function By(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var r=typeof e.initialState=="function"?e.initialState:uo(e.initialState,function(){}),n=e.reducers||{},i=Object.keys(n),o={},s={},c={};i.forEach(function(y){var m=n[y],p=NS(t,y),v,d;"reducer"in m?(v=m.reducer,d=m.prepare):v=m,o[y]=v,s[p]=v,c[y]=d?Ln(p,d):Ln(p)});function f(){var y=typeof e.extraReducers=="function"?Dy(e.extraReducers):[e.extraReducers],m=y[0],p=m===void 0?{}:m,v=y[1],d=v===void 0?[]:v,l=y[2],a=l===void 0?void 0:l,u=En(En({},p),s);return BS(r,u,d,a)}var _;return{name:t,reducer:function(y,m){return _||(_=f()),_(y,m)},actions:c,caseReducers:o,getInitialState:function(){return _||(_=f()),_.getInitialState()}}}var jS="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",FS=function(e){e===void 0&&(e=21);for(var t="",r=e;r--;)t+=jS[Math.random()*64|0];return t},HS=["name","message","stack","code"],_h=function(){function e(t,r){this.payload=t,this.meta=r}return e}(),Py=function(){function e(t,r){this.payload=t,this.meta=r}return e}(),US=function(e){if(typeof e=="object"&&e!==null){for(var t={},r=0,n=HS;r<n.length;r++){var i=n[r];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}};function dc(e,t,r){var n=Ln(e+"/fulfilled",function(_,y,m,p){return{payload:_,meta:hh(En({},p||{}),{arg:m,requestId:y,requestStatus:"fulfilled"})}}),i=Ln(e+"/pending",function(_,y,m){return{payload:void 0,meta:hh(En({},m||{}),{arg:y,requestId:_,requestStatus:"pending"})}}),o=Ln(e+"/rejected",function(_,y,m,p,v){return{payload:p,error:(r&&r.serializeError||US)(_||"Rejected"),meta:hh(En({},v||{}),{arg:m,requestId:y,rejectedWithValue:!!p,requestStatus:"rejected",aborted:_?.name==="AbortError",condition:_?.name==="ConditionError"})}}),s=!1,c=typeof AbortController<"u"?AbortController:function(){function _(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){}}}return _.prototype.abort=function(){},_}();function f(_){return function(y,m,p){var v=r?.idGenerator?r.idGenerator(_):FS(),d=new c,l,a=new Promise(function(w,x){return d.signal.addEventListener("abort",function(){return x({name:"AbortError",message:l||"Aborted"})})}),u=!1;function h(w){u&&(l=w,d.abort())}var g=function(){return OS(this,null,function(){var w,x,C,k,S,b;return SS(this,function(O){switch(O.label){case 0:return O.trys.push([0,4,,5]),k=(w=r?.condition)==null?void 0:w.call(r,_,{getState:m,extra:p}),WS(k)?[4,k]:[3,2];case 1:k=O.sent(),O.label=2;case 2:if(k===!1)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return u=!0,y(i(v,_,(x=r?.getPendingMeta)==null?void 0:x.call(r,{requestId:v,arg:_},{getState:m,extra:p}))),[4,Promise.race([a,Promise.resolve(t(_,{dispatch:y,getState:m,extra:p,requestId:v,signal:d.signal,rejectWithValue:function(E,B){return new _h(E,B)},fulfillWithValue:function(E,B){return new Py(E,B)}})).then(function(E){if(E instanceof _h)throw E;return E instanceof Py?n(E.payload,v,_,E.meta):n(E,v,_)})])];case 3:return C=O.sent(),[3,5];case 4:return S=O.sent(),C=S instanceof _h?o(null,v,_,S.payload,S.meta):o(S,v,_),[3,5];case 5:return b=r&&!r.dispatchConditionRejection&&o.match(C)&&C.meta.condition,b||y(C),[2,C]}})})}();return Object.assign(g,{abort:h,requestId:v,arg:_,unwrap:function(){return g.then(qS)}})}}return Object.assign(f,{pending:i,rejected:o,fulfilled:n,typePrefix:e})}function qS(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function WS(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var zS="task",Ny="listener",jy="completed",vh="cancelled",rL="task-"+vh,nL="task-"+jy,iL=Ny+"-"+vh,oL=Ny+"-"+jy,sL=function(){function e(t){this.code=t,this.name="TaskAbortError",this.message=zS+" "+vh+" (reason: "+t+")"}return e}();var gh="listenerMiddleware";var aL=Ln(gh+"/add"),uL=Ln(gh+"/removeAll"),lL=Ln(gh+"/remove");Sy();var VS=e=>`module Task${e} where
-- Objective: fix the type error in this file

divides x y = y \`mod\` x == 0


dropEvery [] _ = []
dropEvery (x:xs) n = dropEvery' (x:xs) n 1

dropEvery' :: [Int] -> Int -> Int -> [Int]
dropEvery' [] _ _ = []
dropEvery' (x:xs) n i =
    let current =
            if n \`divides\` i
                then []
                else [x]
    in current : dropEvery' xs n (i+1)
`,$S=e=>`module Task${e} where
-- Objective: fix the type error in this file

-- Rotate a list N places to the left.

rotate1 :: [a] -> [a]
rotate1 x = tail x ++ [head x]

rotate1Back :: [a] -> [a]
rotate1Back x = last x : init x


rotate :: [a] -> Int -> [a]
rotate [] _ = []
rotate x 0 = x
rotate x y
  | y > 0 = rotate rotate1 (y-1)
  | otherwise = rotate rotate1Back x (y+1)
`;var GS=e=>`module Task${e} where
-- Objective: fix the type error in this file

-- Insert an element at a given position into a list.

insertAt el lst n =
    let accu (i, acc) x =
            if i == n
                then (acc ++ [el,x],i+1)
                else (acc ++ [x],i+1)
    in fst $ foldl accu ([],1) lst


`,KS=e=>`module Task${e} where
-- Objective: fix the type error in this file

data Tree a = Empty | Branch a (Tree a) (Tree a)
leaf x = Branch x Empty Empty

isBalancedTree Empty = True
isBalancedTree (Branch _ l r) =
    (countBranches l - countBranches r) == 1
    || (countBranches r - countBranches l) == 1
    && isBalancedTree l && isBalancedTree r


countBranches Empty = 0
countBranches (Branch _ l r) = 1 + l + r
`;var XS=e=>`module Task${e} where
-- Objective: fix the type error in this file

--  Eliminate consecutive duplicates of list elements.

compress = foldr skipDups

skipDups x [] = [x]
skipDups x acc
   | x == head acc = acc
   | otherwise = x : acc

expect = [3,4,5,6]

actual = compress [3,3,4,5,6,6]

test :: Bool
test =  expect == actual
`,YS=e=>`module Task${e} where
-- Objective: fix the type error in this file

data U = UCon Bool Int (Int, Int)

u (UCon x y z) =
  if x
    then z
    else fst y + snd y

actual = u (UCon False 0 (15, 10))
expect = 25

test :: Bool
test = actual == expect

`,JS=e=>`module Task${e} where
-- Objective: fix the type error in this file

quick :: [Int] -> [Int]
quick []   = []
quick (x:xs)=
 let littlebigs = split xs
 in
   quick (fst littlebigs)
    ++ [x]
    ++  quick (snd littlebigs)

split [] _ result = result
split (x:xs) n (littles, bigs) =
  if x < n
    then split xs n (x:littles, bigs)
    else split xs n (littles, x:bigs)
`,ZS=e=>`module Task${e} where
-- Objective: fix the type error in this file

data XML = XML Position Part
data Position = Top | Bottom | Left | Right

type Name = String

data Part =
     Element Name [Attribute] [XML]
   | Comment String
   | Text String

getPart :: XML -> Part
getPart (XML pos part) = part


printXML (Element name [attributs] xmls) =
  "<" ++ name ++ ">"
  ++ mconcat (map printXML xmls)
  ++ "</" ++ name ++ ">"
printXML (Text text) = text


`,QS=e=>`module Task${e} where
-- Objective: fix the type error in this file

-- Add all the natural numbers below 1000
-- that are multiples of 3 or 5.
sum [] = 0
sum [x] = x
sum (x:xs) = x + sum xs

check (x:xs)
  | x \`mod\` 3 == 0 || x \`mod\` 5 == 0 = x + check xs
  | otherwise = check xs

problem_1 = sum (check [1..999])
`,eb=[QS,VS,$S,GS,KS,XS,YS,JS,ZS].map((e,t)=>e(t+1)),js=eb;function _e(e){return e!=null&&typeof e=="object"&&e["@@functional/placeholder"]===!0}function K(e){return function t(r){return arguments.length===0||_e(r)?t:e.apply(this,arguments)}}function F(e){return function t(r,n){switch(arguments.length){case 0:return t;case 1:return _e(r)?t:K(function(i){return e(r,i)});default:return _e(r)&&_e(n)?t:_e(r)?K(function(i){return e(i,n)}):_e(n)?K(function(i){return e(r,i)}):e(r,n)}}}function Ot(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(r){return t.apply(this,arguments)};case 2:return function(r,n){return t.apply(this,arguments)};case 3:return function(r,n,i){return t.apply(this,arguments)};case 4:return function(r,n,i,o){return t.apply(this,arguments)};case 5:return function(r,n,i,o,s){return t.apply(this,arguments)};case 6:return function(r,n,i,o,s,c){return t.apply(this,arguments)};case 7:return function(r,n,i,o,s,c,f){return t.apply(this,arguments)};case 8:return function(r,n,i,o,s,c,f,_){return t.apply(this,arguments)};case 9:return function(r,n,i,o,s,c,f,_,y){return t.apply(this,arguments)};case 10:return function(r,n,i,o,s,c,f,_,y,m){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function Gr(e,t,r){return function(){for(var n=[],i=0,o=e,s=0;s<t.length||i<arguments.length;){var c;s<t.length&&(!_e(t[s])||i>=arguments.length)?c=t[s]:(c=arguments[i],i+=1),n[s]=c,_e(c)||(o-=1),s+=1}return o<=0?r.apply(this,n):Ot(o,Gr(e,n,r))}}var tb=F(function(t,r){return t===1?K(r):Ot(t,Gr(t,[],r))}),Xe=tb;function ee(e){return function t(r,n,i){switch(arguments.length){case 0:return t;case 1:return _e(r)?t:F(function(o,s){return e(r,o,s)});case 2:return _e(r)&&_e(n)?t:_e(r)?F(function(o,s){return e(o,n,s)}):_e(n)?F(function(o,s){return e(r,o,s)}):K(function(o){return e(r,n,o)});default:return _e(r)&&_e(n)&&_e(i)?t:_e(r)&&_e(n)?F(function(o,s){return e(o,s,i)}):_e(r)&&_e(i)?F(function(o,s){return e(o,n,s)}):_e(n)&&_e(i)?F(function(o,s){return e(r,o,s)}):_e(r)?K(function(o){return e(o,n,i)}):_e(n)?K(function(o){return e(r,o,i)}):_e(i)?K(function(o){return e(r,n,o)}):e(r,n,i)}}}var Ve=Array.isArray||function(t){return t!=null&&t.length>=0&&Object.prototype.toString.call(t)==="[object Array]"};function Fs(e){return e!=null&&typeof e["@@transducer/step"]=="function"}function be(e,t,r){return function(){if(arguments.length===0)return r();var n=arguments[arguments.length-1];if(!Ve(n)){for(var i=0;i<e.length;){if(typeof n[e[i]]=="function")return n[e[i]].apply(n,Array.prototype.slice.call(arguments,0,-1));i+=1}if(Fs(n)){var o=t.apply(null,Array.prototype.slice.call(arguments,0,-1));return o(n)}}return r.apply(this,arguments)}}function rr(e){return e&&e["@@transducer/reduced"]?e:{"@@transducer/value":e,"@@transducer/reduced":!0}}var Ce={init:function(){return this.xf["@@transducer/init"]()},result:function(e){return this.xf["@@transducer/result"](e)}};function Rr(e,t){for(var r=0,n=t.length,i=Array(n);r<n;)i[r]=e(t[r]),r+=1;return i}function Kr(e){return Object.prototype.toString.call(e)==="[object String]"}var rb=K(function(t){return Ve(t)?!0:!t||typeof t!="object"||Kr(t)?!1:t.length===0?!0:t.length>0?t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1):!1}),co=rb;var nb=function(){function e(t){this.f=t}return e.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(t){return t},e.prototype["@@transducer/step"]=function(t,r){return this.f(t,r)},e}();function hc(e){return new nb(e)}var ib=F(function(t,r){return Ot(t.length,function(){return t.apply(r,arguments)})}),yh=ib;function ob(e,t,r){for(var n=0,i=r.length;n<i;){if(t=e["@@transducer/step"](t,r[n]),t&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}n+=1}return e["@@transducer/result"](t)}function Fy(e,t,r){for(var n=r.next();!n.done;){if(t=e["@@transducer/step"](t,n.value),t&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}n=r.next()}return e["@@transducer/result"](t)}function Hy(e,t,r,n){return e["@@transducer/result"](r[n](yh(e["@@transducer/step"],e),t))}var Uy=typeof Symbol<"u"?Symbol.iterator:"@@iterator";function et(e,t,r){if(typeof e=="function"&&(e=hc(e)),co(r))return ob(e,t,r);if(typeof r["fantasy-land/reduce"]=="function")return Hy(e,t,r,"fantasy-land/reduce");if(r[Uy]!=null)return Fy(e,t,r[Uy]());if(typeof r.next=="function")return Fy(e,t,r);if(typeof r.reduce=="function")return Hy(e,t,r,"reduce");throw new TypeError("reduce: list must be array or iterable")}var sb=function(){function e(t,r){this.xf=r,this.f=t}return e.prototype["@@transducer/init"]=Ce.init,e.prototype["@@transducer/result"]=Ce.result,e.prototype["@@transducer/step"]=function(t,r){return this.xf["@@transducer/step"](t,this.f(r))},e}(),ab=F(function(t,r){return new sb(t,r)}),qy=ab;function He(e,t){return Object.prototype.hasOwnProperty.call(t,e)}var Wy=Object.prototype.toString,ub=function(){return Wy.call(arguments)==="[object Arguments]"?function(t){return Wy.call(t)==="[object Arguments]"}:function(t){return He("callee",t)}}(),wh=ub;var lb=!{toString:null}.propertyIsEnumerable("toString"),zy=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Vy=function(){"use strict";return arguments.propertyIsEnumerable("length")}(),cb=function(t,r){for(var n=0;n<t.length;){if(t[n]===r)return!0;n+=1}return!1},fb=typeof Object.keys=="function"&&!Vy?K(function(t){return Object(t)!==t?[]:Object.keys(t)}):K(function(t){if(Object(t)!==t)return[];var r,n,i=[],o=Vy&&wh(t);for(r in t)He(r,t)&&(!o||r!=="length")&&(i[i.length]=r);if(lb)for(n=zy.length-1;n>=0;)r=zy[n],He(r,t)&&!cb(i,r)&&(i[i.length]=r),n-=1;return i}),ft=fb;var pb=F(be(["fantasy-land/map","map"],qy,function(t,r){switch(Object.prototype.toString.call(r)){case"[object Function]":return Xe(r.length,function(){return t.call(this,r.apply(this,arguments))});case"[object Object]":return et(function(n,i){return n[i]=t(r[i]),n},{},ft(r));default:return Rr(t,r)}})),Ye=pb;var Wt=Number.isInteger||function(t){return t<<0===t};var db=F(function(t,r){var n=t<0?r.length+t:t;return Kr(r)?r.charAt(n):r[n]}),Ue=db;var hb=F(function(t,r){if(r!=null)return Wt(t)?Ue(t,r):r[t]}),nr=hb;var mb=ee(et),Dr=mb;var _b=K(function(t){return function(){return t}}),Us=_b;var vb=function(){function e(t,r){this.xf=r,this.f=t,this.any=!1}return e.prototype["@@transducer/init"]=Ce.init,e.prototype["@@transducer/result"]=function(t){return this.any||(t=this.xf["@@transducer/step"](t,!1)),this.xf["@@transducer/result"](t)},e.prototype["@@transducer/step"]=function(t,r){return this.f(r)&&(this.any=!0,t=rr(this.xf["@@transducer/step"](t,!0))),t},e}(),gb=F(function(t,r){return new vb(t,r)}),$y=gb;var yb=F(be(["any"],$y,function(t,r){for(var n=0;n<r.length;){if(t(r[n]))return!0;n+=1}return!1})),xh=yb;function fo(e,t,r){if(Wt(e)&&Ve(r)){var n=[].concat(r);return n[e]=t,n}var i={};for(var o in r)i[o]=r[o];return i[e]=t,i}var Sb=K(function(t){return t==null}),qs=Sb;var bb=ee(function e(t,r,n){if(t.length===0)return r;var i=t[0];if(t.length>1){var o=!qs(n)&&He(i,n)?n[i]:Wt(t[1])?[]:{};r=e(Array.prototype.slice.call(t,1),r,o)}return fo(i,r,n)}),_c=bb;var Cb=ee(function(t,r,n){return _c([t],r,n)}),po=Cb;function fi(e){var t=Object.prototype.toString.call(e);return t==="[object Function]"||t==="[object AsyncFunction]"||t==="[object GeneratorFunction]"||t==="[object AsyncGeneratorFunction]"}function vc(e){return function t(r){for(var n,i,o,s=[],c=0,f=r.length;c<f;){if(co(r[c]))for(n=e?t(r[c]):r[c],o=0,i=n.length;o<i;)s[s.length]=n[o],o+=1;else s[s.length]=r[c];c+=1}return s}}var Lb=K(function(t){return t===null?"Null":t===void 0?"Undefined":Object.prototype.toString.call(t).slice(8,-1)}),Ws=Lb;var Tb=K(function(t){return!t}),ho=Tb;function Ch(e,t){return function(){return t.call(this,e.apply(this,arguments))}}function On(e,t){return function(){var r=arguments.length;if(r===0)return t();var n=arguments[r-1];return Ve(n)||typeof n[e]!="function"?t.apply(this,arguments):n[e].apply(n,Array.prototype.slice.call(arguments,0,r-1))}}var Ib=ee(On("slice",function(t,r,n){return Array.prototype.slice.call(n,t,r)})),ir=Ib;var Mb=K(On("tail",ir(1,1/0))),gc=Mb;function pt(){if(arguments.length===0)throw new Error("pipe requires at least one argument");return Ot(arguments[0].length,Dr(Ch,arguments[0],gc(arguments)))}var Ab=K(function(t){return Kr(t)?t.split("").reverse().join(""):Array.prototype.slice.call(t,0).reverse()}),Tn=Ab;var Pb=Ue(0),mo=Pb;function yc(e){for(var t=[],r;!(r=e.next()).done;)t.push(r.value);return t}function In(e,t,r){for(var n=0,i=r.length;n<i;){if(e(t,r[n]))return!0;n+=1}return!1}function Eh(e){var t=String(e).match(/^function (\w*)/);return t==null?"":t[1]}function Db(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var zs=typeof Object.is=="function"?Object.is:Db;function Yy(e,t,r,n){var i=yc(e),o=yc(t);function s(c,f){return Vs(c,f,r.slice(),n.slice())}return!In(function(c,f){return!In(s,f,c)},o,i)}function Vs(e,t,r,n){if(zs(e,t))return!0;var i=Ws(e);if(i!==Ws(t))return!1;if(typeof e["fantasy-land/equals"]=="function"||typeof t["fantasy-land/equals"]=="function")return typeof e["fantasy-land/equals"]=="function"&&e["fantasy-land/equals"](t)&&typeof t["fantasy-land/equals"]=="function"&&t["fantasy-land/equals"](e);if(typeof e.equals=="function"||typeof t.equals=="function")return typeof e.equals=="function"&&e.equals(t)&&typeof t.equals=="function"&&t.equals(e);switch(i){case"Arguments":case"Array":case"Object":if(typeof e.constructor=="function"&&Eh(e.constructor)==="Promise")return e===t;break;case"Boolean":case"Number":case"String":if(!(typeof e==typeof t&&zs(e.valueOf(),t.valueOf())))return!1;break;case"Date":if(!zs(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(!(e.source===t.source&&e.global===t.global&&e.ignoreCase===t.ignoreCase&&e.multiline===t.multiline&&e.sticky===t.sticky&&e.unicode===t.unicode))return!1;break}for(var o=r.length-1;o>=0;){if(r[o]===e)return n[o]===t;o-=1}switch(i){case"Map":return e.size!==t.size?!1:Yy(e.entries(),t.entries(),r.concat([e]),n.concat([t]));case"Set":return e.size!==t.size?!1:Yy(e.values(),t.values(),r.concat([e]),n.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var s=ft(e);if(s.length!==ft(t).length)return!1;var c=r.concat([e]),f=n.concat([t]);for(o=s.length-1;o>=0;){var _=s[o];if(!(He(_,t)&&Vs(t[_],e[_],c,f)))return!1;o-=1}return!0}var Bb=F(function(t,r){return Vs(t,r,[],[])}),Ee=Bb;function wc(e,t,r){var n,i;if(typeof e.indexOf=="function")switch(typeof t){case"number":if(t===0){for(n=1/t;r<e.length;){if(i=e[r],i===0&&1/i===n)return r;r+=1}return-1}else if(t!==t){for(;r<e.length;){if(i=e[r],typeof i=="number"&&i!==i)return r;r+=1}return-1}return e.indexOf(t,r);case"string":case"boolean":case"function":case"undefined":return e.indexOf(t,r);case"object":if(t===null)return e.indexOf(t,r)}for(;r<e.length;){if(Ee(e[r],t))return r;r+=1}return-1}function Mn(e,t){return wc(t,e,0)>=0}function $s(e){var t=e.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return'"'+t.replace(/"/g,'\\"')+'"'}var Gs=function(t){return(t<10?"0":"")+t},Nb=typeof Date.prototype.toISOString=="function"?function(t){return t.toISOString()}:function(t){return t.getUTCFullYear()+"-"+Gs(t.getUTCMonth()+1)+"-"+Gs(t.getUTCDate())+"T"+Gs(t.getUTCHours())+":"+Gs(t.getUTCMinutes())+":"+Gs(t.getUTCSeconds())+"."+(t.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"},Jy=Nb;function xc(e){return function(){return!e.apply(this,arguments)}}function Ks(e,t){for(var r=0,n=t.length,i=[];r<n;)e(t[r])&&(i[i.length]=t[r]),r+=1;return i}function An(e){return Object.prototype.toString.call(e)==="[object Object]"}var jb=function(){function e(t,r){this.xf=r,this.f=t}return e.prototype["@@transducer/init"]=Ce.init,e.prototype["@@transducer/result"]=Ce.result,e.prototype["@@transducer/step"]=function(t,r){return this.f(r)?this.xf["@@transducer/step"](t,r):t},e}(),Fb=F(function(t,r){return new jb(t,r)}),Zy=Fb;var Hb=F(be(["fantasy-land/filter","filter"],Zy,function(e,t){return An(t)?et(function(r,n){return e(t[n])&&(r[n]=t[n]),r},{},ft(t)):Ks(e,t)})),_o=Hb;var Ub=F(function(t,r){return _o(xc(t),r)}),Xs=Ub;function Ys(e,t){var r=function(s){var c=t.concat([e]);return Mn(s,c)?"<Circular>":Ys(s,c)},n=function(o,s){return Rr(function(c){return $s(c)+": "+r(o[c])},s.slice().sort())};switch(Object.prototype.toString.call(e)){case"[object Arguments]":return"(function() { return arguments; }("+Rr(r,e).join(", ")+"))";case"[object Array]":return"["+Rr(r,e).concat(n(e,Xs(function(o){return/^\d+$/.test(o)},ft(e)))).join(", ")+"]";case"[object Boolean]":return typeof e=="object"?"new Boolean("+r(e.valueOf())+")":e.toString();case"[object Date]":return"new Date("+(isNaN(e.valueOf())?r(NaN):$s(Jy(e)))+")";case"[object Null]":return"null";case"[object Number]":return typeof e=="object"?"new Number("+r(e.valueOf())+")":1/e===-1/0?"-0":e.toString(10);case"[object String]":return typeof e=="object"?"new String("+r(e.valueOf())+")":$s(e);case"[object Undefined]":return"undefined";default:if(typeof e.toString=="function"){var i=e.toString();if(i!=="[object Object]")return i}return"{"+n(e,ft(e)).join(", ")+"}"}}var qb=K(function(t){return Ys(t,[])}),Js=qb;var Wb=K(function(t){return Xe(t.length,t)}),Zs=Wb;var Vb=F(function(t,r){return r==null||r!==r?t:r}),Qs=Vb;var eC=function(){function e(t,r){this.xf=r,this.f=t,this.found=!1}return e.prototype["@@transducer/init"]=Ce.init,e.prototype["@@transducer/result"]=function(t){return this.found||(t=this.xf["@@transducer/step"](t,void 0)),this.xf["@@transducer/result"](t)},e.prototype["@@transducer/step"]=function(t,r){return this.f(r)&&(this.found=!0,t=rr(this.xf["@@transducer/step"](t,r))),t},e}(),tC=F(function(t,r){return new eC(t,r)}),t0=tC;var rC=F(be(["find"],t0,function(t,r){for(var n=0,i=r.length;n<i;){if(t(r[n]))return r[n];n+=1}})),Sc=rC;var nC=K(vc(!0)),Pn=nC;var oC=F(Mn),Th=oC;var uC=F(function(t,r){return Xe(t+1,function(){var n=arguments[t];if(n!=null&&fi(n[r]))return n[r].apply(n,Array.prototype.slice.call(arguments,0,t));throw new TypeError(Js(n)+' does not have a method named "'+r+'"')})}),vo=uC;function bc(e){return Object.prototype.toString.call(e)==="[object Number]"}var fC=K(function(t){return t!=null&&bc(t.length)?t.length:NaN}),pi=fC;var hC=F(function(t,r){return t.map(function(n){for(var i=r,o=0,s;o<n.length;){if(i==null)return;s=n[o],i=Wt(s)?Ue(s,i):i[s],o+=1}return i})}),Ph=hC;var mC=F(function(t,r){return Ph([t],r)[0]}),te=mC;function Dh(e,t,r){if(Wt(e)&&Ve(r)){var n=[].concat(r);return n[e]=t(n[e]),n}var i={};for(var o in r)i[o]=r[o];return i[e]=t(i[e]),i}var gC=ee(function e(t,r,n){if(!An(n)&&!Ve(n)||t.length===0)return n;var i=t[0];if(!He(i,n))return n;if(t.length===1)return Dh(i,r,n);var o=e(Array.prototype.slice.call(t,1),r,n[i]);return o===n[i]?n:fo(i,o,n)}),Bh=gC;var yC=ee(function(t,r,n){return Bh([t],r,n)}),Cc=yC;var IC=F(function(t,r){var n=Number(r),i=0,o;if(n<0||isNaN(n))throw new RangeError("n must be a non-negative number");for(o=new Array(n);i<n;)o[i]=t(i),i+=1;return o}),Nh=IC;var MC=F(function(t,r){return Nh(Us(t),r)}),Rn=MC;var DC=F(function(t,r){return Array.prototype.slice.call(r,0).sort(t)}),ea=DC;var BC=vo(1,"split"),Dn=BC;var NC=F(function(t,r){return Number(t)-Number(r)}),ta=NC;var Z7=typeof String.prototype.trim=="function";var jh=e=>e.replaceAll("[Char]","String"),s0=(e,{from:t,to:r})=>a0(e,t)&&KC(e,r);function kc({srcSpanEndLine:e,srcSpanEndColumn:t,srcSpanStartColumn:r,srcSpanStartLine:n}){return{from:{line:n-1,ch:r-1},to:{line:e-1,ch:t-1}}}var GC=(e,t)=>e.line<t.line?!0:e.line===t.line?e.ch<=t.ch:!1,KC=(e,t)=>e.line<t.line?!0:e.line===t.line?e.ch<t.ch:!1,a0=(e,t)=>e.line>t.line?!0:e.line===t.line?e.ch>=t.ch:!1;var di=(e,t)=>GC(e.from,t.from)&&a0(e.to,t.to);function u0(e,t,r,n,i,o){let s=!1;if(t.from.line<e.from.line){let[c,f,_,y]=o0({left:t.from.ch,top:t.from.line,width:t.to.ch-t.from.ch,height:1},{left:e.from.ch,top:e.from.line,width:e.to.ch-e.from.ch,height:1},s,o);return[{relativeTo:t.from,key:"top-line",styles:c,classes:["absolute","z-40","rounded-t-sm","border-l","border-t","border-r"],content:{type:"empty"}},{relativeTo:t.from,key:"inbetween-line",styles:_,classes:["absolute","z-20","border-r"],content:{type:"empty"}},{relativeTo:e.from,key:"bottom-line",styles:f,classes:["absolute","z-20","rounded-b-sm","border-l","border-b","border-r"],content:{type:"empty"}},{relativeTo:e.from,key:"annotation-box",styles:y,classes:["absolute","text-center","text-sm","z-20"],content:{type:"annotation",direction:i,reason:r,step:n}}]}else{let[c,f,_,y]=o0({left:e.from.ch,top:e.from.line,width:e.to.ch-e.from.ch,height:1},{left:t.from.ch,top:t.from.line,width:t.to.ch-t.from.ch,height:1},s,o);return[{relativeTo:e.from,key:"top-line",styles:c,classes:["absolute","z-40","rounded-t-sm","border-l","border-t","border-r"],content:{type:"empty"}},{relativeTo:e.from,key:"inbetween-line",styles:_,classes:["absolute","z-20","border-r"],content:{type:"empty"}},{relativeTo:t.from,key:"bottom-line",styles:f,classes:["absolute","z-20","rounded-b-sm","border-l","border-b","border-r"],content:{type:"empty"}},{relativeTo:t.from,key:"annotation-box",styles:y,classes:["absolute","text-center","text-sm","z-20"],content:{type:"annotation",direction:i,reason:r,step:n}}]}}function o0(e,t,r,n){let _="#666666",y=n*.625+10,m={background:r?"var(--color-azure-3)":"transparent",opacity:r?.5:1,height:`${.28}rem`,left:`${e.width*.625/2}rem`,top:`${-.28}rem`,width:`${y-e.left*.625-e.width*.625/2}rem`,borderColor:_},p={background:r?"var(--color-sky-3)":"transparent",opacity:r?.5:1,height:`${.28}rem`,left:`${t.width*.625/2}rem`,top:`${t.height*1.5}rem`,width:`${y-t.left*.625-t.width*.625/2}rem`,borderColor:_},v={background:r?"var(--color-violet-3)":"transparent",opacity:r?.5:1,width:`${y-e.left*.625-e.width*.625/2}rem`,height:`${(t.top-e.top+1)*1.5-1.25}rem`,top:`${0}rem`,left:`${e.width*.625/2}rem`,borderColor:_},d={background:r?"var(--color-orange-3)":"transparent",opacity:r?.5:1,width:`${18}rem`,height:`${1.25}rem`,top:`${t.height*1.5-1.25}rem`,left:`${y-t.left*.625-18/2}rem`};return[m,p,v,d]}var Fh=(e,t)=>({...e,marker:{shared:[t,"-inset-y-0.5","inset-x-0","border-t","border-b","border-black","z-30"],start:["-left-0.5","border-l","rounded-l-sm"],end:["-right-0.5","border-r","rounded-r-sm"]}});var na=(e,t)=>({...e,marker:{shared:[t,"inset-0","border-t","border-b","border-black","z-40"],start:["border-l","rounded-l-sm"],end:["border-r","rounded-r-sm"]}}),Ec=(e,t)=>({...e,marker:{shared:[t,"inset-0","z-0"],start:["rounded-l-sm"],end:["rounded-r-sm"]}});function l0(e){return Math.floor(Math.random()*e)}function Rt(e,t){return e?t?"Advanced Mode":"Balanced Mode":"Basic Mode"}var b0=Se(c0()),C0=Se(f0());var go=async e=>{await new Promise(t=>setTimeout(t,e))},or=(e,t,r)=>Math.max(e,Math.min(t,r)),Xr=(e,t,r)=>e<=t&&t<=r;var ia=()=>{};function*qh(e,t){let r=[];for(let n of e)r.push(n),r.length==t&&(yield r,r=[]);r!=[]&&(yield r)}var p0=function*(){for(;;){let e=["\u2598 ","\u2580 ","\u259D "," \u2598"," \u258C"," \u2596","\u2597 ","\u2584 ","\u2596 ","\u258C "];for(let t of e)yield t}};function d0(e){return e.length==0?void 0:e[e.length-1]}function h0(e,t=300){let r=!1,n=!1,i=[],o=(...s)=>{if(n){r=!0,i=s;return}e.apply(this,s),r=!1,n=!0,go(t).then(()=>{n=!1,r&&o(...s)})};return o}var pe="\x1B[",Wh="\x1B]",Tc="\x07",Dt=";",m0=!1,ce={};ce.cursorTo=(e,t)=>{if(typeof e!="number")throw new TypeError("The `x` argument is required");return typeof t!="number"?pe+(e+1)+"G":pe+(t+1)+";"+(e+1)+"H"};ce.cursorMove=(e,t)=>{if(typeof e!="number")throw new TypeError("The `x` argument is required");let r="";return e<0?r+=pe+-e+"D":e>0&&(r+=pe+e+"C"),t<0?r+=pe+-t+"A":t>0&&(r+=pe+t+"B"),r};ce.cursorUp=(e=1)=>pe+e+"A";ce.cursorDown=(e=1)=>pe+e+"B";ce.cursorForward=(e=1)=>pe+e+"C";ce.cursorBackward=(e=1)=>pe+e+"D";ce.cursorLeft=pe+"G";ce.cursorSavePosition=m0?"\x1B7":pe+"s";ce.cursorRestorePosition=m0?"\x1B8":pe+"u";ce.cursorGetPosition=pe+"6n";ce.cursorNextLine=pe+"E";ce.cursorPrevLine=pe+"F";ce.cursorHide=pe+"?25l";ce.cursorShow=pe+"?25h";ce.eraseLines=e=>{let t="";for(let r=0;r<e;r++)t+=ce.eraseLine+(r<e-1?ce.cursorUp():"");return e&&(t+=ce.cursorLeft),t};ce.eraseEndLine=pe+"K";ce.eraseStartLine=pe+"1K";ce.eraseLine=pe+"2K";ce.eraseDown=pe+"J";ce.eraseUp=pe+"1J";ce.eraseScreen=pe+"2J";ce.scrollUp=pe+"S";ce.scrollDown=pe+"T";ce.clearScreen="\x1Bc";ce.beep=Tc;ce.link=(e,t)=>[Wh,"8",Dt,Dt,t,Tc,e,Wh,"8",Dt,Dt,Tc].join("");ce.image=(e,t={})=>{let r=`${Wh}1337;File=inline=1`;return t.width&&(r+=`;width=${t.width}`),t.height&&(r+=`;height=${t.height}`),t.preserveAspectRatio===!1&&(r+=";preserveAspectRatio=0"),r+":"+e.toString("base64")+Tc};ce.insertLine=e=>pe+e+"L";ce.deleteLine=e=>pe+e+"M";ce.cursorRow=e=>pe+e+"d";ce.cursorPos=(e,t)=>pe+e+Dt+t+"d";ce.colouredText=(e,t,r)=>{let n={r:0,g:0,b:0,...e},i={r:0,g:0,b:0,...t};return pe+"38;2"+Dt+n.r+Dt+n.g+Dt+n.b+"m"+pe+"48;2"+Dt+i.r+Dt+i.g+Dt+i.b+"m"+r+pe+"39m"+pe+"49m"};ce.colourSeq=(e,t)=>{t??=!1;let r={r:0,g:0,b:0,...e};return pe+`${t?"38":"48"};2`+Dt+r.r+Dt+r.g+Dt+r.b+"m"};var qe;ce.Colour=(qe=class{constructor({r:t,g:r,b:n}){this.r=t??0,this.g=r??0,this.b=n??0}mul(t){return{r:Math.round(or(0,this.r*t,255)),g:Math.round(or(0,this.g*t,255)),b:Math.round(or(0,this.b*t,255))}}},Nt(qe,"Red",new qe({r:255})),Nt(qe,"Blue",new qe({b:255})),Nt(qe,"Green",new qe({g:255})),Nt(qe,"Yellow",new qe({r:236,g:232,b:26})),Nt(qe,"DarkGrey",new qe({r:50,g:50,b:50})),Nt(qe,"LtDkGrey",new qe({r:75,g:75,b:75})),Nt(qe,"Grey",new qe({r:128,g:128,b:128})),Nt(qe,"LightGrey",new qe({r:190,g:190,b:190})),Nt(qe,"White",new qe({r:255,g:255,b:255})),qe);var ie=ce;var _0={"infinite type":`Infinite Type
    
    A type is constructed using itself.
    This is not possible as type checking
    must end at a concrete type.`,"Ambiguous occurrence":`Ambiguous occurrence
    
    The compiler cannot tell which of
    the mentioned terms is the one that
    you want to use`},XC={regex:{keyword:new RegExp(Object.keys(_0).map(e=>`(${e})`).join("|"),"gi"),symbol:/(?<symbol>[a-zA-Z.0-9]+)/g,location:/generated\/Infile.hs:(?<line>[0-9]+)(?:\-(?<lineEnd>[0-9]+))?:(?<colStart>[0-9]+)(?:\-(?<colEnd>[0-9]+))?/g,ambiguous:/(?:^(?:either|or) )(?<namespace>([a-zA-Z.0-9]+\.)+)(?<symbol>[a-zA-Z.0-9]+)/g,error:/\[(?<code>GHC-[0-9]+)\]/g,codeCommit:/\[\[commit\]\]/g},map:_0},Yr=XC;String.prototype.splice=function(e,t,r){return e<0&&(e=this.length+e,e<0&&(e=0)),this.slice(0,e)+(r||"")+this.slice(e+t)};var yo=class{constructor(t,r,n,i){this.window=t,this.range={start:{x:0,y:0,...r.start},end:{x:0,y:0,...r.end}},this.colour=i??ie.Colour.Red,this.funcs={enter:o=>{o.setHighlight(yo.albedo.hover),n?.enter?.(o)},leave:o=>{o.setHighlight(yo.albedo.unlit),n?.leave?.(o)},click:o=>{o.setHighlight(yo.albedo.click),n?.click?.(o)}},this.active=!1,this.highlight={fg:{},bg:{},resetFG:{},resetBG:{}},this.setupHighlight()}setupHighlight(){let[t,r,n,i]=this.window.write(ie.cursorSavePosition+ie.cursorTo(this.range.start.x,this.range.start.y)+ie.colouredText(ie.Colour.White,this.colour.mul(yo.albedo.unlit),"|").split("|").join(ie.cursorTo(this.range.end.x,this.range.end.y))+ie.cursorRestorePosition);this.highlight={fg:t,bg:r,resetFG:n,resetBG:i}}setHighlight(t){this.highlight.bg.seq=ie.colourSeq(this.colour.mul(t),!1)}},Ic=yo;Nt(Ic,"albedo",{click:1,hover:.6,unlit:.3});var wt=class{constructor(t,r,n,i,o,s){this.terminal=t,this.x=Math.ceil(r),this.y=Math.ceil(n),this.width=Math.floor(i),this.height=Math.floor(o),this.line=0,this.scroll=0,this.content=[{text:"",esc:[]}],this.cursor={x:0,y:0,saved:{x:0,y:0}},s={movable:!1,scrollable:!0,resizable:!1,softwrap:!1,...s},this.movable=s.movable,this.scrollable=s.scrollable,this.resizable=s.resizable,this.softwrap=s.softwrap,this.links=[],this.active=!1,this.dirty=!0,this.softContent=[],wt.setup()}static setup(){wt.drawReq.setup||(wt.drawReq.setup=!0,wt.setupEvent("wheel","onWheel"),wt.setupEvent("mousemove","onMouseMove"),wt.setupEvent("mouseout","onMouseMove"),wt.setupEvent("mousedown","onClick"),wt.setupEvent("mouseup","onMouseMove"),(async()=>{for(;;)wt.drawReq.request&&(sr.window.draw(),sr.perm.windows.forEach(t=>t.draw()),wt.drawReq.request=!1,wt.drawReq.callbacks.forEach(t=>t()),wt.drawReq.callbacks=[]),await go(1)})())}static setupEvent(t,r){sr.html.terminal.addEventListener(t,n=>{for(let i=sr.perm.windows.length-1;i>=0;i--)if(sr.perm.windows[i][r](n))return;sr.window[r](n)},{capture:!0,passive:!1})}onWheel(t){if(!this.scrollable||!this.active)return!1;let r=Math.sign(t.deltaY);if(t.ctrlKey)this.move(r,0,!0);else if(t.altKey)this.move(0,r,!0);else if(t.shiftKey){if(this.softwrap)return;let n=this.content.reduce((o,s)=>Math.max(o,s.text.length),0),i=r*or(1,Math.round(Math.pow(n/this.width,1.3)),Math.floor(this.width*.7));this.scroll=or(0,this.scroll+i,n-this.width)}else{let n=r*or(1,Math.round(this.content.length/this.height),Math.floor(this.height*.7));this.line=or(0,this.line+n,Math.max(this.softContent.length,this.content.length)-this.height)}return this.onMouseMove(t),this.requestDraw(),!0}onMouseMove(t){if(this.active=this.mouseWithin(t.offsetX,t.offsetY),!this.active)return!1;let{x:r,y:n}=this.mouseToCell(t.offsetX,t.offsetY);r+=this.scroll,n+=this.line;let i=this.links.filter(o=>Xr(o.range.start.x,r,o.range.end.x-1)&&Xr(o.range.start.y,n,o.range.end.y)).sort((o,s)=>s.range.start.x-o.range.start.x)[0];return i?.active===!1&&(i.funcs.enter(i),i.active=!0,this.requestDraw()),this.links.filter(o=>o.active).filter(o=>o!=i).forEach(o=>{o.funcs.leave(o),o.active=!1,this.requestDraw()}),!0}onClick(t){return this.active?(this.links.filter(r=>r.active).forEach(r=>r.funcs.click(r)),!0):!1}addLink(t,r,n){let i=new Ic(this,t,r,n);return this.links.push(i),i}reset(){return this.clean(),this.content=[{text:"",esc:[]}],this.links=[],this.cursor={x:0,y:0,saved:{x:0,y:0}},this.line=0,this}write(t,r){this.dirty=!0;let n=o=>{let s=/\u001B\[(?:(?<nums>(?:[0-9]+;)*)(?<num>(?:[0-9]+)))?(?<char>[a-zA-Z])/gi,c=[],f=!1;for(let[_,y,m,p]of qh(o.split(s),4)){let v={prefix:_,esc:ia};if((y||m||p)===void 0){c.push(v);break}f=!0;let d=(y?.split(";")||[]).filter(l=>l!=="");switch(d.push(m),p){case"G":v.esc=()=>{this.cursor={...this.cursor,x:m+1}};break;case"H":v.esc=()=>{this.cursor={...this.cursor,x:+d[1]-1,y:+d[0]-1}};break;case"s":v.esc=()=>{this.cursor.saved={x:this.cursor.x,y:this.cursor.y}};break;case"u":v.esc=()=>{this.cursor={...this.cursor,...this.cursor.saved}};break;case"L":v.esc=()=>{this.content.splice(this.cursor.y+1,0,...Array.from({length:+d[0]},l=>({text:"",esc:[]})))};break;case"M":v.esc=()=>{this.content.splice(this.cursor.y,+m)};break;case"m":v.esc=()=>`\x1B[${d.join(";")+p}`;break;default:console.log(`UNMATCHED ESCAPE SEQUENCE: ESC[${d.join(";")+p}`),v.esc=()=>`\x1B[${d.join(";")+p}`;break}c.push(v)}return f==!1?[{prefix:o,esc:ia}]:c},i=[];for(let{prefix:o,esc:s}of n(t)){let c={...this.cursor};for(let _ of(o??"").split(`
`)){for(;this.cursor.y>=this.content.length;)this.content.push({text:"",esc:[]});this.content[this.cursor.y].text=this.content[this.cursor.y].text.padEnd(this.cursor.x).splice(this.cursor.x,_.length,_),this.content[this.cursor.y].esc=this.content[this.cursor.y].esc.filter(({pos:y})=>!Xr(1,y-this.cursor.x,_.length-2)),this.cursor.x+=_.length,c={...this.cursor},this.cursor.y+=1,this.cursor.x=0}this.cursor=c;let f=s();if(f){let _={pos:this.cursor.x,seq:f};i.push(_),this.content[this.cursor.y].esc.push(_)}for(;this.cursor.y>=this.content.length;)this.content.push({text:"",esc:[]})}return this.requestDraw(r),i}writeln(t,r){return this.write(t+`
`,r)}mouseWithin(t,r){let{x:n,y:i}=this.mouseToCell(t,r);return Xr(this.x-.5,n,this.x+this.width+.5)&&Xr(this.y-.5,i,this.y+this.height+.5)}mouseToCell(t,r){let n=sr.html.terminal.querySelector(".xterm-text-layer"),i=n.offsetHeight/sr.terminal.rows,o=n.offsetWidth/sr.terminal.cols;return{x:Math.floor(t/o-1),y:Math.floor(r/i-1)}}resize(t,r,n,i=!1){!this.resizable&&!i||(this.dirty=!0,n&&(t+=this.width,r+=this.height),this.clean(),this.width=Math.floor(t),this.height=Math.floor(r),this.move(0,0,!0,!0),this.onWheel({deltaY:0}),this.requestDraw())}expand(t=!1){this.move(0,0,!1,t),this.resize(this.terminal.cols-2,this.terminal.rows-2,!1,t)}move(t,r,n,i=!1){!this.movable&&!i||(n&&(t+=this.x,r+=this.y),t=or(0,t,this.terminal.cols-this.width-2),r=or(0,r,this.terminal.rows-this.height-2),this.clean(),this.x=Math.floor(t),this.y=Math.floor(r),this.requestDraw())}*lines(){for(let t of this.content.slice(this.line,this.line+this.height))yield{text:t.text.slice(this.scroll,this.width+this.scroll),esc:t.esc.map(({pos:r,seq:n})=>({pos:or(0,r-this.scroll,this.width),seq:n}))}}*linesWrap(){let t=this;function*r(){let n=0;for(let i of t.content){console.log(i);let o={start:0,end:t.width},s=[];for(let c of qh(i.text,t.width)){let f=s.concat(i.esc.filter(({pos:_})=>Xr(o.start,_,o.end)).map(({pos:_,...y})=>({...y,pos:_-o.start})));console.log(c.join(""),f),yield{text:c.join(""),esc:f},o.start=o.end,o.end+=t.width,n+=1,s=Object.values(f.reduce((_,y)=>{let{type:m}=y.seq.matchAll(/\x1b\[(?<type>3|4)(?<col>9m|8;2)/g)?.next()?.value?.groups;return{..._,...m==="3"?{fg:y}:m==="4"?{bg:y}:{}}},{})).filter(_=>_!==void 0).map(({pos:_,...y})=>({...y,pos:0}))}}}this.dirty&&(this.dirty=!1,this.softContent=Array.from(r()));for(let n of this.softContent.slice(this.line,this.line+this.height))yield n}draw(){let t=this.content.reduce((p,v)=>Math.max(p,v.text.length),0),r={low:Math.max(-.01,this.scroll/t)*this.width,hi:Math.min(1,(this.scroll+this.width)/t)*this.width};r.hi=Math.max(Math.ceil(r.low)+.5,r.hi);let n="\u2585";r.low<=0&&r.hi>=this.height&&(n="\u2550");let i=Array.from(Array(this.width).keys()).map(p=>Xr(r.low,p,r.hi)?n:"\u2550").join(""),o=p=>ie.colouredText(ie.Colour.LtDkGrey,{},p),s=o(ie.cursorSavePosition+ie.cursorTo(this.x,this.y)+`\u2554${i}\u2557`+ie.cursorTo(this.x,this.y+this.height+1)+`\u255A${i}\u255D`),c=this.softwrap?this.linesWrap():this.lines(),f=Math.max(this.content.length,this.softContent.length),_={low:Math.max(-.01,this.line/f)*this.height,hi:Math.min(1,(this.line+this.height)/f)*this.height};_.hi=Math.max(Math.ceil(_.low)+.5,_.hi);let y="\u2588";_.low<=0&&_.hi>=this.height&&(y="\u2551");let m="";for(let p=1;p<=this.height;p++){let{text:v,esc:d}=c.next().value??{text:"",esc:[]},l=o(Xr(_.low,p,_.hi)?y:"\u2551");console.log(v);let a=d.sort((u,h)=>u.pos-h.pos).reduce((u,h)=>{console.log(h);let{type:g,col:w}=h.seq.matchAll(/\x1b\[(?<type>3|4)(?<col>9m|8;2)/g).next().value.groups,x=g=="3"?u.fgstack:u.bgstack;return w=="9m"?(x.pop(),u.out.push(x.length==0?h:{pos:h.pos,seq:d0(x).seq})):(x.push(h),u.out.push(h)),u},{fgstack:[],bgstack:[],out:[]}).out.reduceRight((u,{pos:h,seq:g})=>u.splice(h,0,g),(v||"").padEnd(this.width));s+=`${ie.cursorTo(this.x,this.y+p)}${l}${a}${l}`}this.terminal.write(s+ie.cursorRestorePosition)}requestDraw(t){wt.drawReq.request=!0,t&&wt.drawReq.callbacks.push(t)}clean(){this.terminal.write(ie.cursorSavePosition);for(let t=0;t<=this.height+1;t++)this.terminal.write(`${ie.cursorTo(this.x,this.y+t)}${"".padEnd(this.width+2)}`);this.terminal.write(ie.cursorRestorePosition)}},Mc=wt;Nt(Mc,"drawReq",{request:!1,setup:!1,callbacks:[]});var YC={Window:Mc},zh=YC;var Vh=function(e,t){return Number(e.slice(0,-1*t.length))},JC=function(e){return e.endsWith("px")?{value:e,type:"px",numeric:Vh(e,"px")}:e.endsWith("fr")?{value:e,type:"fr",numeric:Vh(e,"fr")}:e.endsWith("%")?{value:e,type:"%",numeric:Vh(e,"%")}:e==="auto"?{value:e,type:"auto"}:null},y0=function(e){return e.split(" ").map(JC)},ZC=function(e,t,r,n){r===void 0&&(r=0),n===void 0&&(n=!1);var i=n?e+1:e,o=t.slice(0,i).reduce(function(c,f){return c+f.numeric},0),s=r?e*r:0;return o+s},w0=function(e,t,r){return t.concat(r).map(function(n){return n.style[e]}).filter(function(n){return n!==void 0&&n!==""})},QC=function(e,t){return t.endsWith(e)?Number(t.slice(0,-1*e.length)):null},v0=function(e){for(var t=0;t<e.length;t++)if(e[t].numeric>0)return t;return null},hi=function(){return!1},ek=function(e,t,r){e.style[t]=r},We=function(e,t,r){var n=e[t];return n!==void 0?n:r};function x0(e){var t;return(t=[]).concat.apply(t,Array.from(e.ownerDocument.styleSheets).map(function(r){var n=[];try{n=Array.from(r.cssRules||[])}catch{}return n})).filter(function(r){var n=!1;try{n=e.matches(r.selectorText)}catch{}return n})}var tk="grid-template-columns",rk="grid-template-rows",it=function(t,r,n){this.direction=t,this.element=r.element,this.track=r.track,t==="column"?(this.gridTemplateProp=tk,this.gridGapProp="grid-column-gap",this.cursor=We(n,"columnCursor",We(n,"cursor","col-resize")),this.snapOffset=We(n,"columnSnapOffset",We(n,"snapOffset",30)),this.dragInterval=We(n,"columnDragInterval",We(n,"dragInterval",1)),this.clientAxis="clientX",this.optionStyle=We(n,"gridTemplateColumns")):t==="row"&&(this.gridTemplateProp=rk,this.gridGapProp="grid-row-gap",this.cursor=We(n,"rowCursor",We(n,"cursor","row-resize")),this.snapOffset=We(n,"rowSnapOffset",We(n,"snapOffset",30)),this.dragInterval=We(n,"rowDragInterval",We(n,"dragInterval",1)),this.clientAxis="clientY",this.optionStyle=We(n,"gridTemplateRows")),this.onDragStart=We(n,"onDragStart",hi),this.onDragEnd=We(n,"onDragEnd",hi),this.onDrag=We(n,"onDrag",hi),this.writeStyle=We(n,"writeStyle",ek),this.startDragging=this.startDragging.bind(this),this.stopDragging=this.stopDragging.bind(this),this.drag=this.drag.bind(this),this.minSizeStart=r.minSizeStart,this.minSizeEnd=r.minSizeEnd,r.element&&(this.element.addEventListener("mousedown",this.startDragging),this.element.addEventListener("touchstart",this.startDragging))};it.prototype.getDimensions=function(){var t=this.grid.getBoundingClientRect(),r=t.width,n=t.height,i=t.top,o=t.bottom,s=t.left,c=t.right;this.direction==="column"?(this.start=i,this.end=o,this.size=n):this.direction==="row"&&(this.start=s,this.end=c,this.size=r)};it.prototype.getSizeAtTrack=function(t,r){return ZC(t,this.computedPixels,this.computedGapPixels,r)};it.prototype.getSizeOfTrack=function(t){return this.computedPixels[t].numeric};it.prototype.getRawTracks=function(){var t=w0(this.gridTemplateProp,[this.grid],x0(this.grid));if(!t.length){if(this.optionStyle)return this.optionStyle;throw Error("Unable to determine grid template tracks from styles.")}return t[0]};it.prototype.getGap=function(){var t=w0(this.gridGapProp,[this.grid],x0(this.grid));return t.length?t[0]:null};it.prototype.getRawComputedTracks=function(){return window.getComputedStyle(this.grid)[this.gridTemplateProp]};it.prototype.getRawComputedGap=function(){return window.getComputedStyle(this.grid)[this.gridGapProp]};it.prototype.setTracks=function(t){this.tracks=t.split(" "),this.trackValues=y0(t)};it.prototype.setComputedTracks=function(t){this.computedTracks=t.split(" "),this.computedPixels=y0(t)};it.prototype.setGap=function(t){this.gap=t};it.prototype.setComputedGap=function(t){this.computedGap=t,this.computedGapPixels=QC("px",this.computedGap)||0};it.prototype.getMousePosition=function(t){return"touches"in t?t.touches[0][this.clientAxis]:t[this.clientAxis]};it.prototype.startDragging=function(t){if(!("button"in t&&t.button!==0)){t.preventDefault(),this.element?this.grid=this.element.parentNode:this.grid=t.target.parentNode,this.getDimensions(),this.setTracks(this.getRawTracks()),this.setComputedTracks(this.getRawComputedTracks()),this.setGap(this.getGap()),this.setComputedGap(this.getRawComputedGap());var r=this.trackValues.filter(function(c){return c.type==="%"}),n=this.trackValues.filter(function(c){return c.type==="fr"});if(this.totalFrs=n.length,this.totalFrs){var i=v0(n);i!==null&&(this.frToPixels=this.computedPixels[i].numeric/n[i].numeric)}if(r.length){var o=v0(r);o!==null&&(this.percentageToPixels=this.computedPixels[o].numeric/r[o].numeric)}var s=this.getSizeAtTrack(this.track,!1)+this.start;if(this.dragStartOffset=this.getMousePosition(t)-s,this.aTrack=this.track-1,this.track<this.tracks.length-1)this.bTrack=this.track+1;else throw Error("Invalid track index: "+this.track+". Track must be between two other tracks and only "+this.tracks.length+" tracks were found.");this.aTrackStart=this.getSizeAtTrack(this.aTrack,!1)+this.start,this.bTrackEnd=this.getSizeAtTrack(this.bTrack,!0)+this.start,this.dragging=!0,window.addEventListener("mouseup",this.stopDragging),window.addEventListener("touchend",this.stopDragging),window.addEventListener("touchcancel",this.stopDragging),window.addEventListener("mousemove",this.drag),window.addEventListener("touchmove",this.drag),this.grid.addEventListener("selectstart",hi),this.grid.addEventListener("dragstart",hi),this.grid.style.userSelect="none",this.grid.style.webkitUserSelect="none",this.grid.style.MozUserSelect="none",this.grid.style.pointerEvents="none",this.grid.style.cursor=this.cursor,window.document.body.style.cursor=this.cursor,this.onDragStart(this.direction,this.track)}};it.prototype.stopDragging=function(){this.dragging=!1,this.cleanup(),this.onDragEnd(this.direction,this.track),this.needsDestroy&&(this.element&&(this.element.removeEventListener("mousedown",this.startDragging),this.element.removeEventListener("touchstart",this.startDragging)),this.destroyCb(),this.needsDestroy=!1,this.destroyCb=null)};it.prototype.drag=function(t){var r=this.getMousePosition(t),n=this.getSizeOfTrack(this.track),i=this.aTrackStart+this.minSizeStart+this.dragStartOffset+this.computedGapPixels,o=this.bTrackEnd-this.minSizeEnd-this.computedGapPixels-(n-this.dragStartOffset),s=i+this.snapOffset,c=o-this.snapOffset;r<s&&(r=i),r>c&&(r=o),r<i?r=i:r>o&&(r=o);var f=r-this.aTrackStart-this.dragStartOffset-this.computedGapPixels,_=this.bTrackEnd-r+this.dragStartOffset-n-this.computedGapPixels;if(this.dragInterval>1){var y=Math.round(f/this.dragInterval)*this.dragInterval;_-=y-f,f=y}if(f<this.minSizeStart&&(f=this.minSizeStart),_<this.minSizeEnd&&(_=this.minSizeEnd),this.trackValues[this.aTrack].type==="px")this.tracks[this.aTrack]=f+"px";else if(this.trackValues[this.aTrack].type==="fr")if(this.totalFrs===1)this.tracks[this.aTrack]="1fr";else{var m=f/this.frToPixels;this.tracks[this.aTrack]=m+"fr"}else if(this.trackValues[this.aTrack].type==="%"){var p=f/this.percentageToPixels;this.tracks[this.aTrack]=p+"%"}if(this.trackValues[this.bTrack].type==="px")this.tracks[this.bTrack]=_+"px";else if(this.trackValues[this.bTrack].type==="fr")if(this.totalFrs===1)this.tracks[this.bTrack]="1fr";else{var v=_/this.frToPixels;this.tracks[this.bTrack]=v+"fr"}else if(this.trackValues[this.bTrack].type==="%"){var d=_/this.percentageToPixels;this.tracks[this.bTrack]=d+"%"}var l=this.tracks.join(" ");this.writeStyle(this.grid,this.gridTemplateProp,l),this.onDrag(this.direction,this.track,l)};it.prototype.cleanup=function(){window.removeEventListener("mouseup",this.stopDragging),window.removeEventListener("touchend",this.stopDragging),window.removeEventListener("touchcancel",this.stopDragging),window.removeEventListener("mousemove",this.drag),window.removeEventListener("touchmove",this.drag),this.grid&&(this.grid.removeEventListener("selectstart",hi),this.grid.removeEventListener("dragstart",hi),this.grid.style.userSelect="",this.grid.style.webkitUserSelect="",this.grid.style.MozUserSelect="",this.grid.style.pointerEvents="",this.grid.style.cursor=""),window.document.body.style.cursor=""};it.prototype.destroy=function(t,r){t===void 0&&(t=!0),t||this.dragging===!1?(this.cleanup(),this.element&&(this.element.removeEventListener("mousedown",this.startDragging),this.element.removeEventListener("touchstart",this.startDragging)),r&&r()):(this.needsDestroy=!0,r&&(this.destroyCb=r))};var g0=function(e,t,r){return t in e?e[t]:r},wo=function(e,t){return function(r){if(r.track<1)throw Error("Invalid track index: "+r.track+". Track must be between two other tracks.");var n=e==="column"?t.columnMinSizes||{}:t.rowMinSizes||{},i=e==="column"?"columnMinSize":"rowMinSize";return new it(e,Object.assign({},{minSizeStart:g0(n,r.track-1,We(t,i,We(t,"minSize",0))),minSizeEnd:g0(n,r.track+1,We(t,i,We(t,"minSize",0)))},r),t)}},mi=function(t){var r=this;this.columnGutters={},this.rowGutters={},this.options=Object.assign({},{columnGutters:t.columnGutters||[],rowGutters:t.rowGutters||[],columnMinSizes:t.columnMinSizes||{},rowMinSizes:t.rowMinSizes||{}},t),this.options.columnGutters.forEach(function(n){r.columnGutters[n.track]=wo("column",r.options)(n)}),this.options.rowGutters.forEach(function(n){r.rowGutters[n.track]=wo("row",r.options)(n)})};mi.prototype.addColumnGutter=function(t,r){this.columnGutters[r]&&this.columnGutters[r].destroy(),this.columnGutters[r]=wo("column",this.options)({element:t,track:r})};mi.prototype.addRowGutter=function(t,r){this.rowGutters[r]&&this.rowGutters[r].destroy(),this.rowGutters[r]=wo("row",this.options)({element:t,track:r})};mi.prototype.removeColumnGutter=function(t,r){var n=this;r===void 0&&(r=!0),this.columnGutters[t]&&this.columnGutters[t].destroy(r,function(){delete n.columnGutters[t]})};mi.prototype.removeRowGutter=function(t,r){var n=this;r===void 0&&(r=!0),this.rowGutters[t]&&this.rowGutters[t].destroy(r,function(){delete n.rowGutters[t]})};mi.prototype.handleDragStart=function(t,r,n){r==="column"?(this.columnGutters[n]&&this.columnGutters[n].destroy(),this.columnGutters[n]=wo("column",this.options)({track:n}),this.columnGutters[n].startDragging(t)):r==="row"&&(this.rowGutters[n]&&this.rowGutters[n].destroy(),this.rowGutters[n]=wo("row",this.options)({track:n}),this.rowGutters[n].startDragging(t))};mi.prototype.destroy=function(t){var r=this;t===void 0&&(t=!0),Object.keys(this.columnGutters).forEach(function(n){return r.columnGutters[n].destroy(t,function(){delete r.columnGutters[n]})}),Object.keys(this.rowGutters).forEach(function(n){return r.rowGutters[n].destroy(t,function(){delete r.rowGutters[n]})})};function nk(e){return new mi(e)}var S0=nk;var k0=!1,Gh=new b0.Terminal({convertEol:!0,scrollback:0,cursorBlink:!1,cursorStyle:"bar",cursorWidth:1,disableStdin:!0,tabStopWidth:2}),$h=new C0.FitAddon;Gh.loadAddon($h);var mr={terminal:document.getElementById("terminal-container"),buttons:{},hover:{shell:document.getElementById("wrasse-hover"),content:document.getElementById("wrasse-hover-content")},block:document.getElementById("wrasse-block")},ik=()=>{G.window.line=0,G.window.scroll=0,G.window.requestDraw()},Ac=()=>{let e=$h.proposeDimensions();(G.terminal.rows!=e.rows||G.terminal.cols!=e.cols)&&$h.fit(),G.window.expand(!0),Br.windows?.[0]?.resize(G.window.width/2-1,G.window.height,!1,!0),G.window.resize(G.window.width/2,G.window.height,!1,!0),Br.windows?.[0]?.move(G.window.width+2,0,!1,!0)},ok=()=>{S0({minSize:100,snapOffset:10,rowGutters:[{track:1,element:document.querySelector(".gutter-row-1")}]}),console.log("wrasse init"),console.log(G.editor),G.terminal.open(mr.terminal),G.window=new zh.Window(Gh,2,2,10,10),k0=!0,G.terminal.modes.mouseTrackingMode="any",G.terminal.modes.wraparoundMode=!0,Ac(),new ResizeObserver(h0(()=>Ac(),100)).observe(mr.terminal);let e=t=>{mr.hover.shell.style.left=t.pageX+"px",mr.hover.shell.style.top=t.pageY+"px";let r=0;mr.block.classList.contains("hidden")&&(r=100),mr.block.style.left=t.pageX-r+"px",mr.block.style.top=t.pageY-r+"px"};document.addEventListener("mousemove",e),(async()=>{let r=(await fetch("/messages",{method:"POST",body:"messages"})).json();console.log(r),G.messages=await r})()},sk=async({code:e,response:t,editor:r})=>{let n=await t;G.editor=r,console.log("back-end call"),k0||G.setup();let i=await lk(e);console.log(i),G.tree=Kh(i.full),G.data_0=i,G.data_0.ghc.code=e.split(`
`),G.data_1=n,G.data_2={ghc:i,chameleon:n},console.log(G.tree),G.tree.symbols=E0(G.tree),O0(G.tree),mr.terminal.querySelectorAll(".xterm-selection-layer, .xterm-link-layer, .xterm-cursor-layer").forEach(o=>o.remove())},E0=e=>(e?.children.find(r=>r.content==="Defer GHC")?.children.find(r=>r.content==="symbols")?.children??[]).map(r=>JSON.parse(r.content)),Kh=e=>({content:e[0][0],active:e[0][1],line:e[0][2],children:e[1].map(Kh),link:void 0}),L0=e=>{Br.disposables.forEach(i=>i.dispose()),Br.disposables=[],Br.keywords.forEach(i=>i.dispose()),Br.keywords=[],Br.windows=[],G.terminal.reset(),G.window.reset(),G.terminal.options.disableStdin=!0,e&&G.window.writeln(JSON.stringify(e,null,2),ik),Ac();let t=function*(){for(;;)for(let i of["|","/","-","\\"])yield i}(),r=function*(){let i=0;for(;;)yield++i}(),n=async()=>{go(100),G.window.write(ie.cursorSavePosition+ie.cursorTo(r.next().value%2+30,1)+t.next().value+ie.cursorRestorePosition,n)}},ak=e=>{typeof e>"u"||e===""||Br.windows[0].reset().writeln(e||"")},uk=e=>{e?mr.block.classList.remove("hidden"):mr.block.classList.add("hidden")},O0=e=>{L0();let t=new zh.Window(G.terminal,G.terminal.cols/2,0,G.terminal.cols/2-2,G.terminal.rows,{movable:!0,softwrap:!0});Br.windows.push(t),Ac();let r=0,n=(f,_)=>{(f.content!=="Root"||f===_)&&(f.head=_,f.children.forEach(y=>n(y,_)))},i=(f,_,y=!1)=>{let m=r,p="  ".repeat(_),v=f.content;y&&(f.children.length==0?G.window.writeln(p+"- "+v):f.active?G.window.writeln(p+"\u25BC "+v):G.window.writeln(p+"\u25BA "+v)),f.line=m,r++,f.active&&f.children.forEach(d=>i(d,_+1,y))},o=(f,_,y)=>{if(y===void 0)y=f.active;else if(f.active==!1)return;if(y)f.children.slice().reverse().forEach(m=>o(m,_+1,y)),G.window.write(ie.cursorSavePosition+ie.cursorTo(0,f.line+1)+ie.deleteLine(f.children.length)+ie.cursorTo(2*_,f.line)+"\u25BA"+ie.cursorRestorePosition);else{G.window.write(ie.cursorSavePosition+ie.cursorTo(0,f.line)+ie.insertLine(f.children.length));let m=f.line+1;f.children.forEach(p=>{let v="  ".repeat(_+1);p.children.length==0?G.window.write(ie.cursorTo(0,m)+v+"- "+p.content):G.window.write(ie.cursorTo(0,m)+v+"\u25BA "+p.content),m++}),G.window.write(ie.cursorTo(2*_,f.line)+"\u25BC"+ie.cursorRestorePosition),f.children.forEach(p=>o(p,_+1,y))}},s=(f,_,y)=>{if(f.link={text:f.content,range:{start:{x:_*2+1,y:f.line},end:{x:_*2+2+f.content.length,y:f.line}}},f.children.length>0&&f.line!=y){let m=!1;G.window.addLink(f.link.range,{click(p){p.window.links.forEach(v=>{v.highlight.fg.seq="",v.highlight.bg.seq="",v.highlight.resetFG.seq="",v.highlight.resetBG.seq=""}),p.window.content.forEach(v=>v.esc=v.esc.filter(d=>d.seq!=="")),p.window.links=[],o(f,_),f.active=!f.active,r=0,i(e,0,!1),s(e,0),c(e),G.window.write(ie.cursorTo(0,f.line))},enter(p){G.set_hover_content(f.active?"click to collapse":"click to expand")},leave(p){m=!1,G.set_hover_content()}},ie.Colour.Blue).treelink=!0}f.active&&f.children.forEach(m=>s(m,_+1))},c=f=>{if(f?.link){let{text:_,range:y}=f.link;for(let m of _.matchAll(Yr.regex.ambiguous)){let{namespace:p,symbol:v}=m.groups;G.window.addLink({start:{x:y.start.x+m.index+1,y:f.line},end:{x:y.start.x+m.index+m[0].length,y:f.line}},{click(d){if(f.active){f.children=f.children.pop();return}let l=p0(),a=!1,u=()=>{go(10).then(()=>{a||G.window.write(ie.cursorSavePosition+ie.cursorTo(y.start.x-1,f.line)+l.next().value+ie.cursorRestorePosition,u)})};u(),(async()=>{console.log(G);let h=G.data_0?.ghc.code.map(b=>{let O=b.split("=");if(O.length<=1)return b;let E=O.slice(1).join("=");return O[0]+"="+E.replace(v,`${p}${v}`)}).reduce((b,O)=>b+`
`+O);console.log(h);let w=await(await fetch("/ghc",{method:"POST",body:h})).json();console.log(w);let x=Kh(w.full);x.symbols=E0(x),n(x,x);let C=x?.children.find(b=>b.content==="GHC")?.children.find(b=>b.content==="code")??{};C.content="code [[commit]]",C.code=h,f.children.push(x),a=!0;let[k,S]=[G.window.line,G.window.scroll];G.interactive_terminal(G.tree),G.window.line=k,G.window.scroll=S})()},enter(d){G.set_hover_content(`See what happens if you use '${p+v}'`)},leave(d){G.set_hover_content()}},ie.Colour.Green)}for(let m of _.matchAll(Yr.regex.keyword))G.window.addLink({start:{x:y.start.x+m.index+2,y:f.line},end:{x:y.start.x+m.index+m[0].length+1,y:f.line}},{click(p){},enter(p){G.set_hover_content(Yr.map[m[0]])},leave(p){G.set_hover_content()}},ie.Colour.Grey);for(let m of _.matchAll(Yr.regex.codeCommit))G.window.addLink({start:{x:y.start.x+m.index+2,y:f.line},end:{x:y.start.x+m.index+m[0].length+1,y:f.line}},{click(p){G.editor(f?.code)},enter(p){G.set_hover_content("Commit code to main window")},leave(p){G.set_hover_content()}},ie.Colour.Grey);for(let m of _.matchAll(Yr.regex.symbol)){let{symbol:p}=m.groups,v=f.head.symbols.find(d=>d.symbolName===p);v&&G.window.addLink({start:{x:y.start.x+m.index+2,y:f.line},end:{x:y.start.x+m.index+m[0].length,y:f.line}},{click(d){},enter(d){let l="",a=v?.symbolDefinedAt?.[1]?.matchAll(Yr.regex.location)?.next()?.value;if(a?.groups){let{line:u,colStart:h,colEnd:g}=a.groups;G?.data_0?.ghc?.code&&(l=G?.data_0?.ghc?.code[u-1])}G.set_hover_content(`${p}
    type: ${v?.symbolType||"constant"}
    signature: ${v?.definition||p}
    defined ${v?.symbolDefinedAt?.[0]==="in"?"in package":"at"}: ${v?.symbolDefinedAt?.[1]||"unknown"}
`+(l?`     \u255A\u2550\u25BA ${l}
`:"")+"    etc.:"+`
${v?.symbolEtc}
`.split(`
`).join(`
      `))},leave(d){G.set_hover_content()}},ie.Colour.LightGrey)}for(let m of _.matchAll(Yr.regex.location))G.window.addLink({start:{x:y.start.x+m.index+1,y:f.line},end:{x:y.start.x+m.index+m[0].length+1,y:f.line}},{click(p){},enter(p){let{line:v,colStart:d,colEnd:l}=m.groups,a="";G?.data_0?.ghc?.code&&(a=G?.data_0?.ghc?.code[v-1]),G.set_hover_content(`line ${v}, column ${d} to ${l}
   ${a}`)},leave(p){G.set_hover_content()}});for(let m of _.matchAll(Yr.regex.error))G.window.addLink({start:{x:y.start.x+m.index+1,y:f.line},end:{x:y.start.x+m.index+m[0].length+1,y:f.line}},{click(p){},enter(p){let{code:v}=m.groups,d=G.messages.find(l=>l.errCode==v);if(d){let{summary:l,removed:a,bodyText:u,introduced:h,errCode:g,severity:w,extension:x,flag:C,title:k,examples:S}=d,b=A=>A.split(`
`).join(`
|   `),O=S.map(({beforeCode:A,explanation:L,errorMsg:I,exTitle:D,afterCode:j})=>`${ie.colouredText(ie.Colour.Yellow,{},D)}
`+b(`before:
${A}`)+`

`+b(`after:
${j}`)),E=[w,x,C,h,a],B=[`severity: ${ie.colouredText({error:ie.Colour.Red,warning:ie.Colour.Yellow}[w]??ie.Colour.Green,{},w)}`,`originates from: ${x}`,`requires compiler flag: ${C}`,`introduced in ${h}`,`removed in ${a}`].filter((A,L)=>E[L]!="").join("; ");G.set_hover_content(`[${g}] -> ${k}
${B}

${l}

${u}

examples:${["",...O].join(`
`+"-".repeat(10)+`
`)}
`)}else G.set_hover_content(`No file found for error code ${v}`)},leave(p){G.set_hover_content()}})}f.active&&f?.children.forEach(c)};n(e,e),i(e,0,!0),s(e,0),c(e)},lk=async e=>ck(e),ck=async e=>(await fetch("/ghc",{method:"POST",body:e})).json(),Br={disposables:[],keywords:[],windows:[]},G={html:mr,perm:Br,hook:sk,setup:ok,terminal:Gh,window:void 0,tree:{},data_0:{},data_1:{},data_2:{},switch_terminal:L0,interactive_terminal:O0,set_hover_content:ak,block_mouse:uk,messages:[],editor:ia},sr=G;var fk=[Pn(Rn(["level1","level2","level3"],3)),Pn(Rn(["level1","level3","level2"],3)),Pn(Rn(["level2","level1","level3"],3)),Pn(Rn(["level2","level3","level1"],3)),Pn(Rn(["level3","level1","level2"],3)),Pn(Rn(["level3","level2","level1"],3))],pk=fk[l0(6)],dk=e=>{if(e==="level1")return wk;if(e==="level2")return xk;if(e==="level3")return Sk},ar={edit:0,normal:1},_i=dc("typeCheck",async(e,{dispatch:t,getState:r})=>{t(yk());let n=r(),i=n.debugger.text,o=n.debugger.currentTaskNum;t(bk(o));let c=(await fetch("/typecheck",{method:"POST",body:i})).json(),f=_=>{let y=t(vk(_));return t(_i(_)),y};return sr.hook({code:i,response:c,editor:f}),c}),KX=dc("multipleExpThunk",async(e,{dispatch:t,getState:r})=>{let n=r(),i=Math.floor(n.debugger.steps.length/2);return n.debugger.multipleExps&&t(xo(i)),t(Bn()),null}),la=dc("switchTask",async(e,{dispatch:t})=>{let r=dk(pk[e]);t(gk(e)),t(_i(null)),t(r())}),hk={currentStepNum:null,text:"",longestLine:0,currentTraverseId:null,currentContextItem:null,pinnedStep:0,highlightFilter:["markerDefination"],steps:[],context:[],numOfSteps:0,numOfContextRows:0,prevLocs:[],nextLocs:[],currentTaskNum:null,cursorPosition:0,wellTyped:!1,loadError:null,parseError:null,mode:ar.normal,widgets:[],highlights:[],debuggingSteps:!1,multipleExps:!1,attempts:[0,0,0,0,0,0,0,0,0]},{actions:mk,reducer:_k}=By({name:"editor",initialState:hk,reducers:{setEditorContent(e,t){if(t.payload<0||t.payload>js.length)return e;e.text=t.payload,e.longestLine=pt(Dn(`
`),Ye(Dn("")),Ye(pi),ea(ta),Tn,mo)(t.payload)},toEditMode:po("mode",ar.edit),toNormalMode:po("mode",ar.normal),toggleDebuggerStpes:Cc("debuggingSteps",ho),toggleMultipleExps:Cc("multipleExps",ho),incrementAttemps(e,t){e.attempts=e.attempts.map((r,n)=>n===t.payload?r+1:r)},setCursorPosition(e,t){e.cursorPosition=t.payload},debuggingLevel1(e){e.debuggingSteps=!1,e.multipleExps=!1},debuggingLevel2(e){e.debuggingSteps=!1,e.multipleExps=!0},debuggingLevel3(e){e.debuggingSteps=!0,e.multipleExps=!0},setText(e,t){e.text=t.payload},showOnlyMark1(e){e.highlightFilter=["marker1","markerDefination"]},showOnlyMark2(e){e.highlightFilter=["marker2","markerDefination"]},showBoth(e){e.highlightFilter=["markerDefination"]},showDefination(e){e.highlightFilter=["marker1","marker2"]},setTask(e,t){if(t.payload<0||t.payload>js.length)return e;e.currentTaskNum=t.payload,e.text=js[t.payload],e.longestLine=pt(Dn(`
`),Ye(Dn("")),Ye(pi),ea(ta),Tn,mo)(js[t.payload])},setStep(e,t){if(e.currentStepNum===null||t.payload>e.numOfSteps-1||t.payload<0)return e;let r=t.payload,{highlights:n,widgets:i}=Jr(e.steps[r],r,e.longestLine),o=e.steps[r].stepId,s=oa(e.context,o);e.currentStepNum=r,e.highlights=[...n,...aa(e.steps,r),...ua(e.steps,r),sa(s)],e.widgets=i,e.currentContextItem=s,e.currentTraverseId=o},lockStep(e,t){if(e.currentStepNum===null||t.payload>e.numOfSteps-1||t.payload<0)return e;let r=t.payload,{highlights:n,widgets:i}=Jr(e.steps[r],r,e.longestLine),o=e.steps[r].stepId,s=oa(e.context,o);e.currentStepNum=r,e.highlights=[...n,...aa(e.steps,r),...ua(e.steps,r),sa(s)],e.widgets=i,e.currentContextItem=s,e.currentTraverseId=o,e.pinnedStep=t.payload},resetHighlights(e){e.highlights=[],e.widgets=[]},prevStep(e){if(e.currentStepNum===null||e.currentStepNum<=0)return e;let t=e.currentStepNum-1,{highlights:r,widgets:n}=Jr(e.steps[t],t,e.longestLine),i=e.steps[t].stepId,o=oa(e.context,i);e.pinnedStep=t,e.currentStepNum=t,e.highlights=[...r,...aa(e.steps,t),...ua(e.steps,t),sa(o)],e.widgets=n,e.currentContextItem=o,e.currentTraverseId=i},nextStep(e){if(e.currentStepNum===null||e.currentStepNum>=e.numOfSteps-1)return e;let t=e.currentStepNum+1,{highlights:r,widgets:n}=Jr(e.steps[t],t,e.longestLine);e.pinnedStep=t;let i=e.steps[t].stepId,o=oa(e.context,i);e.currentStepNum=t,e.highlights=[...r,...aa(e.steps,t),...ua(e.steps,t),sa(o)],e.widgets=n,e.currentContextItem=o,e.currentTraverseId=i}},extraReducers:e=>{e.addCase(_i.fulfilled,(t,r)=>{if(r.payload.tag==="ChTypeError"){let n=r.payload.steps,i=r.payload.contextTable,o=Math.floor(n.length/2),s=pt(Dn(`
`),Ye(Dn("")),Ye(pi),ea(ta),Tn,mo)(t.text),{highlights:c,widgets:f}=Jr(n[o],o,s),_=n[o].stepId;t.context=i,t.steps=n,t.currentContextItem=oa(i,_),t.highlights=[...c,...aa(n,o),...ua(n,o),sa(t.currentContextItem)],t.widgets=f,t.numOfSteps=n.length,t.numOfContextRows=i.length,t.currentStepNum=o,t.pinnedStep=o,t.currentTraverseId=_,t.parseError=null,t.loadError=null,t.wellTyped=!1,t.longestLine=s}else{if(r.payload.tag==="ChSuccess")return Object.assign({},{...t,wellTyped:!0,parseError:null,loadError:null});if(r.payload.tag==="ChLoadError"){let n=r.payload.missing;return Object.assign({},{...t,loadError:n,parseError:null})}else if(r.payload.tag==="ChParseError"){let n={message:r.payload.message,loc:r.payload.loc};return Object.assign({},{...t,parseError:n,loadError:null})}}})}}),{setEditorContent:vk,setStep:xo,prevStep:ca,nextStep:fa,lockStep:Pc,setTask:gk,setText:T0,toEditMode:I0,toNormalMode:pa,resetHighlights:yk,toggleDebuggerStpes:vi,toggleMultipleExps:Bn,showOnlyMark1:da,showOnlyMark2:ha,showBoth:gi,showDefination:M0,debuggingLevel1:wk,debuggingLevel2:xk,debuggingLevel3:Sk,incrementAttemps:bk,setCursorPosition:Xh}=mk,A0=_k;function oa(e,t){let r=e.find(n=>Ue(2)(n.contextSteps.find(i=>Ee(Ue(0,i),t))));return r===void 0?null:r}function sa(e){let t=kc(e.contextDefinedIn);return Ec(t,"markerDefination")}function aa(e,t){if(e.length===0)return[];let{rangeA:r,rangeB:n}=Jr(e[t],t,0);return e.filter((i,o)=>o<t).map(i=>Jr(i,0,0)).flatMap(i=>[i.rangeA,i.rangeB]).filter(i=>!(di(i,r)||di(i,n))).flatMap(i=>Ec(i,"marker1"))}function ua(e,t){if(e.length===0)return[];let{rangeA:r,rangeB:n}=Jr(e[t],t,0);return e.filter((i,o)=>o>t).map(i=>Jr(i,0,0)).flatMap(i=>[i.rangeA,i.rangeB]).filter(i=>!(di(i,r)||di(i,n))).flatMap(i=>Ec(i,"marker2"))}function Jr(e,t,r){let n=e.explanation,i=e.order,o=kc(e.stepA),s=kc(e.stepB),c;di(o,s)?c=[Fh(o,"marker1"),na(s,"marker2")]:di(s,o)?c=[Fh(s,"marker2"),na(o,"marker1")]:c=[na(s,"marker2"),na(o,"marker1")];let f=u0(o,s,n,t,i,r);return{highlights:c,widgets:f,rangeA:o,rangeB:s}}var Ck=Ry({reducer:{debugger:A0}}),xt=Ck;var Nn=Se(N0()),Oe=Se(Ne()),G0=Se(V0());function Bc(e,t){let r=getComputedStyle(t);if(!r)return;let n=e===$e.Horizontal?t.clientWidth:t.clientHeight;return n!==0?(e===$e.Horizontal?n-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight):n-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),n):void 0}function $0(e,t,r=[]){(0,Oe.useEffect)(()=>(window.addEventListener(e,t),()=>window.removeEventListener(e,t)),[e,t,...r])}(function(e,t){t===void 0&&(t={});var r=t.insertAt;if(e&&typeof document<"u"){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",r==="top"&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}})(`/* === Main Container === */
.__dbk__container {
  height: 100%;
  width: 100%;

  display: flex;
  overflow: hidden;
}

.__dbk__container.Horizontal {
  flex-direction: row;
}

.__dbk__container.Vertical {
  flex-direction: column;
}
/* ====== */

/* === Wrapper for each child element === */
.__dbk__child-wrapper {
  height: 100%;
  width: 100%;
}
/* ====== */

/* === Gutter === */
.__dbk__gutter {
  display: flex;
  align-items: center;
  justify-content: center;
}
/* .__dbk__gutter > div {
  background: red;
} */
.__dbk__gutter.Horizontal {
  height: 100%;
  padding: 0 2px;
  flex-direction: column;
}
.__dbk__gutter.Horizontal:hover {
  cursor: col-resize;
}

.__dbk__gutter.Vertical {
  width: 100%;
  padding: 2px 0;
  flex-direction: row;
}
.__dbk__gutter.Vertical:hover {
  cursor: row-resize;
}

.__dbk__gutter.Light {
  background: #EDF0EF;
}
.__dbk__gutter.Light:hover > .__dbk__dragger {
  background: #76747B;
}

.__dbk__gutter.Dark {
  background: #020203;
}
.__dbk__gutter.Dark:hover > .__dbk__dragger {
  background: #9995A3;
}
/* ====== */

/* === Gutter's Dragger === */
.__dbk__dragger {
  border-radius: 2px;
}

.__dbk__dragger.Horizontal {
  width: 4px;
  height: 24px;  
}

.__dbk__dragger.Vertical {
  width: 24px;
  height: 4px;  
}

.__dbk__dragger.Light {
  background: #A6ACB5;
}

.__dbk__dragger.Dark {
  background: #434252;
}
/* ====== */`);var Fk=Oe.default.forwardRef(({className:e,theme:t,draggerClassName:r,direction:n=$e.Vertical,onMouseDown:i},o)=>{let s=`__dbk__gutter ${n} ${e||t}`,c=`__dbk__dragger ${n} ${r||t}`;return(0,Nn.jsx)("div",Object.assign({className:s,ref:o,dir:n,onMouseDown:i},{children:(0,Nn.jsx)("div",{className:c},void 0)}),void 0)}),ur,$e,Qh;function em(e,t,r){let n,i;return t?(n=e/2,i=e):r?(n=e,i=e/2):(n=e,i=e),{aGutterSize:n,bGutterSize:i}}function Hk(e,t){switch(t.type){case ur.SetIsReadyToCompute:return Object.assign(Object.assign({},e),{isReady:t.payload.isReady});case ur.CreatePairs:{let{direction:r,children:n,gutters:i}=t.payload,o=n[0].parentNode;if(!o)throw new Error("Cannot create pairs - parent is undefined.");let s=Bc(r,o);if(s===void 0)throw new Error(`Cannot create pairs - parent has undefined or zero size: ${s}.`);let c=[];return n.forEach((f,_)=>{if(_>0){let y=n[_-1],m=n[_],p=i[_-1],v=r===$e.Horizontal?y.getBoundingClientRect().left:y.getBoundingClientRect().top,d=r===$e.Horizontal?m.getBoundingClientRect().right:m.getBoundingClientRect().bottom,l=r===$e.Horizontal?y.getBoundingClientRect().width+p.getBoundingClientRect().width+m.getBoundingClientRect().width:y.getBoundingClientRect().height+p.getBoundingClientRect().height+m.getBoundingClientRect().height,a=r===$e.Horizontal?p.getBoundingClientRect().width:p.getBoundingClientRect().height,u={idx:_-1,a:y,b:m,gutter:p,parent:o,start:v,end:d,size:l,gutterSize:a,aSizePct:100/n.length,bSizePct:100/n.length};c.push(u)}}),Object.assign(Object.assign({},e),{pairs:c})}case ur.StartDragging:{let{gutterIdx:r}=t.payload;return Object.assign(Object.assign({},e),{isDragging:!0,draggingIdx:r})}case ur.StopDragging:return Object.assign(Object.assign({},e),{isDragging:!1});case ur.CalculateSizes:{let{direction:r,gutterIdx:n}=t.payload,i=e.pairs[n],o=Bc(r,i.parent);if(!o)throw new Error("Cannot calculate sizes - 'pair.parent' has undefined or zero size.");let s=i.gutter[r===$e.Horizontal?"clientWidth":"clientHeight"],c=n===0,f=n===e.pairs.length-1,{aGutterSize:_,bGutterSize:y}=em(s,c,f),m,p,v,d,l;return r===$e.Horizontal?(m=i.a.getBoundingClientRect().left,p=i.b.getBoundingClientRect().right,d=(i.a.getBoundingClientRect().width+_)/o*100,l=(i.b.getBoundingClientRect().width+y)/o*100,v=i.a.getBoundingClientRect().width+_+y+i.b.getBoundingClientRect().width):(m=i.a.getBoundingClientRect().top,p=i.b.getBoundingClientRect().bottom,d=(i.a.getBoundingClientRect().height+_)/o*100,l=(i.b.getBoundingClientRect().height+y)/o*100,v=i.a.getBoundingClientRect().height+_+y+i.b.getBoundingClientRect().height),e.pairs[n]=Object.assign(Object.assign({},i),{start:m,end:p,size:v,aSizePct:d,bSizePct:l,gutterSize:s}),Object.assign({},e)}default:return e}}function K0(e,t=0,r=[]){return Oe.Children.toArray(e).reduce((n,i,o)=>((0,G0.isFragment)(i)?n.push.apply(n,K0(i.props.children,t+1,r.concat(i.key||o))):(0,Oe.isValidElement)(i)?n.push((0,Oe.cloneElement)(i,{key:r.concat(String(i.key)).join(".")})):typeof i!="string"&&typeof i!="number"||n.push(i),n),[])}(function(e){e[e.SetIsReadyToCompute=0]="SetIsReadyToCompute",e[e.CreatePairs=1]="CreatePairs",e[e.CalculateSizes=2]="CalculateSizes",e[e.StartDragging=3]="StartDragging",e[e.StopDragging=4]="StopDragging"})(ur||(ur={})),function(e){e.Horizontal="Horizontal",e.Vertical="Vertical"}($e||($e={})),function(e){e.Light="Light",e.Dark="Dark"}(Qh||(Qh={}));function Zh(e){return e===$e.Horizontal?"col-resize":"row-resize"}var Uk={isReady:!1,isDragging:!1,pairs:[]};function X0({direction:e=$e.Horizontal,minWidths:t=[],minHeights:r=[],initialSizes:n,gutterTheme:i=Qh.Dark,gutterClassName:o,draggerClassName:s,children:c,onResizeStarted:f,onResizeFinished:_,classes:y=[]}){let m=K0(c),[p,v]=(0,Oe.useReducer)(Hk,Uk),d=(0,Oe.useRef)(null),l=(0,Oe.useRef)([]),a=(0,Oe.useRef)([]);l.current=[],a.current=[];let u=Oe.default.useCallback(O=>{v({type:ur.SetIsReadyToCompute,payload:{isReady:O}})},[]),h=Oe.default.useCallback((O,E)=>{v({type:ur.StartDragging,payload:{gutterIdx:E}});let B=p.pairs[E];f?.(B.idx),B.a.style.userSelect="none",B.b.style.userSelect="none",B.gutter.style.cursor=Zh(O),B.parent.style.cursor=Zh(O),document.body.style.cursor=Zh(O)},[p.pairs]),g=Oe.default.useCallback(()=>{v({type:ur.StopDragging});let O=[];for(let B=0;B<p.pairs.length;B++){let A=p.pairs[B],L=Bc(e,A.parent);if(L===void 0)throw new Error("Cannot call the 'onResizeFinished' callback - parentSize is undefined");if(A.gutterSize===void 0)throw new Error("Cannot call 'onResizeFinished' callback - gutterSize is undefined");let I=B===0,D=B===p.pairs.length-1,j=A.a.getBoundingClientRect()[e===$e.Horizontal?"width":"height"],{aGutterSize:z,bGutterSize:V}=em(A.gutterSize,I,D),oe=(j+z)/L*100;if(O.push(oe),D){let re=(A.b.getBoundingClientRect()[e===$e.Horizontal?"width":"height"]+V)/L*100;O.push(re)}}if(p.draggingIdx===void 0)throw new Error("Could not reset cursor and user-select because 'state.draggingIdx' is undefined");let E=p.pairs[p.draggingIdx];_?.(E.idx,O),E.a.style.userSelect="",E.b.style.userSelect="",E.gutter.style.cursor="",E.parent.style.cursor="",document.body.style.cursor=""},[p.draggingIdx,p.pairs,e]),w=Oe.default.useCallback((O,E)=>{v({type:ur.CalculateSizes,payload:{direction:O,gutterIdx:E}})},[]),x=Oe.default.useCallback((O,E,B)=>{v({type:ur.CreatePairs,payload:{direction:O,children:E,gutters:B}})},[]),C=Oe.default.useCallback((O,E,B,A)=>{let L=E[0].parentNode;if(!L)throw new Error("Cannot set initial sizes - parent is undefined");if(Bc(O,L)===void 0)throw new Error("Cannot set initial sizes - parent has undefined size");E.forEach((I,D)=>{let j=D===E.length-1,z;E.length>1&&B[j?D-1:D].getBoundingClientRect()[O===$e.Horizontal?"width":"height"],z=A&&D<A.length?`calc(${A[D]}% - 0px)`:`calc(${100/E.length}% - 0px)`,O===$e.Horizontal?(I.style.width=z,I.style.height="100%"):(I.style.height=z,I.style.width="100%")})},[]),k=Oe.default.useCallback((O,E)=>{if(p.draggingIdx===void 0)throw new Error("Cannot adjust size - 'draggingIdx' is undefined");let B=p.pairs[p.draggingIdx];if(B.size===void 0)throw new Error("Cannot adjust size - 'pair.size' is undefined");if(B.gutterSize===void 0)throw new Error("Cannot adjust size - 'pair.gutterSize' is undefined");let A=B.aSizePct+B.bSizePct,L=E/B.size*A,I=A-E/B.size*A,D=p.draggingIdx===0,j=p.draggingIdx===p.pairs.length-1,{aGutterSize:z,bGutterSize:V}=em(B.gutterSize,D,j),oe=`calc(${L}% - ${z}px)`,re=`calc(${I}% - ${V}px)`;O===$e.Horizontal?(B.a.style.width=oe,B.b.style.width=re):(B.a.style.height=oe,B.b.style.height=re)},[p.draggingIdx,p.pairs,e]),S=Oe.default.useCallback((O,E,B)=>{if(!p.isDragging)return;if(p.draggingIdx===void 0)throw new Error("Cannot drag - 'draggingIdx' is undefined");let A=p.pairs[p.draggingIdx];if(A.start===void 0)throw new Error("Cannot drag - 'pair.start' is undefined");if(A.size===void 0)throw new Error("Cannot drag - 'pair.size' is undefined");if(A.gutterSize===void 0)throw new Error("Cannot drag - 'pair.gutterSize' is undefined");let L=function(j,z){return j===$e.Horizontal?z.clientX:z.clientY}(E,O)-A.start,I=16,D=16;B.length>p.draggingIdx&&(I=B[p.draggingIdx]),B.length>=p.draggingIdx+1&&(D=B[p.draggingIdx+1]),L<A.gutterSize+I&&(L=A.gutterSize+I),L>=A.size-(A.gutterSize+D)&&(L=A.size-(A.gutterSize+D)),k(E,L)},[p.isDragging,p.draggingIdx,p.pairs,k]);function b(O,E){if(!O.current)throw new Error("Can't add element to ref object - ref isn't initialized");E&&!O.current.includes(E)&&O.current.push(E)}return $0("mouseup",()=>{if(p.isDragging){if(p.draggingIdx===void 0)throw new Error("Cannot calculate sizes after dragging = 'state.draggingIdx' is undefined");w(e,p.draggingIdx),g()}},[p.isDragging,g]),$0("mousemove",O=>{p.isDragging&&S(O,e,e===$e.Horizontal?t:r)},[e,p.isDragging,S,t,r]),(0,Oe.useEffect)(function(){if(!d.current)return;let O=d.current.parentElement;if(!O)return;let E=new ResizeObserver(()=>{let B=getComputedStyle(O),A=e===$e.Horizontal?O.clientWidth:O.clientHeight;u(!!B&&!!A)});return E.observe(O),()=>{E.disconnect()}},[d.current,e]),(0,Oe.useEffect)(function(){if(p.isReady){if(!l.current||!a.current)throw new Error("Cannot create pairs - either variable 'childRefs' or 'gutterRefs' is undefined");m.length<=1?C(e,l.current,a.current,n):(C(e,l.current,a.current,n),x(e,l.current,a.current))}},[c,p.isReady,e,C,x,n]),(0,Nn.jsx)("div",Object.assign({className:`__dbk__container ${e}`,ref:d},{children:p.isReady&&m.map((O,E)=>(0,Nn.jsxs)(Oe.default.Fragment,{children:[(0,Nn.jsx)("div",Object.assign({ref:B=>b(l,B),className:"__dbk__child-wrapper "+(E<y.length?y[E]:"")},{children:O}),void 0),E<m.length-1&&(0,Nn.jsx)(Fk,{ref:B=>b(a,B),className:o,theme:i,draggerClassName:s,direction:e,onMouseDown:B=>function(A,L){L.preventDefault(),w(e,A),h(e,A)}(E,B)},void 0)]},E))}),void 0)}var de=Se(Ne());var qk=()=>de.default.createElement("div",{className:"flex flex-col p-3 overflow-auto",style:{height:"calc(100vh - 2.5rem)"}},de.default.createElement(Wk,null)),Wk=()=>{let e=J(te(["debugger","mode"]));return de.default.createElement("div",{className:"code tracking-wider flex-grow p-2 h-full"},(()=>{if(e===ar.edit)return de.default.createElement(zk,null);if(e===ar.normal)return de.default.createElement(Vk,null)})())},zk=()=>{let e=J(te(["debugger","text"])),t=J(te(["debugger","cursorPosition"])),r=Lt(),n=(0,de.useRef)(null);return(0,de.useEffect)(()=>{n.current.focus(),n.current.selectionStart=t,n.current.selectionEnd=t},[]),de.default.createElement("textarea",{ref:n,spellCheck:!1,className:"w-full h-full outline-none my-0.5",style:{resize:"none",lineHeight:"1.62rem",fontVariantLigatures:"none"},onChange:i=>r(T0(i.target.value)),value:e})},Vk=()=>{let e=J(te(["debugger","text"])),t=Lt();return de.default.createElement("div",{className:"",onClick:r=>t(I0())},e.split(`
`).map((r,n)=>de.default.createElement($k,{text:r,line:n,key:n})))},$k=({text:e,line:t})=>{let r=J(te(["debugger","text"])),n=Lt();return de.default.createElement("div",{className:"h-6 my-0.5 flex"},e.split("").map((i,o)=>de.default.createElement(Gk,{text:i,line:t,ch:o,key:o})),de.default.createElement("div",{onClick:i=>{let o=r.split(`
`).filter((s,c)=>c<=t).map(s=>s.length+1).reduce((s,c)=>s+c,0)-1;n(Xh(o))},className:"inline-block h-6 flex-grow cursor-text"}))},Gk=({text:e,line:t,ch:r})=>{let n={line:t,ch:r},i=J(te(["debugger","text"])),o=J(te(["debugger","highlights"])),s=J(te(["debugger","widgets"])),c=J(te(["debugger","debuggingSteps"])),f=Lt(),_=o.filter(Zs(s0)(n)).map((m,p)=>de.default.createElement(Xk,{highlight:m,line:t,ch:r,key:"hl"+p})),y=pt(_o(pt(nr("relativeTo"),Ee(n))),Ye(m=>de.default.createElement(Kk,{styles:m.styles,classes:m.classes,content:m.content,key:m.key})))(s);return de.default.createElement("div",{onClick:m=>{let p=i.split(`
`).filter((v,d)=>d<t).map(v=>v.length+1).reduce((v,d)=>v+d,0)+r;f(Xh(p))},className:"inline-block h-6 relative",style:{width:"0.6rem"}},_,c?y:null,de.default.createElement("div",{className:"absolute w-full h-full z-50"},e))},Kk=({styles:e,classes:t,content:r})=>{let n=J(te(["debugger","highlightFilter"])),i=J(te(["debugger","numOfSteps"])),s=J(te(["debugger","pinnedStep"]))===r.step?"bg-green-400 text-black border-green-400 border bg-green-400":"bg-gray-200 border border-dashed border-black";return n.includes("marker1")&&!n.includes("marker2")||n.includes("marker2")&&!n.includes("marker1")||n.includes("marker2")&&n.includes("marker1")&&!n.includes("markerDefinition")?null:r.type==="annotation"?r.direction==="LR"?de.default.createElement("div",{className:"flex items-center justify-center text-gray-400 "+t.join(" "),style:e},de.default.createElement("span",{className:"marker1 border border-black inline-block w-2 h-2 rounded-sm mr-1"}),r.reason,de.default.createElement("span",{className:"marker2 border border-black inline-block w-2 h-2 rounded-sm ml-1"}),de.default.createElement("span",{className:"ml-1 text-gray-500"},"(step"),de.default.createElement("span",{className:"text-black inline-block w-4 h-4 text-xs rounded-full "+s},i-r.step),de.default.createElement("span",{className:"text-gray-500"},")")):de.default.createElement("div",{className:"flex items-center justify-center  text-gray-400 "+t.join(" "),style:e},de.default.createElement("span",{className:"marker2 border border-black inline-block w-2 h-2 rounded-sm mr-1"}),r.reason,de.default.createElement("span",{className:"marker1 border border-black inline-block w-2 h-2 rounded-sm ml-1"}),de.default.createElement("span",{className:"ml-1 text-gray-500"},"(step"),de.default.createElement("span",{className:"text-black inline-block w-4 h-4 text-xs rounded-full "+s},i-r.step),de.default.createElement("span",{className:"text-gray-500"},")")):de.default.createElement("div",{className:t.join(" "),style:e})},Xk=({highlight:e,line:t,ch:r})=>{let n=J(te(["debugger","debuggingSteps"])),i=J(te(["debugger","highlightFilter"])),o=n&&Ee(i,["markerDefination"])?{}:{borderWidth:0},s=e.marker.shared;return Ee(e.from,{line:t,ch:r})&&(s=[...s,...e.marker.start]),Ee(e.to,{line:t,ch:r+1})&&(s=[...s,...e.marker.end]),s=xh(c=>Th(c,s))(i)?[]:s,de.default.createElement("div",{className:"absolute "+s.join(" "),style:o})},Y0=qk;var st=Se(Ne());var ka=Se(Ne(),1);function Yk(e,t){return ka.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),ka.createElement("path",{d:"M9 4.804A7.968 7.968 0 005.5 4c-1.255 0-2.443.29-3.5.804v10A7.969 7.969 0 015.5 14c1.669 0 3.218.51 4.5 1.385A7.962 7.962 0 0114.5 14c1.255 0 2.443.29 3.5.804v-10A7.968 7.968 0 0014.5 4c-1.255 0-2.443.29-3.5.804V12a1 1 0 11-2 0V4.804z"}))}var Jk=ka.forwardRef(Yk),tm=Jk;var So=Se(Ne(),1);function Zk(e,t){return So.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),So.createElement("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),So.createElement("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"}))}var Qk=So.forwardRef(Zk),rm=Qk;var X=Se(Ne());var nm=Se(Ne());var eE=({simple:e,full:t})=>{let r=jh(t);return r.length>50?nm.default.createElement("span",null,jh(e)):nm.default.createElement("span",null,r)},Nc=eE;var Ea=Se(Ne(),1);function tE(e,t){return Ea.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),Ea.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"}))}var rE=Ea.forwardRef(tE),im=rE;var La=Se(Ne(),1);function nE(e,t){return La.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),La.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 5l7 7-7 7M5 5l7 7-7 7"}))}var iE=La.forwardRef(nE),om=iE;var Oa=Se(Ne(),1);function oE(e,t){return Oa.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),Oa.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"}))}var sE=Oa.forwardRef(oE),sm=sE;var bY=Se(g1()),ye={mouse:"Mouse",keyboard:"Keyboard",remote:"Remote"},we={basicMode:"Set Basic Mode",balancedMode:"Set Balanced Mode",advancedMode:"Set Advanced Mode",next:"Next Step",prev:"Previous Step",typeCheck:"Type Check",succeed:"Succeed",loaderr:"Load Error",syntaxerr:"Syntax Error",typeerr:"Type Error",peekStep:"Peek Step",peekExp:"Peek Expression",peekDef:"Peek Definition",gotoStep:"Go To Step",gotoExp:"Go To Expression",narrowType1:"Narrow To Possible Type 1",narrowType2:"Narrow To Possible Type 2",narrowRelevent:"Narrow Relevant Type",inspect:"Inspect Relevant Type",reset:"Reset Task",abandon:"Abandon Task"},ve;ve=()=>{};var ME=()=>X.default.createElement("div",{className:"p-4 bg-gray-200 h-full"},X.default.createElement(BE,null),X.default.createElement(NE,null),X.default.createElement(jE,null)),AE=()=>{let e=J(te(["debugger","context"])),t=J(te(["debugger","steps"])),r=J(te(["debugger","pinnedStep"])),n=t[r].stepId,i=J(te(["debugger","multipleExps"])),o=J(te(["debugger","debuggingSteps"]));return X.default.createElement("div",{className:"h-24 bg-gray-100 flex items-center   "+(i&&!o?"rounded-b-lg":""),style:{paddingLeft:40}},X.default.createElement("div",{className:"flex items-center cursor-pointer flex-row-reverse justify-end "},i?e.map((s,c)=>X.default.createElement(PE,{key:c,steps:s.contextSteps,exp:s.contextExp,active:s.contextSteps.find(pt(Ue(0),Ee(n)))[2]})):null))},PE=({active:e=!1,steps:t,exp:r})=>{let n=Lt(),i=J(te(["debugger","debuggingSteps"])),o=J(te(["debugger","multipleExps"])),s=J(te(["debugger","currentTaskNum"])),c=Rt(o,i),f=J(te(["debugger","pinnedStep"])),_=J(te(["debugger","currentTraverseId"])),y=t.map((d,l)=>[...d,l]).filter(Ue(2)),m=y[Math.round(y.length/2)-1][3],p=t.find(pt(Ue(0),Ee(_)))[2],v;return e?v="bg-gray-900 border-gray-900 border active:bg-gray-600":i&&!e&&p?v="bg-white active:bg-gray-200 border-dashed border border-black":i&&!e&&!p?v="bg-white active:bg-gray-200 border ":!i&&!e&&p?v="bg-white active:bg-gray-200 border-dashed border border-black":!i&&!e&&!p&&(v="bg-white active:bg-gray-200 border "),X.default.createElement("div",{className:v+" flex flex-col w-max m-1 px-2 py-1 rounded-lg",style:{minWidth:80},onClick:d=>{n(Pc(m)),ve({event:we.gotoExp,task:s,mode:c,source:ye.mouse})},onMouseEnter:d=>{e||(n(xo(m)),ve({event:we.peekExp,task:s,mode:c,source:ye.mouse}))},onMouseLeave:d=>{n(xo(f))}},X.default.createElement("div",{className:" rounded-t-2xl inline-block w-full h-10 leading-10 text-xl code select-none "+(e?"text-white":"text-gray-800")},r),X.default.createElement("div",{className:" "+(i?"h-6 w-full":"h-0 w-0")},X.default.createElement(RE,{steps:y,active:e})))},RE=({active:e=!1,steps:t})=>X.default.createElement("div",{className:"flex flex-row-reverse justify-end "},t.map(r=>X.default.createElement(DE,{active:e,key:r[3],traverseId:r[0],step:r[3]}))),DE=({active:e=!1,step:t,traverseId:r})=>{let n=Lt(),i=J(te(["debugger","numOfSteps"])),o=J(te(["debugger","currentTaskNum"])),s=J(te(["debugger","currentTraverseId"])),c=J(te(["debugger","multipleExps"])),f=J(te(["debugger","debuggingSteps"])),_=Rt(c,f),y=J(te(["debugger","pinnedStep"])),m=Ee(s,r),p=y===t,v;return e&&p?v="bg-green-400 text-black":m&&e?v="bg-gray-600 border-dashed border border-white text-white":m&&!e?v="border-dashed bg-gray-200 text-black border-black border":e?v="bg-gray-400 text-black":e||(v="bg-gray-700 text-white"),X.default.createElement("button",{onClick:d=>{d.stopPropagation(),n(Pc(t)),ve({event:we.gotoStep,task:o,mode:_,source:ye.mouse})},onMouseEnter:d=>{n(xo(t)),ve({event:we.peekStep,task:o,mode:_,source:ye.mouse})}},X.default.createElement("div",{className:"w-5 h-5 leading-5 flex justify-center  cursor-pointer rounded-full text-md mx-0.5  "+v+(f?" ":" hidden")},i-t))},BE=()=>{let e=J(_=>_.debugger.currentContextItem),t=J(te(["debugger","steps"])),r=J(te(["debugger","pinnedStep"])),n=J(te(["debugger","multipleExps"])),i=J(te(["debugger","debuggingSteps"])),o=J(te(["debugger","currentTaskNum"])),s=Rt(n,i),c=t.length===0?!0:e.contextSteps.find(pt(Ue(0),Ee(t[r].stepId)))[2],f=Lt();return e===null?null:X.default.createElement("div",{className:"shadow-sm rounded-md"},X.default.createElement(y1,{hint:i?"Hide other uncertain expressions (Tab key)":"Expand to see a list of uncertain expressions (Tab key)",opened:n,onOpen:_=>{n||(ve({event:we.balancedMode,task:o,mode:s,source:ye.mouse}),f(Bn()))},onClose:_=>{n&&!i?(f(Bn()),ve({event:we.basicMode,task:o,mode:s,source:ye.mouse})):n&&i&&(f(Bn()),f(vi()),ve({event:we.basicMode,task:o,mode:s,source:ye.mouse}))}},X.default.createElement("div",{style:{paddingLeft:40},className:"bg-white p-3 rounded-t-md "+(n?"":"rounded-b-md")},X.default.createElement("div",{className:"text-md"},"The following expression can have two conflicting types",X.default.createElement("span",{onMouseEnter:_=>{f(M0()),ve({event:we.peekDef,task:o,mode:s,source:ye.mouse})},onMouseLeave:_=>f(gi()),className:"code ml-2 px-1 rounded-md  inline-block not-italic cursor-pointer "+(c?"border border-gray-700 bg-gray-700 text-white hover:bg-gray-600":"border border-black border-dashed hover:bg-gray-100")},e.contextExp)))),n?X.default.createElement(y1,{opened:i,left:5,hint:i?"Hide debugging steps (Tab key)":"Expand to see debugging steps (Tab key)",onOpen:_=>{i||(ve({event:we.advancedMode,task:o,mode:s,source:ye.mouse}),f(vi()))},onClose:_=>{i&&(ve({event:we.balancedMode,task:o,mode:s,source:ye.mouse}),f(vi()))}},X.default.createElement(AE,null)):null,i?X.default.createElement("div",{className:"flex justify-start p-1 border-0 rounded-b-md bg-gray-800",style:{paddingLeft:40}},X.default.createElement("button",{"aria-label":"Previous step (Left / Up / h / k )",className:"border bg-gray-800 border-gray-500 text-gray-300 shadow-sm hover:bg-gray-500 hover:text-gray-800 active:bg-gray-700 active:text-white px-2 py-1 mx-0.5 h-8 rounded-md flex justify-center items-center hint--bottom",onClick:_=>{f(fa()),ve({event:we.prev,task:o,mode:s,source:ye.mouse})}},X.default.createElement(im,{className:"h-4 w-4"})),X.default.createElement("button",{"aria-label":"Next step (Right / Down / l / j)",className:"border bg-gray-800 border-gray-500 text-gray-300 shadow-sm hover:bg-gray-500 hover:text-gray-800 active:bg-gray-700 active:text-white px-2 py-1 mx-0.5 h-8 rounded-md flex justify-center items-center hint--bottom",onClick:_=>{f(ca()),ve({event:we.next,task:o,mode:s,source:ye.mouse})}},X.default.createElement(om,{className:"h-4 w-4"}))):null)},y1=({opened:e,children:t,onOpen:r,onClose:n,hint:i,left:o=5})=>{let s=25;return X.default.createElement("div",{className:"relative"},t,X.default.createElement("div",{onClick:c=>e?n():r(),className:"cursor-pointer rounded-full z-10 absolute border border-gray-300 hint--bottom","aria-label":i,style:{width:s,height:s,top:`calc(50% - ${s/2}px)`,left:o}},X.default.createElement(sm,{className:(e?"rotate-90":"")+" transition-transform",style:{}})))},NE=()=>{let e=J(s=>s.debugger.currentContextItem),t=J(te(["debugger","multipleExps"])),r=J(te(["debugger","debuggingSteps"])),n=J(te(["debugger","currentTaskNum"])),i=Rt(t,r),o=Lt();return e===null?null:X.default.createElement(X.default.Fragment,null,X.default.createElement("div",{className:"font-medium mt-5"},"Conflicting types"),X.default.createElement("div",{className:"mb-5 mt-2  shadow-sm"},X.default.createElement("div",{className:"cursor-pointer hover:bg-gray-100 rounded-t-md bg-white p-2 w-full hint--bottom ","aria-label":"Keyboard shortcut: Hold 1",onMouseEnter:s=>{o(da()),ve({event:we.narrowType1,task:n,mode:i,source:ye.mouse})},onMouseLeave:s=>o(gi())},X.default.createElement("div",{className:"mb-2 text-sm font-medium"},"Possible type 1"),X.default.createElement("div",{className:"inline-block mr-1 code"},e.contextExp,"::"),X.default.createElement("span",{className:"code groupMarkerB rounded-sm px-0.5 cursor-pointer"},X.default.createElement(Nc,{simple:e.contextType1SimpleString,full:e.contextType1String})),X.default.createElement("div",{className:"text-xs italic"},"Inferred from the orange highlights on the left side")),X.default.createElement("hr",{className:""}),X.default.createElement("div",{className:"cursor-pointer hover:bg-gray-100 rounded-b-md bg-white p-2 w-full hint--bottom ","aria-label":"Keyboard shortcut: Hold 2",onMouseEnter:s=>{o(ha()),ve({event:we.narrowType2,task:n,mode:i,source:ye.mouse})},onMouseLeave:s=>o(gi())},X.default.createElement("div",{className:"mb-2 text-sm font-medium"},"Possible type 2"),X.default.createElement("span",{className:"inline-block mr-1 code"},e.contextExp,"::"),X.default.createElement("span",{className:"code groupMarkerA rounded-sm px-0.5 cursor-pointer"},X.default.createElement(Nc,{simple:e.contextType2SimpleString,full:e.contextType2String})),X.default.createElement("div",{className:"text-xs italic"},"Inferred from the blue highlights on the left side"))))},jE=()=>{let e=J(te(["debugger","context"])),t=J(te(["debugger","currentContextItem"])),r=e.filter(n=>n.contextExp!==t.contextExp);return X.default.createElement("div",{className:""},X.default.createElement("div",{className:"font-medium"},"Relevant type information"),r.reverse().map((n,i)=>X.default.createElement(HE,{item:n,key:i})),Qs([])(nr("contextGlobals",t)).map(([n,i],o)=>X.default.createElement(FE,{exp:n,type:i,key:o})))},FE=({exp:e,type:t})=>X.default.createElement("div",{className:"flex flex-col my-1.5 p-1 bg-gray-100 rounded-md h-16 justify-center shadow-sm"},X.default.createElement("div",{className:"flex items-center"},X.default.createElement("div",{className:"code"},e),X.default.createElement("div",{className:"code mx-0.5"},"::"),X.default.createElement("div",{className:"code px-0.5 rounded-sm"},t)),X.default.createElement("div",{className:"ml-1 text-sm italic"}," Imported from Prelude")),HE=({item:e})=>{let t=J(te(["debugger","currentTraverseId"])),r=J(te(["debugger","multipleExps"])),n=J(te(["debugger","debuggingSteps"])),i=J(te(["debugger","currentTaskNum"])),o=Rt(r,n),s=Lt(),c=pt(Sc(pt(Ue(0),Ee(t))),Ue(1))(e.contextSteps),f=c==="L"?e.contextType1String:e.contextType2String,_=c==="L"?"orange highlights":"blue highlights",y=e.contextSteps.map((p,v)=>[...p,v]).filter(Ue(2)),m=y[Math.round(y.length/2)-1][3];return X.default.createElement("div",{className:"flex flex-col my-1.5 bg-white p-2 rounded-md cursor-pointer shadow-sm hover:bg-gray-100",onMouseEnter:p=>{s(c==="L"?da():ha()),ve({event:we.narrowRelevent,task:i,mode:o,source:ye.mouse})},onMouseLeave:p=>s(gi())},X.default.createElement("div",{className:"flex justify-between"},X.default.createElement("div",{className:"flex items-center"},X.default.createElement("div",{className:"code"},e.contextExp),X.default.createElement("div",{className:"code mx-0.5"},"::"),X.default.createElement("div",{className:"code px-0.5 rounded-sm "+(c==="L"?"marker2":"marker1")},f)),r?X.default.createElement("div",{className:"flex items-center"},X.default.createElement("div",{className:"text-sm text-gray-500"},"Looks wrong? "),X.default.createElement("button",{onClick:p=>{s(Pc(m)),ve({event:we.inspect,task:i,mode:o,source:ye.mouse})},className:"border border-gray-300 rounded-sm px-2 py-1 mr-1 ml-2 bg-white active:bg-gray-200 hover:bg-gray-100 shadow-sm"},"Inspect")):null),X.default.createElement("div",{className:"text-xs italic"}," Inferred from ",_," "))},w1=ME;var UE=()=>{let e=J(n=>n.debugger.wellTyped),t=J(n=>n.debugger.loadError),r=J(n=>n.debugger.parseError);return st.default.createElement("div",{className:"h-full bg-gray-200"},(()=>{if(e)return st.default.createElement("div",{className:"p-4 flex items-center"},st.default.createElement("ion-icon",{size:"large",style:{color:"rgb(74, 222, 128)"},name:"checkmark-circle"}),st.default.createElement("span",{className:"p-2"},"Congratulations! Your code is well typed."));if(r!==null)return st.default.createElement(qE,null);if(t!==null)return st.default.createElement(WE,null);if(!e)return st.default.createElement(w1,null)})())},qE=()=>{let e=J(t=>t.debugger.parseError);return st.default.createElement("div",{class:"p-4"},st.default.createElement("p",{className:"py-2 px-4"},"A syntax error was found in the code"),st.default.createElement("div",{className:"bg-gray-100 py-2 px-4 rounded-md"},st.default.createElement("p",null," ",e.message," "),st.default.createElement("p",null,"Location: ",e.loc.srcLine,":",e.loc.srcColumn)))},WE=()=>{let e=J(t=>t.debugger.loadError);return st.default.createElement("div",{class:"p-4"},st.default.createElement("p",{className:"py-2 px-4"},"A variable is used without being declared."),e.map(([t,r])=>st.default.createElement("div",{className:"bg-gray-100 py-2 px-4 rounded-md"},st.default.createElement("p",null,"Variable: ",t," "),st.default.createElement("p",null,"Location: "," "+r.srcSpanStartLine,":",r.srcSpanStartColumn," -"," "+r.srcSpanEndLine,":",r.srcSpanEndColumn))))};var x1=UE;var fe=Se(Ne());var zE=()=>{let e=Lt(),t=J(te(["debugger","mode"])),r=J(te(["debugger","multipleExps"])),n=J(te(["debugger","debuggingSteps"])),i=J(te(["debugger","currentTaskNum"])),o=Rt(r,n),c=J(te(["debugger","attempts"]))[i];return fe.default.createElement("div",{className:"w-full bg-gray-100 h-10 flex justify-between"},fe.default.createElement("div",{className:"flex items-center"},fe.default.createElement("a",{href:"/",className:"cursor-pointer mr-4 px-4",style:{}},fe.default.createElement("svg",{className:"w-10",viewBox:"0 0 100 100"},fe.default.createElement("path",{d:"M9.061,50.971c-0,3.037 3.464,5.499 7.737,5.499l-0,-5.499l-7.737,0Z",style:{fill:"#3eac3a"}}),fe.default.createElement("rect",{x:"16.793",y:"50.98",width:"43.762",height:"5.49",style:{fill:"#3eac3a"}}),fe.default.createElement("path",{d:"M50,10.032c-22.61,0 -40.939,18.329 -40.939,40.939l40.939,0l0,-40.939Z",style:{fill:"#3c9339"}}),fe.default.createElement("path",{d:"M46.807,69.476c0,7.182 6.164,13.005 13.769,13.005l-0,-13.005l-13.769,-0Z",style:{fill:"#3c9339"}}),fe.default.createElement("path",{d:"M56.139,60.144c-5.154,-0 -9.332,4.178 -9.332,9.332l9.332,-0l0,-9.332Z",style:{fill:"#087604"}}),fe.default.createElement("path",{d:"M60.555,82.481c12.507,0 22.645,-11.512 22.645,-25.712c0,-14.2 -10.138,-25.712 -22.645,-25.712l0,51.424Z",style:{fill:"#21781e"}}),fe.default.createElement("path",{d:"M56.139,60.144c2.439,-0 4.416,2.089 4.416,4.666c0,2.577 -1.977,4.666 -4.416,4.666l0,-9.332Z",style:{fill:"#0d9509"}}),fe.default.createElement("path",{d:"M56.139,56.472l0,-0.002l4.416,0l0,4.572l0,-0l0,-0.026c0,-2.466 -1.967,-4.475 -4.416,-4.544Z",style:{fill:"#3eac3a"}}),fe.default.createElement("path",{d:"M50,50.985l-0,-0.005l10.555,0l0,10.926l-0,0l0,-0.062c0,-5.892 -4.702,-10.696 -10.555,-10.859Z",style:{fill:"#1c7e18"}}),fe.default.createElement("path",{d:"M53.205,31.056l-0,0.001l-3.205,0l0,-3.317l0,-0l0,0.019c0,1.789 1.428,3.247 3.205,3.297Z",style:{fill:"#21781e"}}),fe.default.createElement("rect",{x:"50",y:"31.057",width:"10.555",height:"19.923",style:{fill:"#21781e"}}),fe.default.createElement("path",{d:"M34.015,56.47c0,4.563 3.908,8.262 8.729,8.262c4.821,-0 8.729,-3.699 8.729,-8.262l-17.458,0Z",style:{fill:"#486c47"}}))),fe.default.createElement(fe.default.Fragment,null," ",fe.default.createElement("p",{className:"mr-1"},"Load examples:"),fe.default.createElement("select",{value:i===null?0:i,onChange:f=>e(la(f.target.value)),className:"bg-gray-300 h-8 px-4 py-1 rounded-md"},fe.default.createElement("option",{value:0},"Example 1"),fe.default.createElement("option",{value:1},"Example 2"),fe.default.createElement("option",{value:2},"Example 3"),fe.default.createElement("option",{value:3},"Example 4"),fe.default.createElement("option",{value:4},"Example 5"),fe.default.createElement("option",{value:5},"Example 6"),fe.default.createElement("option",{value:6},"Example 7"),fe.default.createElement("option",{value:7},"Example 8"),fe.default.createElement("option",{value:8},"Example 9"))," "),fe.default.createElement("button",{className:"bg-gray-300 px-4 py-1 rounded-md mx-2 flex h-8 justify-center items-center  hint--bottom","aria-label":"Reset the code challenge to its initial state",onClick:f=>{e(la(i)),e(pa()),ve({event:we.reset,task:i,mode:o,source:ye.mouse})}},"Reset problem"),(c>5,null),t===ar.normal?null:fe.default.createElement("button",{className:"bg-gray-300 px-4 py-1 rounded-md mx-2 flex h-8 justify-center items-center color-change hint--bottom","aria-label":"Type check the code (Esc)",onClick:f=>{ve({event:we.typeCheck,task:i,mode:o,source:ye.mouse}),e(pa()),e(_i())}},fe.default.createElement(rm,{className:"h-4 w-4 mr-1"}),"Type check"),fe.default.createElement("a",{href:"/tutorial",target:"_blank",className:"bg-gray-300 px-4 py-1 rounded-md mx-2 flex h-8 justify-center items-center hint--bottom","aria-label":"Open tutorial in a new tab"},fe.default.createElement(tm,{className:"h-4 w-4 mr-1"}),"Tutorial")),fe.default.createElement("div",{className:"flex items-center px-2"},fe.default.createElement("div",null,o)))},S1=zE;xt.dispatch(la(0));window.addEventListener("keyup",e=>{let t=e.key;xt.getState().debugger.mode===ar.normal&&(t==="1"||t==="2")&&xt.dispatch(gi())});window.addEventListener("keydown",e=>{let t=xt.getState(),r=e.key;r==="Tab"&&(e.preventDefault(),t.debugger.multipleExps?t.debugger.multipleExps&&!t.debugger.debuggingSteps?(ve({event:we.advancedMode,task:t.debugger.currentTaskNum,mode:"Balanced Mode",source:ye.keyboard}),xt.dispatch(vi())):t.debugger.multipleExps&&t.debugger.debuggingSteps&&(ve({event:we.basicMode,task:t.debugger.currentTaskNum,mode:"Advanced Mode",source:ye.keyboard}),xt.dispatch(Bn()),xt.dispatch(vi())):(xt.dispatch(Bn()),ve({event:we.balancedMode,task:t.debugger.currentTaskNum,mode:"Basic Mode",source:ye.keyboard}))),t.debugger.mode===ar.edit&&r==="Escape"&&(ve({event:we.typeCheck,task:t.debugger.currentTaskNum,mode:Rt(t.debugger.multipleExps,t.debugger.debuggingSteps),source:ye.keyboard}),xt.dispatch(pa()),xt.dispatch(_i())),t.debugger.mode===ar.normal&&(r==="1"&&(ve({event:we.narrowType1,task:t.debugger.currentTaskNum,mode:Rt(t.debugger.multipleExps,t.debugger.debuggingSteps),source:ye.keyboard}),xt.dispatch(da())),r==="2"&&(ve({event:we.narrowType2,task:t.debugger.currentTaskNum,mode:Rt(t.debugger.multipleExps,t.debugger.debuggingSteps),source:ye.keyboard}),xt.dispatch(ha())),t.debugger.debuggingSteps&&((r==="ArrowDown"||r==="ArrowRight"||r==="j"||r==="l")&&(ve({event:we.next,task:t.debugger.currentTaskNum,mode:Rt(t.debugger.multipleExps,t.debugger.debuggingSteps),source:ye.keyboard}),xt.dispatch(ca())),(r==="ArrowUp"||r==="ArrowLeft"||r==="k"||r==="h")&&(ve({event:we.prev,task:t.debugger.currentTaskNum,mode:Rt(t.debugger.multipleExps,t.debugger.debuggingSteps),source:ye.keyboard}),xt.dispatch(fa()))))});var VE=()=>zt.default.createElement(zt.default.Fragment,null,zt.default.createElement("div",{className:"w-full h-full flex flex-col"},zt.default.createElement(S1,null),zt.default.createElement("div",{className:"flex-grow"},zt.default.createElement(X0,{initialSizes:[60,40]},zt.default.createElement(Y0,null),zt.default.createElement(x1,null)))));b1.default.render(zt.default.createElement(zt.default.StrictMode,null,zt.default.createElement(qd,{store:xt},zt.default.createElement(VE,null))),document.getElementById("react-root"));})();
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
//# sourceMappingURL=playground.js.map
