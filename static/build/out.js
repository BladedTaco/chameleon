(()=>{var rC=Object.create;var jd=Object.defineProperty;var nC=Object.getOwnPropertyDescriptor;var iC=Object.getOwnPropertyNames;var oC=Object.getPrototypeOf,sC=Object.prototype.hasOwnProperty;var aC=(e,t,r)=>t in e?jd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var me=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var uC=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of iC(t))!sC.call(e,i)&&i!==r&&jd(e,i,{get:()=>t[i],enumerable:!(n=nC(t,i))||n.enumerable});return e};var Se=(e,t,r)=>(r=e!=null?rC(oC(e)):{},uC(t||!e||!e.__esModule?jd(r,"default",{value:e,enumerable:!0}):r,e));var qt=(e,t,r)=>(aC(e,typeof t!="symbol"?t+"":t,r),r);var yl=me((gM,Fg)=>{"use strict";var jg=Object.getOwnPropertySymbols,lC=Object.prototype.hasOwnProperty,cC=Object.prototype.propertyIsEnumerable;function fC(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function dC(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(o){return t[o]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}Fg.exports=dC()?Object.assign:function(e,t){for(var r,n=fC(e),i,o=1;o<arguments.length;o++){r=Object(arguments[o]);for(var s in r)lC.call(r,s)&&(n[s]=r[s]);if(jg){i=jg(r);for(var l=0;l<i.length;l++)cC.call(r,i[l])&&(n[i[l]]=r[i[l]])}}return n}});var ty=me(ge=>{"use strict";var Hd=yl(),Vi=60103,Wg=60106;ge.Fragment=60107;ge.StrictMode=60108;ge.Profiler=60114;var qg=60109,zg=60110,Vg=60112;ge.Suspense=60113;var $g=60115,Gg=60116;typeof Symbol=="function"&&Symbol.for&&(Zt=Symbol.for,Vi=Zt("react.element"),Wg=Zt("react.portal"),ge.Fragment=Zt("react.fragment"),ge.StrictMode=Zt("react.strict_mode"),ge.Profiler=Zt("react.profiler"),qg=Zt("react.provider"),zg=Zt("react.context"),Vg=Zt("react.forward_ref"),ge.Suspense=Zt("react.suspense"),$g=Zt("react.memo"),Gg=Zt("react.lazy"));var Zt,Hg=typeof Symbol=="function"&&Symbol.iterator;function pC(e){return e===null||typeof e!="object"?null:(e=Hg&&e[Hg]||e["@@iterator"],typeof e=="function"?e:null)}function as(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Kg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Xg={};function $i(e,t,r){this.props=e,this.context=t,this.refs=Xg,this.updater=r||Kg}$i.prototype.isReactComponent={};$i.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(as(85));this.updater.enqueueSetState(this,e,t,"setState")};$i.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Yg(){}Yg.prototype=$i.prototype;function Ud(e,t,r){this.props=e,this.context=t,this.refs=Xg,this.updater=r||Kg}var Wd=Ud.prototype=new Yg;Wd.constructor=Ud;Hd(Wd,$i.prototype);Wd.isPureReactComponent=!0;var qd={current:null},Jg=Object.prototype.hasOwnProperty,Zg={key:!0,ref:!0,__self:!0,__source:!0};function Qg(e,t,r){var n,i={},o=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)Jg.call(t,n)&&!Zg.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var u=Array(l),p=0;p<l;p++)u[p]=arguments[p+2];i.children=u}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:Vi,type:e,key:o,ref:s,props:i,_owner:qd.current}}function hC(e,t){return{$$typeof:Vi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function zd(e){return typeof e=="object"&&e!==null&&e.$$typeof===Vi}function mC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Ug=/\/+/g;function Fd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?mC(""+e.key):t.toString(36)}function bl(e,t,r,n,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Vi:case Wg:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+Fd(s,0):n,Array.isArray(i)?(r="",e!=null&&(r=e.replace(Ug,"$&/")+"/"),bl(i,t,r,"",function(p){return p})):i!=null&&(zd(i)&&(i=hC(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Ug,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",Array.isArray(e))for(var l=0;l<e.length;l++){o=e[l];var u=n+Fd(o,l);s+=bl(o,t,r,u,i)}else if(u=pC(e),typeof u=="function")for(e=u.call(e),l=0;!(o=e.next()).done;)o=o.value,u=n+Fd(o,l++),s+=bl(o,t,r,u,i);else if(o==="object")throw t=""+e,Error(as(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function Sl(e,t,r){if(e==null)return e;var n=[],i=0;return bl(e,n,"","",function(o){return t.call(r,o,i++)}),n}function vC(e){if(e._status===-1){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(r){e._status===0&&(r=r.default,e._status=1,e._result=r)},function(r){e._status===0&&(e._status=2,e._result=r)})}if(e._status===1)return e._result;throw e._result}var ey={current:null};function Xr(){var e=ey.current;if(e===null)throw Error(as(321));return e}var _C={ReactCurrentDispatcher:ey,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:qd,IsSomeRendererActing:{current:!1},assign:Hd};ge.Children={map:Sl,forEach:function(e,t,r){Sl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Sl(e,function(){t++}),t},toArray:function(e){return Sl(e,function(t){return t})||[]},only:function(e){if(!zd(e))throw Error(as(143));return e}};ge.Component=$i;ge.PureComponent=Ud;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_C;ge.cloneElement=function(e,t,r){if(e==null)throw Error(as(267,e));var n=Hd({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=qd.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)Jg.call(t,u)&&!Zg.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){l=Array(u);for(var p=0;p<u;p++)l[p]=arguments[p+2];n.children=l}return{$$typeof:Vi,type:e.type,key:i,ref:o,props:n,_owner:s}};ge.createContext=function(e,t){return t===void 0&&(t=null),e={$$typeof:zg,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:qg,_context:e},e.Consumer=e};ge.createElement=Qg;ge.createFactory=function(e){var t=Qg.bind(null,e);return t.type=e,t};ge.createRef=function(){return{current:null}};ge.forwardRef=function(e){return{$$typeof:Vg,render:e}};ge.isValidElement=zd;ge.lazy=function(e){return{$$typeof:Gg,_payload:{_status:-1,_result:e},_init:vC}};ge.memo=function(e,t){return{$$typeof:$g,type:e,compare:t===void 0?null:t}};ge.useCallback=function(e,t){return Xr().useCallback(e,t)};ge.useContext=function(e,t){return Xr().useContext(e,t)};ge.useDebugValue=function(){};ge.useEffect=function(e,t){return Xr().useEffect(e,t)};ge.useImperativeHandle=function(e,t,r){return Xr().useImperativeHandle(e,t,r)};ge.useLayoutEffect=function(e,t){return Xr().useLayoutEffect(e,t)};ge.useMemo=function(e,t){return Xr().useMemo(e,t)};ge.useReducer=function(e,t,r){return Xr().useReducer(e,t,r)};ge.useRef=function(e){return Xr().useRef(e)};ge.useState=function(e){return Xr().useState(e)};ge.version="17.0.2"});var He=me((SM,ry)=>{"use strict";ry.exports=ty()});var uy=me(we=>{"use strict";var Ki,cs,El,Jd;typeof performance=="object"&&typeof performance.now=="function"?(ny=performance,we.unstable_now=function(){return ny.now()}):(Vd=Date,iy=Vd.now(),we.unstable_now=function(){return Vd.now()-iy});var ny,Vd,iy;typeof window>"u"||typeof MessageChannel!="function"?(Gi=null,$d=null,Gd=function(){if(Gi!==null)try{var e=we.unstable_now();Gi(!0,e),Gi=null}catch(t){throw setTimeout(Gd,0),t}},Ki=function(e){Gi!==null?setTimeout(Ki,0,e):(Gi=e,setTimeout(Gd,0))},cs=function(e,t){$d=setTimeout(e,t)},El=function(){clearTimeout($d)},we.unstable_shouldYield=function(){return!1},Jd=we.unstable_forceFrameRate=function(){}):(oy=window.setTimeout,sy=window.clearTimeout,typeof console<"u"&&(ay=window.cancelAnimationFrame,typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof ay!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")),us=!1,ls=null,xl=-1,Kd=5,Xd=0,we.unstable_shouldYield=function(){return we.unstable_now()>=Xd},Jd=function(){},we.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Kd=0<e?Math.floor(1e3/e):5},Yd=new MessageChannel,wl=Yd.port2,Yd.port1.onmessage=function(){if(ls!==null){var e=we.unstable_now();Xd=e+Kd;try{ls(!0,e)?wl.postMessage(null):(us=!1,ls=null)}catch(t){throw wl.postMessage(null),t}}else us=!1},Ki=function(e){ls=e,us||(us=!0,wl.postMessage(null))},cs=function(e,t){xl=oy(function(){e(we.unstable_now())},t)},El=function(){sy(xl),xl=-1});var Gi,$d,Gd,oy,sy,ay,us,ls,xl,Kd,Xd,Yd,wl;function Zd(e,t){var r=e.length;e.push(t);e:for(;;){var n=r-1>>>1,i=e[n];if(i!==void 0&&0<Cl(i,t))e[n]=t,e[r]=i,r=n;else break e}}function gr(e){return e=e[0],e===void 0?null:e}function kl(e){var t=e[0];if(t!==void 0){var r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length;n<i;){var o=2*(n+1)-1,s=e[o],l=o+1,u=e[l];if(s!==void 0&&0>Cl(s,r))u!==void 0&&0>Cl(u,s)?(e[n]=u,e[l]=r,n=l):(e[n]=s,e[o]=r,n=o);else if(u!==void 0&&0>Cl(u,r))e[n]=u,e[l]=r,n=l;else break e}}return t}return null}function Cl(e,t){var r=e.sortIndex-t.sortIndex;return r!==0?r:e.id-t.id}var Ar=[],mn=[],gC=1,Qt=null,St=3,Ol=!1,ui=!1,fs=!1;function Qd(e){for(var t=gr(mn);t!==null;){if(t.callback===null)kl(mn);else if(t.startTime<=e)kl(mn),t.sortIndex=t.expirationTime,Zd(Ar,t);else break;t=gr(mn)}}function ep(e){if(fs=!1,Qd(e),!ui)if(gr(Ar)!==null)ui=!0,Ki(tp);else{var t=gr(mn);t!==null&&cs(ep,t.startTime-e)}}function tp(e,t){ui=!1,fs&&(fs=!1,El()),Ol=!0;var r=St;try{for(Qd(t),Qt=gr(Ar);Qt!==null&&(!(Qt.expirationTime>t)||e&&!we.unstable_shouldYield());){var n=Qt.callback;if(typeof n=="function"){Qt.callback=null,St=Qt.priorityLevel;var i=n(Qt.expirationTime<=t);t=we.unstable_now(),typeof i=="function"?Qt.callback=i:Qt===gr(Ar)&&kl(Ar),Qd(t)}else kl(Ar);Qt=gr(Ar)}if(Qt!==null)var o=!0;else{var s=gr(mn);s!==null&&cs(ep,s.startTime-t),o=!1}return o}finally{Qt=null,St=r,Ol=!1}}var yC=Jd;we.unstable_IdlePriority=5;we.unstable_ImmediatePriority=1;we.unstable_LowPriority=4;we.unstable_NormalPriority=3;we.unstable_Profiling=null;we.unstable_UserBlockingPriority=2;we.unstable_cancelCallback=function(e){e.callback=null};we.unstable_continueExecution=function(){ui||Ol||(ui=!0,Ki(tp))};we.unstable_getCurrentPriorityLevel=function(){return St};we.unstable_getFirstCallbackNode=function(){return gr(Ar)};we.unstable_next=function(e){switch(St){case 1:case 2:case 3:var t=3;break;default:t=St}var r=St;St=t;try{return e()}finally{St=r}};we.unstable_pauseExecution=function(){};we.unstable_requestPaint=yC;we.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=St;St=e;try{return t()}finally{St=r}};we.unstable_scheduleCallback=function(e,t,r){var n=we.unstable_now();switch(typeof r=="object"&&r!==null?(r=r.delay,r=typeof r=="number"&&0<r?n+r:n):r=n,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return i=r+i,e={id:gC++,callback:t,priorityLevel:e,startTime:r,expirationTime:i,sortIndex:-1},r>n?(e.sortIndex=r,Zd(mn,e),gr(Ar)===null&&e===gr(mn)&&(fs?El():fs=!0,cs(ep,r-n))):(e.sortIndex=i,Zd(Ar,e),ui||Ol||(ui=!0,Ki(tp))),e};we.unstable_wrapCallback=function(e){var t=St;return function(){var r=St;St=t;try{return e.apply(this,arguments)}finally{St=r}}}});var cy=me((xM,ly)=>{"use strict";ly.exports=uy()});var Y1=me(or=>{"use strict";var Sc=He(),Ue=yl(),ut=cy();function $(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Sc)throw Error($(227));var w0=new Set,Us={};function yi(e,t){vo(e,t),vo(e+"Capture",t)}function vo(e,t){for(Us[e]=t,e=0;e<t.length;e++)w0.add(t[e])}var tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),SC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fy=Object.prototype.hasOwnProperty,dy={},py={};function bC(e){return fy.call(py,e)?!0:fy.call(dy,e)?!1:SC.test(e)?py[e]=!0:(dy[e]=!0,!1)}function xC(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function wC(e,t,r,n){if(t===null||typeof t>"u"||xC(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function At(e,t,r,n,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){mt[e]=new At(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];mt[t]=new At(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){mt[e]=new At(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){mt[e]=new At(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){mt[e]=new At(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){mt[e]=new At(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){mt[e]=new At(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){mt[e]=new At(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){mt[e]=new At(e,5,!1,e.toLowerCase(),null,!1,!1)});var ch=/[\-:]([a-z])/g;function fh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ch,fh);mt[t]=new At(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ch,fh);mt[t]=new At(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ch,fh);mt[t]=new At(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){mt[e]=new At(e,1,!1,e.toLowerCase(),null,!1,!1)});mt.xlinkHref=new At("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){mt[e]=new At(e,1,!1,e.toLowerCase(),null,!0,!0)});function dh(e,t,r,n){var i=mt.hasOwnProperty(t)?mt[t]:null,o=i!==null?i.type===0:n?!1:!(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N");o||(wC(t,r,i,n)&&(r=null),n||i===null?bC(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Si=Sc.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cs=60103,ci=60106,_n=60107,ph=60108,Ts=60114,hh=60109,mh=60110,bc=60112,Is=60113,Jl=60120,xc=60115,vh=60116,_h=60121,gh=60128,C0=60129,yh=60130,Cp=60131;typeof Symbol=="function"&&Symbol.for&&(it=Symbol.for,Cs=it("react.element"),ci=it("react.portal"),_n=it("react.fragment"),ph=it("react.strict_mode"),Ts=it("react.profiler"),hh=it("react.provider"),mh=it("react.context"),bc=it("react.forward_ref"),Is=it("react.suspense"),Jl=it("react.suspense_list"),xc=it("react.memo"),vh=it("react.lazy"),_h=it("react.block"),it("react.scope"),gh=it("react.opaque.id"),C0=it("react.debug_trace_mode"),yh=it("react.offscreen"),Cp=it("react.legacy_hidden"));var it,hy=typeof Symbol=="function"&&Symbol.iterator;function ds(e){return e===null||typeof e!="object"?null:(e=hy&&e[hy]||e["@@iterator"],typeof e=="function"?e:null)}var rp;function Es(e){if(rp===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);rp=t&&t[1]||""}return`
`+rp+e}var np=!1;function Ll(e,t){if(!e||np)return"";np=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=n.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l])return`
`+i[s].replace(" at new "," at ");while(1<=s&&0<=l);break}}}finally{np=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Es(e):""}function CC(e){switch(e.tag){case 5:return Es(e.type);case 16:return Es("Lazy");case 13:return Es("Suspense");case 19:return Es("SuspenseList");case 0:case 2:case 15:return e=Ll(e.type,!1),e;case 11:return e=Ll(e.type.render,!1),e;case 22:return e=Ll(e.type._render,!1),e;case 1:return e=Ll(e.type,!0),e;default:return""}}function oo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _n:return"Fragment";case ci:return"Portal";case Ts:return"Profiler";case ph:return"StrictMode";case Is:return"Suspense";case Jl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case mh:return(e.displayName||"Context")+".Consumer";case hh:return(e._context.displayName||"Context")+".Provider";case bc:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case xc:return oo(e.type);case _h:return oo(e._render);case vh:t=e._payload,e=e._init;try{return oo(e(t))}catch{}}return null}function Tn(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function E0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function EC(e){var t=E0(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Tl(e){e._valueTracker||(e._valueTracker=EC(e))}function k0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=E0(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Zl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ep(e,t){var r=t.checked;return Ue({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function my(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Tn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function O0(e,t){t=t.checked,t!=null&&dh(e,"checked",t,!1)}function kp(e,t){O0(e,t);var r=Tn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Op(e,t.type,r):t.hasOwnProperty("defaultValue")&&Op(e,t.type,Tn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function vy(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Op(e,t,r){(t!=="number"||Zl(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function kC(e){var t="";return Sc.Children.forEach(e,function(r){r!=null&&(t+=r)}),t}function Lp(e,t){return e=Ue({children:void 0},t),(t=kC(t.children))&&(e.children=t),e}function so(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Tn(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Tp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($(91));return Ue({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _y(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error($(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error($(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Tn(r)}}function L0(e,t){var r=Tn(t.value),n=Tn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function gy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}var Ip={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function T0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?T0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Il,I0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!==Ip.svg||"innerHTML"in e)e.innerHTML=t;else{for(Il=Il||document.createElement("div"),Il.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Il.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ws(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ms={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},OC=["Webkit","ms","Moz","O"];Object.keys(Ms).forEach(function(e){OC.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ms[t]=Ms[e]})});function M0(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ms.hasOwnProperty(e)&&Ms[e]?(""+t).trim():t+"px"}function A0(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=M0(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var LC=Ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ap(e,t){if(t){if(LC[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($(60));if(!(typeof t.dangerouslySetInnerHTML=="object"&&"__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(t.style!=null&&typeof t.style!="object")throw Error($(62))}}function Pp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Sh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Rp=null,ao=null,uo=null;function yy(e){if(e=ra(e)){if(typeof Rp!="function")throw Error($(280));var t=e.stateNode;t&&(t=Lc(t),Rp(e.stateNode,e.type,t))}}function P0(e){ao?uo?uo.push(e):uo=[e]:ao=e}function R0(){if(ao){var e=ao,t=uo;if(uo=ao=null,yy(e),t)for(e=0;e<t.length;e++)yy(t[e])}}function bh(e,t){return e(t)}function D0(e,t,r,n,i){return e(t,r,n,i)}function xh(){}var N0=bh,fi=!1,ip=!1;function wh(){(ao!==null||uo!==null)&&(xh(),R0())}function TC(e,t,r){if(ip)return e(t,r);ip=!0;try{return N0(e,t,r)}finally{ip=!1,wh()}}function qs(e,t){var r=e.stateNode;if(r===null)return null;var n=Lc(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error($(231,t,typeof r));return r}var Dp=!1;if(tn)try{Xi={},Object.defineProperty(Xi,"passive",{get:function(){Dp=!0}}),window.addEventListener("test",Xi,Xi),window.removeEventListener("test",Xi,Xi)}catch{Dp=!1}var Xi;function IC(e,t,r,n,i,o,s,l,u){var p=Array.prototype.slice.call(arguments,3);try{t.apply(r,p)}catch(_){this.onError(_)}}var As=!1,Ql=null,ec=!1,Np=null,MC={onError:function(e){As=!0,Ql=e}};function AC(e,t,r,n,i,o,s,l,u){As=!1,Ql=null,IC.apply(MC,arguments)}function PC(e,t,r,n,i,o,s,l,u){if(AC.apply(this,arguments),As){if(As){var p=Ql;As=!1,Ql=null}else throw Error($(198));ec||(ec=!0,Np=p)}}function bi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&1026)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function B0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Sy(e){if(bi(e)!==e)throw Error($(188))}function RC(e){var t=e.alternate;if(!t){if(t=bi(e),t===null)throw Error($(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return Sy(i),e;if(o===n)return Sy(i),t;o=o.sibling}throw Error($(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,l=i.child;l;){if(l===r){s=!0,r=i,n=o;break}if(l===n){s=!0,n=i,r=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===r){s=!0,r=o,n=i;break}if(l===n){s=!0,n=o,r=i;break}l=l.sibling}if(!s)throw Error($(189))}}if(r.alternate!==n)throw Error($(190))}if(r.tag!==3)throw Error($(188));return r.stateNode.current===r?e:t}function j0(e){if(e=RC(e),!e)return null;for(var t=e;;){if(t.tag===5||t.tag===6)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function by(e,t){for(var r=e.alternate;t!==null;){if(t===e||t===r)return!0;t=t.return}return!1}var F0,Ch,H0,U0,Bp=!1,Pr=[],bn=null,xn=null,wn=null,zs=new Map,Vs=new Map,ps=[],xy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jp(e,t,r,n,i){return{blockedOn:e,domEventName:t,eventSystemFlags:r|16,nativeEvent:i,targetContainers:[n]}}function wy(e,t){switch(e){case"focusin":case"focusout":bn=null;break;case"dragenter":case"dragleave":xn=null;break;case"mouseover":case"mouseout":wn=null;break;case"pointerover":case"pointerout":zs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vs.delete(t.pointerId)}}function hs(e,t,r,n,i,o){return e===null||e.nativeEvent!==o?(e=jp(t,r,n,i,o),t!==null&&(t=ra(t),t!==null&&Ch(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function DC(e,t,r,n,i){switch(t){case"focusin":return bn=hs(bn,e,t,r,n,i),!0;case"dragenter":return xn=hs(xn,e,t,r,n,i),!0;case"mouseover":return wn=hs(wn,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return zs.set(o,hs(zs.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Vs.set(o,hs(Vs.get(o)||null,e,t,r,n,i)),!0}return!1}function NC(e){var t=di(e.target);if(t!==null){var r=bi(t);if(r!==null){if(t=r.tag,t===13){if(t=B0(r),t!==null){e.blockedOn=t,U0(e.lanePriority,function(){ut.unstable_runWithPriority(e.priority,function(){H0(r)})});return}}else if(t===3&&r.stateNode.hydrate){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ul(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Lh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r!==null)return t=ra(r),t!==null&&Ch(t),e.blockedOn=r,!1;t.shift()}return!0}function Cy(e,t,r){Ul(e)&&r.delete(t)}function BC(){for(Bp=!1;0<Pr.length;){var e=Pr[0];if(e.blockedOn!==null){e=ra(e.blockedOn),e!==null&&F0(e);break}for(var t=e.targetContainers;0<t.length;){var r=Lh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r!==null){e.blockedOn=r;break}t.shift()}e.blockedOn===null&&Pr.shift()}bn!==null&&Ul(bn)&&(bn=null),xn!==null&&Ul(xn)&&(xn=null),wn!==null&&Ul(wn)&&(wn=null),zs.forEach(Cy),Vs.forEach(Cy)}function ms(e,t){e.blockedOn===t&&(e.blockedOn=null,Bp||(Bp=!0,ut.unstable_scheduleCallback(ut.unstable_NormalPriority,BC)))}function W0(e){function t(i){return ms(i,e)}if(0<Pr.length){ms(Pr[0],e);for(var r=1;r<Pr.length;r++){var n=Pr[r];n.blockedOn===e&&(n.blockedOn=null)}}for(bn!==null&&ms(bn,e),xn!==null&&ms(xn,e),wn!==null&&ms(wn,e),zs.forEach(t),Vs.forEach(t),r=0;r<ps.length;r++)n=ps[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ps.length&&(r=ps[0],r.blockedOn===null);)NC(r),r.blockedOn===null&&ps.shift()}function Ml(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Qi={animationend:Ml("Animation","AnimationEnd"),animationiteration:Ml("Animation","AnimationIteration"),animationstart:Ml("Animation","AnimationStart"),transitionend:Ml("Transition","TransitionEnd")},op={},q0={};tn&&(q0=document.createElement("div").style,"AnimationEvent"in window||(delete Qi.animationend.animation,delete Qi.animationiteration.animation,delete Qi.animationstart.animation),"TransitionEvent"in window||delete Qi.transitionend.transition);function wc(e){if(op[e])return op[e];if(!Qi[e])return e;var t=Qi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in q0)return op[e]=t[r];return e}var z0=wc("animationend"),V0=wc("animationiteration"),$0=wc("animationstart"),G0=wc("transitionend"),K0=new Map,Eh=new Map,jC=["abort","abort",z0,"animationEnd",V0,"animationIteration",$0,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",G0,"transitionEnd","waiting","waiting"];function kh(e,t){for(var r=0;r<e.length;r+=2){var n=e[r],i=e[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Eh.set(n,t),K0.set(n,i),yi(i,[n])}}var FC=ut.unstable_now;FC();var Re=8;function Ji(e){if((1&e)!==0)return Re=15,1;if((2&e)!==0)return Re=14,2;if((4&e)!==0)return Re=13,4;var t=24&e;return t!==0?(Re=12,t):(e&32)!==0?(Re=11,32):(t=192&e,t!==0?(Re=10,t):(e&256)!==0?(Re=9,256):(t=3584&e,t!==0?(Re=8,t):(e&4096)!==0?(Re=7,4096):(t=4186112&e,t!==0?(Re=6,t):(t=62914560&e,t!==0?(Re=5,t):e&67108864?(Re=4,67108864):(e&134217728)!==0?(Re=3,134217728):(t=805306368&e,t!==0?(Re=2,t):(1073741824&e)!==0?(Re=1,1073741824):(Re=8,e))))))}function HC(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function UC(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error($(358,e))}}function $s(e,t){var r=e.pendingLanes;if(r===0)return Re=0;var n=0,i=0,o=e.expiredLanes,s=e.suspendedLanes,l=e.pingedLanes;if(o!==0)n=o,i=Re=15;else if(o=r&134217727,o!==0){var u=o&~s;u!==0?(n=Ji(u),i=Re):(l&=o,l!==0&&(n=Ji(l),i=Re))}else o=r&~s,o!==0?(n=Ji(o),i=Re):l!==0&&(n=Ji(l),i=Re);if(n===0)return 0;if(n=31-In(n),n=r&((0>n?0:1<<n)<<1)-1,t!==0&&t!==n&&(t&s)===0){if(Ji(t),i<=Re)return t;Re=i}if(t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-In(t),i=1<<r,n|=e[r],t&=~i;return n}function X0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function tc(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return e=Zi(24&~t),e===0?tc(10,t):e;case 10:return e=Zi(192&~t),e===0?tc(8,t):e;case 8:return e=Zi(3584&~t),e===0&&(e=Zi(4186112&~t),e===0&&(e=512)),e;case 2:return t=Zi(805306368&~t),t===0&&(t=268435456),t}throw Error($(358,e))}function Zi(e){return e&-e}function sp(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Cc(e,t,r){e.pendingLanes|=t;var n=t-1;e.suspendedLanes&=n,e.pingedLanes&=n,e=e.eventTimes,t=31-In(t),e[t]=r}var In=Math.clz32?Math.clz32:zC,WC=Math.log,qC=Math.LN2;function zC(e){return e===0?32:31-(WC(e)/qC|0)|0}var VC=ut.unstable_UserBlockingPriority,$C=ut.unstable_runWithPriority,Wl=!0;function GC(e,t,r,n){fi||xh();var i=Oh,o=fi;fi=!0;try{D0(i,e,t,r,n)}finally{(fi=o)||wh()}}function KC(e,t,r,n){$C(VC,Oh.bind(null,e,t,r,n))}function Oh(e,t,r,n){if(Wl){var i;if((i=(t&4)===0)&&0<Pr.length&&-1<xy.indexOf(e))e=jp(null,e,t,r,n),Pr.push(e);else{var o=Lh(e,t,r,n);if(o===null)i&&wy(e,n);else{if(i){if(-1<xy.indexOf(e)){e=jp(o,e,t,r,n),Pr.push(e);return}if(DC(o,e,t,r,n))return;wy(e,n)}u1(e,t,n,null,r)}}}}function Lh(e,t,r,n){var i=Sh(n);if(i=di(i),i!==null){var o=bi(i);if(o===null)i=null;else{var s=o.tag;if(s===13){if(i=B0(o),i!==null)return i;i=null}else if(s===3){if(o.stateNode.hydrate)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return u1(e,t,n,i,r),null}var gn=null,Th=null,ql=null;function Y0(){if(ql)return ql;var e,t=Th,r=t.length,n,i="value"in gn?gn.value:gn.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[o-n];n++);return ql=i.slice(e,1<n?1-n:void 0)}function zl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Al(){return!0}function Ey(){return!1}function Vt(e){function t(r,n,i,o,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Al:Ey,this.isPropagationStopped=Ey,this}return Ue(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Al)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Al)},persist:function(){},isPersistent:Al}),t}var So={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ih=Vt(So),ta=Ue({},So,{view:0,detail:0}),XC=Vt(ta),ap,up,vs,Ec=Ue({},ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vs&&(vs&&e.type==="mousemove"?(ap=e.screenX-vs.screenX,up=e.screenY-vs.screenY):up=ap=0,vs=e),ap)},movementY:function(e){return"movementY"in e?e.movementY:up}}),ky=Vt(Ec),YC=Ue({},Ec,{dataTransfer:0}),JC=Vt(YC),ZC=Ue({},ta,{relatedTarget:0}),lp=Vt(ZC),QC=Ue({},So,{animationName:0,elapsedTime:0,pseudoElement:0}),eE=Vt(QC),tE=Ue({},So,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rE=Vt(tE),nE=Ue({},So,{data:0}),Oy=Vt(nE),iE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=sE[e])?!!t[e]:!1}function Mh(){return aE}var uE=Ue({},ta,{key:function(e){if(e.key){var t=iE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?oE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mh,charCode:function(e){return e.type==="keypress"?zl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lE=Vt(uE),cE=Ue({},Ec,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ly=Vt(cE),fE=Ue({},ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mh}),dE=Vt(fE),pE=Ue({},So,{propertyName:0,elapsedTime:0,pseudoElement:0}),hE=Vt(pE),mE=Ue({},Ec,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vE=Vt(mE),_E=[9,13,27,32],Ah=tn&&"CompositionEvent"in window,Ps=null;tn&&"documentMode"in document&&(Ps=document.documentMode);var gE=tn&&"TextEvent"in window&&!Ps,J0=tn&&(!Ah||Ps&&8<Ps&&11>=Ps),Ty=String.fromCharCode(32),Iy=!1;function Z0(e,t){switch(e){case"keyup":return _E.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Q0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var eo=!1;function yE(e,t){switch(e){case"compositionend":return Q0(t);case"keypress":return t.which!==32?null:(Iy=!0,Ty);case"textInput":return e=t.data,e===Ty&&Iy?null:e;default:return null}}function SE(e,t){if(eo)return e==="compositionend"||!Ah&&Z0(e,t)?(e=Y0(),ql=Th=gn=null,eo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return J0&&t.locale!=="ko"?null:t.data;default:return null}}var bE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function My(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!bE[e.type]:t==="textarea"}function e1(e,t,r,n){P0(n),t=rc(t,"onChange"),0<t.length&&(r=new Ih("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Rs=null,Gs=null;function xE(e){o1(e,0)}function kc(e){var t=ro(e);if(k0(t))return e}function wE(e,t){if(e==="change")return t}var t1=!1;tn&&(tn?(Rl="oninput"in document,Rl||(cp=document.createElement("div"),cp.setAttribute("oninput","return;"),Rl=typeof cp.oninput=="function"),Pl=Rl):Pl=!1,t1=Pl&&(!document.documentMode||9<document.documentMode));var Pl,Rl,cp;function Ay(){Rs&&(Rs.detachEvent("onpropertychange",r1),Gs=Rs=null)}function r1(e){if(e.propertyName==="value"&&kc(Gs)){var t=[];if(e1(t,Gs,e,Sh(e)),e=xE,fi)e(t);else{fi=!0;try{bh(e,t)}finally{fi=!1,wh()}}}}function CE(e,t,r){e==="focusin"?(Ay(),Rs=t,Gs=r,Rs.attachEvent("onpropertychange",r1)):e==="focusout"&&Ay()}function EE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return kc(Gs)}function kE(e,t){if(e==="click")return kc(t)}function OE(e,t){if(e==="input"||e==="change")return kc(t)}function LE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var er=typeof Object.is=="function"?Object.is:LE,TE=Object.prototype.hasOwnProperty;function Ks(e,t){if(er(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!TE.call(t,r[n])||!er(e[r[n]],t[r[n]]))return!1;return!0}function Py(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ry(e,t){var r=Py(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Py(r)}}function n1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?n1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Dy(){for(var e=window,t=Zl();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Zl(e.document)}return t}function Fp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var IE=tn&&"documentMode"in document&&11>=document.documentMode,to=null,Hp=null,Ds=null,Up=!1;function Ny(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Up||to==null||to!==Zl(n)||(n=to,"selectionStart"in n&&Fp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ds&&Ks(Ds,n)||(Ds=n,n=rc(Hp,"onSelect"),0<n.length&&(t=new Ih("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=to)))}kh("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);kh("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);kh(jC,2);for(fp="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Dl=0;Dl<fp.length;Dl++)Eh.set(fp[Dl],0);var fp,Dl;vo("onMouseEnter",["mouseout","mouseover"]);vo("onMouseLeave",["mouseout","mouseover"]);vo("onPointerEnter",["pointerout","pointerover"]);vo("onPointerLeave",["pointerout","pointerover"]);yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yi("onBeforeInput",["compositionend","keypress","textInput","paste"]);yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ks="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i1=new Set("cancel close invalid load scroll toggle".split(" ").concat(ks));function By(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,PC(n,t,void 0,e),e.currentTarget=null}function o1(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var s=n.length-1;0<=s;s--){var l=n[s],u=l.instance,p=l.currentTarget;if(l=l.listener,u!==o&&i.isPropagationStopped())break e;By(i,l,p),o=u}else for(s=0;s<n.length;s++){if(l=n[s],u=l.instance,p=l.currentTarget,l=l.listener,u!==o&&i.isPropagationStopped())break e;By(i,l,p),o=u}}}if(ec)throw e=Np,ec=!1,Np=null,e}function Ne(e,t){var r=c1(t),n=e+"__bubble";r.has(n)||(a1(t,e,2,!1),r.add(n))}var jy="_reactListening"+Math.random().toString(36).slice(2);function s1(e){e[jy]||(e[jy]=!0,w0.forEach(function(t){i1.has(t)||Fy(t,!1,e,null),Fy(t,!0,e,null)}))}function Fy(e,t,r,n){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,o=r;if(e==="selectionchange"&&r.nodeType!==9&&(o=r.ownerDocument),n!==null&&!t&&i1.has(e)){if(e!=="scroll")return;i|=2,o=n}var s=c1(o),l=e+"__"+(t?"capture":"bubble");s.has(l)||(t&&(i|=4),a1(o,e,i,t),s.add(l))}function a1(e,t,r,n){var i=Eh.get(t);switch(i===void 0?2:i){case 0:i=GC;break;case 1:i=KC;break;default:i=Oh}r=i.bind(null,t,r,e),i=void 0,!Dp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function u1(e,t,r,n,i){var o=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;l!==null;){if(s=di(l),s===null)return;if(u=s.tag,u===5||u===6){n=o=s;continue e}l=l.parentNode}}n=n.return}TC(function(){var p=o,_=Sh(r),m=[];e:{var d=K0.get(e);if(d!==void 0){var g=Ih,h=e;switch(e){case"keypress":if(zl(r)===0)break e;case"keydown":case"keyup":g=lE;break;case"focusin":h="focus",g=lp;break;case"focusout":h="blur",g=lp;break;case"beforeblur":case"afterblur":g=lp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=ky;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=JC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=dE;break;case z0:case V0:case $0:g=eE;break;case G0:g=hE;break;case"scroll":g=XC;break;case"wheel":g=vE;break;case"copy":case"cut":case"paste":g=rE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Ly}var f=(t&4)!==0,a=!f&&e==="scroll",c=f?d!==null?d+"Capture":null:d;f=[];for(var v=p,y;v!==null;){y=v;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,c!==null&&(S=qs(v,c),S!=null&&f.push(Xs(v,S,y)))),a)break;v=v.return}0<f.length&&(d=new g(d,h,null,r,_),m.push({event:d,listeners:f}))}}if((t&7)===0){e:{if(d=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",d&&(t&16)===0&&(h=r.relatedTarget||r.fromElement)&&(di(h)||h[bo]))break e;if((g||d)&&(d=_.window===_?_:(d=_.ownerDocument)?d.defaultView||d.parentWindow:window,g?(h=r.relatedTarget||r.toElement,g=p,h=h?di(h):null,h!==null&&(a=bi(h),h!==a||h.tag!==5&&h.tag!==6)&&(h=null)):(g=null,h=p),g!==h)){if(f=ky,S="onMouseLeave",c="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(f=Ly,S="onPointerLeave",c="onPointerEnter",v="pointer"),a=g==null?d:ro(g),y=h==null?d:ro(h),d=new f(S,v+"leave",g,r,_),d.target=a,d.relatedTarget=y,S=null,di(_)===p&&(f=new f(c,v+"enter",h,r,_),f.target=y,f.relatedTarget=a,S=f),a=S,g&&h)t:{for(f=g,c=h,v=0,y=f;y;y=Yi(y))v++;for(y=0,S=c;S;S=Yi(S))y++;for(;0<v-y;)f=Yi(f),v--;for(;0<y-v;)c=Yi(c),y--;for(;v--;){if(f===c||c!==null&&f===c.alternate)break t;f=Yi(f),c=Yi(c)}f=null}else f=null;g!==null&&Hy(m,d,g,f,!1),h!==null&&a!==null&&Hy(m,a,h,f,!0)}}e:{if(d=p?ro(p):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var b=wE;else if(My(d))if(t1)b=OE;else{b=EE;var C=CE}else(g=d.nodeName)&&g.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(b=kE);if(b&&(b=b(e,p))){e1(m,b,r,_);break e}C&&C(e,d,p),e==="focusout"&&(C=d._wrapperState)&&C.controlled&&d.type==="number"&&Op(d,"number",d.value)}switch(C=p?ro(p):window,e){case"focusin":(My(C)||C.contentEditable==="true")&&(to=C,Hp=p,Ds=null);break;case"focusout":Ds=Hp=to=null;break;case"mousedown":Up=!0;break;case"contextmenu":case"mouseup":case"dragend":Up=!1,Ny(m,r,_);break;case"selectionchange":if(IE)break;case"keydown":case"keyup":Ny(m,r,_)}var E;if(Ah)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else eo?Z0(e,r)&&(x="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(x="onCompositionStart");x&&(J0&&r.locale!=="ko"&&(eo||x!=="onCompositionStart"?x==="onCompositionEnd"&&eo&&(E=Y0()):(gn=_,Th="value"in gn?gn.value:gn.textContent,eo=!0)),C=rc(p,x),0<C.length&&(x=new Oy(x,e,null,r,_),m.push({event:x,listeners:C}),E?x.data=E:(E=Q0(r),E!==null&&(x.data=E)))),(E=gE?yE(e,r):SE(e,r))&&(p=rc(p,"onBeforeInput"),0<p.length&&(_=new Oy("onBeforeInput","beforeinput",null,r,_),m.push({event:_,listeners:p}),_.data=E))}o1(m,t)})}function Xs(e,t,r){return{instance:e,listener:t,currentTarget:r}}function rc(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=qs(e,r),o!=null&&n.unshift(Xs(e,o,i)),o=qs(e,t),o!=null&&n.push(Xs(e,o,i))),e=e.return}return n}function Yi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Hy(e,t,r,n,i){for(var o=t._reactName,s=[];r!==null&&r!==n;){var l=r,u=l.alternate,p=l.stateNode;if(u!==null&&u===n)break;l.tag===5&&p!==null&&(l=p,i?(u=qs(r,o),u!=null&&s.unshift(Xs(r,u,l))):i||(u=qs(r,o),u!=null&&s.push(Xs(r,u,l)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}function nc(){}var dp=null,pp=null;function l1(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Wp(e,t){return e==="textarea"||e==="option"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Uy=typeof setTimeout=="function"?setTimeout:void 0,ME=typeof clearTimeout=="function"?clearTimeout:void 0;function Ph(e){e.nodeType===1?e.textContent="":e.nodeType===9&&(e=e.body,e!=null&&(e.textContent=""))}function lo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break}return e}function Wy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var hp=0;function AE(e){return{$$typeof:gh,toString:e,valueOf:e}}var Oc=Math.random().toString(36).slice(2),yn="__reactFiber$"+Oc,ic="__reactProps$"+Oc,bo="__reactContainer$"+Oc,qy="__reactEvents$"+Oc;function di(e){var t=e[yn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[bo]||r[yn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Wy(e);e!==null;){if(r=e[yn])return r;e=Wy(e)}return t}e=r,r=e.parentNode}return null}function ra(e){return e=e[yn]||e[bo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ro(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($(33))}function Lc(e){return e[ic]||null}function c1(e){var t=e[qy];return t===void 0&&(t=e[qy]=new Set),t}var qp=[],no=-1;function Rn(e){return{current:e}}function Be(e){0>no||(e.current=qp[no],qp[no]=null,no--)}function Ve(e,t){no++,qp[no]=e.current,e.current=t}var Mn={},Ct=Rn(Mn),Ft=Rn(!1),vi=Mn;function _o(e,t){var r=e.type.contextTypes;if(!r)return Mn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ht(e){return e=e.childContextTypes,e!=null}function oc(){Be(Ft),Be(Ct)}function zy(e,t,r){if(Ct.current!==Mn)throw Error($(168));Ve(Ct,t),Ve(Ft,r)}function f1(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error($(108,oo(t)||"Unknown",i));return Ue({},r,n)}function Vl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mn,vi=Ct.current,Ve(Ct,e),Ve(Ft,Ft.current),!0}function Vy(e,t,r){var n=e.stateNode;if(!n)throw Error($(169));r?(e=f1(e,t,vi),n.__reactInternalMemoizedMergedChildContext=e,Be(Ft),Be(Ct),Ve(Ct,e)):Be(Ft),Ve(Ft,r)}var Rh=null,mi=null,PE=ut.unstable_runWithPriority,Dh=ut.unstable_scheduleCallback,zp=ut.unstable_cancelCallback,RE=ut.unstable_shouldYield,$y=ut.unstable_requestPaint,Vp=ut.unstable_now,DE=ut.unstable_getCurrentPriorityLevel,Tc=ut.unstable_ImmediatePriority,d1=ut.unstable_UserBlockingPriority,p1=ut.unstable_NormalPriority,h1=ut.unstable_LowPriority,m1=ut.unstable_IdlePriority,mp={},NE=$y!==void 0?$y:function(){},Yr=null,$l=null,vp=!1,Gy=Vp(),xt=1e4>Gy?Vp:function(){return Vp()-Gy};function go(){switch(DE()){case Tc:return 99;case d1:return 98;case p1:return 97;case h1:return 96;case m1:return 95;default:throw Error($(332))}}function v1(e){switch(e){case 99:return Tc;case 98:return d1;case 97:return p1;case 96:return h1;case 95:return m1;default:throw Error($(332))}}function _i(e,t){return e=v1(e),PE(e,t)}function Ys(e,t,r){return e=v1(e),Dh(e,t,r)}function jr(){if($l!==null){var e=$l;$l=null,zp(e)}_1()}function _1(){if(!vp&&Yr!==null){vp=!0;var e=0;try{var t=Yr;_i(99,function(){for(;e<t.length;e++){var r=t[e];do r=r(!0);while(r!==null)}}),Yr=null}catch(r){throw Yr!==null&&(Yr=Yr.slice(e+1)),Dh(Tc,jr),r}finally{vp=!1}}}var BE=Si.ReactCurrentBatchConfig;function yr(e,t){if(e&&e.defaultProps){t=Ue({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var sc=Rn(null),ac=null,io=null,uc=null;function Nh(){uc=io=ac=null}function Bh(e){var t=sc.current;Be(sc),e.type._context._currentValue=t}function g1(e,t){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)===t){if(r===null||(r.childLanes&t)===t)break;r.childLanes|=t}else e.childLanes|=t,r!==null&&(r.childLanes|=t);e=e.return}}function co(e,t){ac=e,uc=io=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Sr=!0),e.firstContext=null)}function nr(e,t){if(uc!==e&&t!==!1&&t!==0)if((typeof t!="number"||t===1073741823)&&(uc=e,t=1073741823),t={context:e,observedBits:t,next:null},io===null){if(ac===null)throw Error($(308));io=t,ac.dependencies={lanes:0,firstContext:t,responders:null}}else io=io.next=t;return e._currentValue}var vn=!1;function jh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function y1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Cn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function En(e,t){if(e=e.updateQueue,e!==null){e=e.shared;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}}function Ky(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=s:o=o.next=s,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Js(e,t,r,n){var i=e.updateQueue;vn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,p=u.next;u.next=null,s===null?o=p:s.next=p,s=u;var _=e.alternate;if(_!==null){_=_.updateQueue;var m=_.lastBaseUpdate;m!==s&&(m===null?_.firstBaseUpdate=p:m.next=p,_.lastBaseUpdate=u)}}if(o!==null){m=i.baseState,s=0,_=p=u=null;do{l=o.lane;var d=o.eventTime;if((n&l)===l){_!==null&&(_=_.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,h=o;switch(l=t,d=r,h.tag){case 1:if(g=h.payload,typeof g=="function"){m=g.call(d,m,l);break e}m=g;break e;case 3:g.flags=g.flags&-4097|64;case 0:if(g=h.payload,l=typeof g=="function"?g.call(d,m,l):g,l==null)break e;m=Ue({},m,l);break e;case 2:vn=!0}}o.callback!==null&&(e.flags|=32,l=i.effects,l===null?i.effects=[o]:l.push(o))}else d={eventTime:d,lane:l,tag:o.tag,payload:o.payload,callback:o.callback,next:null},_===null?(p=_=d,u=m):_=_.next=d,s|=l;if(o=o.next,o===null){if(l=i.shared.pending,l===null)break;o=l.next,l.next=null,i.lastBaseUpdate=l,i.shared.pending=null}}while(1);_===null&&(u=m),i.baseState=u,i.firstBaseUpdate=p,i.lastBaseUpdate=_,ia|=s,e.lanes=s,e.memoizedState=m}}function Xy(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error($(191,i));i.call(n)}}}var S1=new Sc.Component().refs;function lc(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ue({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ic={isMounted:function(e){return(e=e._reactInternals)?bi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=zt(),i=kn(e),o=Cn(n,i);o.payload=t,r!=null&&(o.callback=r),En(e,o),On(e,i,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=zt(),i=kn(e),o=Cn(n,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),En(e,o),On(e,i,n)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=zt(),n=kn(e),i=Cn(r,n);i.tag=2,t!=null&&(i.callback=t),En(e,i),On(e,n,r)}};function Yy(e,t,r,n,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,s):t.prototype&&t.prototype.isPureReactComponent?!Ks(r,n)||!Ks(i,o):!0}function b1(e,t,r){var n=!1,i=Mn,o=t.contextType;return typeof o=="object"&&o!==null?o=nr(o):(i=Ht(t)?vi:Ct.current,n=t.contextTypes,o=(n=n!=null)?_o(e,i):Mn),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ic,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Jy(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ic.enqueueReplaceState(t,t.state,null)}function $p(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=S1,jh(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=nr(o):(o=Ht(t)?vi:Ct.current,i.context=_o(e,o)),Js(e,r,i,n),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(lc(e,t,o,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ic.enqueueReplaceState(i,i.state,null),Js(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4)}var Nl=Array.isArray;function _s(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error($(309));var n=r.stateNode}if(!n)throw Error($(147,e));var i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var s=n.refs;s===S1&&(s=n.refs={}),o===null?delete s[i]:s[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error($(284));if(!r._owner)throw Error($(290,e))}return e}function Bl(e,t){if(e.type!=="textarea")throw Error($(31,Object.prototype.toString.call(t)==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function x1(e){function t(a,c){if(e){var v=a.lastEffect;v!==null?(v.nextEffect=c,a.lastEffect=c):a.firstEffect=a.lastEffect=c,c.nextEffect=null,c.flags=8}}function r(a,c){if(!e)return null;for(;c!==null;)t(a,c),c=c.sibling;return null}function n(a,c){for(a=new Map;c!==null;)c.key!==null?a.set(c.key,c):a.set(c.index,c),c=c.sibling;return a}function i(a,c){return a=Pn(a,c),a.index=0,a.sibling=null,a}function o(a,c,v){return a.index=v,e?(v=a.alternate,v!==null?(v=v.index,v<c?(a.flags=2,c):v):(a.flags=2,c)):c}function s(a){return e&&a.alternate===null&&(a.flags=2),a}function l(a,c,v,y){return c===null||c.tag!==6?(c=bp(v,a.mode,y),c.return=a,c):(c=i(c,v),c.return=a,c)}function u(a,c,v,y){return c!==null&&c.elementType===v.type?(y=i(c,v.props),y.ref=_s(a,c,v),y.return=a,y):(y=Yl(v.type,v.key,v.props,null,a.mode,y),y.ref=_s(a,c,v),y.return=a,y)}function p(a,c,v,y){return c===null||c.tag!==4||c.stateNode.containerInfo!==v.containerInfo||c.stateNode.implementation!==v.implementation?(c=xp(v,a.mode,y),c.return=a,c):(c=i(c,v.children||[]),c.return=a,c)}function _(a,c,v,y,S){return c===null||c.tag!==7?(c=mo(v,a.mode,y,S),c.return=a,c):(c=i(c,v),c.return=a,c)}function m(a,c,v){if(typeof c=="string"||typeof c=="number")return c=bp(""+c,a.mode,v),c.return=a,c;if(typeof c=="object"&&c!==null){switch(c.$$typeof){case Cs:return v=Yl(c.type,c.key,c.props,null,a.mode,v),v.ref=_s(a,null,c),v.return=a,v;case ci:return c=xp(c,a.mode,v),c.return=a,c}if(Nl(c)||ds(c))return c=mo(c,a.mode,v,null),c.return=a,c;Bl(a,c)}return null}function d(a,c,v,y){var S=c!==null?c.key:null;if(typeof v=="string"||typeof v=="number")return S!==null?null:l(a,c,""+v,y);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Cs:return v.key===S?v.type===_n?_(a,c,v.props.children,y,S):u(a,c,v,y):null;case ci:return v.key===S?p(a,c,v,y):null}if(Nl(v)||ds(v))return S!==null?null:_(a,c,v,y,null);Bl(a,v)}return null}function g(a,c,v,y,S){if(typeof y=="string"||typeof y=="number")return a=a.get(v)||null,l(c,a,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Cs:return a=a.get(y.key===null?v:y.key)||null,y.type===_n?_(c,a,y.props.children,S,y.key):u(c,a,y,S);case ci:return a=a.get(y.key===null?v:y.key)||null,p(c,a,y,S)}if(Nl(y)||ds(y))return a=a.get(v)||null,_(c,a,y,S,null);Bl(c,y)}return null}function h(a,c,v,y){for(var S=null,b=null,C=c,E=c=0,x=null;C!==null&&E<v.length;E++){C.index>E?(x=C,C=null):x=C.sibling;var w=d(a,C,v[E],y);if(w===null){C===null&&(C=x);break}e&&C&&w.alternate===null&&t(a,C),c=o(w,c,E),b===null?S=w:b.sibling=w,b=w,C=x}if(E===v.length)return r(a,C),S;if(C===null){for(;E<v.length;E++)C=m(a,v[E],y),C!==null&&(c=o(C,c,E),b===null?S=C:b.sibling=C,b=C);return S}for(C=n(a,C);E<v.length;E++)x=g(C,a,E,v[E],y),x!==null&&(e&&x.alternate!==null&&C.delete(x.key===null?E:x.key),c=o(x,c,E),b===null?S=x:b.sibling=x,b=x);return e&&C.forEach(function(L){return t(a,L)}),S}function f(a,c,v,y){var S=ds(v);if(typeof S!="function")throw Error($(150));if(v=S.call(v),v==null)throw Error($(151));for(var b=S=null,C=c,E=c=0,x=null,w=v.next();C!==null&&!w.done;E++,w=v.next()){C.index>E?(x=C,C=null):x=C.sibling;var L=d(a,C,w.value,y);if(L===null){C===null&&(C=x);break}e&&C&&L.alternate===null&&t(a,C),c=o(L,c,E),b===null?S=L:b.sibling=L,b=L,C=x}if(w.done)return r(a,C),S;if(C===null){for(;!w.done;E++,w=v.next())w=m(a,w.value,y),w!==null&&(c=o(w,c,E),b===null?S=w:b.sibling=w,b=w);return S}for(C=n(a,C);!w.done;E++,w=v.next())w=g(C,a,E,w.value,y),w!==null&&(e&&w.alternate!==null&&C.delete(w.key===null?E:w.key),c=o(w,c,E),b===null?S=w:b.sibling=w,b=w);return e&&C.forEach(function(k){return t(a,k)}),S}return function(a,c,v,y){var S=typeof v=="object"&&v!==null&&v.type===_n&&v.key===null;S&&(v=v.props.children);var b=typeof v=="object"&&v!==null;if(b)switch(v.$$typeof){case Cs:e:{for(b=v.key,S=c;S!==null;){if(S.key===b){switch(S.tag){case 7:if(v.type===_n){r(a,S.sibling),c=i(S,v.props.children),c.return=a,a=c;break e}break;default:if(S.elementType===v.type){r(a,S.sibling),c=i(S,v.props),c.ref=_s(a,S,v),c.return=a,a=c;break e}}r(a,S);break}else t(a,S);S=S.sibling}v.type===_n?(c=mo(v.props.children,a.mode,y,v.key),c.return=a,a=c):(y=Yl(v.type,v.key,v.props,null,a.mode,y),y.ref=_s(a,c,v),y.return=a,a=y)}return s(a);case ci:e:{for(S=v.key;c!==null;){if(c.key===S)if(c.tag===4&&c.stateNode.containerInfo===v.containerInfo&&c.stateNode.implementation===v.implementation){r(a,c.sibling),c=i(c,v.children||[]),c.return=a,a=c;break e}else{r(a,c);break}else t(a,c);c=c.sibling}c=xp(v,a.mode,y),c.return=a,a=c}return s(a)}if(typeof v=="string"||typeof v=="number")return v=""+v,c!==null&&c.tag===6?(r(a,c.sibling),c=i(c,v),c.return=a,a=c):(r(a,c),c=bp(v,a.mode,y),c.return=a,a=c),s(a);if(Nl(v))return h(a,c,v,y);if(ds(v))return f(a,c,v,y);if(b&&Bl(a,v),typeof v>"u"&&!S)switch(a.tag){case 1:case 22:case 0:case 11:case 15:throw Error($(152,oo(a.type)||"Component"))}return r(a,c)}}var cc=x1(!0),w1=x1(!1),na={},Nr=Rn(na),Zs=Rn(na),Qs=Rn(na);function pi(e){if(e===na)throw Error($(174));return e}function Gp(e,t){switch(Ve(Qs,t),Ve(Zs,e),Ve(Nr,na),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Mp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Mp(t,e)}Be(Nr),Ve(Nr,t)}function yo(){Be(Nr),Be(Zs),Be(Qs)}function Zy(e){pi(Qs.current);var t=pi(Nr.current),r=Mp(t,e.type);t!==r&&(Ve(Zs,e),Ve(Nr,r))}function Fh(e){Zs.current===e&&(Be(Nr),Be(Zs))}var ze=Rn(0);function fc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&64)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zr=null,Sn=null,Br=!1;function C1(e,t){var r=tr(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.flags=8,e.lastEffect!==null?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function Qy(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,!0):!1;case 13:return!1;default:return!1}}function Kp(e){if(Br){var t=Sn;if(t){var r=t;if(!Qy(e,t)){if(t=lo(r.nextSibling),!t||!Qy(e,t)){e.flags=e.flags&-1025|2,Br=!1,Zr=e;return}C1(Zr,r)}Zr=e,Sn=lo(t.firstChild)}else e.flags=e.flags&-1025|2,Br=!1,Zr=e}}function e0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Zr=e}function jl(e){if(e!==Zr)return!1;if(!Br)return e0(e),Br=!0,!1;var t=e.type;if(e.tag!==5||t!=="head"&&t!=="body"&&!Wp(t,e.memoizedProps))for(t=Sn;t;)C1(e,t),t=lo(t.nextSibling);if(e0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Sn=lo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Sn=null}}else Sn=Zr?lo(e.stateNode.nextSibling):null;return!0}function _p(){Sn=Zr=null,Br=!1}var fo=[];function Hh(){for(var e=0;e<fo.length;e++)fo[e]._workInProgressVersionPrimary=null;fo.length=0}var Ns=Si.ReactCurrentDispatcher,rr=Si.ReactCurrentBatchConfig,ea=0,Ye=null,bt=null,pt=null,dc=!1,Bs=!1;function Bt(){throw Error($(321))}function Uh(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!er(e[r],t[r]))return!1;return!0}function Wh(e,t,r,n,i,o){if(ea=o,Ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ns.current=e===null||e.memoizedState===null?FE:HE,e=r(n,i),Bs){o=0;do{if(Bs=!1,!(25>o))throw Error($(301));o+=1,pt=bt=null,t.updateQueue=null,Ns.current=UE,e=r(n,i)}while(Bs)}if(Ns.current=vc,t=bt!==null&&bt.next!==null,ea=0,pt=bt=Ye=null,dc=!1,t)throw Error($(300));return e}function hi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?Ye.memoizedState=pt=e:pt=pt.next=e,pt}function xi(){if(bt===null){var e=Ye.alternate;e=e!==null?e.memoizedState:null}else e=bt.next;var t=pt===null?Ye.memoizedState:pt.next;if(t!==null)pt=t,bt=e;else{if(e===null)throw Error($(310));bt=e,e={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},pt===null?Ye.memoizedState=pt=e:pt=pt.next=e}return pt}function Rr(e,t){return typeof t=="function"?t(e):t}function gs(e){var t=xi(),r=t.queue;if(r===null)throw Error($(311));r.lastRenderedReducer=e;var n=bt,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,r.pending=null}if(i!==null){i=i.next,n=n.baseState;var l=s=o=null,u=i;do{var p=u.lane;if((ea&p)===p)l!==null&&(l=l.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),n=u.eagerReducer===e?u.eagerState:e(n,u.action);else{var _={lane:p,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};l===null?(s=l=_,o=n):l=l.next=_,Ye.lanes|=p,ia|=p}u=u.next}while(u!==null&&u!==i);l===null?o=n:l.next=s,er(n,t.memoizedState)||(Sr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}return[t.memoizedState,r.dispatch]}function ys(e){var t=xi(),r=t.queue;if(r===null)throw Error($(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);er(o,t.memoizedState)||(Sr=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function t0(e,t,r){var n=t._getVersion;n=n(t._source);var i=t._workInProgressVersionPrimary;if(i!==null?e=i===n:(e=e.mutableReadLanes,(e=(ea&e)===e)&&(t._workInProgressVersionPrimary=n,fo.push(t))),e)return r(t._source);throw fo.push(t),Error($(350))}function E1(e,t,r,n){var i=Mt;if(i===null)throw Error($(349));var o=t._getVersion,s=o(t._source),l=Ns.current,u=l.useState(function(){return t0(i,t,r)}),p=u[1],_=u[0];u=pt;var m=e.memoizedState,d=m.refs,g=d.getSnapshot,h=m.source;m=m.subscribe;var f=Ye;return e.memoizedState={refs:d,source:t,subscribe:n},l.useEffect(function(){d.getSnapshot=r,d.setSnapshot=p;var a=o(t._source);if(!er(s,a)){a=r(t._source),er(_,a)||(p(a),a=kn(f),i.mutableReadLanes|=a&i.pendingLanes),a=i.mutableReadLanes,i.entangledLanes|=a;for(var c=i.entanglements,v=a;0<v;){var y=31-In(v),S=1<<y;c[y]|=a,v&=~S}}},[r,t,n]),l.useEffect(function(){return n(t._source,function(){var a=d.getSnapshot,c=d.setSnapshot;try{c(a(t._source));var v=kn(f);i.mutableReadLanes|=v&i.pendingLanes}catch(y){c(function(){throw y})}})},[t,n]),er(g,r)&&er(h,t)&&er(m,n)||(e={pending:null,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:_},e.dispatch=p=Vh.bind(null,Ye,e),u.queue=e,u.baseQueue=null,_=t0(i,t,r),u.memoizedState=u.baseState=_),_}function k1(e,t,r){var n=xi();return E1(n,e,t,r)}function Ss(e){var t=hi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:e},e=e.dispatch=Vh.bind(null,Ye,e),[t.memoizedState,e]}function pc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ye.updateQueue,t===null?(t={lastEffect:null},Ye.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function r0(e){var t=hi();return e={current:e},t.memoizedState=e}function hc(){return xi().memoizedState}function Xp(e,t,r,n){var i=hi();Ye.flags|=e,i.memoizedState=pc(1|t,r,void 0,n===void 0?null:n)}function qh(e,t,r,n){var i=xi();n=n===void 0?null:n;var o=void 0;if(bt!==null){var s=bt.memoizedState;if(o=s.destroy,n!==null&&Uh(n,s.deps)){pc(t,r,o,n);return}}Ye.flags|=e,i.memoizedState=pc(1|t,r,o,n)}function n0(e,t){return Xp(516,4,e,t)}function mc(e,t){return qh(516,4,e,t)}function O1(e,t){return qh(4,2,e,t)}function L1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function T1(e,t,r){return r=r!=null?r.concat([e]):null,qh(4,2,L1.bind(null,t,e),r)}function zh(){}function I1(e,t){var r=xi();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Uh(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function M1(e,t){var r=xi();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Uh(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function jE(e,t){var r=go();_i(98>r?98:r,function(){e(!0)}),_i(97<r?97:r,function(){var n=rr.transition;rr.transition=1;try{e(!1),t()}finally{rr.transition=n}})}function Vh(e,t,r){var n=zt(),i=kn(e),o={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},s=t.pending;if(s===null?o.next=o:(o.next=s.next,s.next=o),t.pending=o,s=e.alternate,e===Ye||s!==null&&s===Ye)Bs=dc=!0;else{if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var l=t.lastRenderedState,u=s(l,r);if(o.eagerReducer=s,o.eagerState=u,er(u,l))return}catch{}finally{}On(e,i,n)}}var vc={readContext:nr,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useOpaqueIdentifier:Bt,unstable_isNewReconciler:!1},FE={readContext:nr,useCallback:function(e,t){return hi().memoizedState=[e,t===void 0?null:t],e},useContext:nr,useEffect:n0,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Xp(4,2,L1.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Xp(4,2,e,t)},useMemo:function(e,t){var r=hi();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=hi();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=Vh.bind(null,Ye,e),[n.memoizedState,e]},useRef:r0,useState:Ss,useDebugValue:zh,useDeferredValue:function(e){var t=Ss(e),r=t[0],n=t[1];return n0(function(){var i=rr.transition;rr.transition=1;try{n(e)}finally{rr.transition=i}},[e]),r},useTransition:function(){var e=Ss(!1),t=e[0];return e=jE.bind(null,e[1]),r0(e),[e,t]},useMutableSource:function(e,t,r){var n=hi();return n.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:r},E1(n,e,t,r)},useOpaqueIdentifier:function(){if(Br){var e=!1,t=AE(function(){throw e||(e=!0,r("r:"+(hp++).toString(36))),Error($(355))}),r=Ss(t)[1];return(Ye.mode&2)===0&&(Ye.flags|=516,pc(5,function(){r("r:"+(hp++).toString(36))},void 0,null)),t}return t="r:"+(hp++).toString(36),Ss(t),t},unstable_isNewReconciler:!1},HE={readContext:nr,useCallback:I1,useContext:nr,useEffect:mc,useImperativeHandle:T1,useLayoutEffect:O1,useMemo:M1,useReducer:gs,useRef:hc,useState:function(){return gs(Rr)},useDebugValue:zh,useDeferredValue:function(e){var t=gs(Rr),r=t[0],n=t[1];return mc(function(){var i=rr.transition;rr.transition=1;try{n(e)}finally{rr.transition=i}},[e]),r},useTransition:function(){var e=gs(Rr)[0];return[hc().current,e]},useMutableSource:k1,useOpaqueIdentifier:function(){return gs(Rr)[0]},unstable_isNewReconciler:!1},UE={readContext:nr,useCallback:I1,useContext:nr,useEffect:mc,useImperativeHandle:T1,useLayoutEffect:O1,useMemo:M1,useReducer:ys,useRef:hc,useState:function(){return ys(Rr)},useDebugValue:zh,useDeferredValue:function(e){var t=ys(Rr),r=t[0],n=t[1];return mc(function(){var i=rr.transition;rr.transition=1;try{n(e)}finally{rr.transition=i}},[e]),r},useTransition:function(){var e=ys(Rr)[0];return[hc().current,e]},useMutableSource:k1,useOpaqueIdentifier:function(){return ys(Rr)[0]},unstable_isNewReconciler:!1},WE=Si.ReactCurrentOwner,Sr=!1;function jt(e,t,r,n){t.child=e===null?w1(t,null,r,n):cc(t,e.child,r,n)}function i0(e,t,r,n,i){r=r.render;var o=t.ref;return co(t,i),n=Wh(e,t,r,n,o,i),e!==null&&!Sr?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Qr(e,t,i)):(t.flags|=1,jt(e,t,n,i),t.child)}function o0(e,t,r,n,i,o){if(e===null){var s=r.type;return typeof s=="function"&&!Jh(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,A1(e,t,s,n,i,o)):(e=Yl(r.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}return s=e.child,(i&o)===0&&(i=s.memoizedProps,r=r.compare,r=r!==null?r:Ks,r(i,n)&&e.ref===t.ref)?Qr(e,t,o):(t.flags|=1,e=Pn(s,n),e.ref=t.ref,e.return=t,t.child=e)}function A1(e,t,r,n,i,o){if(e!==null&&Ks(e.memoizedProps,n)&&e.ref===t.ref)if(Sr=!1,(o&i)!==0)(e.flags&16384)!==0&&(Sr=!0);else return t.lanes=e.lanes,Qr(e,t,o);return Yp(e,t,r,n,o)}function gp(e,t,r){var n=t.pendingProps,i=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden"||n.mode==="unstable-defer-without-hiding")if((t.mode&4)===0)t.memoizedState={baseLanes:0},Hl(t,r);else if((r&1073741824)!==0)t.memoizedState={baseLanes:0},Hl(t,o!==null?o.baseLanes:r);else return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Hl(t,e),null;else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Hl(t,n);return jt(e,t,i,r),t.child}function P1(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=128)}function Yp(e,t,r,n,i){var o=Ht(r)?vi:Ct.current;return o=_o(t,o),co(t,i),r=Wh(e,t,r,n,o,i),e!==null&&!Sr?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Qr(e,t,i)):(t.flags|=1,jt(e,t,r,i),t.child)}function s0(e,t,r,n,i){if(Ht(r)){var o=!0;Vl(t)}else o=!1;if(co(t,i),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),b1(t,r,n),$p(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var u=s.context,p=r.contextType;typeof p=="object"&&p!==null?p=nr(p):(p=Ht(r)?vi:Ct.current,p=_o(t,p));var _=r.getDerivedStateFromProps,m=typeof _=="function"||typeof s.getSnapshotBeforeUpdate=="function";m||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==n||u!==p)&&Jy(t,s,n,p),vn=!1;var d=t.memoizedState;s.state=d,Js(t,n,s,i),u=t.memoizedState,l!==n||d!==u||Ft.current||vn?(typeof _=="function"&&(lc(t,r,_,n),u=t.memoizedState),(l=vn||Yy(t,r,l,n,d,u,p))?(m||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4)):(typeof s.componentDidMount=="function"&&(t.flags|=4),t.memoizedProps=n,t.memoizedState=u),s.props=n,s.state=u,s.context=p,n=l):(typeof s.componentDidMount=="function"&&(t.flags|=4),n=!1)}else{s=t.stateNode,y1(e,t),l=t.memoizedProps,p=t.type===t.elementType?l:yr(t.type,l),s.props=p,m=t.pendingProps,d=s.context,u=r.contextType,typeof u=="object"&&u!==null?u=nr(u):(u=Ht(r)?vi:Ct.current,u=_o(t,u));var g=r.getDerivedStateFromProps;(_=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==m||d!==u)&&Jy(t,s,n,u),vn=!1,d=t.memoizedState,s.state=d,Js(t,n,s,i);var h=t.memoizedState;l!==m||d!==h||Ft.current||vn?(typeof g=="function"&&(lc(t,r,g,n),h=t.memoizedState),(p=vn||Yy(t,r,p,n,d,h,u))?(_||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,h,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,h,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=256)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=n,t.memoizedState=h),s.props=n,s.state=h,s.context=u,n=p):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),n=!1)}return Jp(e,t,r,n,o,i)}function Jp(e,t,r,n,i,o){P1(e,t);var s=(t.flags&64)!==0;if(!n&&!s)return i&&Vy(t,r,!1),Qr(e,t,o);n=t.stateNode,WE.current=t;var l=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=cc(t,e.child,null,o),t.child=cc(t,null,l,o)):jt(e,t,l,o),t.memoizedState=n.state,i&&Vy(t,r,!0),t.child}function a0(e){var t=e.stateNode;t.pendingContext?zy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&zy(e,t.context,!1),Gp(e,t.containerInfo)}var Fl={dehydrated:null,retryLane:0};function u0(e,t,r){var n=t.pendingProps,i=ze.current,o=!1,s;return(s=(t.flags&64)!==0)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-65):e!==null&&e.memoizedState===null||n.fallback===void 0||n.unstable_avoidThisFallback===!0||(i|=1),Ve(ze,i&1),e===null?(n.fallback!==void 0&&Kp(t),e=n.children,i=n.fallback,o?(e=l0(t,e,i,r),t.child.memoizedState={baseLanes:r},t.memoizedState=Fl,e):typeof n.unstable_expectedLoadTime=="number"?(e=l0(t,e,i,r),t.child.memoizedState={baseLanes:r},t.memoizedState=Fl,t.lanes=33554432,e):(r=Zh({mode:"visible",children:e},t.mode,r,null),r.return=t,t.child=r)):e.memoizedState!==null?o?(n=f0(e,t,n.children,n.fallback,r),o=t.child,i=e.child.memoizedState,o.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=e.childLanes&~r,t.memoizedState=Fl,n):(r=c0(e,t,n.children,r),t.memoizedState=null,r):o?(n=f0(e,t,n.children,n.fallback,r),o=t.child,i=e.child.memoizedState,o.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=e.childLanes&~r,t.memoizedState=Fl,n):(r=c0(e,t,n.children,r),t.memoizedState=null,r)}function l0(e,t,r,n){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},(i&2)===0&&o!==null?(o.childLanes=0,o.pendingProps=t):o=Zh(t,i,0,null),r=mo(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,r}function c0(e,t,r,n){var i=e.child;return e=i.sibling,r=Pn(i,{mode:"visible",children:r}),(t.mode&2)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=r}function f0(e,t,r,n,i){var o=t.mode,s=e.child;e=s.sibling;var l={mode:"hidden",children:r};return(o&2)===0&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,s=r.lastEffect,s!==null?(t.firstEffect=r.firstEffect,t.lastEffect=s,s.nextEffect=null):t.firstEffect=t.lastEffect=null):r=Pn(s,l),e!==null?n=Pn(e,n):(n=mo(n,o,i,null),n.flags|=2),n.return=t,r.return=t,r.sibling=n,t.child=r,n}function d0(e,t){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),g1(e.return,t)}function yp(e,t,r,n,i,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i,s.lastEffect=o)}function p0(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(jt(e,t,n.children,r),n=ze.current,(n&2)!==0)n=n&1|2,t.flags|=64;else{if(e!==null&&(e.flags&64)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&d0(e,r);else if(e.tag===19)d0(e,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ve(ze,n),(t.mode&2)===0)t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&fc(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),yp(t,!1,i,r,o,t.lastEffect);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&fc(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}yp(t,!0,r,null,o,t.lastEffect);break;case"together":yp(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Qr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ia|=t.lanes,(r&t.childLanes)!==0){if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,r=Pn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Pn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}return null}var R1,Zp,D1,N1;R1=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Zp=function(){};D1=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,pi(Nr.current);var o=null;switch(r){case"input":i=Ep(e,i),n=Ep(e,n),o=[];break;case"option":i=Lp(e,i),n=Lp(e,n),o=[];break;case"select":i=Ue({},i,{value:void 0}),n=Ue({},n,{value:void 0}),o=[];break;case"textarea":i=Tp(e,i),n=Tp(e,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=nc)}Ap(r,n);var s;r=null;for(p in i)if(!n.hasOwnProperty(p)&&i.hasOwnProperty(p)&&i[p]!=null)if(p==="style"){var l=i[p];for(s in l)l.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(Us.hasOwnProperty(p)?o||(o=[]):(o=o||[]).push(p,null));for(p in n){var u=n[p];if(l=i?.[p],n.hasOwnProperty(p)&&u!==l&&(u!=null||l!=null))if(p==="style")if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(r||(r={}),r[s]=u[s])}else r||(o||(o=[]),o.push(p,r)),r=u;else p==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(o=o||[]).push(p,u)):p==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(p,""+u):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(Us.hasOwnProperty(p)?(u!=null&&p==="onScroll"&&Ne("scroll",e),o||l===u||(o=[])):typeof u=="object"&&u!==null&&u.$$typeof===gh?u.toString():(o=o||[]).push(p,u))}r&&(o=o||[]).push("style",r);var p=o;(t.updateQueue=p)&&(t.flags|=4)}};N1=function(e,t,r,n){r!==n&&(t.flags|=4)};function bs(e,t){if(!Br)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function qE(e,t,r){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ht(t.type)&&oc(),null;case 3:return yo(),Be(Ft),Be(Ct),Hh(),n=t.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(jl(t)?t.flags|=4:n.hydrate||(t.flags|=256)),Zp(t),null;case 5:Fh(t);var i=pi(Qs.current);if(r=t.type,e!==null&&t.stateNode!=null)D1(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=128);else{if(!n){if(t.stateNode===null)throw Error($(166));return null}if(e=pi(Nr.current),jl(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[yn]=t,n[ic]=o,r){case"dialog":Ne("cancel",n),Ne("close",n);break;case"iframe":case"object":case"embed":Ne("load",n);break;case"video":case"audio":for(e=0;e<ks.length;e++)Ne(ks[e],n);break;case"source":Ne("error",n);break;case"img":case"image":case"link":Ne("error",n),Ne("load",n);break;case"details":Ne("toggle",n);break;case"input":my(n,o),Ne("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Ne("invalid",n);break;case"textarea":_y(n,o),Ne("invalid",n)}Ap(r,o),e=null;for(var s in o)o.hasOwnProperty(s)&&(i=o[s],s==="children"?typeof i=="string"?n.textContent!==i&&(e=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(e=["children",""+i]):Us.hasOwnProperty(s)&&i!=null&&s==="onScroll"&&Ne("scroll",n));switch(r){case"input":Tl(n),vy(n,o,!0);break;case"textarea":Tl(n),gy(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=nc)}n=e,t.updateQueue=n,n!==null&&(t.flags|=4)}else{switch(s=i.nodeType===9?i:i.ownerDocument,e===Ip.html&&(e=T0(r)),e===Ip.html?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[yn]=t,e[ic]=n,R1(e,t,!1,!1),t.stateNode=e,s=Pp(r,n),r){case"dialog":Ne("cancel",e),Ne("close",e),i=n;break;case"iframe":case"object":case"embed":Ne("load",e),i=n;break;case"video":case"audio":for(i=0;i<ks.length;i++)Ne(ks[i],e);i=n;break;case"source":Ne("error",e),i=n;break;case"img":case"image":case"link":Ne("error",e),Ne("load",e),i=n;break;case"details":Ne("toggle",e),i=n;break;case"input":my(e,n),i=Ep(e,n),Ne("invalid",e);break;case"option":i=Lp(e,n);break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Ue({},n,{value:void 0}),Ne("invalid",e);break;case"textarea":_y(e,n),i=Tp(e,n),Ne("invalid",e);break;default:i=n}Ap(r,i);var l=i;for(o in l)if(l.hasOwnProperty(o)){var u=l[o];o==="style"?A0(e,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&I0(e,u)):o==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&Ws(e,u):typeof u=="number"&&Ws(e,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Us.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Ne("scroll",e):u!=null&&dh(e,o,u,s))}switch(r){case"input":Tl(e),vy(e,n,!1);break;case"textarea":Tl(e),gy(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Tn(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?so(e,!!n.multiple,o,!1):n.defaultValue!=null&&so(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=nc)}l1(r,n)&&(t.flags|=4)}t.ref!==null&&(t.flags|=128)}return null;case 6:if(e&&t.stateNode!=null)N1(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error($(166));r=pi(Qs.current),pi(Nr.current),jl(t)?(n=t.stateNode,r=t.memoizedProps,n[yn]=t,n.nodeValue!==r&&(t.flags|=4)):(n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[yn]=t,t.stateNode=n)}return null;case 13:return Be(ze),n=t.memoizedState,(t.flags&64)!==0?(t.lanes=r,t):(n=n!==null,r=!1,e===null?t.memoizedProps.fallback!==void 0&&jl(t):r=e.memoizedState!==null,n&&!r&&(t.mode&2)!==0&&(e===null&&t.memoizedProps.unstable_avoidThisFallback!==!0||(ze.current&1)!==0?ht===0&&(ht=3):((ht===0||ht===3)&&(ht=4),Mt===null||(ia&134217727)===0&&(wo&134217727)===0||po(Mt,wt))),(n||r)&&(t.flags|=4),null);case 4:return yo(),Zp(t),e===null&&s1(t.stateNode.containerInfo),null;case 10:return Bh(t),null;case 17:return Ht(t.type)&&oc(),null;case 19:if(Be(ze),n=t.memoizedState,n===null)return null;if(o=(t.flags&64)!==0,s=n.rendering,s===null)if(o)bs(n,!1);else{if(ht!==0||e!==null&&(e.flags&64)!==0)for(e=t.child;e!==null;){if(s=fc(e),s!==null){for(t.flags|=64,bs(n,!1),o=s.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),n.lastEffect===null&&(t.firstEffect=null),t.lastEffect=n.lastEffect,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ve(ze,ze.current&1|2),t.child}e=e.sibling}n.tail!==null&&xt()>ih&&(t.flags|=64,o=!0,bs(n,!1),t.lanes=33554432)}else{if(!o)if(e=fc(s),e!==null){if(t.flags|=64,o=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),bs(n,!0),n.tail===null&&n.tailMode==="hidden"&&!s.alternate&&!Br)return t=t.lastEffect=n.lastEffect,t!==null&&(t.nextEffect=null),null}else 2*xt()-n.renderingStartTime>ih&&r!==1073741824&&(t.flags|=64,o=!0,bs(n,!1),t.lanes=33554432);n.isBackwards?(s.sibling=t.child,t.child=s):(r=n.last,r!==null?r.sibling=s:t.child=s,n.last=s)}return n.tail!==null?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=xt(),r.sibling=null,t=ze.current,Ve(ze,o?t&1|2:t&1),r):null;case 23:case 24:return Yh(),e!==null&&e.memoizedState!==null!=(t.memoizedState!==null)&&n.mode!=="unstable-defer-without-hiding"&&(t.flags|=4),null}throw Error($(156,t.tag))}function zE(e){switch(e.tag){case 1:Ht(e.type)&&oc();var t=e.flags;return t&4096?(e.flags=t&-4097|64,e):null;case 3:if(yo(),Be(Ft),Be(Ct),Hh(),t=e.flags,(t&64)!==0)throw Error($(285));return e.flags=t&-4097|64,e;case 5:return Fh(e),null;case 13:return Be(ze),t=e.flags,t&4096?(e.flags=t&-4097|64,e):null;case 19:return Be(ze),null;case 4:return yo(),null;case 10:return Bh(e),null;case 23:case 24:return Yh(),null;default:return null}}function $h(e,t){try{var r="",n=t;do r+=CC(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i}}function Qp(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var VE=typeof WeakMap=="function"?WeakMap:Map;function B1(e,t,r){r=Cn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){gc||(gc=!0,oh=n),Qp(e,t)},r}function j1(e,t,r){r=Cn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return Qp(e,t),n(i)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){typeof n!="function"&&(Dr===null?Dr=new Set([this]):Dr.add(this),Qp(e,t));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}var $E=typeof WeakSet=="function"?WeakSet:Set;function h0(e){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Ln(e,r)}else t.current=null}function GE(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(t.flags&256&&e!==null){var r=e.memoizedProps,n=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?r:yr(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:t.flags&256&&Ph(t.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error($(163))}function KE(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:if(t=r.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{if((e.tag&3)===3){var n=e.create;e.destroy=n()}e=e.next}while(e!==t)}if(t=r.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{var i=e;n=i.next,i=i.tag,(i&4)!==0&&(i&1)!==0&&(G1(r,e),rk(r,e)),e=n}while(e!==t)}return;case 1:e=r.stateNode,r.flags&4&&(t===null?e.componentDidMount():(n=r.elementType===r.type?t.memoizedProps:yr(r.type,t.memoizedProps),e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),t=r.updateQueue,t!==null&&Xy(r,t,e);return;case 3:if(t=r.updateQueue,t!==null){if(e=null,r.child!==null)switch(r.child.tag){case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}Xy(r,t,e)}return;case 5:e=r.stateNode,t===null&&r.flags&4&&l1(r.type,r.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:r.memoizedState===null&&(r=r.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&W0(r))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error($(163))}function m0(e,t){for(var r=e;;){if(r.tag===5){var n=r.stateNode;if(t)n=n.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,n.style.display=M0("display",i)}}else if(r.tag===6)r.stateNode.nodeValue=t?"":r.memoizedProps;else if((r.tag!==23&&r.tag!==24||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function v0(e,t){if(mi&&typeof mi.onCommitFiberUnmount=="function")try{mi.onCommitFiberUnmount(Rh,t)}catch{}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var r=e=e.next;do{var n=r,i=n.destroy;if(n=n.tag,i!==void 0)if((n&4)!==0)G1(t,r);else{n=t;try{i()}catch(o){Ln(n,o)}}r=r.next}while(r!==e)}break;case 1:if(h0(t),e=t.stateNode,typeof e.componentWillUnmount=="function")try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Ln(t,o)}break;case 5:h0(t);break;case 4:F1(e,t)}}function _0(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function g0(e){return e.tag===5||e.tag===3||e.tag===4}function y0(e){e:{for(var t=e.return;t!==null;){if(g0(t))break e;t=t.return}throw Error($(160))}var r=t;switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:t=t.containerInfo,n=!0;break;case 4:t=t.containerInfo,n=!0;break;default:throw Error($(161))}r.flags&16&&(Ws(t,""),r.flags&=-17);e:t:for(r=e;;){for(;r.sibling===null;){if(r.return===null||g0(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2)){r=r.stateNode;break e}}n?eh(e,r,t):th(e,r,t)}function eh(e,t,r){var n=e.tag,i=n===5||n===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=nc));else if(n!==4&&(e=e.child,e!==null))for(eh(e,t,r),e=e.sibling;e!==null;)eh(e,t,r),e=e.sibling}function th(e,t,r){var n=e.tag,i=n===5||n===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(th(e,t,r),e=e.sibling;e!==null;)th(e,t,r),e=e.sibling}function F1(e,t){for(var r=t,n=!1,i,o;;){if(!n){n=r.return;e:for(;;){if(n===null)throw Error($(160));switch(i=n.stateNode,n.tag){case 5:o=!1;break e;case 3:i=i.containerInfo,o=!0;break e;case 4:i=i.containerInfo,o=!0;break e}n=n.return}n=!0}if(r.tag===5||r.tag===6){e:for(var s=e,l=r,u=l;;)if(v0(s,u),u.child!==null&&u.tag!==4)u.child.return=u,u=u.child;else{if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}o?(s=i,l=r.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):i.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){i=r.stateNode.containerInfo,o=!0,r.child.return=r,r=r.child;continue}}else if(v0(e,r),r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return,r.tag===4&&(n=!1)}r.sibling.return=r.return,r=r.sibling}}function Sp(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do(n.tag&3)===3&&(e=n.destroy,n.destroy=void 0,e!==void 0&&e()),n=n.next;while(n!==r)}return;case 1:return;case 5:if(r=t.stateNode,r!=null){n=t.memoizedProps;var i=e!==null?e.memoizedProps:n;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,o!==null){for(r[ic]=n,e==="input"&&n.type==="radio"&&n.name!=null&&O0(r,n),Pp(e,i),t=Pp(e,n),i=0;i<o.length;i+=2){var s=o[i],l=o[i+1];s==="style"?A0(r,l):s==="dangerouslySetInnerHTML"?I0(r,l):s==="children"?Ws(r,l):dh(r,s,l,t)}switch(e){case"input":kp(r,n);break;case"textarea":L0(r,n);break;case"select":e=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,o=n.value,o!=null?so(r,!!n.multiple,o,!1):e!==!!n.multiple&&(n.defaultValue!=null?so(r,!!n.multiple,n.defaultValue,!0):so(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(t.stateNode===null)throw Error($(162));t.stateNode.nodeValue=t.memoizedProps;return;case 3:r=t.stateNode,r.hydrate&&(r.hydrate=!1,W0(r.containerInfo));return;case 12:return;case 13:t.memoizedState!==null&&(Xh=xt(),m0(t.child,!0)),S0(t);return;case 19:S0(t);return;case 17:return;case 23:case 24:m0(t,t.memoizedState!==null);return}throw Error($(163))}function S0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new $E),t.forEach(function(n){var i=ok.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function XE(e,t){return e!==null&&(e=e.memoizedState,e===null||e.dehydrated!==null)?(t=t.memoizedState,t!==null&&t.dehydrated===null):!1}var YE=Math.ceil,_c=Si.ReactCurrentDispatcher,Gh=Si.ReactCurrentOwner,le=0,Mt=null,ot=null,wt=0,gi=0,rh=Rn(0),ht=0,Mc=null,xo=0,ia=0,wo=0,Kh=0,nh=null,Xh=0,ih=1/0;function Co(){ih=xt()+500}var J=null,gc=!1,oh=null,Dr=null,An=!1,js=null,Os=90,sh=[],ah=[],en=null,Fs=0,uh=null,Gl=-1,Jr=0,Kl=0,Hs=null,Xl=!1;function zt(){return(le&48)!==0?xt():Gl!==-1?Gl:Gl=xt()}function kn(e){if(e=e.mode,(e&2)===0)return 1;if((e&4)===0)return go()===99?1:2;if(Jr===0&&(Jr=xo),BE.transition!==0){Kl!==0&&(Kl=nh!==null?nh.pendingLanes:0),e=Jr;var t=4186112&~Kl;return t&=-t,t===0&&(e=4186112&~e,t=e&-e,t===0&&(t=8192)),t}return e=go(),(le&4)!==0&&e===98?e=tc(12,Jr):(e=HC(e),e=tc(e,Jr)),e}function On(e,t,r){if(50<Fs)throw Fs=0,uh=null,Error($(185));if(e=Ac(e,t),e===null)return null;Cc(e,t,r),e===Mt&&(wo|=t,ht===4&&po(e,wt));var n=go();t===1?(le&8)!==0&&(le&48)===0?lh(e):(ir(e,r),le===0&&(Co(),jr())):((le&4)===0||n!==98&&n!==99||(en===null?en=new Set([e]):en.add(e)),ir(e,r)),nh=e}function Ac(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}function ir(e,t){for(var r=e.callbackNode,n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-In(s),u=1<<l,p=o[l];if(p===-1){if((u&n)===0||(u&i)!==0){p=t,Ji(u);var _=Re;o[l]=10<=_?p+250:6<=_?p+5e3:-1}}else p<=t&&(e.expiredLanes|=u);s&=~u}if(n=$s(e,e===Mt?wt:0),t=Re,n===0)r!==null&&(r!==mp&&zp(r),e.callbackNode=null,e.callbackPriority=0);else{if(r!==null){if(e.callbackPriority===t)return;r!==mp&&zp(r)}t===15?(r=lh.bind(null,e),Yr===null?(Yr=[r],$l=Dh(Tc,_1)):Yr.push(r),r=mp):t===14?r=Ys(99,lh.bind(null,e)):(r=UC(t),r=Ys(r,H1.bind(null,e))),e.callbackPriority=t,e.callbackNode=r}}function H1(e){if(Gl=-1,Kl=Jr=0,(le&48)!==0)throw Error($(327));var t=e.callbackNode;if(Dn()&&e.callbackNode!==t)return null;var r=$s(e,e===Mt?wt:0);if(r===0)return null;var n=r,i=le;le|=16;var o=z1();(Mt!==e||wt!==n)&&(Co(),ho(e,n));do try{QE();break}catch(l){q1(e,l)}while(1);if(Nh(),_c.current=o,le=i,ot!==null?n=0:(Mt=null,wt=0,n=ht),(xo&wo)!==0)ho(e,0);else if(n!==0){if(n===2&&(le|=64,e.hydrate&&(e.hydrate=!1,Ph(e.containerInfo)),r=X0(e),r!==0&&(n=Ls(e,r))),n===1)throw t=Mc,ho(e,0),po(e,r),ir(e,xt()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=r,n){case 0:case 1:throw Error($(345));case 2:li(e);break;case 3:if(po(e,r),(r&62914560)===r&&(n=Xh+500-xt(),10<n)){if($s(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){zt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Uy(li.bind(null,e),n);break}li(e);break;case 4:if(po(e,r),(r&4186112)===r)break;for(n=e.eventTimes,i=-1;0<r;){var s=31-In(r);o=1<<s,s=n[s],s>i&&(i=s),r&=~o}if(r=i,r=xt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*YE(r/1960))-r,10<r){e.timeoutHandle=Uy(li.bind(null,e),r);break}li(e);break;case 5:li(e);break;default:throw Error($(329))}}return ir(e,xt()),e.callbackNode===t?H1.bind(null,e):null}function po(e,t){for(t&=~Kh,t&=~wo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-In(t),n=1<<r;e[r]=-1,t&=~n}}function lh(e){if((le&48)!==0)throw Error($(327));if(Dn(),e===Mt&&(e.expiredLanes&wt)!==0){var t=wt,r=Ls(e,t);(xo&wo)!==0&&(t=$s(e,t),r=Ls(e,t))}else t=$s(e,0),r=Ls(e,t);if(e.tag!==0&&r===2&&(le|=64,e.hydrate&&(e.hydrate=!1,Ph(e.containerInfo)),t=X0(e),t!==0&&(r=Ls(e,t))),r===1)throw r=Mc,ho(e,0),po(e,t),ir(e,xt()),r;return e.finishedWork=e.current.alternate,e.finishedLanes=t,li(e),ir(e,xt()),null}function JE(){if(en!==null){var e=en;en=null,e.forEach(function(t){t.expiredLanes|=24&t.pendingLanes,ir(t,xt())})}jr()}function U1(e,t){var r=le;le|=1;try{return e(t)}finally{le=r,le===0&&(Co(),jr())}}function W1(e,t){var r=le;le&=-2,le|=8;try{return e(t)}finally{le=r,le===0&&(Co(),jr())}}function Hl(e,t){Ve(rh,gi),gi|=t,xo|=t}function Yh(){gi=rh.current,Be(rh)}function ho(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,ME(r)),ot!==null)for(r=ot.return;r!==null;){var n=r;switch(n.tag){case 1:n=n.type.childContextTypes,n!=null&&oc();break;case 3:yo(),Be(Ft),Be(Ct),Hh();break;case 5:Fh(n);break;case 4:yo();break;case 13:Be(ze);break;case 19:Be(ze);break;case 10:Bh(n);break;case 23:case 24:Yh()}r=r.return}Mt=e,ot=Pn(e.current,null),wt=gi=xo=t,ht=0,Mc=null,Kh=wo=ia=0}function q1(e,t){do{var r=ot;try{if(Nh(),Ns.current=vc,dc){for(var n=Ye.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}dc=!1}if(ea=0,pt=bt=Ye=null,Bs=!1,Gh.current=null,r===null||r.return===null){ht=1,Mc=t,ot=null;break}e:{var o=e,s=r.return,l=r,u=t;if(t=wt,l.flags|=2048,l.firstEffect=l.lastEffect=null,u!==null&&typeof u=="object"&&typeof u.then=="function"){var p=u;if((l.mode&2)===0){var _=l.alternate;_?(l.updateQueue=_.updateQueue,l.memoizedState=_.memoizedState,l.lanes=_.lanes):(l.updateQueue=null,l.memoizedState=null)}var m=(ze.current&1)!==0,d=s;do{var g;if(g=d.tag===13){var h=d.memoizedState;if(h!==null)g=h.dehydrated!==null;else{var f=d.memoizedProps;g=f.fallback===void 0?!1:f.unstable_avoidThisFallback!==!0?!0:!m}}if(g){var a=d.updateQueue;if(a===null){var c=new Set;c.add(p),d.updateQueue=c}else a.add(p);if((d.mode&2)===0){if(d.flags|=64,l.flags|=16384,l.flags&=-2981,l.tag===1)if(l.alternate===null)l.tag=17;else{var v=Cn(-1,1);v.tag=2,En(l,v)}l.lanes|=1;break e}u=void 0,l=t;var y=o.pingCache;if(y===null?(y=o.pingCache=new VE,u=new Set,y.set(p,u)):(u=y.get(p),u===void 0&&(u=new Set,y.set(p,u))),!u.has(l)){u.add(l);var S=ik.bind(null,o,p,l);p.then(S,S)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(d!==null);u=Error((oo(l.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}ht!==5&&(ht=2),u=$h(u,l),d=s;do{switch(d.tag){case 3:o=u,d.flags|=4096,t&=-t,d.lanes|=t;var b=B1(d,o,t);Ky(d,b);break e;case 1:o=u;var C=d.type,E=d.stateNode;if((d.flags&64)===0&&(typeof C.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Dr===null||!Dr.has(E)))){d.flags|=4096,t&=-t,d.lanes|=t;var x=j1(d,o,t);Ky(d,x);break e}}d=d.return}while(d!==null)}$1(r)}catch(w){t=w,ot===r&&r!==null&&(ot=r=r.return);continue}break}while(1)}function z1(){var e=_c.current;return _c.current=vc,e===null?vc:e}function Ls(e,t){var r=le;le|=16;var n=z1();Mt===e&&wt===t||ho(e,t);do try{ZE();break}catch(i){q1(e,i)}while(1);if(Nh(),le=r,_c.current=n,ot!==null)throw Error($(261));return Mt=null,wt=0,ht}function ZE(){for(;ot!==null;)V1(ot)}function QE(){for(;ot!==null&&!RE();)V1(ot)}function V1(e){var t=K1(e.alternate,e,gi);e.memoizedProps=e.pendingProps,t===null?$1(e):ot=t,Gh.current=null}function $1(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&2048)===0){if(r=qE(r,t,gi),r!==null){ot=r;return}if(r=t,r.tag!==24&&r.tag!==23||r.memoizedState===null||(gi&1073741824)!==0||(r.mode&4)===0){for(var n=0,i=r.child;i!==null;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}e!==null&&(e.flags&2048)===0&&(e.firstEffect===null&&(e.firstEffect=t.firstEffect),t.lastEffect!==null&&(e.lastEffect!==null&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(e.lastEffect!==null?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(r=zE(t),r!==null){r.flags&=2047,ot=r;return}e!==null&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(t=t.sibling,t!==null){ot=t;return}ot=t=e}while(t!==null);ht===0&&(ht=5)}function li(e){var t=go();return _i(99,ek.bind(null,e,t)),null}function ek(e,t){do Dn();while(js!==null);if((le&48)!==0)throw Error($(327));var r=e.finishedWork;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error($(177));e.callbackNode=null;var n=r.lanes|r.childLanes,i=n,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,l=e.expirationTimes;0<o;){var u=31-In(o),p=1<<u;i[u]=0,s[u]=-1,l[u]=-1,o&=~p}if(en!==null&&(n&24)===0&&en.has(e)&&en.delete(e),e===Mt&&(ot=Mt=null,wt=0),1<r.flags?r.lastEffect!==null?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,n!==null){if(i=le,le|=32,Gh.current=null,dp=Wl,s=Dy(),Fp(s)){if("selectionStart"in s)l={start:s.selectionStart,end:s.selectionEnd};else e:if(l=(l=s.ownerDocument)&&l.defaultView||window,(p=l.getSelection&&l.getSelection())&&p.rangeCount!==0){l=p.anchorNode,o=p.anchorOffset,u=p.focusNode,p=p.focusOffset;try{l.nodeType,u.nodeType}catch{l=null;break e}var _=0,m=-1,d=-1,g=0,h=0,f=s,a=null;t:for(;;){for(var c;f!==l||o!==0&&f.nodeType!==3||(m=_+o),f!==u||p!==0&&f.nodeType!==3||(d=_+p),f.nodeType===3&&(_+=f.nodeValue.length),(c=f.firstChild)!==null;)a=f,f=c;for(;;){if(f===s)break t;if(a===l&&++g===o&&(m=_),a===u&&++h===p&&(d=_),(c=f.nextSibling)!==null)break;f=a,a=f.parentNode}f=c}l=m===-1||d===-1?null:{start:m,end:d}}else l=null;l=l||{start:0,end:0}}else l=null;pp={focusedElem:s,selectionRange:l},Wl=!1,Hs=null,Xl=!1,J=n;do try{tk()}catch(w){if(J===null)throw Error($(330));Ln(J,w),J=J.nextEffect}while(J!==null);Hs=null,J=n;do try{for(s=e;J!==null;){var v=J.flags;if(v&16&&Ws(J.stateNode,""),v&128){var y=J.alternate;if(y!==null){var S=y.ref;S!==null&&(typeof S=="function"?S(null):S.current=null)}}switch(v&1038){case 2:y0(J),J.flags&=-3;break;case 6:y0(J),J.flags&=-3,Sp(J.alternate,J);break;case 1024:J.flags&=-1025;break;case 1028:J.flags&=-1025,Sp(J.alternate,J);break;case 4:Sp(J.alternate,J);break;case 8:l=J,F1(s,l);var b=l.alternate;_0(l),b!==null&&_0(b)}J=J.nextEffect}}catch(w){if(J===null)throw Error($(330));Ln(J,w),J=J.nextEffect}while(J!==null);if(S=pp,y=Dy(),v=S.focusedElem,s=S.selectionRange,y!==v&&v&&v.ownerDocument&&n1(v.ownerDocument.documentElement,v)){for(s!==null&&Fp(v)&&(y=s.start,S=s.end,S===void 0&&(S=y),"selectionStart"in v?(v.selectionStart=y,v.selectionEnd=Math.min(S,v.value.length)):(S=(y=v.ownerDocument||document)&&y.defaultView||window,S.getSelection&&(S=S.getSelection(),l=v.textContent.length,b=Math.min(s.start,l),s=s.end===void 0?b:Math.min(s.end,l),!S.extend&&b>s&&(l=s,s=b,b=l),l=Ry(v,b),o=Ry(v,s),l&&o&&(S.rangeCount!==1||S.anchorNode!==l.node||S.anchorOffset!==l.offset||S.focusNode!==o.node||S.focusOffset!==o.offset)&&(y=y.createRange(),y.setStart(l.node,l.offset),S.removeAllRanges(),b>s?(S.addRange(y),S.extend(o.node,o.offset)):(y.setEnd(o.node,o.offset),S.addRange(y)))))),y=[],S=v;S=S.parentNode;)S.nodeType===1&&y.push({element:S,left:S.scrollLeft,top:S.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<y.length;v++)S=y[v],S.element.scrollLeft=S.left,S.element.scrollTop=S.top}Wl=!!dp,pp=dp=null,e.current=r,J=n;do try{for(v=e;J!==null;){var C=J.flags;if(C&36&&KE(v,J.alternate,J),C&128){y=void 0;var E=J.ref;if(E!==null){var x=J.stateNode;switch(J.tag){case 5:y=x;break;default:y=x}typeof E=="function"?E(y):E.current=y}}J=J.nextEffect}}catch(w){if(J===null)throw Error($(330));Ln(J,w),J=J.nextEffect}while(J!==null);J=null,NE(),le=i}else e.current=r;if(An)An=!1,js=e,Os=t;else for(J=n;J!==null;)t=J.nextEffect,J.nextEffect=null,J.flags&8&&(C=J,C.sibling=null,C.stateNode=null),J=t;if(n=e.pendingLanes,n===0&&(Dr=null),n===1?e===uh?Fs++:(Fs=0,uh=e):Fs=0,r=r.stateNode,mi&&typeof mi.onCommitFiberRoot=="function")try{mi.onCommitFiberRoot(Rh,r,void 0,(r.current.flags&64)===64)}catch{}if(ir(e,xt()),gc)throw gc=!1,e=oh,oh=null,e;return(le&8)!==0||jr(),null}function tk(){for(;J!==null;){var e=J.alternate;Xl||Hs===null||((J.flags&8)!==0?by(J,Hs)&&(Xl=!0):J.tag===13&&XE(e,J)&&by(J,Hs)&&(Xl=!0));var t=J.flags;(t&256)!==0&&GE(e,J),(t&512)===0||An||(An=!0,Ys(97,function(){return Dn(),null})),J=J.nextEffect}}function Dn(){if(Os!==90){var e=97<Os?97:Os;return Os=90,_i(e,nk)}return!1}function rk(e,t){sh.push(t,e),An||(An=!0,Ys(97,function(){return Dn(),null}))}function G1(e,t){ah.push(t,e),An||(An=!0,Ys(97,function(){return Dn(),null}))}function nk(){if(js===null)return!1;var e=js;if(js=null,(le&48)!==0)throw Error($(331));var t=le;le|=32;var r=ah;ah=[];for(var n=0;n<r.length;n+=2){var i=r[n],o=r[n+1],s=i.destroy;if(i.destroy=void 0,typeof s=="function")try{s()}catch(u){if(o===null)throw Error($(330));Ln(o,u)}}for(r=sh,sh=[],n=0;n<r.length;n+=2){i=r[n],o=r[n+1];try{var l=i.create;i.destroy=l()}catch(u){if(o===null)throw Error($(330));Ln(o,u)}}for(l=e.current.firstEffect;l!==null;)e=l.nextEffect,l.nextEffect=null,l.flags&8&&(l.sibling=null,l.stateNode=null),l=e;return le=t,jr(),!0}function b0(e,t,r){t=$h(r,t),t=B1(e,t,1),En(e,t),t=zt(),e=Ac(e,1),e!==null&&(Cc(e,1,t),ir(e,t))}function Ln(e,t){if(e.tag===3)b0(e,e,t);else for(var r=e.return;r!==null;){if(r.tag===3){b0(r,e,t);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Dr===null||!Dr.has(n))){e=$h(t,e);var i=j1(r,e,1);if(En(r,i),i=zt(),r=Ac(r,1),r!==null)Cc(r,1,i),ir(r,i);else if(typeof n.componentDidCatch=="function"&&(Dr===null||!Dr.has(n)))try{n.componentDidCatch(t,e)}catch{}break}}r=r.return}}function ik(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=zt(),e.pingedLanes|=e.suspendedLanes&r,Mt===e&&(wt&r)===r&&(ht===4||ht===3&&(wt&62914560)===wt&&500>xt()-Xh?ho(e,0):Kh|=r),ir(e,t)}function ok(e,t){var r=e.stateNode;r!==null&&r.delete(t),t=0,t===0&&(t=e.mode,(t&2)===0?t=1:(t&4)===0?t=go()===99?1:2:(Jr===0&&(Jr=xo),t=Zi(62914560&~Jr),t===0&&(t=4194304))),r=zt(),e=Ac(e,t),e!==null&&(Cc(e,t,r),ir(e,r))}var K1;K1=function(e,t,r){var n=t.lanes;if(e!==null)if(e.memoizedProps!==t.pendingProps||Ft.current)Sr=!0;else if((r&n)!==0)Sr=(e.flags&16384)!==0;else{switch(Sr=!1,t.tag){case 3:a0(t),_p();break;case 5:Zy(t);break;case 1:Ht(t.type)&&Vl(t);break;case 4:Gp(t,t.stateNode.containerInfo);break;case 10:n=t.memoizedProps.value;var i=t.type._context;Ve(sc,i._currentValue),i._currentValue=n;break;case 13:if(t.memoizedState!==null)return(r&t.child.childLanes)!==0?u0(e,t,r):(Ve(ze,ze.current&1),t=Qr(e,t,r),t!==null?t.sibling:null);Ve(ze,ze.current&1);break;case 19:if(n=(r&t.childLanes)!==0,(e.flags&64)!==0){if(n)return p0(e,t,r);t.flags|=64}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ve(ze,ze.current),n)break;return null;case 23:case 24:return t.lanes=0,gp(e,t,r)}return Qr(e,t,r)}else Sr=!1;switch(t.lanes=0,t.tag){case 2:if(n=t.type,e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=_o(t,Ct.current),co(t,r),i=Wh(null,t,n,e,i,r),t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ht(n)){var o=!0;Vl(t)}else o=!1;t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,jh(t);var s=n.getDerivedStateFromProps;typeof s=="function"&&lc(t,n,s,e),i.updater=Ic,t.stateNode=i,i._reactInternals=t,$p(t,n,e,r),t=Jp(null,t,n,!0,o,r)}else t.tag=0,jt(null,t,i,r),t=t.child;return t;case 16:i=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=i._init,i=o(i._payload),t.type=i,o=t.tag=ak(i),e=yr(i,e),o){case 0:t=Yp(null,t,i,e,r);break e;case 1:t=s0(null,t,i,e,r);break e;case 11:t=i0(null,t,i,e,r);break e;case 14:t=o0(null,t,i,yr(i.type,e),n,r);break e}throw Error($(306,i,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:yr(n,i),Yp(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:yr(n,i),s0(e,t,n,i,r);case 3:if(a0(t),n=t.updateQueue,e===null||n===null)throw Error($(282));if(n=t.pendingProps,i=t.memoizedState,i=i!==null?i.element:null,y1(e,t),Js(t,n,null,r),n=t.memoizedState.element,n===i)_p(),t=Qr(e,t,r);else{if(i=t.stateNode,(o=i.hydrate)&&(Sn=lo(t.stateNode.containerInfo.firstChild),Zr=t,o=Br=!0),o){if(e=i.mutableSourceEagerHydrationData,e!=null)for(i=0;i<e.length;i+=2)o=e[i],o._workInProgressVersionPrimary=e[i+1],fo.push(o);for(r=w1(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|1024,r=r.sibling}else jt(e,t,n,r),_p();t=t.child}return t;case 5:return Zy(t),e===null&&Kp(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,Wp(n,i)?s=null:o!==null&&Wp(n,o)&&(t.flags|=16),P1(e,t),jt(e,t,s,r),t.child;case 6:return e===null&&Kp(t),null;case 13:return u0(e,t,r);case 4:return Gp(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=cc(t,null,n,r):jt(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:yr(n,i),i0(e,t,n,i,r);case 7:return jt(e,t,t.pendingProps,r),t.child;case 8:return jt(e,t,t.pendingProps.children,r),t.child;case 12:return jt(e,t,t.pendingProps.children,r),t.child;case 10:e:{n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var l=t.type._context;if(Ve(sc,l._currentValue),l._currentValue=o,s!==null)if(l=s.value,o=er(l,o)?0:(typeof n._calculateChangedBits=="function"?n._calculateChangedBits(l,o):1073741823)|0,o===0){if(s.children===i.children&&!Ft.current){t=Qr(e,t,r);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var u=l.dependencies;if(u!==null){s=l.child;for(var p=u.firstContext;p!==null;){if(p.context===n&&(p.observedBits&o)!==0){l.tag===1&&(p=Cn(-1,r&-r),p.tag=2,En(l,p)),l.lanes|=r,p=l.alternate,p!==null&&(p.lanes|=r),g1(l.return,r),u.lanes|=r;break}p=p.next}}else s=l.tag===10&&l.type===t.type?null:l.child;if(s!==null)s.return=l;else for(s=l;s!==null;){if(s===t){s=null;break}if(l=s.sibling,l!==null){l.return=s.return,s=l;break}s=s.return}l=s}jt(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,o=t.pendingProps,n=o.children,co(t,r),i=nr(i,o.unstable_observedBits),n=n(i),t.flags|=1,jt(e,t,n,r),t.child;case 14:return i=t.type,o=yr(i,t.pendingProps),o=yr(i.type,o),o0(e,t,i,o,n,r);case 15:return A1(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:yr(n,i),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ht(n)?(e=!0,Vl(t)):e=!1,co(t,r),b1(t,n,i),$p(t,n,i,r),Jp(null,t,n,!0,e,r);case 19:return p0(e,t,r);case 23:return gp(e,t,r);case 24:return gp(e,t,r)}throw Error($(156,t.tag))};function sk(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function tr(e,t,r,n){return new sk(e,t,r,n)}function Jh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ak(e){if(typeof e=="function")return Jh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===bc)return 11;if(e===xc)return 14}return 2}function Pn(e,t){var r=e.alternate;return r===null?(r=tr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Yl(e,t,r,n,i,o){var s=2;if(n=e,typeof e=="function")Jh(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case _n:return mo(r.children,i,o,t);case C0:s=8,i|=16;break;case ph:s=8,i|=1;break;case Ts:return e=tr(12,r,t,i|8),e.elementType=Ts,e.type=Ts,e.lanes=o,e;case Is:return e=tr(13,r,t,i),e.type=Is,e.elementType=Is,e.lanes=o,e;case Jl:return e=tr(19,r,t,i),e.elementType=Jl,e.lanes=o,e;case yh:return Zh(r,i,o,t);case Cp:return e=tr(24,r,t,i),e.elementType=Cp,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case hh:s=10;break e;case mh:s=9;break e;case bc:s=11;break e;case xc:s=14;break e;case vh:s=16,n=null;break e;case _h:s=22;break e}throw Error($(130,e==null?e:typeof e,""))}return t=tr(s,r,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function mo(e,t,r,n){return e=tr(7,e,n,t),e.lanes=r,e}function Zh(e,t,r,n){return e=tr(23,e,n,t),e.elementType=yh,e.lanes=r,e}function bp(e,t,r){return e=tr(6,e,null,t),e.lanes=r,e}function xp(e,t,r){return t=tr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function uk(e,t,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=sp(0),this.expirationTimes=sp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sp(0),this.mutableSourceEagerHydrationData=null}function lk(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ci,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function yc(e,t,r,n){var i=t.current,o=zt(),s=kn(i);e:if(r){r=r._reactInternals;t:{if(bi(r)!==r||r.tag!==1)throw Error($(170));var l=r;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(Ht(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(l!==null);throw Error($(171))}if(r.tag===1){var u=r.type;if(Ht(u)){r=f1(r,u,l);break e}}r=l}else r=Mn;return t.context===null?t.context=r:t.pendingContext=r,t=Cn(o,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),En(i,t),On(i,s,o),s}function wp(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function x0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Qh(e,t){x0(e,t),(e=e.alternate)&&x0(e,t)}function ck(){return null}function em(e,t,r){var n=r!=null&&r.hydrationOptions!=null&&r.hydrationOptions.mutableSources||null;if(r=new uk(e,t,r!=null&&r.hydrate===!0),t=tr(3,null,null,t===2?7:t===1?3:0),r.current=t,t.stateNode=r,jh(t),e[bo]=r.current,s1(e.nodeType===8?e.parentNode:e),n)for(e=0;e<n.length;e++){t=n[e];var i=t._getVersion;i=i(t._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[t,i]:r.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=r}em.prototype.render=function(e){yc(e,this._internalRoot,null,null)};em.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;yc(null,e,null,function(){t[bo]=null})};function oa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function fk(e,t){if(t||(t=e?e.nodeType===9?e.documentElement:e.firstChild:null,t=!(!t||t.nodeType!==1||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new em(e,0,t?{hydrate:!0}:void 0)}function Pc(e,t,r,n,i){var o=r._reactRootContainer;if(o){var s=o._internalRoot;if(typeof i=="function"){var l=i;i=function(){var p=wp(s);l.call(p)}}yc(t,s,e,i)}else{if(o=r._reactRootContainer=fk(r,n),s=o._internalRoot,typeof i=="function"){var u=i;i=function(){var p=wp(s);u.call(p)}}W1(function(){yc(t,s,e,i)})}return wp(s)}F0=function(e){if(e.tag===13){var t=zt();On(e,4,t),Qh(e,4)}};Ch=function(e){if(e.tag===13){var t=zt();On(e,67108864,t),Qh(e,67108864)}};H0=function(e){if(e.tag===13){var t=zt(),r=kn(e);On(e,r,t),Qh(e,r)}};U0=function(e,t){return t()};Rp=function(e,t,r){switch(t){case"input":if(kp(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Lc(n);if(!i)throw Error($(90));k0(n),kp(n,i)}}}break;case"textarea":L0(e,r);break;case"select":t=r.value,t!=null&&so(e,!!r.multiple,t,!1)}};bh=U1;D0=function(e,t,r,n,i){var o=le;le|=4;try{return _i(98,e.bind(null,t,r,n,i))}finally{le=o,le===0&&(Co(),jr())}};xh=function(){(le&49)===0&&(JE(),Dn())};N0=function(e,t){var r=le;le|=2;try{return e(t)}finally{le=r,le===0&&(Co(),jr())}};function X1(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!oa(t))throw Error($(200));return lk(e,t,null,r)}var dk={Events:[ra,ro,Lc,P0,R0,Dn,{current:!1}]},xs={findFiberByHostInstance:di,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},pk={bundleType:xs.bundleType,version:xs.version,rendererPackageName:xs.rendererPackageName,rendererConfig:xs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Si.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=j0(e),e===null?null:e.stateNode},findFiberByHostInstance:xs.findFiberByHostInstance||ck,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(ws=__REACT_DEVTOOLS_GLOBAL_HOOK__,!ws.isDisabled&&ws.supportsFiber))try{Rh=ws.inject(pk),mi=ws}catch{}var ws;or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dk;or.createPortal=X1;or.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):Error($(268,Object.keys(e)));return e=j0(t),e=e===null?null:e.stateNode,e};or.flushSync=function(e,t){var r=le;if((r&48)!==0)return e(t);le|=1;try{if(e)return _i(99,e.bind(null,t))}finally{le=r,jr()}};or.hydrate=function(e,t,r){if(!oa(t))throw Error($(200));return Pc(null,e,t,!0,r)};or.render=function(e,t,r){if(!oa(t))throw Error($(200));return Pc(null,e,t,!1,r)};or.unmountComponentAtNode=function(e){if(!oa(e))throw Error($(40));return e._reactRootContainer?(W1(function(){Pc(null,null,e,!1,function(){e._reactRootContainer=null,e[bo]=null})}),!0):!1};or.unstable_batchedUpdates=U1;or.unstable_createPortal=function(e,t){return X1(e,t,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};or.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!oa(r))throw Error($(200));if(e==null||e._reactInternals===void 0)throw Error($(38));return Pc(e,t,r,!1,n)};or.version="17.0.2"});var Rc=me((CM,Z1)=>{"use strict";function J1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(J1)}catch(e){console.error(e)}}J1(),Z1.exports=Y1()});var eS=me((EM,Q1)=>{"use strict";var hk="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";Q1.exports=hk});var iS=me((kM,nS)=>{"use strict";var mk=eS();function tS(){}function rS(){}rS.resetWarningCache=tS;nS.exports=function(){function e(n,i,o,s,l,u){if(u!==mk){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:rS,resetWarningCache:tS};return r.PropTypes=r,r}});var tm=me((TM,oS)=>{oS.exports=iS()();var OM,LM});var dS=me(Ee=>{"use strict";var lt=typeof Symbol=="function"&&Symbol.for,nm=lt?Symbol.for("react.element"):60103,im=lt?Symbol.for("react.portal"):60106,Nc=lt?Symbol.for("react.fragment"):60107,Bc=lt?Symbol.for("react.strict_mode"):60108,jc=lt?Symbol.for("react.profiler"):60114,Fc=lt?Symbol.for("react.provider"):60109,Hc=lt?Symbol.for("react.context"):60110,om=lt?Symbol.for("react.async_mode"):60111,Uc=lt?Symbol.for("react.concurrent_mode"):60111,Wc=lt?Symbol.for("react.forward_ref"):60112,qc=lt?Symbol.for("react.suspense"):60113,yk=lt?Symbol.for("react.suspense_list"):60120,zc=lt?Symbol.for("react.memo"):60115,Vc=lt?Symbol.for("react.lazy"):60116,Sk=lt?Symbol.for("react.block"):60121,bk=lt?Symbol.for("react.fundamental"):60117,xk=lt?Symbol.for("react.responder"):60118,wk=lt?Symbol.for("react.scope"):60119;function $t(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case nm:switch(e=e.type,e){case om:case Uc:case Nc:case jc:case Bc:case qc:return e;default:switch(e=e&&e.$$typeof,e){case Hc:case Wc:case Vc:case zc:case Fc:return e;default:return t}}case im:return t}}}function fS(e){return $t(e)===Uc}Ee.AsyncMode=om;Ee.ConcurrentMode=Uc;Ee.ContextConsumer=Hc;Ee.ContextProvider=Fc;Ee.Element=nm;Ee.ForwardRef=Wc;Ee.Fragment=Nc;Ee.Lazy=Vc;Ee.Memo=zc;Ee.Portal=im;Ee.Profiler=jc;Ee.StrictMode=Bc;Ee.Suspense=qc;Ee.isAsyncMode=function(e){return fS(e)||$t(e)===om};Ee.isConcurrentMode=fS;Ee.isContextConsumer=function(e){return $t(e)===Hc};Ee.isContextProvider=function(e){return $t(e)===Fc};Ee.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===nm};Ee.isForwardRef=function(e){return $t(e)===Wc};Ee.isFragment=function(e){return $t(e)===Nc};Ee.isLazy=function(e){return $t(e)===Vc};Ee.isMemo=function(e){return $t(e)===zc};Ee.isPortal=function(e){return $t(e)===im};Ee.isProfiler=function(e){return $t(e)===jc};Ee.isStrictMode=function(e){return $t(e)===Bc};Ee.isSuspense=function(e){return $t(e)===qc};Ee.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Nc||e===Uc||e===jc||e===Bc||e===qc||e===yk||typeof e=="object"&&e!==null&&(e.$$typeof===Vc||e.$$typeof===zc||e.$$typeof===Fc||e.$$typeof===Hc||e.$$typeof===Wc||e.$$typeof===bk||e.$$typeof===xk||e.$$typeof===wk||e.$$typeof===Sk)};Ee.typeOf=$t});var sm=me((WM,pS)=>{"use strict";pS.exports=dS()});var SS=me((qM,yS)=>{"use strict";var am=sm(),Ck={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Ek={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},kk={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},_S={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},um={};um[am.ForwardRef]=kk;um[am.Memo]=_S;function hS(e){return am.isMemo(e)?_S:um[e.$$typeof]||Ck}var Ok=Object.defineProperty,Lk=Object.getOwnPropertyNames,mS=Object.getOwnPropertySymbols,Tk=Object.getOwnPropertyDescriptor,Ik=Object.getPrototypeOf,vS=Object.prototype;function gS(e,t,r){if(typeof t!="string"){if(vS){var n=Ik(t);n&&n!==vS&&gS(e,n,r)}var i=Lk(t);mS&&(i=i.concat(mS(t)));for(var o=hS(e),s=hS(t),l=0;l<i.length;++l){var u=i[l];if(!Ek[u]&&!(r&&r[u])&&!(s&&s[u])&&!(o&&o[u])){var p=Tk(t,u);try{Ok(e,u,p)}catch{}}}}return e}yS.exports=gS});var Eb=me((vf,ev)=>{(function(e,t){if(typeof vf=="object"&&typeof ev=="object")ev.exports=t();else if(typeof define=="function"&&define.amd)define([],t);else{var r=t();for(var n in r)(typeof vf=="object"?vf:e)[n]=r[n]}})(self,function(){return(()=>{"use strict";var e={4567:function(r,n,i){var o,s=this&&this.__extends||(o=function(f,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,v){c.__proto__=v}||function(c,v){for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&(c[y]=v[y])},o(f,a)},function(f,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function c(){this.constructor=f}o(f,a),f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)});Object.defineProperty(n,"__esModule",{value:!0}),n.AccessibilityManager=void 0;var l=i(9042),u=i(6114),p=i(9924),_=i(3656),m=i(844),d=i(5596),g=i(9631),h=function(f){function a(c,v){var y=f.call(this)||this;y._terminal=c,y._renderService=v,y._liveRegionLineCount=0,y._charsToConsume=[],y._charsToAnnounce="",y._accessibilityTreeRoot=document.createElement("div"),y._accessibilityTreeRoot.classList.add("xterm-accessibility"),y._accessibilityTreeRoot.tabIndex=0,y._rowContainer=document.createElement("div"),y._rowContainer.setAttribute("role","list"),y._rowContainer.classList.add("xterm-accessibility-tree"),y._rowElements=[];for(var S=0;S<y._terminal.rows;S++)y._rowElements[S]=y._createAccessibilityTreeNode(),y._rowContainer.appendChild(y._rowElements[S]);if(y._topBoundaryFocusListener=function(b){return y._onBoundaryFocus(b,0)},y._bottomBoundaryFocusListener=function(b){return y._onBoundaryFocus(b,1)},y._rowElements[0].addEventListener("focus",y._topBoundaryFocusListener),y._rowElements[y._rowElements.length-1].addEventListener("focus",y._bottomBoundaryFocusListener),y._refreshRowsDimensions(),y._accessibilityTreeRoot.appendChild(y._rowContainer),y._renderRowsDebouncer=new p.TimeBasedDebouncer(y._renderRows.bind(y)),y._refreshRows(),y._liveRegion=document.createElement("div"),y._liveRegion.classList.add("live-region"),y._liveRegion.setAttribute("aria-live","assertive"),y._accessibilityTreeRoot.appendChild(y._liveRegion),!y._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");return y._terminal.element.insertAdjacentElement("afterbegin",y._accessibilityTreeRoot),y.register(y._renderRowsDebouncer),y.register(y._terminal.onResize(function(b){return y._onResize(b.rows)})),y.register(y._terminal.onRender(function(b){return y._refreshRows(b.start,b.end)})),y.register(y._terminal.onScroll(function(){return y._refreshRows()})),y.register(y._terminal.onA11yChar(function(b){return y._onChar(b)})),y.register(y._terminal.onLineFeed(function(){return y._onChar(`
`)})),y.register(y._terminal.onA11yTab(function(b){return y._onTab(b)})),y.register(y._terminal.onKey(function(b){return y._onKey(b.key)})),y.register(y._terminal.onBlur(function(){return y._clearLiveRegion()})),y.register(y._renderService.onDimensionsChange(function(){return y._refreshRowsDimensions()})),y._screenDprMonitor=new d.ScreenDprMonitor,y.register(y._screenDprMonitor),y._screenDprMonitor.setListener(function(){return y._refreshRowsDimensions()}),y.register((0,_.addDisposableDomListener)(window,"resize",function(){return y._refreshRowsDimensions()})),y}return s(a,f),a.prototype.dispose=function(){f.prototype.dispose.call(this),(0,g.removeElementFromParent)(this._accessibilityTreeRoot),this._rowElements.length=0},a.prototype._onBoundaryFocus=function(c,v){var y=c.target,S=this._rowElements[v===0?1:this._rowElements.length-2];if(y.getAttribute("aria-posinset")!==(v===0?"1":""+this._terminal.buffer.lines.length)&&c.relatedTarget===S){var b,C;if(v===0?(b=y,C=this._rowElements.pop(),this._rowContainer.removeChild(C)):(b=this._rowElements.shift(),C=y,this._rowContainer.removeChild(b)),b.removeEventListener("focus",this._topBoundaryFocusListener),C.removeEventListener("focus",this._bottomBoundaryFocusListener),v===0){var E=this._createAccessibilityTreeNode();this._rowElements.unshift(E),this._rowContainer.insertAdjacentElement("afterbegin",E)}else E=this._createAccessibilityTreeNode(),this._rowElements.push(E),this._rowContainer.appendChild(E);this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(v===0?-1:1),this._rowElements[v===0?1:this._rowElements.length-2].focus(),c.preventDefault(),c.stopImmediatePropagation()}},a.prototype._onResize=function(c){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(var v=this._rowContainer.children.length;v<this._terminal.rows;v++)this._rowElements[v]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[v]);for(;this._rowElements.length>c;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()},a.prototype._createAccessibilityTreeNode=function(){var c=document.createElement("div");return c.setAttribute("role","listitem"),c.tabIndex=-1,this._refreshRowDimensions(c),c},a.prototype._onTab=function(c){for(var v=0;v<c;v++)this._onChar(" ")},a.prototype._onChar=function(c){var v=this;this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==c&&(this._charsToAnnounce+=c):this._charsToAnnounce+=c,c===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=l.tooMuchOutput)),u.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(function(){v._accessibilityTreeRoot.appendChild(v._liveRegion)},0))},a.prototype._clearLiveRegion=function(){this._liveRegion.textContent="",this._liveRegionLineCount=0,u.isMac&&(0,g.removeElementFromParent)(this._liveRegion)},a.prototype._onKey=function(c){this._clearLiveRegion(),this._charsToConsume.push(c)},a.prototype._refreshRows=function(c,v){this._renderRowsDebouncer.refresh(c,v,this._terminal.rows)},a.prototype._renderRows=function(c,v){for(var y=this._terminal.buffer,S=y.lines.length.toString(),b=c;b<=v;b++){var C=y.translateBufferLineToString(y.ydisp+b,!0),E=(y.ydisp+b+1).toString(),x=this._rowElements[b];x&&(C.length===0?x.innerText="\xA0":x.textContent=C,x.setAttribute("aria-posinset",E),x.setAttribute("aria-setsize",S))}this._announceCharacters()},a.prototype._refreshRowsDimensions=function(){if(this._renderService.dimensions.actualCellHeight){this._rowElements.length!==this._terminal.rows&&this._onResize(this._terminal.rows);for(var c=0;c<this._terminal.rows;c++)this._refreshRowDimensions(this._rowElements[c])}},a.prototype._refreshRowDimensions=function(c){c.style.height=this._renderService.dimensions.actualCellHeight+"px"},a.prototype._announceCharacters=function(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")},a}(m.Disposable);n.AccessibilityManager=h},3614:(r,n)=>{function i(u){return u.replace(/\r?\n/g,"\r")}function o(u,p){return p?"\x1B[200~"+u+"\x1B[201~":u}function s(u,p,_){u=o(u=i(u),_.decPrivateModes.bracketedPasteMode),_.triggerDataEvent(u,!0),p.value=""}function l(u,p,_){var m=_.getBoundingClientRect(),d=u.clientX-m.left-10,g=u.clientY-m.top-10;p.style.width="20px",p.style.height="20px",p.style.left=d+"px",p.style.top=g+"px",p.style.zIndex="1000",p.focus()}Object.defineProperty(n,"__esModule",{value:!0}),n.rightClickHandler=n.moveTextAreaUnderMouseCursor=n.paste=n.handlePasteEvent=n.copyHandler=n.bracketTextForPaste=n.prepareTextForTerminal=void 0,n.prepareTextForTerminal=i,n.bracketTextForPaste=o,n.copyHandler=function(u,p){u.clipboardData&&u.clipboardData.setData("text/plain",p.selectionText),u.preventDefault()},n.handlePasteEvent=function(u,p,_){u.stopPropagation(),u.clipboardData&&s(u.clipboardData.getData("text/plain"),p,_)},n.paste=s,n.moveTextAreaUnderMouseCursor=l,n.rightClickHandler=function(u,p,_,m,d){l(u,p,_),d&&m.rightClickSelect(u),p.value=m.selectionText,p.select()}},4774:(r,n)=>{var i,o,s,l;function u(_){var m=_.toString(16);return m.length<2?"0"+m:m}function p(_,m){return _<m?(m+.05)/(_+.05):(_+.05)/(m+.05)}Object.defineProperty(n,"__esModule",{value:!0}),n.contrastRatio=n.toPaddedHex=n.rgba=n.rgb=n.css=n.color=n.channels=void 0,function(_){_.toCss=function(m,d,g,h){return h!==void 0?"#"+u(m)+u(d)+u(g)+u(h):"#"+u(m)+u(d)+u(g)},_.toRgba=function(m,d,g,h){return h===void 0&&(h=255),(m<<24|d<<16|g<<8|h)>>>0}}(i=n.channels||(n.channels={})),(o=n.color||(n.color={})).blend=function(_,m){var d=(255&m.rgba)/255;if(d===1)return{css:m.css,rgba:m.rgba};var g=m.rgba>>24&255,h=m.rgba>>16&255,f=m.rgba>>8&255,a=_.rgba>>24&255,c=_.rgba>>16&255,v=_.rgba>>8&255,y=a+Math.round((g-a)*d),S=c+Math.round((h-c)*d),b=v+Math.round((f-v)*d);return{css:i.toCss(y,S,b),rgba:i.toRgba(y,S,b)}},o.isOpaque=function(_){return(255&_.rgba)==255},o.ensureContrastRatio=function(_,m,d){var g=l.ensureContrastRatio(_.rgba,m.rgba,d);if(g)return l.toColor(g>>24&255,g>>16&255,g>>8&255)},o.opaque=function(_){var m=(255|_.rgba)>>>0,d=l.toChannels(m),g=d[0],h=d[1],f=d[2];return{css:i.toCss(g,h,f),rgba:m}},o.opacity=function(_,m){var d=Math.round(255*m),g=l.toChannels(_.rgba),h=g[0],f=g[1],a=g[2];return{css:i.toCss(h,f,a,d),rgba:i.toRgba(h,f,a,d)}},o.toColorRGB=function(_){return[_.rgba>>24&255,_.rgba>>16&255,_.rgba>>8&255]},(n.css||(n.css={})).toColor=function(_){switch(_.length){case 7:return{css:_,rgba:(parseInt(_.slice(1),16)<<8|255)>>>0};case 9:return{css:_,rgba:parseInt(_.slice(1),16)>>>0}}throw new Error("css.toColor: Unsupported css format")},function(_){function m(d,g,h){var f=d/255,a=g/255,c=h/255;return .2126*(f<=.03928?f/12.92:Math.pow((f+.055)/1.055,2.4))+.7152*(a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4))+.0722*(c<=.03928?c/12.92:Math.pow((c+.055)/1.055,2.4))}_.relativeLuminance=function(d){return m(d>>16&255,d>>8&255,255&d)},_.relativeLuminance2=m}(s=n.rgb||(n.rgb={})),function(_){function m(g,h,f){for(var a=g>>24&255,c=g>>16&255,v=g>>8&255,y=h>>24&255,S=h>>16&255,b=h>>8&255,C=p(s.relativeLuminance2(y,b,S),s.relativeLuminance2(a,c,v));C<f&&(y>0||S>0||b>0);)y-=Math.max(0,Math.ceil(.1*y)),S-=Math.max(0,Math.ceil(.1*S)),b-=Math.max(0,Math.ceil(.1*b)),C=p(s.relativeLuminance2(y,b,S),s.relativeLuminance2(a,c,v));return(y<<24|S<<16|b<<8|255)>>>0}function d(g,h,f){for(var a=g>>24&255,c=g>>16&255,v=g>>8&255,y=h>>24&255,S=h>>16&255,b=h>>8&255,C=p(s.relativeLuminance2(y,b,S),s.relativeLuminance2(a,c,v));C<f&&(y<255||S<255||b<255);)y=Math.min(255,y+Math.ceil(.1*(255-y))),S=Math.min(255,S+Math.ceil(.1*(255-S))),b=Math.min(255,b+Math.ceil(.1*(255-b))),C=p(s.relativeLuminance2(y,b,S),s.relativeLuminance2(a,c,v));return(y<<24|S<<16|b<<8|255)>>>0}_.ensureContrastRatio=function(g,h,f){var a=s.relativeLuminance(g>>8),c=s.relativeLuminance(h>>8);if(p(a,c)<f)return c<a?m(g,h,f):d(g,h,f)},_.reduceLuminance=m,_.increaseLuminance=d,_.toChannels=function(g){return[g>>24&255,g>>16&255,g>>8&255,255&g]},_.toColor=function(g,h,f){return{css:i.toCss(g,h,f),rgba:i.toRgba(g,h,f)}}}(l=n.rgba||(n.rgba={})),n.toPaddedHex=u,n.contrastRatio=p},7239:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ColorContrastCache=void 0;var i=function(){function o(){this._color={},this._rgba={}}return o.prototype.clear=function(){this._color={},this._rgba={}},o.prototype.setCss=function(s,l,u){this._rgba[s]||(this._rgba[s]={}),this._rgba[s][l]=u},o.prototype.getCss=function(s,l){return this._rgba[s]?this._rgba[s][l]:void 0},o.prototype.setColor=function(s,l,u){this._color[s]||(this._color[s]={}),this._color[s][l]=u},o.prototype.getColor=function(s,l){return this._color[s]?this._color[s][l]:void 0},o}();n.ColorContrastCache=i},5680:function(r,n,i){var o=this&&this.__spreadArray||function(h,f,a){if(a||arguments.length===2)for(var c,v=0,y=f.length;v<y;v++)!c&&v in f||(c||(c=Array.prototype.slice.call(f,0,v)),c[v]=f[v]);return h.concat(c||Array.prototype.slice.call(f))};Object.defineProperty(n,"__esModule",{value:!0}),n.ColorManager=n.DEFAULT_ANSI_COLORS=void 0;var s=i(4774),l=i(7239),u=s.css.toColor("#ffffff"),p=s.css.toColor("#000000"),_=s.css.toColor("#ffffff"),m=s.css.toColor("#000000"),d={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};n.DEFAULT_ANSI_COLORS=Object.freeze(function(){for(var h=[s.css.toColor("#2e3436"),s.css.toColor("#cc0000"),s.css.toColor("#4e9a06"),s.css.toColor("#c4a000"),s.css.toColor("#3465a4"),s.css.toColor("#75507b"),s.css.toColor("#06989a"),s.css.toColor("#d3d7cf"),s.css.toColor("#555753"),s.css.toColor("#ef2929"),s.css.toColor("#8ae234"),s.css.toColor("#fce94f"),s.css.toColor("#729fcf"),s.css.toColor("#ad7fa8"),s.css.toColor("#34e2e2"),s.css.toColor("#eeeeec")],f=[0,95,135,175,215,255],a=0;a<216;a++){var c=f[a/36%6|0],v=f[a/6%6|0],y=f[a%6];h.push({css:s.channels.toCss(c,v,y),rgba:s.channels.toRgba(c,v,y)})}for(a=0;a<24;a++){var S=8+10*a;h.push({css:s.channels.toCss(S,S,S),rgba:s.channels.toRgba(S,S,S)})}return h}());var g=function(){function h(f,a){this.allowTransparency=a;var c=f.createElement("canvas");c.width=1,c.height=1;var v=c.getContext("2d");if(!v)throw new Error("Could not get rendering context");this._ctx=v,this._ctx.globalCompositeOperation="copy",this._litmusColor=this._ctx.createLinearGradient(0,0,1,1),this._contrastCache=new l.ColorContrastCache,this.colors={foreground:u,background:p,cursor:_,cursorAccent:m,selectionTransparent:d,selectionOpaque:s.color.blend(p,d),ansi:n.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache},this._updateRestoreColors()}return h.prototype.onOptionsChange=function(f){f==="minimumContrastRatio"&&this._contrastCache.clear()},h.prototype.setTheme=function(f){f===void 0&&(f={}),this.colors.foreground=this._parseColor(f.foreground,u),this.colors.background=this._parseColor(f.background,p),this.colors.cursor=this._parseColor(f.cursor,_,!0),this.colors.cursorAccent=this._parseColor(f.cursorAccent,m,!0),this.colors.selectionTransparent=this._parseColor(f.selection,d,!0),this.colors.selectionOpaque=s.color.blend(this.colors.background,this.colors.selectionTransparent),s.color.isOpaque(this.colors.selectionTransparent)&&(this.colors.selectionTransparent=s.color.opacity(this.colors.selectionTransparent,.3)),this.colors.ansi[0]=this._parseColor(f.black,n.DEFAULT_ANSI_COLORS[0]),this.colors.ansi[1]=this._parseColor(f.red,n.DEFAULT_ANSI_COLORS[1]),this.colors.ansi[2]=this._parseColor(f.green,n.DEFAULT_ANSI_COLORS[2]),this.colors.ansi[3]=this._parseColor(f.yellow,n.DEFAULT_ANSI_COLORS[3]),this.colors.ansi[4]=this._parseColor(f.blue,n.DEFAULT_ANSI_COLORS[4]),this.colors.ansi[5]=this._parseColor(f.magenta,n.DEFAULT_ANSI_COLORS[5]),this.colors.ansi[6]=this._parseColor(f.cyan,n.DEFAULT_ANSI_COLORS[6]),this.colors.ansi[7]=this._parseColor(f.white,n.DEFAULT_ANSI_COLORS[7]),this.colors.ansi[8]=this._parseColor(f.brightBlack,n.DEFAULT_ANSI_COLORS[8]),this.colors.ansi[9]=this._parseColor(f.brightRed,n.DEFAULT_ANSI_COLORS[9]),this.colors.ansi[10]=this._parseColor(f.brightGreen,n.DEFAULT_ANSI_COLORS[10]),this.colors.ansi[11]=this._parseColor(f.brightYellow,n.DEFAULT_ANSI_COLORS[11]),this.colors.ansi[12]=this._parseColor(f.brightBlue,n.DEFAULT_ANSI_COLORS[12]),this.colors.ansi[13]=this._parseColor(f.brightMagenta,n.DEFAULT_ANSI_COLORS[13]),this.colors.ansi[14]=this._parseColor(f.brightCyan,n.DEFAULT_ANSI_COLORS[14]),this.colors.ansi[15]=this._parseColor(f.brightWhite,n.DEFAULT_ANSI_COLORS[15]),this._contrastCache.clear(),this._updateRestoreColors()},h.prototype.restoreColor=function(f){if(f!==void 0)switch(f){case 256:this.colors.foreground=this._restoreColors.foreground;break;case 257:this.colors.background=this._restoreColors.background;break;case 258:this.colors.cursor=this._restoreColors.cursor;break;default:this.colors.ansi[f]=this._restoreColors.ansi[f]}else for(var a=0;a<this._restoreColors.ansi.length;++a)this.colors.ansi[a]=this._restoreColors.ansi[a]},h.prototype._updateRestoreColors=function(){this._restoreColors={foreground:this.colors.foreground,background:this.colors.background,cursor:this.colors.cursor,ansi:o([],this.colors.ansi,!0)}},h.prototype._parseColor=function(f,a,c){if(c===void 0&&(c=this.allowTransparency),f===void 0)return a;if(this._ctx.fillStyle=this._litmusColor,this._ctx.fillStyle=f,typeof this._ctx.fillStyle!="string")return console.warn("Color: "+f+" is invalid using fallback "+a.css),a;this._ctx.fillRect(0,0,1,1);var v=this._ctx.getImageData(0,0,1,1).data;if(v[3]!==255){if(!c)return console.warn("Color: "+f+" is using transparency, but allowTransparency is false. Using fallback "+a.css+"."),a;var y=this._ctx.fillStyle.substring(5,this._ctx.fillStyle.length-1).split(",").map(function(w){return Number(w)}),S=y[0],b=y[1],C=y[2],E=y[3],x=Math.round(255*E);return{rgba:s.channels.toRgba(S,b,C,x),css:f}}return{css:this._ctx.fillStyle,rgba:s.channels.toRgba(v[0],v[1],v[2],v[3])}},h}();n.ColorManager=g},9631:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.removeElementFromParent=void 0,n.removeElementFromParent=function(){for(var i,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];for(var l=0,u=o;l<u.length;l++){var p=u[l];(i=p?.parentElement)===null||i===void 0||i.removeChild(p)}}},3656:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.addDisposableDomListener=void 0,n.addDisposableDomListener=function(i,o,s,l){i.addEventListener(o,s,l);var u=!1;return{dispose:function(){u||(u=!0,i.removeEventListener(o,s,l))}}}},3551:function(r,n,i){var o=this&&this.__decorate||function(m,d,g,h){var f,a=arguments.length,c=a<3?d:h===null?h=Object.getOwnPropertyDescriptor(d,g):h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(m,d,g,h);else for(var v=m.length-1;v>=0;v--)(f=m[v])&&(c=(a<3?f(c):a>3?f(d,g,c):f(d,g))||c);return a>3&&c&&Object.defineProperty(d,g,c),c},s=this&&this.__param||function(m,d){return function(g,h){d(g,h,m)}};Object.defineProperty(n,"__esModule",{value:!0}),n.MouseZone=n.Linkifier=void 0;var l=i(8460),u=i(2585),p=function(){function m(d,g,h){this._bufferService=d,this._logService=g,this._unicodeService=h,this._linkMatchers=[],this._nextLinkMatcherId=0,this._onShowLinkUnderline=new l.EventEmitter,this._onHideLinkUnderline=new l.EventEmitter,this._onLinkTooltip=new l.EventEmitter,this._rowsToLinkify={start:void 0,end:void 0}}return Object.defineProperty(m.prototype,"onShowLinkUnderline",{get:function(){return this._onShowLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onHideLinkUnderline",{get:function(){return this._onHideLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onLinkTooltip",{get:function(){return this._onLinkTooltip.event},enumerable:!1,configurable:!0}),m.prototype.attachToDom=function(d,g){this._element=d,this._mouseZoneManager=g},m.prototype.linkifyRows=function(d,g){var h=this;this._mouseZoneManager&&(this._rowsToLinkify.start===void 0||this._rowsToLinkify.end===void 0?(this._rowsToLinkify.start=d,this._rowsToLinkify.end=g):(this._rowsToLinkify.start=Math.min(this._rowsToLinkify.start,d),this._rowsToLinkify.end=Math.max(this._rowsToLinkify.end,g)),this._mouseZoneManager.clearAll(d,g),this._rowsTimeoutId&&clearTimeout(this._rowsTimeoutId),this._rowsTimeoutId=setTimeout(function(){return h._linkifyRows()},m._timeBeforeLatency))},m.prototype._linkifyRows=function(){this._rowsTimeoutId=void 0;var d=this._bufferService.buffer;if(this._rowsToLinkify.start!==void 0&&this._rowsToLinkify.end!==void 0){var g=d.ydisp+this._rowsToLinkify.start;if(!(g>=d.lines.length)){for(var h=d.ydisp+Math.min(this._rowsToLinkify.end,this._bufferService.rows)+1,f=Math.ceil(2e3/this._bufferService.cols),a=this._bufferService.buffer.iterator(!1,g,h,f,f);a.hasNext();)for(var c=a.next(),v=0;v<this._linkMatchers.length;v++)this._doLinkifyRow(c.range.first,c.content,this._linkMatchers[v]);this._rowsToLinkify.start=void 0,this._rowsToLinkify.end=void 0}}else this._logService.debug("_rowToLinkify was unset before _linkifyRows was called")},m.prototype.registerLinkMatcher=function(d,g,h){if(h===void 0&&(h={}),!g)throw new Error("handler must be defined");var f={id:this._nextLinkMatcherId++,regex:d,handler:g,matchIndex:h.matchIndex,validationCallback:h.validationCallback,hoverTooltipCallback:h.tooltipCallback,hoverLeaveCallback:h.leaveCallback,willLinkActivate:h.willLinkActivate,priority:h.priority||0};return this._addLinkMatcherToList(f),f.id},m.prototype._addLinkMatcherToList=function(d){if(this._linkMatchers.length!==0){for(var g=this._linkMatchers.length-1;g>=0;g--)if(d.priority<=this._linkMatchers[g].priority)return void this._linkMatchers.splice(g+1,0,d);this._linkMatchers.splice(0,0,d)}else this._linkMatchers.push(d)},m.prototype.deregisterLinkMatcher=function(d){for(var g=0;g<this._linkMatchers.length;g++)if(this._linkMatchers[g].id===d)return this._linkMatchers.splice(g,1),!0;return!1},m.prototype._doLinkifyRow=function(d,g,h){for(var f,a=this,c=new RegExp(h.regex.source,(h.regex.flags||"")+"g"),v=-1,y=function(){var b=f[typeof h.matchIndex!="number"?0:h.matchIndex];if(!b)return S._logService.debug("match found without corresponding matchIndex",f,h),"break";if(v=g.indexOf(b,v+1),c.lastIndex=v+b.length,v<0)return"break";var C=S._bufferService.buffer.stringIndexToBufferIndex(d,v);if(C[0]<0)return"break";var E=S._bufferService.buffer.lines.get(C[0]);if(!E)return"break";var x=E.getFg(C[1]),w=x?x>>9&511:void 0;h.validationCallback?h.validationCallback(b,function(L){a._rowsTimeoutId||L&&a._addLink(C[1],C[0]-a._bufferService.buffer.ydisp,b,h,w)}):S._addLink(C[1],C[0]-S._bufferService.buffer.ydisp,b,h,w)},S=this;(f=c.exec(g))!==null&&y()!=="break";);},m.prototype._addLink=function(d,g,h,f,a){var c=this;if(this._mouseZoneManager&&this._element){var v=this._unicodeService.getStringCellWidth(h),y=d%this._bufferService.cols,S=g+Math.floor(d/this._bufferService.cols),b=(y+v)%this._bufferService.cols,C=S+Math.floor((y+v)/this._bufferService.cols);b===0&&(b=this._bufferService.cols,C--),this._mouseZoneManager.add(new _(y+1,S+1,b+1,C+1,function(E){if(f.handler)return f.handler(E,h);var x=window.open();x?(x.opener=null,x.location.href=h):console.warn("Opening link blocked as opener could not be cleared")},function(){c._onShowLinkUnderline.fire(c._createLinkHoverEvent(y,S,b,C,a)),c._element.classList.add("xterm-cursor-pointer")},function(E){c._onLinkTooltip.fire(c._createLinkHoverEvent(y,S,b,C,a)),f.hoverTooltipCallback&&f.hoverTooltipCallback(E,h,{start:{x:y,y:S},end:{x:b,y:C}})},function(){c._onHideLinkUnderline.fire(c._createLinkHoverEvent(y,S,b,C,a)),c._element.classList.remove("xterm-cursor-pointer"),f.hoverLeaveCallback&&f.hoverLeaveCallback()},function(E){return!f.willLinkActivate||f.willLinkActivate(E,h)}))}},m.prototype._createLinkHoverEvent=function(d,g,h,f,a){return{x1:d,y1:g,x2:h,y2:f,cols:this._bufferService.cols,fg:a}},m._timeBeforeLatency=200,m=o([s(0,u.IBufferService),s(1,u.ILogService),s(2,u.IUnicodeService)],m)}();n.Linkifier=p;var _=function(m,d,g,h,f,a,c,v,y){this.x1=m,this.y1=d,this.x2=g,this.y2=h,this.clickCallback=f,this.hoverCallback=a,this.tooltipCallback=c,this.leaveCallback=v,this.willLinkActivate=y};n.MouseZone=_},6465:function(r,n,i){var o,s=this&&this.__extends||(o=function(h,f){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var v in c)Object.prototype.hasOwnProperty.call(c,v)&&(a[v]=c[v])},o(h,f)},function(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function a(){this.constructor=h}o(h,f),h.prototype=f===null?Object.create(f):(a.prototype=f.prototype,new a)}),l=this&&this.__decorate||function(h,f,a,c){var v,y=arguments.length,S=y<3?f:c===null?c=Object.getOwnPropertyDescriptor(f,a):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(h,f,a,c);else for(var b=h.length-1;b>=0;b--)(v=h[b])&&(S=(y<3?v(S):y>3?v(f,a,S):v(f,a))||S);return y>3&&S&&Object.defineProperty(f,a,S),S},u=this&&this.__param||function(h,f){return function(a,c){f(a,c,h)}};Object.defineProperty(n,"__esModule",{value:!0}),n.Linkifier2=void 0;var p=i(2585),_=i(8460),m=i(844),d=i(3656),g=function(h){function f(a){var c=h.call(this)||this;return c._bufferService=a,c._linkProviders=[],c._linkCacheDisposables=[],c._isMouseOut=!0,c._activeLine=-1,c._onShowLinkUnderline=c.register(new _.EventEmitter),c._onHideLinkUnderline=c.register(new _.EventEmitter),c.register((0,m.getDisposeArrayDisposable)(c._linkCacheDisposables)),c}return s(f,h),Object.defineProperty(f.prototype,"currentLink",{get:function(){return this._currentLink},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"onShowLinkUnderline",{get:function(){return this._onShowLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"onHideLinkUnderline",{get:function(){return this._onHideLinkUnderline.event},enumerable:!1,configurable:!0}),f.prototype.registerLinkProvider=function(a){var c=this;return this._linkProviders.push(a),{dispose:function(){var v=c._linkProviders.indexOf(a);v!==-1&&c._linkProviders.splice(v,1)}}},f.prototype.attachToDom=function(a,c,v){var y=this;this._element=a,this._mouseService=c,this._renderService=v,this.register((0,d.addDisposableDomListener)(this._element,"mouseleave",function(){y._isMouseOut=!0,y._clearCurrentLink()})),this.register((0,d.addDisposableDomListener)(this._element,"mousemove",this._onMouseMove.bind(this))),this.register((0,d.addDisposableDomListener)(this._element,"click",this._onClick.bind(this)))},f.prototype._onMouseMove=function(a){if(this._lastMouseEvent=a,this._element&&this._mouseService){var c=this._positionFromMouseEvent(a,this._element,this._mouseService);if(c){this._isMouseOut=!1;for(var v=a.composedPath(),y=0;y<v.length;y++){var S=v[y];if(S.classList.contains("xterm"))break;if(S.classList.contains("xterm-hover"))return}this._lastBufferCell&&c.x===this._lastBufferCell.x&&c.y===this._lastBufferCell.y||(this._onHover(c),this._lastBufferCell=c)}}},f.prototype._onHover=function(a){if(this._activeLine!==a.y)return this._clearCurrentLink(),void this._askForLink(a,!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,a)||(this._clearCurrentLink(),this._askForLink(a,!0))},f.prototype._askForLink=function(a,c){var v,y=this;this._activeProviderReplies&&c||((v=this._activeProviderReplies)===null||v===void 0||v.forEach(function(b){b?.forEach(function(C){C.link.dispose&&C.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=a.y);var S=!1;this._linkProviders.forEach(function(b,C){var E;c?!((E=y._activeProviderReplies)===null||E===void 0)&&E.get(C)&&(S=y._checkLinkProviderResult(C,a,S)):b.provideLinks(a.y,function(x){var w,L;if(!y._isMouseOut){var k=x?.map(function(N){return{link:N}});(w=y._activeProviderReplies)===null||w===void 0||w.set(C,k),S=y._checkLinkProviderResult(C,a,S),((L=y._activeProviderReplies)===null||L===void 0?void 0:L.size)===y._linkProviders.length&&y._removeIntersectingLinks(a.y,y._activeProviderReplies)}})})},f.prototype._removeIntersectingLinks=function(a,c){for(var v=new Set,y=0;y<c.size;y++){var S=c.get(y);if(S)for(var b=0;b<S.length;b++)for(var C=S[b],E=C.link.range.start.y<a?0:C.link.range.start.x,x=C.link.range.end.y>a?this._bufferService.cols:C.link.range.end.x,w=E;w<=x;w++){if(v.has(w)){S.splice(b--,1);break}v.add(w)}}},f.prototype._checkLinkProviderResult=function(a,c,v){var y,S=this;if(!this._activeProviderReplies)return v;for(var b=this._activeProviderReplies.get(a),C=!1,E=0;E<a;E++)this._activeProviderReplies.has(E)&&!this._activeProviderReplies.get(E)||(C=!0);if(!C&&b){var x=b.find(function(L){return S._linkAtPosition(L.link,c)});x&&(v=!0,this._handleNewLink(x))}if(this._activeProviderReplies.size===this._linkProviders.length&&!v)for(E=0;E<this._activeProviderReplies.size;E++){var w=(y=this._activeProviderReplies.get(E))===null||y===void 0?void 0:y.find(function(L){return S._linkAtPosition(L.link,c)});if(w){v=!0,this._handleNewLink(w);break}}return v},f.prototype._onClick=function(a){if(this._element&&this._mouseService&&this._currentLink){var c=this._positionFromMouseEvent(a,this._element,this._mouseService);c&&this._linkAtPosition(this._currentLink.link,c)&&this._currentLink.link.activate(a,this._currentLink.link.text)}},f.prototype._clearCurrentLink=function(a,c){this._element&&this._currentLink&&this._lastMouseEvent&&(!a||!c||this._currentLink.link.range.start.y>=a&&this._currentLink.link.range.end.y<=c)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,m.disposeArray)(this._linkCacheDisposables))},f.prototype._handleNewLink=function(a){var c=this;if(this._element&&this._lastMouseEvent&&this._mouseService){var v=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);v&&this._linkAtPosition(a.link,v)&&(this._currentLink=a,this._currentLink.state={decorations:{underline:a.link.decorations===void 0||a.link.decorations.underline,pointerCursor:a.link.decorations===void 0||a.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,a.link,this._lastMouseEvent),a.link.decorations={},Object.defineProperties(a.link.decorations,{pointerCursor:{get:function(){var y,S;return(S=(y=c._currentLink)===null||y===void 0?void 0:y.state)===null||S===void 0?void 0:S.decorations.pointerCursor},set:function(y){var S,b;((S=c._currentLink)===null||S===void 0?void 0:S.state)&&c._currentLink.state.decorations.pointerCursor!==y&&(c._currentLink.state.decorations.pointerCursor=y,c._currentLink.state.isHovered&&((b=c._element)===null||b===void 0||b.classList.toggle("xterm-cursor-pointer",y)))}},underline:{get:function(){var y,S;return(S=(y=c._currentLink)===null||y===void 0?void 0:y.state)===null||S===void 0?void 0:S.decorations.underline},set:function(y){var S,b,C;((S=c._currentLink)===null||S===void 0?void 0:S.state)&&((C=(b=c._currentLink)===null||b===void 0?void 0:b.state)===null||C===void 0?void 0:C.decorations.underline)!==y&&(c._currentLink.state.decorations.underline=y,c._currentLink.state.isHovered&&c._fireUnderlineEvent(a.link,y))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedBufferChange(function(y){var S=y.start===0?0:y.start+1+c._bufferService.buffer.ydisp;c._clearCurrentLink(S,y.end+1+c._bufferService.buffer.ydisp)})))}},f.prototype._linkHover=function(a,c,v){var y;!((y=this._currentLink)===null||y===void 0)&&y.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(c,!0),this._currentLink.state.decorations.pointerCursor&&a.classList.add("xterm-cursor-pointer")),c.hover&&c.hover(v,c.text)},f.prototype._fireUnderlineEvent=function(a,c){var v=a.range,y=this._bufferService.buffer.ydisp,S=this._createLinkUnderlineEvent(v.start.x-1,v.start.y-y-1,v.end.x,v.end.y-y-1,void 0);(c?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(S)},f.prototype._linkLeave=function(a,c,v){var y;!((y=this._currentLink)===null||y===void 0)&&y.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(c,!1),this._currentLink.state.decorations.pointerCursor&&a.classList.remove("xterm-cursor-pointer")),c.leave&&c.leave(v,c.text)},f.prototype._linkAtPosition=function(a,c){var v=a.range.start.y===a.range.end.y,y=a.range.start.y<c.y,S=a.range.end.y>c.y;return(v&&a.range.start.x<=c.x&&a.range.end.x>=c.x||y&&a.range.end.x>=c.x||S&&a.range.start.x<=c.x||y&&S)&&a.range.start.y<=c.y&&a.range.end.y>=c.y},f.prototype._positionFromMouseEvent=function(a,c,v){var y=v.getCoords(a,c,this._bufferService.cols,this._bufferService.rows);if(y)return{x:y[0],y:y[1]+this._bufferService.buffer.ydisp}},f.prototype._createLinkUnderlineEvent=function(a,c,v,y,S){return{x1:a,y1:c,x2:v,y2:y,cols:this._bufferService.cols,fg:S}},l([u(0,p.IBufferService)],f)}(m.Disposable);n.Linkifier2=g},9042:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.tooMuchOutput=n.promptLabel=void 0,n.promptLabel="Terminal input",n.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},6954:function(r,n,i){var o,s=this&&this.__extends||(o=function(h,f){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var v in c)Object.prototype.hasOwnProperty.call(c,v)&&(a[v]=c[v])},o(h,f)},function(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function a(){this.constructor=h}o(h,f),h.prototype=f===null?Object.create(f):(a.prototype=f.prototype,new a)}),l=this&&this.__decorate||function(h,f,a,c){var v,y=arguments.length,S=y<3?f:c===null?c=Object.getOwnPropertyDescriptor(f,a):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(h,f,a,c);else for(var b=h.length-1;b>=0;b--)(v=h[b])&&(S=(y<3?v(S):y>3?v(f,a,S):v(f,a))||S);return y>3&&S&&Object.defineProperty(f,a,S),S},u=this&&this.__param||function(h,f){return function(a,c){f(a,c,h)}};Object.defineProperty(n,"__esModule",{value:!0}),n.MouseZoneManager=void 0;var p=i(844),_=i(3656),m=i(4725),d=i(2585),g=function(h){function f(a,c,v,y,S,b){var C=h.call(this)||this;return C._element=a,C._screenElement=c,C._bufferService=v,C._mouseService=y,C._selectionService=S,C._optionsService=b,C._zones=[],C._areZonesActive=!1,C._lastHoverCoords=[void 0,void 0],C._initialSelectionLength=0,C.register((0,_.addDisposableDomListener)(C._element,"mousedown",function(E){return C._onMouseDown(E)})),C._mouseMoveListener=function(E){return C._onMouseMove(E)},C._mouseLeaveListener=function(E){return C._onMouseLeave(E)},C._clickListener=function(E){return C._onClick(E)},C}return s(f,h),f.prototype.dispose=function(){h.prototype.dispose.call(this),this._deactivate()},f.prototype.add=function(a){this._zones.push(a),this._zones.length===1&&this._activate()},f.prototype.clearAll=function(a,c){if(this._zones.length!==0){a&&c||(a=0,c=this._bufferService.rows-1);for(var v=0;v<this._zones.length;v++){var y=this._zones[v];(y.y1>a&&y.y1<=c+1||y.y2>a&&y.y2<=c+1||y.y1<a&&y.y2>c+1)&&(this._currentZone&&this._currentZone===y&&(this._currentZone.leaveCallback(),this._currentZone=void 0),this._zones.splice(v--,1))}this._zones.length===0&&this._deactivate()}},f.prototype._activate=function(){this._areZonesActive||(this._areZonesActive=!0,this._element.addEventListener("mousemove",this._mouseMoveListener),this._element.addEventListener("mouseleave",this._mouseLeaveListener),this._element.addEventListener("click",this._clickListener))},f.prototype._deactivate=function(){this._areZonesActive&&(this._areZonesActive=!1,this._element.removeEventListener("mousemove",this._mouseMoveListener),this._element.removeEventListener("mouseleave",this._mouseLeaveListener),this._element.removeEventListener("click",this._clickListener))},f.prototype._onMouseMove=function(a){this._lastHoverCoords[0]===a.pageX&&this._lastHoverCoords[1]===a.pageY||(this._onHover(a),this._lastHoverCoords=[a.pageX,a.pageY])},f.prototype._onHover=function(a){var c=this,v=this._findZoneEventAt(a);v!==this._currentZone&&(this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=void 0,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout)),v&&(this._currentZone=v,v.hoverCallback&&v.hoverCallback(a),this._tooltipTimeout=window.setTimeout(function(){return c._onTooltip(a)},this._optionsService.rawOptions.linkTooltipHoverDuration)))},f.prototype._onTooltip=function(a){this._tooltipTimeout=void 0;var c=this._findZoneEventAt(a);c?.tooltipCallback(a)},f.prototype._onMouseDown=function(a){if(this._initialSelectionLength=this._getSelectionLength(),this._areZonesActive){var c=this._findZoneEventAt(a);c?.willLinkActivate(a)&&(a.preventDefault(),a.stopImmediatePropagation())}},f.prototype._onMouseLeave=function(a){this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=void 0,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout))},f.prototype._onClick=function(a){var c=this._findZoneEventAt(a),v=this._getSelectionLength();c&&v===this._initialSelectionLength&&(c.clickCallback(a),a.preventDefault(),a.stopImmediatePropagation())},f.prototype._getSelectionLength=function(){var a=this._selectionService.selectionText;return a?a.length:0},f.prototype._findZoneEventAt=function(a){var c=this._mouseService.getCoords(a,this._screenElement,this._bufferService.cols,this._bufferService.rows);if(c)for(var v=c[0],y=c[1],S=0;S<this._zones.length;S++){var b=this._zones[S];if(b.y1===b.y2){if(y===b.y1&&v>=b.x1&&v<b.x2)return b}else if(y===b.y1&&v>=b.x1||y===b.y2&&v<b.x2||y>b.y1&&y<b.y2)return b}},l([u(2,d.IBufferService),u(3,m.IMouseService),u(4,m.ISelectionService),u(5,d.IOptionsService)],f)}(p.Disposable);n.MouseZoneManager=g},6193:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.RenderDebouncer=void 0;var i=function(){function o(s){this._renderCallback=s}return o.prototype.dispose=function(){this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},o.prototype.refresh=function(s,l,u){var p=this;this._rowCount=u,s=s!==void 0?s:0,l=l!==void 0?l:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,s):s,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,l):l,this._animationFrame||(this._animationFrame=window.requestAnimationFrame(function(){return p._innerRefresh()}))},o.prototype._innerRefresh=function(){if(this._rowStart!==void 0&&this._rowEnd!==void 0&&this._rowCount!==void 0){var s=Math.max(this._rowStart,0),l=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._animationFrame=void 0,this._renderCallback(s,l)}},o}();n.RenderDebouncer=i},5596:function(r,n,i){var o,s=this&&this.__extends||(o=function(u,p){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,m){_.__proto__=m}||function(_,m){for(var d in m)Object.prototype.hasOwnProperty.call(m,d)&&(_[d]=m[d])},o(u,p)},function(u,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function _(){this.constructor=u}o(u,p),u.prototype=p===null?Object.create(p):(_.prototype=p.prototype,new _)});Object.defineProperty(n,"__esModule",{value:!0}),n.ScreenDprMonitor=void 0;var l=function(u){function p(){var _=u!==null&&u.apply(this,arguments)||this;return _._currentDevicePixelRatio=window.devicePixelRatio,_}return s(p,u),p.prototype.setListener=function(_){var m=this;this._listener&&this.clearListener(),this._listener=_,this._outerListener=function(){m._listener&&(m._listener(window.devicePixelRatio,m._currentDevicePixelRatio),m._updateDpr())},this._updateDpr()},p.prototype.dispose=function(){u.prototype.dispose.call(this),this.clearListener()},p.prototype._updateDpr=function(){var _;this._outerListener&&((_=this._resolutionMediaMatchList)===null||_===void 0||_.removeListener(this._outerListener),this._currentDevicePixelRatio=window.devicePixelRatio,this._resolutionMediaMatchList=window.matchMedia("screen and (resolution: "+window.devicePixelRatio+"dppx)"),this._resolutionMediaMatchList.addListener(this._outerListener))},p.prototype.clearListener=function(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)},p}(i(844).Disposable);n.ScreenDprMonitor=l},3236:function(r,n,i){var o,s=this&&this.__extends||(o=function(M,q){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,B){R.__proto__=B}||function(R,B){for(var P in B)Object.prototype.hasOwnProperty.call(B,P)&&(R[P]=B[P])},o(M,q)},function(M,q){if(typeof q!="function"&&q!==null)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");function R(){this.constructor=M}o(M,q),M.prototype=q===null?Object.create(q):(R.prototype=q.prototype,new R)});Object.defineProperty(n,"__esModule",{value:!0}),n.Terminal=void 0;var l=i(2950),u=i(1680),p=i(3614),_=i(2584),m=i(5435),d=i(3525),g=i(3551),h=i(9312),f=i(6114),a=i(3656),c=i(9042),v=i(357),y=i(6954),S=i(4567),b=i(1296),C=i(7399),E=i(8460),x=i(8437),w=i(5680),L=i(3230),k=i(4725),N=i(428),A=i(8934),O=i(6465),I=i(5114),D=i(8969),j=i(4774),z=i(4269),V=i(5941),ae=i(7641),re=typeof window<"u"?window.document:null,ke=function(M){function q(R){R===void 0&&(R={});var B=M.call(this,R)||this;return B.browser=f,B._keyDownHandled=!1,B._keyPressHandled=!1,B._unprocessedDeadKey=!1,B._onCursorMove=new E.EventEmitter,B._onKey=new E.EventEmitter,B._onRender=new E.EventEmitter,B._onSelectionChange=new E.EventEmitter,B._onTitleChange=new E.EventEmitter,B._onBell=new E.EventEmitter,B._onFocus=new E.EventEmitter,B._onBlur=new E.EventEmitter,B._onA11yCharEmitter=new E.EventEmitter,B._onA11yTabEmitter=new E.EventEmitter,B._setup(),B.linkifier=B._instantiationService.createInstance(g.Linkifier),B.linkifier2=B.register(B._instantiationService.createInstance(O.Linkifier2)),B.decorationService=B.register(B._instantiationService.createInstance(ae.DecorationService)),B.register(B._inputHandler.onRequestBell(function(){return B.bell()})),B.register(B._inputHandler.onRequestRefreshRows(function(P,ee){return B.refresh(P,ee)})),B.register(B._inputHandler.onRequestSendFocus(function(){return B._reportFocus()})),B.register(B._inputHandler.onRequestReset(function(){return B.reset()})),B.register(B._inputHandler.onRequestWindowsOptionsReport(function(P){return B._reportWindowsOptions(P)})),B.register(B._inputHandler.onColor(function(P){return B._handleColorEvent(P)})),B.register((0,E.forwardEvent)(B._inputHandler.onCursorMove,B._onCursorMove)),B.register((0,E.forwardEvent)(B._inputHandler.onTitleChange,B._onTitleChange)),B.register((0,E.forwardEvent)(B._inputHandler.onA11yChar,B._onA11yCharEmitter)),B.register((0,E.forwardEvent)(B._inputHandler.onA11yTab,B._onA11yTabEmitter)),B.register(B._bufferService.onResize(function(P){return B._afterResize(P.cols,P.rows)})),B}return s(q,M),Object.defineProperty(q.prototype,"onCursorMove",{get:function(){return this._onCursorMove.event},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"onKey",{get:function(){return this._onKey.event},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"onRender",{get:function(){return this._onRender.event},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"onSelectionChange",{get:function(){return this._onSelectionChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"onTitleChange",{get:function(){return this._onTitleChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"onBell",{get:function(){return this._onBell.event},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"onFocus",{get:function(){return this._onFocus.event},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"onBlur",{get:function(){return this._onBlur.event},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"onA11yChar",{get:function(){return this._onA11yCharEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"onA11yTab",{get:function(){return this._onA11yTabEmitter.event},enumerable:!1,configurable:!0}),q.prototype._handleColorEvent=function(R){var B,P;if(this._colorManager){for(var ee=0,ne=R;ee<ne.length;ee++){var ue=ne[ee],Fe=void 0,Qe="";switch(ue.index){case 256:Fe="foreground",Qe="10";break;case 257:Fe="background",Qe="11";break;case 258:Fe="cursor",Qe="12";break;default:Fe="ansi",Qe="4;"+ue.index}if(Fe)switch(ue.type){case 0:var vr=j.color.toColorRGB(Fe==="ansi"?this._colorManager.colors.ansi[ue.index]:this._colorManager.colors[Fe]);this.coreService.triggerDataEvent(_.C0.ESC+"]"+Qe+";"+(0,V.toRgbString)(vr)+_.C0.BEL);break;case 1:Fe==="ansi"?this._colorManager.colors.ansi[ue.index]=j.rgba.toColor.apply(j.rgba,ue.color):this._colorManager.colors[Fe]=j.rgba.toColor.apply(j.rgba,ue.color);break;case 2:this._colorManager.restoreColor(ue.index)}}(B=this._renderService)===null||B===void 0||B.setColors(this._colorManager.colors),(P=this.viewport)===null||P===void 0||P.onThemeChange(this._colorManager.colors)}},q.prototype.dispose=function(){var R,B,P;this._isDisposed||(M.prototype.dispose.call(this),(R=this._renderService)===null||R===void 0||R.dispose(),this._customKeyEventHandler=void 0,this.write=function(){},(P=(B=this.element)===null||B===void 0?void 0:B.parentNode)===null||P===void 0||P.removeChild(this.element))},q.prototype._setup=function(){M.prototype._setup.call(this),this._customKeyEventHandler=void 0},Object.defineProperty(q.prototype,"buffer",{get:function(){return this.buffers.active},enumerable:!1,configurable:!0}),q.prototype.focus=function(){this.textarea&&this.textarea.focus({preventScroll:!0})},q.prototype._updateOptions=function(R){var B,P,ee,ne;switch(M.prototype._updateOptions.call(this,R),R){case"fontFamily":case"fontSize":(B=this._renderService)===null||B===void 0||B.clear(),(P=this._charSizeService)===null||P===void 0||P.measure();break;case"cursorBlink":case"cursorStyle":this.refresh(this.buffer.y,this.buffer.y);break;case"customGlyphs":case"drawBoldTextInBrightColors":case"letterSpacing":case"lineHeight":case"fontWeight":case"fontWeightBold":case"minimumContrastRatio":this._renderService&&(this._renderService.clear(),this._renderService.onResize(this.cols,this.rows),this.refresh(0,this.rows-1));break;case"rendererType":this._renderService&&(this._renderService.setRenderer(this._createRenderer()),this._renderService.onResize(this.cols,this.rows));break;case"scrollback":(ee=this.viewport)===null||ee===void 0||ee.syncScrollArea();break;case"screenReaderMode":this.optionsService.rawOptions.screenReaderMode?!this._accessibilityManager&&this._renderService&&(this._accessibilityManager=new S.AccessibilityManager(this,this._renderService)):((ne=this._accessibilityManager)===null||ne===void 0||ne.dispose(),this._accessibilityManager=void 0);break;case"tabStopWidth":this.buffers.setupTabStops();break;case"theme":this._setTheme(this.optionsService.rawOptions.theme)}},q.prototype._onTextAreaFocus=function(R){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(_.C0.ESC+"[I"),this.updateCursorStyle(R),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()},q.prototype.blur=function(){var R;return(R=this.textarea)===null||R===void 0?void 0:R.blur()},q.prototype._onTextAreaBlur=function(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(_.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()},q.prototype._syncTextArea=function(){if(this.textarea&&this.buffer.isCursorInViewport&&!this._compositionHelper.isComposing&&this._renderService){var R=this.buffer.ybase+this.buffer.y,B=this.buffer.lines.get(R);if(B){var P=Math.min(this.buffer.x,this.cols-1),ee=this._renderService.dimensions.actualCellHeight,ne=B.getWidth(P),ue=this._renderService.dimensions.actualCellWidth*ne,Fe=this.buffer.y*this._renderService.dimensions.actualCellHeight,Qe=P*this._renderService.dimensions.actualCellWidth;this.textarea.style.left=Qe+"px",this.textarea.style.top=Fe+"px",this.textarea.style.width=ue+"px",this.textarea.style.height=ee+"px",this.textarea.style.lineHeight=ee+"px",this.textarea.style.zIndex="-5"}}},q.prototype._initGlobal=function(){var R=this;this._bindKeys(),this.register((0,a.addDisposableDomListener)(this.element,"copy",function(P){R.hasSelection()&&(0,p.copyHandler)(P,R._selectionService)}));var B=function(P){return(0,p.handlePasteEvent)(P,R.textarea,R.coreService)};this.register((0,a.addDisposableDomListener)(this.textarea,"paste",B)),this.register((0,a.addDisposableDomListener)(this.element,"paste",B)),f.isFirefox?this.register((0,a.addDisposableDomListener)(this.element,"mousedown",function(P){P.button===2&&(0,p.rightClickHandler)(P,R.textarea,R.screenElement,R._selectionService,R.options.rightClickSelectsWord)})):this.register((0,a.addDisposableDomListener)(this.element,"contextmenu",function(P){(0,p.rightClickHandler)(P,R.textarea,R.screenElement,R._selectionService,R.options.rightClickSelectsWord)})),f.isLinux&&this.register((0,a.addDisposableDomListener)(this.element,"auxclick",function(P){P.button===1&&(0,p.moveTextAreaUnderMouseCursor)(P,R.textarea,R.screenElement)}))},q.prototype._bindKeys=function(){var R=this;this.register((0,a.addDisposableDomListener)(this.textarea,"keyup",function(B){return R._keyUp(B)},!0)),this.register((0,a.addDisposableDomListener)(this.textarea,"keydown",function(B){return R._keyDown(B)},!0)),this.register((0,a.addDisposableDomListener)(this.textarea,"keypress",function(B){return R._keyPress(B)},!0)),this.register((0,a.addDisposableDomListener)(this.textarea,"compositionstart",function(){return R._compositionHelper.compositionstart()})),this.register((0,a.addDisposableDomListener)(this.textarea,"compositionupdate",function(B){return R._compositionHelper.compositionupdate(B)})),this.register((0,a.addDisposableDomListener)(this.textarea,"compositionend",function(){return R._compositionHelper.compositionend()})),this.register((0,a.addDisposableDomListener)(this.textarea,"input",function(B){return R._inputEvent(B)},!0)),this.register(this.onRender(function(){return R._compositionHelper.updateCompositionElements()})),this.register(this.onRender(function(B){return R._queueLinkification(B.start,B.end)}))},q.prototype.open=function(R){var B=this;if(!R)throw new Error("Terminal requires a parent element.");R.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=R.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),this.element.setAttribute("tabindex","0"),R.appendChild(this.element);var P=re.createDocumentFragment();this._viewportElement=re.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),P.appendChild(this._viewportElement),this._viewportScrollArea=re.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=re.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=re.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),P.appendChild(this.screenElement),this.textarea=re.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",c.promptLabel),this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this.register((0,a.addDisposableDomListener)(this.textarea,"focus",function(ue){return B._onTextAreaFocus(ue)})),this.register((0,a.addDisposableDomListener)(this.textarea,"blur",function(){return B._onTextAreaBlur()})),this._helperContainer.appendChild(this.textarea);var ee=this._instantiationService.createInstance(I.CoreBrowserService,this.textarea);this._instantiationService.setService(k.ICoreBrowserService,ee),this._charSizeService=this._instantiationService.createInstance(N.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(k.ICharSizeService,this._charSizeService),this._theme=this.options.theme||this._theme,this._colorManager=new w.ColorManager(re,this.options.allowTransparency),this.register(this.optionsService.onOptionChange(function(ue){return B._colorManager.onOptionsChange(ue)})),this._colorManager.setTheme(this._theme),this._characterJoinerService=this._instantiationService.createInstance(z.CharacterJoinerService),this._instantiationService.setService(k.ICharacterJoinerService,this._characterJoinerService);var ne=this._createRenderer();this._renderService=this.register(this._instantiationService.createInstance(L.RenderService,ne,this.rows,this.screenElement)),this._instantiationService.setService(k.IRenderService,this._renderService),this.register(this._renderService.onRenderedBufferChange(function(ue){return B._onRender.fire(ue)})),this.onResize(function(ue){return B._renderService.resize(ue.cols,ue.rows)}),this._compositionView=re.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(l.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(P),this._soundService=this._instantiationService.createInstance(v.SoundService),this._instantiationService.setService(k.ISoundService,this._soundService),this._mouseService=this._instantiationService.createInstance(A.MouseService),this._instantiationService.setService(k.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(u.Viewport,function(ue){return B.scrollLines(ue,!0,1)},this._viewportElement,this._viewportScrollArea,this.element),this.viewport.onThemeChange(this._colorManager.colors),this.register(this._inputHandler.onRequestSyncScrollBar(function(){return B.viewport.syncScrollArea()})),this.register(this.viewport),this.register(this.onCursorMove(function(){B._renderService.onCursorMove(),B._syncTextArea()})),this.register(this.onResize(function(){return B._renderService.onResize(B.cols,B.rows)})),this.register(this.onBlur(function(){return B._renderService.onBlur()})),this.register(this.onFocus(function(){return B._renderService.onFocus()})),this.register(this._renderService.onDimensionsChange(function(){return B.viewport.syncScrollArea()})),this._selectionService=this.register(this._instantiationService.createInstance(h.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(k.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(function(ue){return B.scrollLines(ue.amount,ue.suppressScrollEvent)})),this.register(this._selectionService.onSelectionChange(function(){return B._onSelectionChange.fire()})),this.register(this._selectionService.onRequestRedraw(function(ue){return B._renderService.onSelectionChanged(ue.start,ue.end,ue.columnSelectMode)})),this.register(this._selectionService.onLinuxMouseSelection(function(ue){B.textarea.value=ue,B.textarea.focus(),B.textarea.select()})),this.register(this._onScroll.event(function(ue){B.viewport.syncScrollArea(),B._selectionService.refresh()})),this.register((0,a.addDisposableDomListener)(this._viewportElement,"scroll",function(){return B._selectionService.refresh()})),this._mouseZoneManager=this._instantiationService.createInstance(y.MouseZoneManager,this.element,this.screenElement),this.register(this._mouseZoneManager),this.register(this.onScroll(function(){return B._mouseZoneManager.clearAll()})),this.linkifier.attachToDom(this.element,this._mouseZoneManager),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.decorationService.attachToDom(this.screenElement,this._renderService,this._bufferService),this.register((0,a.addDisposableDomListener)(this.element,"mousedown",function(ue){return B._selectionService.onMouseDown(ue)})),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager=new S.AccessibilityManager(this,this._renderService)),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()},q.prototype._createRenderer=function(){switch(this.options.rendererType){case"canvas":return this._instantiationService.createInstance(d.Renderer,this._colorManager.colors,this.screenElement,this.linkifier,this.linkifier2);case"dom":return this._instantiationService.createInstance(b.DomRenderer,this._colorManager.colors,this.element,this.screenElement,this._viewportElement,this.linkifier,this.linkifier2);default:throw new Error('Unrecognized rendererType "'+this.options.rendererType+'"')}},q.prototype._setTheme=function(R){var B,P,ee;this._theme=R,(B=this._colorManager)===null||B===void 0||B.setTheme(R),(P=this._renderService)===null||P===void 0||P.setColors(this._colorManager.colors),(ee=this.viewport)===null||ee===void 0||ee.onThemeChange(this._colorManager.colors)},q.prototype.bindMouse=function(){var R=this,B=this,P=this.element;function ee(Q){var yt,Yt,Or=B._mouseService.getRawByteCoords(Q,B.screenElement,B.cols,B.rows);if(!Or)return!1;switch(Q.overrideType||Q.type){case"mousemove":Yt=32,Q.buttons===void 0?(yt=3,Q.button!==void 0&&(yt=Q.button<3?Q.button:3)):yt=1&Q.buttons?0:4&Q.buttons?1:2&Q.buttons?2:3;break;case"mouseup":Yt=0,yt=Q.button<3?Q.button:3;break;case"mousedown":Yt=1,yt=Q.button<3?Q.button:3;break;case"wheel":Q.deltaY!==0&&(Yt=Q.deltaY<0?0:1),yt=4;break;default:return!1}return!(Yt===void 0||yt===void 0||yt>4)&&B.coreMouseService.triggerMouseEvent({col:Or.x-33,row:Or.y-33,button:yt,action:Yt,ctrl:Q.ctrlKey,alt:Q.altKey,shift:Q.shiftKey})}var ne={mouseup:null,wheel:null,mousedrag:null,mousemove:null},ue=function(Q){return ee(Q),Q.buttons||(R._document.removeEventListener("mouseup",ne.mouseup),ne.mousedrag&&R._document.removeEventListener("mousemove",ne.mousedrag)),R.cancel(Q)},Fe=function(Q){return ee(Q),R.cancel(Q,!0)},Qe=function(Q){Q.buttons&&ee(Q)},vr=function(Q){Q.buttons||ee(Q)};this.register(this.coreMouseService.onProtocolChange(function(Q){Q?(R.optionsService.rawOptions.logLevel==="debug"&&R._logService.debug("Binding to mouse events:",R.coreMouseService.explainEvents(Q)),R.element.classList.add("enable-mouse-events"),R._selectionService.disable()):(R._logService.debug("Unbinding from mouse events."),R.element.classList.remove("enable-mouse-events"),R._selectionService.enable()),8&Q?ne.mousemove||(P.addEventListener("mousemove",vr),ne.mousemove=vr):(P.removeEventListener("mousemove",ne.mousemove),ne.mousemove=null),16&Q?ne.wheel||(P.addEventListener("wheel",Fe,{passive:!1}),ne.wheel=Fe):(P.removeEventListener("wheel",ne.wheel),ne.wheel=null),2&Q?ne.mouseup||(ne.mouseup=ue):(R._document.removeEventListener("mouseup",ne.mouseup),ne.mouseup=null),4&Q?ne.mousedrag||(ne.mousedrag=Qe):(R._document.removeEventListener("mousemove",ne.mousedrag),ne.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,a.addDisposableDomListener)(P,"mousedown",function(Q){if(Q.preventDefault(),R.focus(),R.coreMouseService.areMouseEventsActive&&!R._selectionService.shouldForceSelection(Q))return ee(Q),ne.mouseup&&R._document.addEventListener("mouseup",ne.mouseup),ne.mousedrag&&R._document.addEventListener("mousemove",ne.mousedrag),R.cancel(Q)})),this.register((0,a.addDisposableDomListener)(P,"wheel",function(Q){if(!ne.wheel){if(!R.buffer.hasScrollback){var yt=R.viewport.getLinesScrolled(Q);if(yt===0)return;for(var Yt=_.C0.ESC+(R.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(Q.deltaY<0?"A":"B"),Or="",Ui=0;Ui<Math.abs(yt);Ui++)Or+=Yt;return R.coreService.triggerDataEvent(Or,!0),R.cancel(Q,!0)}return R.viewport.onWheel(Q)?R.cancel(Q):void 0}},{passive:!1})),this.register((0,a.addDisposableDomListener)(P,"touchstart",function(Q){if(!R.coreMouseService.areMouseEventsActive)return R.viewport.onTouchStart(Q),R.cancel(Q)},{passive:!0})),this.register((0,a.addDisposableDomListener)(P,"touchmove",function(Q){if(!R.coreMouseService.areMouseEventsActive)return R.viewport.onTouchMove(Q)?void 0:R.cancel(Q)},{passive:!1}))},q.prototype.refresh=function(R,B){var P;(P=this._renderService)===null||P===void 0||P.refreshRows(R,B)},q.prototype._queueLinkification=function(R,B){var P;(P=this.linkifier)===null||P===void 0||P.linkifyRows(R,B)},q.prototype.updateCursorStyle=function(R){var B;!((B=this._selectionService)===null||B===void 0)&&B.shouldColumnSelect(R)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")},q.prototype._showCursor=function(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))},q.prototype.scrollLines=function(R,B,P){P===void 0&&(P=0),M.prototype.scrollLines.call(this,R,B,P),this.refresh(0,this.rows-1)},q.prototype.paste=function(R){(0,p.paste)(R,this.textarea,this.coreService)},q.prototype.attachCustomKeyEventHandler=function(R){this._customKeyEventHandler=R},q.prototype.registerLinkMatcher=function(R,B,P){var ee=this.linkifier.registerLinkMatcher(R,B,P);return this.refresh(0,this.rows-1),ee},q.prototype.deregisterLinkMatcher=function(R){this.linkifier.deregisterLinkMatcher(R)&&this.refresh(0,this.rows-1)},q.prototype.registerLinkProvider=function(R){return this.linkifier2.registerLinkProvider(R)},q.prototype.registerCharacterJoiner=function(R){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");var B=this._characterJoinerService.register(R);return this.refresh(0,this.rows-1),B},q.prototype.deregisterCharacterJoiner=function(R){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(R)&&this.refresh(0,this.rows-1)},Object.defineProperty(q.prototype,"markers",{get:function(){return this.buffer.markers},enumerable:!1,configurable:!0}),q.prototype.addMarker=function(R){if(this.buffer===this.buffers.normal)return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+R)},q.prototype.registerDecoration=function(R){return this.decorationService.registerDecoration(R)},q.prototype.hasSelection=function(){return!!this._selectionService&&this._selectionService.hasSelection},q.prototype.select=function(R,B,P){this._selectionService.setSelection(R,B,P)},q.prototype.getSelection=function(){return this._selectionService?this._selectionService.selectionText:""},q.prototype.getSelectionPosition=function(){if(this._selectionService&&this._selectionService.hasSelection)return{startColumn:this._selectionService.selectionStart[0],startRow:this._selectionService.selectionStart[1],endColumn:this._selectionService.selectionEnd[0],endRow:this._selectionService.selectionEnd[1]}},q.prototype.clearSelection=function(){var R;(R=this._selectionService)===null||R===void 0||R.clearSelection()},q.prototype.selectAll=function(){var R;(R=this._selectionService)===null||R===void 0||R.selectAll()},q.prototype.selectLines=function(R,B){var P;(P=this._selectionService)===null||P===void 0||P.selectLines(R,B)},q.prototype._keyDown=function(R){if(this._keyDownHandled=!1,this._customKeyEventHandler&&this._customKeyEventHandler(R)===!1)return!1;if(!this._compositionHelper.keydown(R))return this.buffer.ybase!==this.buffer.ydisp&&this._bufferService.scrollToBottom(),!1;R.key!=="Dead"&&R.key!=="AltGraph"||(this._unprocessedDeadKey=!0);var B=(0,C.evaluateKeyboardEvent)(R,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(R),B.type===3||B.type===2){var P=this.rows-1;return this.scrollLines(B.type===2?-P:P),this.cancel(R,!0)}return B.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,R)||(B.cancel&&this.cancel(R,!0),!B.key||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(B.key!==_.C0.ETX&&B.key!==_.C0.CR||(this.textarea.value=""),this._onKey.fire({key:B.key,domEvent:R}),this._showCursor(),this.coreService.triggerDataEvent(B.key,!0),this.optionsService.rawOptions.screenReaderMode?void(this._keyDownHandled=!0):this.cancel(R,!0))))},q.prototype._isThirdLevelShift=function(R,B){var P=R.isMac&&!this.options.macOptionIsMeta&&B.altKey&&!B.ctrlKey&&!B.metaKey||R.isWindows&&B.altKey&&B.ctrlKey&&!B.metaKey||R.isWindows&&B.getModifierState("AltGraph");return B.type==="keypress"?P:P&&(!B.keyCode||B.keyCode>47)},q.prototype._keyUp=function(R){this._customKeyEventHandler&&this._customKeyEventHandler(R)===!1||(function(B){return B.keyCode===16||B.keyCode===17||B.keyCode===18}(R)||this.focus(),this.updateCursorStyle(R),this._keyPressHandled=!1)},q.prototype._keyPress=function(R){var B;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(R)===!1)return!1;if(this.cancel(R),R.charCode)B=R.charCode;else if(R.which===null||R.which===void 0)B=R.keyCode;else{if(R.which===0||R.charCode===0)return!1;B=R.which}return!(!B||(R.altKey||R.ctrlKey||R.metaKey)&&!this._isThirdLevelShift(this.browser,R)||(B=String.fromCharCode(B),this._onKey.fire({key:B,domEvent:R}),this._showCursor(),this.coreService.triggerDataEvent(B,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))},q.prototype._inputEvent=function(R){if(R.data&&R.inputType==="insertText"&&!R.composed&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;var B=R.data;return this.coreService.triggerDataEvent(B,!0),this.cancel(R),!0}return!1},q.prototype.bell=function(){var R;this._soundBell()&&((R=this._soundService)===null||R===void 0||R.playBellSound()),this._onBell.fire()},q.prototype.resize=function(R,B){R!==this.cols||B!==this.rows?M.prototype.resize.call(this,R,B):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()},q.prototype._afterResize=function(R,B){var P,ee;(P=this._charSizeService)===null||P===void 0||P.measure(),(ee=this.viewport)===null||ee===void 0||ee.syncScrollArea(!0)},q.prototype.clear=function(){if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(var R=1;R<this.rows;R++)this.buffer.lines.push(this.buffer.getBlankLine(x.DEFAULT_ATTR_DATA));this.refresh(0,this.rows-1),this._onScroll.fire({position:this.buffer.ydisp,source:0})}},q.prototype.reset=function(){var R,B;this.options.rows=this.rows,this.options.cols=this.cols;var P=this._customKeyEventHandler;this._setup(),M.prototype.reset.call(this),(R=this._selectionService)===null||R===void 0||R.reset(),this._customKeyEventHandler=P,this.refresh(0,this.rows-1),(B=this.viewport)===null||B===void 0||B.syncScrollArea()},q.prototype.clearTextureAtlas=function(){var R;(R=this._renderService)===null||R===void 0||R.clearTextureAtlas()},q.prototype._reportFocus=function(){var R;!((R=this.element)===null||R===void 0)&&R.classList.contains("focus")?this.coreService.triggerDataEvent(_.C0.ESC+"[I"):this.coreService.triggerDataEvent(_.C0.ESC+"[O")},q.prototype._reportWindowsOptions=function(R){if(this._renderService)switch(R){case m.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:var B=this._renderService.dimensions.scaledCanvasWidth.toFixed(0),P=this._renderService.dimensions.scaledCanvasHeight.toFixed(0);this.coreService.triggerDataEvent(_.C0.ESC+"[4;"+P+";"+B+"t");break;case m.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:var ee=this._renderService.dimensions.scaledCellWidth.toFixed(0),ne=this._renderService.dimensions.scaledCellHeight.toFixed(0);this.coreService.triggerDataEvent(_.C0.ESC+"[6;"+ne+";"+ee+"t")}},q.prototype.cancel=function(R,B){if(this.options.cancelEvents||B)return R.preventDefault(),R.stopPropagation(),!1},q.prototype._visualBell=function(){return!1},q.prototype._soundBell=function(){return this.options.bellStyle==="sound"},q}(D.CoreTerminal);n.Terminal=ke},9924:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.TimeBasedDebouncer=void 0;var i=function(){function o(s,l){l===void 0&&(l=1e3),this._renderCallback=s,this._debounceThresholdMS=l,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}return o.prototype.dispose=function(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)},o.prototype.refresh=function(s,l,u){var p=this;this._rowCount=u,s=s!==void 0?s:0,l=l!==void 0?l:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,s):s,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,l):l;var _=Date.now();if(_-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=_,this._innerRefresh();else if(!this._additionalRefreshRequested){var m=_-this._lastRefreshMs,d=this._debounceThresholdMS-m;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(function(){p._lastRefreshMs=Date.now(),p._innerRefresh(),p._additionalRefreshRequested=!1,p._refreshTimeoutID=void 0},d)}},o.prototype._innerRefresh=function(){if(this._rowStart!==void 0&&this._rowEnd!==void 0&&this._rowCount!==void 0){var s=Math.max(this._rowStart,0),l=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(s,l)}},o}();n.TimeBasedDebouncer=i},1680:function(r,n,i){var o,s=this&&this.__extends||(o=function(h,f){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var v in c)Object.prototype.hasOwnProperty.call(c,v)&&(a[v]=c[v])},o(h,f)},function(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function a(){this.constructor=h}o(h,f),h.prototype=f===null?Object.create(f):(a.prototype=f.prototype,new a)}),l=this&&this.__decorate||function(h,f,a,c){var v,y=arguments.length,S=y<3?f:c===null?c=Object.getOwnPropertyDescriptor(f,a):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(h,f,a,c);else for(var b=h.length-1;b>=0;b--)(v=h[b])&&(S=(y<3?v(S):y>3?v(f,a,S):v(f,a))||S);return y>3&&S&&Object.defineProperty(f,a,S),S},u=this&&this.__param||function(h,f){return function(a,c){f(a,c,h)}};Object.defineProperty(n,"__esModule",{value:!0}),n.Viewport=void 0;var p=i(844),_=i(3656),m=i(4725),d=i(2585),g=function(h){function f(a,c,v,y,S,b,C,E){var x=h.call(this)||this;return x._scrollLines=a,x._viewportElement=c,x._scrollArea=v,x._element=y,x._bufferService=S,x._optionsService=b,x._charSizeService=C,x._renderService=E,x.scrollBarWidth=0,x._currentRowHeight=0,x._currentScaledCellHeight=0,x._lastRecordedBufferLength=0,x._lastRecordedViewportHeight=0,x._lastRecordedBufferHeight=0,x._lastTouchY=0,x._lastScrollTop=0,x._lastHadScrollBar=!1,x._wheelPartialScroll=0,x._refreshAnimationFrame=null,x._ignoreNextScrollEvent=!1,x.scrollBarWidth=x._viewportElement.offsetWidth-x._scrollArea.offsetWidth||15,x._lastHadScrollBar=!0,x.register((0,_.addDisposableDomListener)(x._viewportElement,"scroll",x._onScroll.bind(x))),x._activeBuffer=x._bufferService.buffer,x.register(x._bufferService.buffers.onBufferActivate(function(w){return x._activeBuffer=w.activeBuffer})),x._renderDimensions=x._renderService.dimensions,x.register(x._renderService.onDimensionsChange(function(w){return x._renderDimensions=w})),setTimeout(function(){return x.syncScrollArea()},0),x}return s(f,h),f.prototype.onThemeChange=function(a){this._viewportElement.style.backgroundColor=a.background.css},f.prototype._refresh=function(a){var c=this;if(a)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=requestAnimationFrame(function(){return c._innerRefresh()}))},f.prototype._innerRefresh=function(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.scaledCellHeight/window.devicePixelRatio,this._currentScaledCellHeight=this._renderService.dimensions.scaledCellHeight,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;var a=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.canvasHeight);this._lastRecordedBufferHeight!==a&&(this._lastRecordedBufferHeight=a,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}var c=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==c&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=c),this._optionsService.rawOptions.scrollback===0?this.scrollBarWidth=0:this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this._lastHadScrollBar=this.scrollBarWidth>0;var v=window.getComputedStyle(this._element),y=parseInt(v.paddingLeft)+parseInt(v.paddingRight);this._viewportElement.style.width=(this._renderService.dimensions.actualCellWidth*this._bufferService.cols+this.scrollBarWidth+(this._lastHadScrollBar?y:0)).toString()+"px",this._refreshAnimationFrame=null},f.prototype.syncScrollArea=function(a){if(a===void 0&&(a=!1),this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(a);this._lastRecordedViewportHeight===this._renderService.dimensions.canvasHeight&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.scaledCellHeight===this._currentScaledCellHeight?this._lastHadScrollBar!==this._optionsService.rawOptions.scrollback>0&&this._refresh(a):this._refresh(a)},f.prototype._onScroll=function(a){if(this._lastScrollTop=this._viewportElement.scrollTop,this._viewportElement.offsetParent){if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._scrollLines(0);var c=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._scrollLines(c)}},f.prototype._bubbleScroll=function(a,c){var v=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(c<0&&this._viewportElement.scrollTop!==0||c>0&&v<this._lastRecordedBufferHeight)||(a.cancelable&&a.preventDefault(),!1)},f.prototype.onWheel=function(a){var c=this._getPixelsScrolled(a);return c!==0&&(this._viewportElement.scrollTop+=c,this._bubbleScroll(a,c))},f.prototype._getPixelsScrolled=function(a){if(a.deltaY===0||a.shiftKey)return 0;var c=this._applyScrollModifier(a.deltaY,a);return a.deltaMode===WheelEvent.DOM_DELTA_LINE?c*=this._currentRowHeight:a.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(c*=this._currentRowHeight*this._bufferService.rows),c},f.prototype.getLinesScrolled=function(a){if(a.deltaY===0||a.shiftKey)return 0;var c=this._applyScrollModifier(a.deltaY,a);return a.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(c/=this._currentRowHeight+0,this._wheelPartialScroll+=c,c=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):a.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(c*=this._bufferService.rows),c},f.prototype._applyScrollModifier=function(a,c){var v=this._optionsService.rawOptions.fastScrollModifier;return v==="alt"&&c.altKey||v==="ctrl"&&c.ctrlKey||v==="shift"&&c.shiftKey?a*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:a*this._optionsService.rawOptions.scrollSensitivity},f.prototype.onTouchStart=function(a){this._lastTouchY=a.touches[0].pageY},f.prototype.onTouchMove=function(a){var c=this._lastTouchY-a.touches[0].pageY;return this._lastTouchY=a.touches[0].pageY,c!==0&&(this._viewportElement.scrollTop+=c,this._bubbleScroll(a,c))},l([u(4,d.IBufferService),u(5,d.IOptionsService),u(6,m.ICharSizeService),u(7,m.IRenderService)],f)}(p.Disposable);n.Viewport=g},2950:function(r,n,i){var o=this&&this.__decorate||function(_,m,d,g){var h,f=arguments.length,a=f<3?m:g===null?g=Object.getOwnPropertyDescriptor(m,d):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(_,m,d,g);else for(var c=_.length-1;c>=0;c--)(h=_[c])&&(a=(f<3?h(a):f>3?h(m,d,a):h(m,d))||a);return f>3&&a&&Object.defineProperty(m,d,a),a},s=this&&this.__param||function(_,m){return function(d,g){m(d,g,_)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CompositionHelper=void 0;var l=i(4725),u=i(2585),p=function(){function _(m,d,g,h,f,a){this._textarea=m,this._compositionView=d,this._bufferService=g,this._optionsService=h,this._coreService=f,this._renderService=a,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}return Object.defineProperty(_.prototype,"isComposing",{get:function(){return this._isComposing},enumerable:!1,configurable:!0}),_.prototype.compositionstart=function(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")},_.prototype.compositionupdate=function(m){var d=this;this._compositionView.textContent=m.data,this.updateCompositionElements(),setTimeout(function(){d._compositionPosition.end=d._textarea.value.length},0)},_.prototype.compositionend=function(){this._finalizeComposition(!0)},_.prototype.keydown=function(m){if(this._isComposing||this._isSendingComposition){if(m.keyCode===229||m.keyCode===16||m.keyCode===17||m.keyCode===18)return!1;this._finalizeComposition(!1)}return m.keyCode!==229||(this._handleAnyTextareaChanges(),!1)},_.prototype._finalizeComposition=function(m){var d=this;if(this._compositionView.classList.remove("active"),this._isComposing=!1,m){var g={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(function(){if(d._isSendingComposition){d._isSendingComposition=!1;var f;g.start+=d._dataAlreadySent.length,(f=d._isComposing?d._textarea.value.substring(g.start,g.end):d._textarea.value.substring(g.start)).length>0&&d._coreService.triggerDataEvent(f,!0)}},0)}else{this._isSendingComposition=!1;var h=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(h,!0)}},_.prototype._handleAnyTextareaChanges=function(){var m=this,d=this._textarea.value;setTimeout(function(){if(!m._isComposing){var g=m._textarea.value.replace(d,"");g.length>0&&(m._dataAlreadySent=g,m._coreService.triggerDataEvent(g,!0))}},0)},_.prototype.updateCompositionElements=function(m){var d=this;if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){var g=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),h=this._renderService.dimensions.actualCellHeight,f=this._bufferService.buffer.y*this._renderService.dimensions.actualCellHeight,a=g*this._renderService.dimensions.actualCellWidth;this._compositionView.style.left=a+"px",this._compositionView.style.top=f+"px",this._compositionView.style.height=h+"px",this._compositionView.style.lineHeight=h+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";var c=this._compositionView.getBoundingClientRect();this._textarea.style.left=a+"px",this._textarea.style.top=f+"px",this._textarea.style.width=Math.max(c.width,1)+"px",this._textarea.style.height=Math.max(c.height,1)+"px",this._textarea.style.lineHeight=c.height+"px"}m||setTimeout(function(){return d.updateCompositionElements(!0)},0)}},o([s(2,u.IBufferService),s(3,u.IOptionsService),s(4,u.ICoreService),s(5,l.IRenderService)],_)}();n.CompositionHelper=p},9806:(r,n)=>{function i(o,s){var l=s.getBoundingClientRect();return[o.clientX-l.left,o.clientY-l.top]}Object.defineProperty(n,"__esModule",{value:!0}),n.getRawByteCoords=n.getCoords=n.getCoordsRelativeToElement=void 0,n.getCoordsRelativeToElement=i,n.getCoords=function(o,s,l,u,p,_,m,d){if(p){var g=i(o,s);if(g)return g[0]=Math.ceil((g[0]+(d?_/2:0))/_),g[1]=Math.ceil(g[1]/m),g[0]=Math.min(Math.max(g[0],1),l+(d?1:0)),g[1]=Math.min(Math.max(g[1],1),u),g}},n.getRawByteCoords=function(o){if(o)return{x:o[0]+32,y:o[1]+32}}},9504:(r,n,i)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.moveToCellSequence=void 0;var o=i(2584);function s(d,g,h,f){var a=d-l(h,d),c=g-l(h,g),v=Math.abs(a-c)-function(y,S,b){for(var C=0,E=y-l(b,y),x=S-l(b,S),w=0;w<Math.abs(E-x);w++){var L=u(y,S)==="A"?-1:1,k=b.buffer.lines.get(E+L*w);k?.isWrapped&&C++}return C}(d,g,h);return m(v,_(u(d,g),f))}function l(d,g){for(var h=0,f=d.buffer.lines.get(g),a=f?.isWrapped;a&&g>=0&&g<d.rows;)h++,a=(f=d.buffer.lines.get(--g))==null?void 0:f.isWrapped;return h}function u(d,g){return d>g?"A":"B"}function p(d,g,h,f,a,c){for(var v=d,y=g,S="";v!==h||y!==f;)v+=a?1:-1,a&&v>c.cols-1?(S+=c.buffer.translateBufferLineToString(y,!1,d,v),v=0,d=0,y++):!a&&v<0&&(S+=c.buffer.translateBufferLineToString(y,!1,0,d+1),d=v=c.cols-1,y--);return S+c.buffer.translateBufferLineToString(y,!1,d,v)}function _(d,g){var h=g?"O":"[";return o.C0.ESC+h+d}function m(d,g){d=Math.floor(d);for(var h="",f=0;f<d;f++)h+=g;return h}n.moveToCellSequence=function(d,g,h,f){var a,c=h.buffer.x,v=h.buffer.y;if(!h.buffer.hasScrollback)return function(S,b,C,E,x,w){return s(b,E,x,w).length===0?"":m(p(S,b,S,b-l(x,b),!1,x).length,_("D",w))}(c,v,0,g,h,f)+s(v,g,h,f)+function(S,b,C,E,x,w){var L;L=s(b,E,x,w).length>0?E-l(x,E):b;var k=E,N=function(A,O,I,D,j,z){var V;return V=s(I,D,j,z).length>0?D-l(j,D):O,A<I&&V<=D||A>=I&&V<D?"C":"D"}(S,b,C,E,x,w);return m(p(S,L,C,k,N==="C",x).length,_(N,w))}(c,v,d,g,h,f);if(v===g)return a=c>d?"D":"C",m(Math.abs(c-d),_(a,f));a=v>g?"D":"C";var y=Math.abs(v-g);return m(function(S,b){return b.cols-S}(v>g?d:c,h)+(y-1)*h.cols+1+((v>g?c:d)-1),_(a,f))}},4389:function(r,n,i){var o=this&&this.__assign||function(){return o=Object.assign||function(h){for(var f,a=1,c=arguments.length;a<c;a++)for(var v in f=arguments[a])Object.prototype.hasOwnProperty.call(f,v)&&(h[v]=f[v]);return h},o.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.Terminal=void 0;var s=i(3236),l=i(9042),u=i(7975),p=i(7090),_=i(5741),m=i(8285),d=["cols","rows"],g=function(){function h(f){var a=this;this._core=new s.Terminal(f),this._addonManager=new _.AddonManager,this._publicOptions=o({},this._core.options);var c=function(b){return a._core.options[b]},v=function(b,C){a._checkReadonlyOptions(b),a._core.options[b]=C};for(var y in this._core.options){var S={get:c.bind(this,y),set:v.bind(this,y)};Object.defineProperty(this._publicOptions,y,S)}}return h.prototype._checkReadonlyOptions=function(f){if(d.includes(f))throw new Error('Option "'+f+'" can only be set in the constructor')},h.prototype._checkProposedApi=function(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")},Object.defineProperty(h.prototype,"onBell",{get:function(){return this._core.onBell},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"onBinary",{get:function(){return this._core.onBinary},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"onCursorMove",{get:function(){return this._core.onCursorMove},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"onData",{get:function(){return this._core.onData},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"onKey",{get:function(){return this._core.onKey},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"onLineFeed",{get:function(){return this._core.onLineFeed},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"onRender",{get:function(){return this._core.onRender},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"onResize",{get:function(){return this._core.onResize},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"onScroll",{get:function(){return this._core.onScroll},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"onSelectionChange",{get:function(){return this._core.onSelectionChange},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"onTitleChange",{get:function(){return this._core.onTitleChange},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"element",{get:function(){return this._core.element},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"parser",{get:function(){return this._checkProposedApi(),this._parser||(this._parser=new u.ParserApi(this._core)),this._parser},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"unicode",{get:function(){return this._checkProposedApi(),new p.UnicodeApi(this._core)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"textarea",{get:function(){return this._core.textarea},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"rows",{get:function(){return this._core.rows},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"cols",{get:function(){return this._core.cols},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"buffer",{get:function(){return this._checkProposedApi(),this._buffer||(this._buffer=new m.BufferNamespaceApi(this._core)),this._buffer},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"markers",{get:function(){return this._checkProposedApi(),this._core.markers},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"modes",{get:function(){var f=this._core.coreService.decPrivateModes,a="none";switch(this._core.coreMouseService.activeProtocol){case"X10":a="x10";break;case"VT200":a="vt200";break;case"DRAG":a="drag";break;case"ANY":a="any"}return{applicationCursorKeysMode:f.applicationCursorKeys,applicationKeypadMode:f.applicationKeypad,bracketedPasteMode:f.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:a,originMode:f.origin,reverseWraparoundMode:f.reverseWraparound,sendFocusMode:f.sendFocus,wraparoundMode:f.wraparound}},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"options",{get:function(){return this._publicOptions},set:function(f){for(var a in f)this._publicOptions[a]=f[a]},enumerable:!1,configurable:!0}),h.prototype.blur=function(){this._core.blur()},h.prototype.focus=function(){this._core.focus()},h.prototype.resize=function(f,a){this._verifyIntegers(f,a),this._core.resize(f,a)},h.prototype.open=function(f){this._core.open(f)},h.prototype.attachCustomKeyEventHandler=function(f){this._core.attachCustomKeyEventHandler(f)},h.prototype.registerLinkMatcher=function(f,a,c){return this._checkProposedApi(),this._core.registerLinkMatcher(f,a,c)},h.prototype.deregisterLinkMatcher=function(f){this._checkProposedApi(),this._core.deregisterLinkMatcher(f)},h.prototype.registerLinkProvider=function(f){return this._checkProposedApi(),this._core.registerLinkProvider(f)},h.prototype.registerCharacterJoiner=function(f){return this._checkProposedApi(),this._core.registerCharacterJoiner(f)},h.prototype.deregisterCharacterJoiner=function(f){this._checkProposedApi(),this._core.deregisterCharacterJoiner(f)},h.prototype.registerMarker=function(f){return f===void 0&&(f=0),this._checkProposedApi(),this._verifyIntegers(f),this._core.addMarker(f)},h.prototype.registerDecoration=function(f){var a,c,v;return this._checkProposedApi(),this._verifyPositiveIntegers((a=f.x)!==null&&a!==void 0?a:0,(c=f.width)!==null&&c!==void 0?c:0,(v=f.height)!==null&&v!==void 0?v:0),this._core.registerDecoration(f)},h.prototype.addMarker=function(f){return this.registerMarker(f)},h.prototype.hasSelection=function(){return this._core.hasSelection()},h.prototype.select=function(f,a,c){this._verifyIntegers(f,a,c),this._core.select(f,a,c)},h.prototype.getSelection=function(){return this._core.getSelection()},h.prototype.getSelectionPosition=function(){return this._core.getSelectionPosition()},h.prototype.clearSelection=function(){this._core.clearSelection()},h.prototype.selectAll=function(){this._core.selectAll()},h.prototype.selectLines=function(f,a){this._verifyIntegers(f,a),this._core.selectLines(f,a)},h.prototype.dispose=function(){this._addonManager.dispose(),this._core.dispose()},h.prototype.scrollLines=function(f){this._verifyIntegers(f),this._core.scrollLines(f)},h.prototype.scrollPages=function(f){this._verifyIntegers(f),this._core.scrollPages(f)},h.prototype.scrollToTop=function(){this._core.scrollToTop()},h.prototype.scrollToBottom=function(){this._core.scrollToBottom()},h.prototype.scrollToLine=function(f){this._verifyIntegers(f),this._core.scrollToLine(f)},h.prototype.clear=function(){this._core.clear()},h.prototype.write=function(f,a){this._core.write(f,a)},h.prototype.writeUtf8=function(f,a){this._core.write(f,a)},h.prototype.writeln=function(f,a){this._core.write(f),this._core.write(`\r
`,a)},h.prototype.paste=function(f){this._core.paste(f)},h.prototype.getOption=function(f){return this._core.optionsService.getOption(f)},h.prototype.setOption=function(f,a){this._checkReadonlyOptions(f),this._core.optionsService.setOption(f,a)},h.prototype.refresh=function(f,a){this._verifyIntegers(f,a),this._core.refresh(f,a)},h.prototype.reset=function(){this._core.reset()},h.prototype.clearTextureAtlas=function(){this._core.clearTextureAtlas()},h.prototype.loadAddon=function(f){return this._addonManager.loadAddon(this,f)},Object.defineProperty(h,"strings",{get:function(){return l},enumerable:!1,configurable:!0}),h.prototype._verifyIntegers=function(){for(var f=[],a=0;a<arguments.length;a++)f[a]=arguments[a];for(var c=0,v=f;c<v.length;c++){var y=v[c];if(y===1/0||isNaN(y)||y%1!=0)throw new Error("This API only accepts integers")}},h.prototype._verifyPositiveIntegers=function(){for(var f=[],a=0;a<arguments.length;a++)f[a]=arguments[a];for(var c=0,v=f;c<v.length;c++){var y=v[c];if(y&&(y===1/0||isNaN(y)||y%1!=0||y<0))throw new Error("This API only accepts positive integers")}},h}();n.Terminal=g},1546:(r,n,i)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BaseRenderLayer=void 0;var o=i(643),s=i(8803),l=i(1420),u=i(3734),p=i(1752),_=i(4774),m=i(9631),d=i(8978),g=function(){function h(f,a,c,v,y,S,b,C){this._container=f,this._alpha=v,this._colors=y,this._rendererId=S,this._bufferService=b,this._optionsService=C,this._scaledCharWidth=0,this._scaledCharHeight=0,this._scaledCellWidth=0,this._scaledCellHeight=0,this._scaledCharLeft=0,this._scaledCharTop=0,this._currentGlyphIdentifier={chars:"",code:0,bg:0,fg:0,bold:!1,dim:!1,italic:!1},this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-"+a+"-layer"),this._canvas.style.zIndex=c.toString(),this._initCanvas(),this._container.appendChild(this._canvas)}return h.prototype.dispose=function(){var f;(0,m.removeElementFromParent)(this._canvas),(f=this._charAtlas)===null||f===void 0||f.dispose()},h.prototype._initCanvas=function(){this._ctx=(0,p.throwIfFalsy)(this._canvas.getContext("2d",{alpha:this._alpha})),this._alpha||this._clearAll()},h.prototype.onOptionsChanged=function(){},h.prototype.onBlur=function(){},h.prototype.onFocus=function(){},h.prototype.onCursorMove=function(){},h.prototype.onGridChanged=function(f,a){},h.prototype.onSelectionChanged=function(f,a,c){c===void 0&&(c=!1)},h.prototype.setColors=function(f){this._refreshCharAtlas(f)},h.prototype._setTransparency=function(f){if(f!==this._alpha){var a=this._canvas;this._alpha=f,this._canvas=this._canvas.cloneNode(),this._initCanvas(),this._container.replaceChild(this._canvas,a),this._refreshCharAtlas(this._colors),this.onGridChanged(0,this._bufferService.rows-1)}},h.prototype._refreshCharAtlas=function(f){this._scaledCharWidth<=0&&this._scaledCharHeight<=0||(this._charAtlas=(0,l.acquireCharAtlas)(this._optionsService.rawOptions,this._rendererId,f,this._scaledCharWidth,this._scaledCharHeight),this._charAtlas.warmUp())},h.prototype.resize=function(f){this._scaledCellWidth=f.scaledCellWidth,this._scaledCellHeight=f.scaledCellHeight,this._scaledCharWidth=f.scaledCharWidth,this._scaledCharHeight=f.scaledCharHeight,this._scaledCharLeft=f.scaledCharLeft,this._scaledCharTop=f.scaledCharTop,this._canvas.width=f.scaledCanvasWidth,this._canvas.height=f.scaledCanvasHeight,this._canvas.style.width=f.canvasWidth+"px",this._canvas.style.height=f.canvasHeight+"px",this._alpha||this._clearAll(),this._refreshCharAtlas(this._colors)},h.prototype.clearTextureAtlas=function(){var f;(f=this._charAtlas)===null||f===void 0||f.clear()},h.prototype._fillCells=function(f,a,c,v){this._ctx.fillRect(f*this._scaledCellWidth,a*this._scaledCellHeight,c*this._scaledCellWidth,v*this._scaledCellHeight)},h.prototype._fillMiddleLineAtCells=function(f,a,c){c===void 0&&(c=1);var v=Math.ceil(.5*this._scaledCellHeight);this._ctx.fillRect(f*this._scaledCellWidth,(a+1)*this._scaledCellHeight-v-window.devicePixelRatio,c*this._scaledCellWidth,window.devicePixelRatio)},h.prototype._fillBottomLineAtCells=function(f,a,c){c===void 0&&(c=1),this._ctx.fillRect(f*this._scaledCellWidth,(a+1)*this._scaledCellHeight-window.devicePixelRatio-1,c*this._scaledCellWidth,window.devicePixelRatio)},h.prototype._fillLeftLineAtCell=function(f,a,c){this._ctx.fillRect(f*this._scaledCellWidth,a*this._scaledCellHeight,window.devicePixelRatio*c,this._scaledCellHeight)},h.prototype._strokeRectAtCell=function(f,a,c,v){this._ctx.lineWidth=window.devicePixelRatio,this._ctx.strokeRect(f*this._scaledCellWidth+window.devicePixelRatio/2,a*this._scaledCellHeight+window.devicePixelRatio/2,c*this._scaledCellWidth-window.devicePixelRatio,v*this._scaledCellHeight-window.devicePixelRatio)},h.prototype._clearAll=function(){this._alpha?this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(0,0,this._canvas.width,this._canvas.height))},h.prototype._clearCells=function(f,a,c,v){this._alpha?this._ctx.clearRect(f*this._scaledCellWidth,a*this._scaledCellHeight,c*this._scaledCellWidth,v*this._scaledCellHeight):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(f*this._scaledCellWidth,a*this._scaledCellHeight,c*this._scaledCellWidth,v*this._scaledCellHeight))},h.prototype._fillCharTrueColor=function(f,a,c){this._ctx.font=this._getFont(!1,!1),this._ctx.textBaseline=s.TEXT_BASELINE,this._clipRow(c);var v=!1;this._optionsService.rawOptions.customGlyphs!==!1&&(v=(0,d.tryDrawCustomChar)(this._ctx,f.getChars(),a*this._scaledCellWidth,c*this._scaledCellHeight,this._scaledCellWidth,this._scaledCellHeight)),v||this._ctx.fillText(f.getChars(),a*this._scaledCellWidth+this._scaledCharLeft,c*this._scaledCellHeight+this._scaledCharTop+this._scaledCharHeight)},h.prototype._drawChars=function(f,a,c){var v,y,S,b=this._getContrastColor(f);b||f.isFgRGB()||f.isBgRGB()?this._drawUncachedChars(f,a,c,b):(f.isInverse()?(y=f.isBgDefault()?s.INVERTED_DEFAULT_COLOR:f.getBgColor(),S=f.isFgDefault()?s.INVERTED_DEFAULT_COLOR:f.getFgColor()):(S=f.isBgDefault()?o.DEFAULT_COLOR:f.getBgColor(),y=f.isFgDefault()?o.DEFAULT_COLOR:f.getFgColor()),y+=this._optionsService.rawOptions.drawBoldTextInBrightColors&&f.isBold()&&y<8?8:0,this._currentGlyphIdentifier.chars=f.getChars()||o.WHITESPACE_CELL_CHAR,this._currentGlyphIdentifier.code=f.getCode()||o.WHITESPACE_CELL_CODE,this._currentGlyphIdentifier.bg=S,this._currentGlyphIdentifier.fg=y,this._currentGlyphIdentifier.bold=!!f.isBold(),this._currentGlyphIdentifier.dim=!!f.isDim(),this._currentGlyphIdentifier.italic=!!f.isItalic(),!((v=this._charAtlas)===null||v===void 0)&&v.draw(this._ctx,this._currentGlyphIdentifier,a*this._scaledCellWidth+this._scaledCharLeft,c*this._scaledCellHeight+this._scaledCharTop)||this._drawUncachedChars(f,a,c))},h.prototype._drawUncachedChars=function(f,a,c,v){if(this._ctx.save(),this._ctx.font=this._getFont(!!f.isBold(),!!f.isItalic()),this._ctx.textBaseline=s.TEXT_BASELINE,f.isInverse())if(v)this._ctx.fillStyle=v.css;else if(f.isBgDefault())this._ctx.fillStyle=_.color.opaque(this._colors.background).css;else if(f.isBgRGB())this._ctx.fillStyle="rgb("+u.AttributeData.toColorRGB(f.getBgColor()).join(",")+")";else{var y=f.getBgColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&f.isBold()&&y<8&&(y+=8),this._ctx.fillStyle=this._colors.ansi[y].css}else if(v)this._ctx.fillStyle=v.css;else if(f.isFgDefault())this._ctx.fillStyle=this._colors.foreground.css;else if(f.isFgRGB())this._ctx.fillStyle="rgb("+u.AttributeData.toColorRGB(f.getFgColor()).join(",")+")";else{var S=f.getFgColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&f.isBold()&&S<8&&(S+=8),this._ctx.fillStyle=this._colors.ansi[S].css}this._clipRow(c),f.isDim()&&(this._ctx.globalAlpha=s.DIM_OPACITY);var b=!1;this._optionsService.rawOptions.customGlyphs!==!1&&(b=(0,d.tryDrawCustomChar)(this._ctx,f.getChars(),a*this._scaledCellWidth,c*this._scaledCellHeight,this._scaledCellWidth,this._scaledCellHeight)),b||this._ctx.fillText(f.getChars(),a*this._scaledCellWidth+this._scaledCharLeft,c*this._scaledCellHeight+this._scaledCharTop+this._scaledCharHeight),this._ctx.restore()},h.prototype._clipRow=function(f){this._ctx.beginPath(),this._ctx.rect(0,f*this._scaledCellHeight,this._bufferService.cols*this._scaledCellWidth,this._scaledCellHeight),this._ctx.clip()},h.prototype._getFont=function(f,a){return(a?"italic":"")+" "+(f?this._optionsService.rawOptions.fontWeightBold:this._optionsService.rawOptions.fontWeight)+" "+this._optionsService.rawOptions.fontSize*window.devicePixelRatio+"px "+this._optionsService.rawOptions.fontFamily},h.prototype._getContrastColor=function(f){if(this._optionsService.rawOptions.minimumContrastRatio!==1){var a=this._colors.contrastCache.getColor(f.bg,f.fg);if(a!==void 0)return a||void 0;var c=f.getFgColor(),v=f.getFgColorMode(),y=f.getBgColor(),S=f.getBgColorMode(),b=!!f.isInverse(),C=!!f.isInverse();if(b){var E=c;c=y,y=E;var x=v;v=S,S=x}var w=this._resolveBackgroundRgba(S,y,b),L=this._resolveForegroundRgba(v,c,b,C),k=_.rgba.ensureContrastRatio(w,L,this._optionsService.rawOptions.minimumContrastRatio);if(k){var N={css:_.channels.toCss(k>>24&255,k>>16&255,k>>8&255),rgba:k};return this._colors.contrastCache.setColor(f.bg,f.fg,N),N}this._colors.contrastCache.setColor(f.bg,f.fg,null)}},h.prototype._resolveBackgroundRgba=function(f,a,c){switch(f){case 16777216:case 33554432:return this._colors.ansi[a].rgba;case 50331648:return a<<8;default:return c?this._colors.foreground.rgba:this._colors.background.rgba}},h.prototype._resolveForegroundRgba=function(f,a,c,v){switch(f){case 16777216:case 33554432:return this._optionsService.rawOptions.drawBoldTextInBrightColors&&v&&a<8&&(a+=8),this._colors.ansi[a].rgba;case 50331648:return a<<8;default:return c?this._colors.background.rgba:this._colors.foreground.rgba}},h}();n.BaseRenderLayer=g},2512:function(r,n,i){var o,s=this&&this.__extends||(o=function(a,c){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(v[S]=y[S])},o(a,c)},function(a,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function v(){this.constructor=a}o(a,c),a.prototype=c===null?Object.create(c):(v.prototype=c.prototype,new v)}),l=this&&this.__decorate||function(a,c,v,y){var S,b=arguments.length,C=b<3?c:y===null?y=Object.getOwnPropertyDescriptor(c,v):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(a,c,v,y);else for(var E=a.length-1;E>=0;E--)(S=a[E])&&(C=(b<3?S(C):b>3?S(c,v,C):S(c,v))||C);return b>3&&C&&Object.defineProperty(c,v,C),C},u=this&&this.__param||function(a,c){return function(v,y){c(v,y,a)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CursorRenderLayer=void 0;var p=i(1546),_=i(511),m=i(2585),d=i(4725),g=600,h=function(a){function c(v,y,S,b,C,E,x,w,L){var k=a.call(this,v,"cursor",y,!0,S,b,E,x)||this;return k._onRequestRedraw=C,k._coreService=w,k._coreBrowserService=L,k._cell=new _.CellData,k._state={x:0,y:0,isFocused:!1,style:"",width:0},k._cursorRenderers={bar:k._renderBarCursor.bind(k),block:k._renderBlockCursor.bind(k),underline:k._renderUnderlineCursor.bind(k)},k}return s(c,a),c.prototype.dispose=function(){this._cursorBlinkStateManager&&(this._cursorBlinkStateManager.dispose(),this._cursorBlinkStateManager=void 0),a.prototype.dispose.call(this)},c.prototype.resize=function(v){a.prototype.resize.call(this,v),this._state={x:0,y:0,isFocused:!1,style:"",width:0}},c.prototype.reset=function(){var v;this._clearCursor(),(v=this._cursorBlinkStateManager)===null||v===void 0||v.restartBlinkAnimation(),this.onOptionsChanged()},c.prototype.onBlur=function(){var v;(v=this._cursorBlinkStateManager)===null||v===void 0||v.pause(),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},c.prototype.onFocus=function(){var v;(v=this._cursorBlinkStateManager)===null||v===void 0||v.resume(),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},c.prototype.onOptionsChanged=function(){var v,y=this;this._optionsService.rawOptions.cursorBlink?this._cursorBlinkStateManager||(this._cursorBlinkStateManager=new f(this._coreBrowserService.isFocused,function(){y._render(!0)})):((v=this._cursorBlinkStateManager)===null||v===void 0||v.dispose(),this._cursorBlinkStateManager=void 0),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},c.prototype.onCursorMove=function(){var v;(v=this._cursorBlinkStateManager)===null||v===void 0||v.restartBlinkAnimation()},c.prototype.onGridChanged=function(v,y){!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isPaused?this._render(!1):this._cursorBlinkStateManager.restartBlinkAnimation()},c.prototype._render=function(v){if(this._coreService.isCursorInitialized&&!this._coreService.isCursorHidden){var y=this._bufferService.buffer.ybase+this._bufferService.buffer.y,S=y-this._bufferService.buffer.ydisp;if(S<0||S>=this._bufferService.rows)this._clearCursor();else{var b=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1);if(this._bufferService.buffer.lines.get(y).loadCell(b,this._cell),this._cell.content!==void 0){if(!this._coreBrowserService.isFocused){this._clearCursor(),this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css;var C=this._optionsService.rawOptions.cursorStyle;return C&&C!=="block"?this._cursorRenderers[C](b,S,this._cell):this._renderBlurCursor(b,S,this._cell),this._ctx.restore(),this._state.x=b,this._state.y=S,this._state.isFocused=!1,this._state.style=C,void(this._state.width=this._cell.getWidth())}if(!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isCursorVisible){if(this._state){if(this._state.x===b&&this._state.y===S&&this._state.isFocused===this._coreBrowserService.isFocused&&this._state.style===this._optionsService.rawOptions.cursorStyle&&this._state.width===this._cell.getWidth())return;this._clearCursor()}this._ctx.save(),this._cursorRenderers[this._optionsService.rawOptions.cursorStyle||"block"](b,S,this._cell),this._ctx.restore(),this._state.x=b,this._state.y=S,this._state.isFocused=!1,this._state.style=this._optionsService.rawOptions.cursorStyle,this._state.width=this._cell.getWidth()}else this._clearCursor()}}}else this._clearCursor()},c.prototype._clearCursor=function(){this._state&&(window.devicePixelRatio<1?this._clearAll():this._clearCells(this._state.x,this._state.y,this._state.width,1),this._state={x:0,y:0,isFocused:!1,style:"",width:0})},c.prototype._renderBarCursor=function(v,y,S){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillLeftLineAtCell(v,y,this._optionsService.rawOptions.cursorWidth),this._ctx.restore()},c.prototype._renderBlockCursor=function(v,y,S){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillCells(v,y,S.getWidth(),1),this._ctx.fillStyle=this._colors.cursorAccent.css,this._fillCharTrueColor(S,v,y),this._ctx.restore()},c.prototype._renderUnderlineCursor=function(v,y,S){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillBottomLineAtCells(v,y),this._ctx.restore()},c.prototype._renderBlurCursor=function(v,y,S){this._ctx.save(),this._ctx.strokeStyle=this._colors.cursor.css,this._strokeRectAtCell(v,y,S.getWidth(),1),this._ctx.restore()},l([u(5,m.IBufferService),u(6,m.IOptionsService),u(7,m.ICoreService),u(8,d.ICoreBrowserService)],c)}(p.BaseRenderLayer);n.CursorRenderLayer=h;var f=function(){function a(c,v){this._renderCallback=v,this.isCursorVisible=!0,c&&this._restartInterval()}return Object.defineProperty(a.prototype,"isPaused",{get:function(){return!(this._blinkStartTimeout||this._blinkInterval)},enumerable:!1,configurable:!0}),a.prototype.dispose=function(){this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},a.prototype.restartBlinkAnimation=function(){var c=this;this.isPaused||(this._animationTimeRestarted=Date.now(),this.isCursorVisible=!0,this._animationFrame||(this._animationFrame=window.requestAnimationFrame(function(){c._renderCallback(),c._animationFrame=void 0})))},a.prototype._restartInterval=function(c){var v=this;c===void 0&&(c=g),this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout=window.setTimeout(function(){if(v._animationTimeRestarted){var y=g-(Date.now()-v._animationTimeRestarted);if(v._animationTimeRestarted=void 0,y>0)return void v._restartInterval(y)}v.isCursorVisible=!1,v._animationFrame=window.requestAnimationFrame(function(){v._renderCallback(),v._animationFrame=void 0}),v._blinkInterval=window.setInterval(function(){if(v._animationTimeRestarted){var S=g-(Date.now()-v._animationTimeRestarted);return v._animationTimeRestarted=void 0,void v._restartInterval(S)}v.isCursorVisible=!v.isCursorVisible,v._animationFrame=window.requestAnimationFrame(function(){v._renderCallback(),v._animationFrame=void 0})},g)},c)},a.prototype.pause=function(){this.isCursorVisible=!0,this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},a.prototype.resume=function(){this.pause(),this._animationTimeRestarted=void 0,this._restartInterval(),this.restartBlinkAnimation()},a}()},8978:(r,n,i)=>{var o,s,l,u,p,_,m,d,g,h,f,a,c,v,y,S,b,C,E,x,w,L,k,N,A,O,I,D,j,z,V,ae,re,ke,M,q,R,B,P,ee,ne,ue,Fe,Qe,vr,Q,yt,Yt,Or,Ui,ud,ld,cd,fd,dd,pd,hd,md,vd,_d,gd,yd,xu,wu,Cu,Eu,ku,Ou,Lu,Tu,Iu,Mu,Au,Pu,Ru,Du,Nu,Bu,ju,Fu,Hu,Uu,Wu,qu,zu,Vu,$u,Gu,Ku,Xu,Yu,Ju,Zu,Qu,el,tl,rl,nl,il,ol,sl,al,ul,ll,cl,fl,dl,pl,hl,ml,vl,_l,Sd,bd,xd,wd,Cd,Ed,kd,Od,Ld,Td,Id,Md,Ad,Pd,Rd,Dd;Object.defineProperty(n,"__esModule",{value:!0}),n.tryDrawCustomChar=n.boxDrawingDefinitions=n.blockElementDefinitions=void 0;var Dg=i(1752);n.blockElementDefinitions={"\u2580":[{x:0,y:0,w:8,h:4}],"\u2581":[{x:0,y:7,w:8,h:1}],"\u2582":[{x:0,y:6,w:8,h:2}],"\u2583":[{x:0,y:5,w:8,h:3}],"\u2584":[{x:0,y:4,w:8,h:4}],"\u2585":[{x:0,y:3,w:8,h:5}],"\u2586":[{x:0,y:2,w:8,h:6}],"\u2587":[{x:0,y:1,w:8,h:7}],"\u2588":[{x:0,y:0,w:8,h:8}],"\u2589":[{x:0,y:0,w:7,h:8}],"\u258A":[{x:0,y:0,w:6,h:8}],"\u258B":[{x:0,y:0,w:5,h:8}],"\u258C":[{x:0,y:0,w:4,h:8}],"\u258D":[{x:0,y:0,w:3,h:8}],"\u258E":[{x:0,y:0,w:2,h:8}],"\u258F":[{x:0,y:0,w:1,h:8}],"\u2590":[{x:4,y:0,w:4,h:8}],"\u2594":[{x:0,y:0,w:9,h:1}],"\u2595":[{x:7,y:0,w:1,h:8}],"\u2596":[{x:0,y:4,w:4,h:4}],"\u2597":[{x:4,y:4,w:4,h:4}],"\u2598":[{x:0,y:0,w:4,h:4}],"\u2599":[{x:0,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"\u259A":[{x:0,y:0,w:4,h:4},{x:4,y:4,w:4,h:4}],"\u259B":[{x:0,y:0,w:4,h:8},{x:0,y:0,w:4,h:8}],"\u259C":[{x:0,y:0,w:8,h:4},{x:4,y:0,w:4,h:8}],"\u259D":[{x:4,y:0,w:4,h:4}],"\u259E":[{x:4,y:0,w:4,h:4},{x:0,y:4,w:4,h:4}],"\u259F":[{x:4,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"\u{1FB70}":[{x:1,y:0,w:1,h:8}],"\u{1FB71}":[{x:2,y:0,w:1,h:8}],"\u{1FB72}":[{x:3,y:0,w:1,h:8}],"\u{1FB73}":[{x:4,y:0,w:1,h:8}],"\u{1FB74}":[{x:5,y:0,w:1,h:8}],"\u{1FB75}":[{x:6,y:0,w:1,h:8}],"\u{1FB76}":[{x:0,y:1,w:8,h:1}],"\u{1FB77}":[{x:0,y:2,w:8,h:1}],"\u{1FB78}":[{x:0,y:3,w:8,h:1}],"\u{1FB79}":[{x:0,y:4,w:8,h:1}],"\u{1FB7A}":[{x:0,y:5,w:8,h:1}],"\u{1FB7B}":[{x:0,y:6,w:8,h:1}],"\u{1FB7C}":[{x:0,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"\u{1FB7D}":[{x:0,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"\u{1FB7E}":[{x:7,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"\u{1FB7F}":[{x:7,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"\u{1FB80}":[{x:0,y:0,w:8,h:1},{x:0,y:7,w:8,h:1}],"\u{1FB81}":[{x:0,y:0,w:8,h:1},{x:0,y:2,w:8,h:1},{x:0,y:4,w:8,h:1},{x:0,y:7,w:8,h:1}],"\u{1FB82}":[{x:0,y:0,w:8,h:2}],"\u{1FB83}":[{x:0,y:0,w:8,h:3}],"\u{1FB84}":[{x:0,y:0,w:8,h:5}],"\u{1FB85}":[{x:0,y:0,w:8,h:6}],"\u{1FB86}":[{x:0,y:0,w:8,h:7}],"\u{1FB87}":[{x:6,y:0,w:2,h:8}],"\u{1FB88}":[{x:5,y:0,w:3,h:8}],"\u{1FB89}":[{x:3,y:0,w:5,h:8}],"\u{1FB8A}":[{x:2,y:0,w:6,h:8}],"\u{1FB8B}":[{x:1,y:0,w:7,h:8}],"\u{1FB95}":[{x:0,y:0,w:2,h:2},{x:4,y:0,w:2,h:2},{x:2,y:2,w:2,h:2},{x:6,y:2,w:2,h:2},{x:0,y:4,w:2,h:2},{x:4,y:4,w:2,h:2},{x:2,y:6,w:2,h:2},{x:6,y:6,w:2,h:2}],"\u{1FB96}":[{x:2,y:0,w:2,h:2},{x:6,y:0,w:2,h:2},{x:0,y:2,w:2,h:2},{x:4,y:2,w:2,h:2},{x:2,y:4,w:2,h:2},{x:6,y:4,w:2,h:2},{x:0,y:6,w:2,h:2},{x:4,y:6,w:2,h:2}],"\u{1FB97}":[{x:0,y:2,w:8,h:2},{x:0,y:6,w:8,h:2}]};var Zw={"\u2591":[[1,0,0,0],[0,0,0,0],[0,0,1,0],[0,0,0,0]],"\u2592":[[1,0],[0,0],[0,1],[0,0]],"\u2593":[[0,1],[1,1],[1,0],[1,1]]};n.boxDrawingDefinitions={"\u2500":(o={},o[1]="M0,.5 L1,.5",o),"\u2501":(s={},s[3]="M0,.5 L1,.5",s),"\u2502":(l={},l[1]="M.5,0 L.5,1",l),"\u2503":(u={},u[3]="M.5,0 L.5,1",u),"\u250C":(p={},p[1]="M0.5,1 L.5,.5 L1,.5",p),"\u250F":(_={},_[3]="M0.5,1 L.5,.5 L1,.5",_),"\u2510":(m={},m[1]="M0,.5 L.5,.5 L.5,1",m),"\u2513":(d={},d[3]="M0,.5 L.5,.5 L.5,1",d),"\u2514":(g={},g[1]="M.5,0 L.5,.5 L1,.5",g),"\u2517":(h={},h[3]="M.5,0 L.5,.5 L1,.5",h),"\u2518":(f={},f[1]="M.5,0 L.5,.5 L0,.5",f),"\u251B":(a={},a[3]="M.5,0 L.5,.5 L0,.5",a),"\u251C":(c={},c[1]="M.5,0 L.5,1 M.5,.5 L1,.5",c),"\u2523":(v={},v[3]="M.5,0 L.5,1 M.5,.5 L1,.5",v),"\u2524":(y={},y[1]="M.5,0 L.5,1 M.5,.5 L0,.5",y),"\u252B":(S={},S[3]="M.5,0 L.5,1 M.5,.5 L0,.5",S),"\u252C":(b={},b[1]="M0,.5 L1,.5 M.5,.5 L.5,1",b),"\u2533":(C={},C[3]="M0,.5 L1,.5 M.5,.5 L.5,1",C),"\u2534":(E={},E[1]="M0,.5 L1,.5 M.5,.5 L.5,0",E),"\u253B":(x={},x[3]="M0,.5 L1,.5 M.5,.5 L.5,0",x),"\u253C":(w={},w[1]="M0,.5 L1,.5 M.5,0 L.5,1",w),"\u254B":(L={},L[3]="M0,.5 L1,.5 M.5,0 L.5,1",L),"\u2574":(k={},k[1]="M.5,.5 L0,.5",k),"\u2578":(N={},N[3]="M.5,.5 L0,.5",N),"\u2575":(A={},A[1]="M.5,.5 L.5,0",A),"\u2579":(O={},O[3]="M.5,.5 L.5,0",O),"\u2576":(I={},I[1]="M.5,.5 L1,.5",I),"\u257A":(D={},D[3]="M.5,.5 L1,.5",D),"\u2577":(j={},j[1]="M.5,.5 L.5,1",j),"\u257B":(z={},z[3]="M.5,.5 L.5,1",z),"\u2550":(V={},V[1]=function(U,H){return"M0,"+(.5-H)+" L1,"+(.5-H)+" M0,"+(.5+H)+" L1,"+(.5+H)},V),"\u2551":(ae={},ae[1]=function(U,H){return"M"+(.5-U)+",0 L"+(.5-U)+",1 M"+(.5+U)+",0 L"+(.5+U)+",1"},ae),"\u2552":(re={},re[1]=function(U,H){return"M.5,1 L.5,"+(.5-H)+" L1,"+(.5-H)+" M.5,"+(.5+H)+" L1,"+(.5+H)},re),"\u2553":(ke={},ke[1]=function(U,H){return"M"+(.5-U)+",1 L"+(.5-U)+",.5 L1,.5 M"+(.5+U)+",.5 L"+(.5+U)+",1"},ke),"\u2554":(M={},M[1]=function(U,H){return"M1,"+(.5-H)+" L"+(.5-U)+","+(.5-H)+" L"+(.5-U)+",1 M1,"+(.5+H)+" L"+(.5+U)+","+(.5+H)+" L"+(.5+U)+",1"},M),"\u2555":(q={},q[1]=function(U,H){return"M0,"+(.5-H)+" L.5,"+(.5-H)+" L.5,1 M0,"+(.5+H)+" L.5,"+(.5+H)},q),"\u2556":(R={},R[1]=function(U,H){return"M"+(.5+U)+",1 L"+(.5+U)+",.5 L0,.5 M"+(.5-U)+",.5 L"+(.5-U)+",1"},R),"\u2557":(B={},B[1]=function(U,H){return"M0,"+(.5+H)+" L"+(.5-U)+","+(.5+H)+" L"+(.5-U)+",1 M0,"+(.5-H)+" L"+(.5+U)+","+(.5-H)+" L"+(.5+U)+",1"},B),"\u2558":(P={},P[1]=function(U,H){return"M.5,0 L.5,"+(.5+H)+" L1,"+(.5+H)+" M.5,"+(.5-H)+" L1,"+(.5-H)},P),"\u2559":(ee={},ee[1]=function(U,H){return"M1,.5 L"+(.5-U)+",.5 L"+(.5-U)+",0 M"+(.5+U)+",.5 L"+(.5+U)+",0"},ee),"\u255A":(ne={},ne[1]=function(U,H){return"M1,"+(.5-H)+" L"+(.5+U)+","+(.5-H)+" L"+(.5+U)+",0 M1,"+(.5+H)+" L"+(.5-U)+","+(.5+H)+" L"+(.5-U)+",0"},ne),"\u255B":(ue={},ue[1]=function(U,H){return"M0,"+(.5+H)+" L.5,"+(.5+H)+" L.5,0 M0,"+(.5-H)+" L.5,"+(.5-H)},ue),"\u255C":(Fe={},Fe[1]=function(U,H){return"M0,.5 L"+(.5+U)+",.5 L"+(.5+U)+",0 M"+(.5-U)+",.5 L"+(.5-U)+",0"},Fe),"\u255D":(Qe={},Qe[1]=function(U,H){return"M0,"+(.5-H)+" L"+(.5-U)+","+(.5-H)+" L"+(.5-U)+",0 M0,"+(.5+H)+" L"+(.5+U)+","+(.5+H)+" L"+(.5+U)+",0"},Qe),"\u255E":(vr={},vr[1]=function(U,H){return"M.5,0 L.5,1 M.5,"+(.5-H)+" L1,"+(.5-H)+" M.5,"+(.5+H)+" L1,"+(.5+H)},vr),"\u255F":(Q={},Q[1]=function(U,H){return"M"+(.5-U)+",0 L"+(.5-U)+",1 M"+(.5+U)+",0 L"+(.5+U)+",1 M"+(.5+U)+",.5 L1,.5"},Q),"\u2560":(yt={},yt[1]=function(U,H){return"M"+(.5-U)+",0 L"+(.5-U)+",1 M1,"+(.5+H)+" L"+(.5+U)+","+(.5+H)+" L"+(.5+U)+",1 M1,"+(.5-H)+" L"+(.5+U)+","+(.5-H)+" L"+(.5+U)+",0"},yt),"\u2561":(Yt={},Yt[1]=function(U,H){return"M.5,0 L.5,1 M0,"+(.5-H)+" L.5,"+(.5-H)+" M0,"+(.5+H)+" L.5,"+(.5+H)},Yt),"\u2562":(Or={},Or[1]=function(U,H){return"M0,.5 L"+(.5-U)+",.5 M"+(.5-U)+",0 L"+(.5-U)+",1 M"+(.5+U)+",0 L"+(.5+U)+",1"},Or),"\u2563":(Ui={},Ui[1]=function(U,H){return"M"+(.5+U)+",0 L"+(.5+U)+",1 M0,"+(.5+H)+" L"+(.5-U)+","+(.5+H)+" L"+(.5-U)+",1 M0,"+(.5-H)+" L"+(.5-U)+","+(.5-H)+" L"+(.5-U)+",0"},Ui),"\u2564":(ud={},ud[1]=function(U,H){return"M0,"+(.5-H)+" L1,"+(.5-H)+" M0,"+(.5+H)+" L1,"+(.5+H)+" M.5,"+(.5+H)+" L.5,1"},ud),"\u2565":(ld={},ld[1]=function(U,H){return"M0,.5 L1,.5 M"+(.5-U)+",.5 L"+(.5-U)+",1 M"+(.5+U)+",.5 L"+(.5+U)+",1"},ld),"\u2566":(cd={},cd[1]=function(U,H){return"M0,"+(.5-H)+" L1,"+(.5-H)+" M0,"+(.5+H)+" L"+(.5-U)+","+(.5+H)+" L"+(.5-U)+",1 M1,"+(.5+H)+" L"+(.5+U)+","+(.5+H)+" L"+(.5+U)+",1"},cd),"\u2567":(fd={},fd[1]=function(U,H){return"M.5,0 L.5,"+(.5-H)+" M0,"+(.5-H)+" L1,"+(.5-H)+" M0,"+(.5+H)+" L1,"+(.5+H)},fd),"\u2568":(dd={},dd[1]=function(U,H){return"M0,.5 L1,.5 M"+(.5-U)+",.5 L"+(.5-U)+",0 M"+(.5+U)+",.5 L"+(.5+U)+",0"},dd),"\u2569":(pd={},pd[1]=function(U,H){return"M0,"+(.5+H)+" L1,"+(.5+H)+" M0,"+(.5-H)+" L"+(.5-U)+","+(.5-H)+" L"+(.5-U)+",0 M1,"+(.5-H)+" L"+(.5+U)+","+(.5-H)+" L"+(.5+U)+",0"},pd),"\u256A":(hd={},hd[1]=function(U,H){return"M.5,0 L.5,1 M0,"+(.5-H)+" L1,"+(.5-H)+" M0,"+(.5+H)+" L1,"+(.5+H)},hd),"\u256B":(md={},md[1]=function(U,H){return"M0,.5 L1,.5 M"+(.5-U)+",0 L"+(.5-U)+",1 M"+(.5+U)+",0 L"+(.5+U)+",1"},md),"\u256C":(vd={},vd[1]=function(U,H){return"M0,"+(.5+H)+" L"+(.5-U)+","+(.5+H)+" L"+(.5-U)+",1 M1,"+(.5+H)+" L"+(.5+U)+","+(.5+H)+" L"+(.5+U)+",1 M0,"+(.5-H)+" L"+(.5-U)+","+(.5-H)+" L"+(.5-U)+",0 M1,"+(.5-H)+" L"+(.5+U)+","+(.5-H)+" L"+(.5+U)+",0"},vd),"\u2571":(_d={},_d[1]="M1,0 L0,1",_d),"\u2572":(gd={},gd[1]="M0,0 L1,1",gd),"\u2573":(yd={},yd[1]="M1,0 L0,1 M0,0 L1,1",yd),"\u257C":(xu={},xu[1]="M.5,.5 L0,.5",xu[3]="M.5,.5 L1,.5",xu),"\u257D":(wu={},wu[1]="M.5,.5 L.5,0",wu[3]="M.5,.5 L.5,1",wu),"\u257E":(Cu={},Cu[1]="M.5,.5 L1,.5",Cu[3]="M.5,.5 L0,.5",Cu),"\u257F":(Eu={},Eu[1]="M.5,.5 L.5,1",Eu[3]="M.5,.5 L.5,0",Eu),"\u250D":(ku={},ku[1]="M.5,.5 L.5,1",ku[3]="M.5,.5 L1,.5",ku),"\u250E":(Ou={},Ou[1]="M.5,.5 L1,.5",Ou[3]="M.5,.5 L.5,1",Ou),"\u2511":(Lu={},Lu[1]="M.5,.5 L.5,1",Lu[3]="M.5,.5 L0,.5",Lu),"\u2512":(Tu={},Tu[1]="M.5,.5 L0,.5",Tu[3]="M.5,.5 L.5,1",Tu),"\u2515":(Iu={},Iu[1]="M.5,.5 L.5,0",Iu[3]="M.5,.5 L1,.5",Iu),"\u2516":(Mu={},Mu[1]="M.5,.5 L1,.5",Mu[3]="M.5,.5 L.5,0",Mu),"\u2519":(Au={},Au[1]="M.5,.5 L.5,0",Au[3]="M.5,.5 L0,.5",Au),"\u251A":(Pu={},Pu[1]="M.5,.5 L0,.5",Pu[3]="M.5,.5 L.5,0",Pu),"\u251D":(Ru={},Ru[1]="M.5,0 L.5,1",Ru[3]="M.5,.5 L1,.5",Ru),"\u251E":(Du={},Du[1]="M0.5,1 L.5,.5 L1,.5",Du[3]="M.5,.5 L.5,0",Du),"\u251F":(Nu={},Nu[1]="M.5,0 L.5,.5 L1,.5",Nu[3]="M.5,.5 L.5,1",Nu),"\u2520":(Bu={},Bu[1]="M.5,.5 L1,.5",Bu[3]="M.5,0 L.5,1",Bu),"\u2521":(ju={},ju[1]="M.5,.5 L.5,1",ju[3]="M.5,0 L.5,.5 L1,.5",ju),"\u2522":(Fu={},Fu[1]="M.5,.5 L.5,0",Fu[3]="M0.5,1 L.5,.5 L1,.5",Fu),"\u2525":(Hu={},Hu[1]="M.5,0 L.5,1",Hu[3]="M.5,.5 L0,.5",Hu),"\u2526":(Uu={},Uu[1]="M0,.5 L.5,.5 L.5,1",Uu[3]="M.5,.5 L.5,0",Uu),"\u2527":(Wu={},Wu[1]="M.5,0 L.5,.5 L0,.5",Wu[3]="M.5,.5 L.5,1",Wu),"\u2528":(qu={},qu[1]="M.5,.5 L0,.5",qu[3]="M.5,0 L.5,1",qu),"\u2529":(zu={},zu[1]="M.5,.5 L.5,1",zu[3]="M.5,0 L.5,.5 L0,.5",zu),"\u252A":(Vu={},Vu[1]="M.5,.5 L.5,0",Vu[3]="M0,.5 L.5,.5 L.5,1",Vu),"\u252D":($u={},$u[1]="M0.5,1 L.5,.5 L1,.5",$u[3]="M.5,.5 L0,.5",$u),"\u252E":(Gu={},Gu[1]="M0,.5 L.5,.5 L.5,1",Gu[3]="M.5,.5 L1,.5",Gu),"\u252F":(Ku={},Ku[1]="M.5,.5 L.5,1",Ku[3]="M0,.5 L1,.5",Ku),"\u2530":(Xu={},Xu[1]="M0,.5 L1,.5",Xu[3]="M.5,.5 L.5,1",Xu),"\u2531":(Yu={},Yu[1]="M.5,.5 L1,.5",Yu[3]="M0,.5 L.5,.5 L.5,1",Yu),"\u2532":(Ju={},Ju[1]="M.5,.5 L0,.5",Ju[3]="M0.5,1 L.5,.5 L1,.5",Ju),"\u2535":(Zu={},Zu[1]="M.5,0 L.5,.5 L1,.5",Zu[3]="M.5,.5 L0,.5",Zu),"\u2536":(Qu={},Qu[1]="M.5,0 L.5,.5 L0,.5",Qu[3]="M.5,.5 L1,.5",Qu),"\u2537":(el={},el[1]="M.5,.5 L.5,0",el[3]="M0,.5 L1,.5",el),"\u2538":(tl={},tl[1]="M0,.5 L1,.5",tl[3]="M.5,.5 L.5,0",tl),"\u2539":(rl={},rl[1]="M.5,.5 L1,.5",rl[3]="M.5,0 L.5,.5 L0,.5",rl),"\u253A":(nl={},nl[1]="M.5,.5 L0,.5",nl[3]="M.5,0 L.5,.5 L1,.5",nl),"\u253D":(il={},il[1]="M.5,0 L.5,1 M.5,.5 L1,.5",il[3]="M.5,.5 L0,.5",il),"\u253E":(ol={},ol[1]="M.5,0 L.5,1 M.5,.5 L0,.5",ol[3]="M.5,.5 L1,.5",ol),"\u253F":(sl={},sl[1]="M.5,0 L.5,1",sl[3]="M0,.5 L1,.5",sl),"\u2540":(al={},al[1]="M0,.5 L1,.5 M.5,.5 L.5,1",al[3]="M.5,.5 L.5,0",al),"\u2541":(ul={},ul[1]="M.5,.5 L.5,0 M0,.5 L1,.5",ul[3]="M.5,.5 L.5,1",ul),"\u2542":(ll={},ll[1]="M0,.5 L1,.5",ll[3]="M.5,0 L.5,1",ll),"\u2543":(cl={},cl[1]="M0.5,1 L.5,.5 L1,.5",cl[3]="M.5,0 L.5,.5 L0,.5",cl),"\u2544":(fl={},fl[1]="M0,.5 L.5,.5 L.5,1",fl[3]="M.5,0 L.5,.5 L1,.5",fl),"\u2545":(dl={},dl[1]="M.5,0 L.5,.5 L1,.5",dl[3]="M0,.5 L.5,.5 L.5,1",dl),"\u2546":(pl={},pl[1]="M.5,0 L.5,.5 L0,.5",pl[3]="M0.5,1 L.5,.5 L1,.5",pl),"\u2547":(hl={},hl[1]="M.5,.5 L.5,1",hl[3]="M.5,.5 L.5,0 M0,.5 L1,.5",hl),"\u2548":(ml={},ml[1]="M.5,.5 L.5,0",ml[3]="M0,.5 L1,.5 M.5,.5 L.5,1",ml),"\u2549":(vl={},vl[1]="M.5,.5 L1,.5",vl[3]="M.5,0 L.5,1 M.5,.5 L0,.5",vl),"\u254A":(_l={},_l[1]="M.5,.5 L0,.5",_l[3]="M.5,0 L.5,1 M.5,.5 L1,.5",_l),"\u254C":(Sd={},Sd[1]="M.1,.5 L.4,.5 M.6,.5 L.9,.5",Sd),"\u254D":(bd={},bd[3]="M.1,.5 L.4,.5 M.6,.5 L.9,.5",bd),"\u2504":(xd={},xd[1]="M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5",xd),"\u2505":(wd={},wd[3]="M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5",wd),"\u2508":(Cd={},Cd[1]="M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5",Cd),"\u2509":(Ed={},Ed[3]="M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5",Ed),"\u254E":(kd={},kd[1]="M.5,.1 L.5,.4 M.5,.6 L.5,.9",kd),"\u254F":(Od={},Od[3]="M.5,.1 L.5,.4 M.5,.6 L.5,.9",Od),"\u2506":(Ld={},Ld[1]="M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333",Ld),"\u2507":(Td={},Td[3]="M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333",Td),"\u250A":(Id={},Id[1]="M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95",Id),"\u250B":(Md={},Md[3]="M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95",Md),"\u256D":(Ad={},Ad[1]="C.5,1,.5,.5,1,.5",Ad),"\u256E":(Pd={},Pd[1]="C.5,1,.5,.5,0,.5",Pd),"\u256F":(Rd={},Rd[1]="C.5,0,.5,.5,0,.5",Rd),"\u2570":(Dd={},Dd[1]="C.5,0,.5,.5,1,.5",Dd)},n.tryDrawCustomChar=function(U,H,Lr,rs,ns,at){var Tr=n.blockElementDefinitions[H];if(Tr)return function(Nt,Mr,os,ss,Wi,qi){for(var Jt=0;Jt<Mr.length;Jt++){var Wt=Mr[Jt],et=Wi/8,Kr=qi/8;Nt.fillRect(os+Wt.x*et,ss+Wt.y*Kr,Wt.w*et,Wt.h*Kr)}}(U,Tr,Lr,rs,ns,at),!0;var Ir=Zw[H];if(Ir)return function(Nt,Mr,os,ss,Wi,qi){var Jt,Wt=Ng.get(Mr);Wt||(Wt=new Map,Ng.set(Mr,Wt));var et=Nt.fillStyle;if(typeof et!="string")throw new Error('Unexpected fillStyle type "'+et+'"');var Kr=Wt.get(et);if(!Kr){var _r=Mr[0].length,ni=Mr.length,ii=document.createElement("canvas");ii.width=_r,ii.height=ni;var gl=(0,Dg.throwIfFalsy)(ii.getContext("2d")),hn=new ImageData(_r,ni),zi=void 0,oi=void 0,Nd=void 0,Bd=void 0;if(et.startsWith("#"))zi=parseInt(et.substr(1,2),16),oi=parseInt(et.substr(3,2),16),Nd=parseInt(et.substr(5,2),16),Bd=et.length>7&&parseInt(et.substr(7,2),16)||1;else{if(!et.startsWith("rgba"))throw new Error('Unexpected fillStyle color format "'+et+'" when drawing pattern glyph');zi=(Jt=et.substring(5,et.length-1).split(",").map(function(tC){return parseFloat(tC)}))[0],oi=Jt[1],Nd=Jt[2],Bd=Jt[3]}for(var si=0;si<ni;si++)for(var ai=0;ai<_r;ai++)hn.data[4*(si*_r+ai)]=zi,hn.data[4*(si*_r+ai)+1]=oi,hn.data[4*(si*_r+ai)+2]=Nd,hn.data[4*(si*_r+ai)+3]=Mr[si][ai]*(255*Bd);gl.putImageData(hn,0,0),Kr=(0,Dg.throwIfFalsy)(Nt.createPattern(ii,null)),Wt.set(et,Kr)}Nt.fillStyle=Kr,Nt.fillRect(os,ss,Wi,qi)}(U,Ir,Lr,rs,ns,at),!0;var is=n.boxDrawingDefinitions[H];return!!is&&(function(Nt,Mr,os,ss,Wi,qi){Nt.strokeStyle=Nt.fillStyle;for(var Jt=0,Wt=Object.entries(Mr);Jt<Wt.length;Jt++){var et=Wt[Jt],Kr=et[0],_r=et[1];Nt.beginPath(),Nt.lineWidth=window.devicePixelRatio*Number.parseInt(Kr);for(var ni=0,ii=(typeof _r=="function"?_r(.15,.15/qi*Wi):_r).split(" ");ni<ii.length;ni++){var gl=ii[ni],hn=gl[0],zi=Qw[hn];if(zi){var oi=gl.substring(1).split(",");oi[0]&&oi[1]&&zi(Nt,eC(oi,Wi,qi,os,ss))}else console.error('Could not find drawing instructions for "'+hn+'"')}Nt.stroke(),Nt.closePath()}}(U,is,Lr,rs,ns,at),!0)};var Ng=new Map;function Bg(U,H,Lr){return Lr===void 0&&(Lr=0),Math.max(Math.min(U,H),Lr)}var Qw={C:function(U,H){return U.bezierCurveTo(H[0],H[1],H[2],H[3],H[4],H[5])},L:function(U,H){return U.lineTo(H[0],H[1])},M:function(U,H){return U.moveTo(H[0],H[1])}};function eC(U,H,Lr,rs,ns){var at=U.map(function(is){return parseFloat(is)||parseInt(is)});if(at.length<2)throw new Error("Too few arguments for instruction");for(var Tr=0;Tr<at.length;Tr+=2)at[Tr]*=H,at[Tr]!==0&&(at[Tr]=Bg(Math.round(at[Tr]+.5)-.5,H,0)),at[Tr]+=rs;for(var Ir=1;Ir<at.length;Ir+=2)at[Ir]*=Lr,at[Ir]!==0&&(at[Ir]=Bg(Math.round(at[Ir]+.5)-.5,Lr,0)),at[Ir]+=ns;return at}},3700:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.GridCache=void 0;var i=function(){function o(){this.cache=[]}return o.prototype.resize=function(s,l){for(var u=0;u<s;u++){this.cache.length<=u&&this.cache.push([]);for(var p=this.cache[u].length;p<l;p++)this.cache[u].push(void 0);this.cache[u].length=l}this.cache.length=s},o.prototype.clear=function(){for(var s=0;s<this.cache.length;s++)for(var l=0;l<this.cache[s].length;l++)this.cache[s][l]=void 0},o}();n.GridCache=i},5098:function(r,n,i){var o,s=this&&this.__extends||(o=function(h,f){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var v in c)Object.prototype.hasOwnProperty.call(c,v)&&(a[v]=c[v])},o(h,f)},function(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function a(){this.constructor=h}o(h,f),h.prototype=f===null?Object.create(f):(a.prototype=f.prototype,new a)}),l=this&&this.__decorate||function(h,f,a,c){var v,y=arguments.length,S=y<3?f:c===null?c=Object.getOwnPropertyDescriptor(f,a):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(h,f,a,c);else for(var b=h.length-1;b>=0;b--)(v=h[b])&&(S=(y<3?v(S):y>3?v(f,a,S):v(f,a))||S);return y>3&&S&&Object.defineProperty(f,a,S),S},u=this&&this.__param||function(h,f){return function(a,c){f(a,c,h)}};Object.defineProperty(n,"__esModule",{value:!0}),n.LinkRenderLayer=void 0;var p=i(1546),_=i(8803),m=i(2040),d=i(2585),g=function(h){function f(a,c,v,y,S,b,C,E){var x=h.call(this,a,"link",c,!0,v,y,C,E)||this;return S.onShowLinkUnderline(function(w){return x._onShowLinkUnderline(w)}),S.onHideLinkUnderline(function(w){return x._onHideLinkUnderline(w)}),b.onShowLinkUnderline(function(w){return x._onShowLinkUnderline(w)}),b.onHideLinkUnderline(function(w){return x._onHideLinkUnderline(w)}),x}return s(f,h),f.prototype.resize=function(a){h.prototype.resize.call(this,a),this._state=void 0},f.prototype.reset=function(){this._clearCurrentLink()},f.prototype._clearCurrentLink=function(){if(this._state){this._clearCells(this._state.x1,this._state.y1,this._state.cols-this._state.x1,1);var a=this._state.y2-this._state.y1-1;a>0&&this._clearCells(0,this._state.y1+1,this._state.cols,a),this._clearCells(0,this._state.y2,this._state.x2,1),this._state=void 0}},f.prototype._onShowLinkUnderline=function(a){if(a.fg===_.INVERTED_DEFAULT_COLOR?this._ctx.fillStyle=this._colors.background.css:a.fg&&(0,m.is256Color)(a.fg)?this._ctx.fillStyle=this._colors.ansi[a.fg].css:this._ctx.fillStyle=this._colors.foreground.css,a.y1===a.y2)this._fillBottomLineAtCells(a.x1,a.y1,a.x2-a.x1);else{this._fillBottomLineAtCells(a.x1,a.y1,a.cols-a.x1);for(var c=a.y1+1;c<a.y2;c++)this._fillBottomLineAtCells(0,c,a.cols);this._fillBottomLineAtCells(0,a.y2,a.x2)}this._state=a},f.prototype._onHideLinkUnderline=function(a){this._clearCurrentLink()},l([u(6,d.IBufferService),u(7,d.IOptionsService)],f)}(p.BaseRenderLayer);n.LinkRenderLayer=g},3525:function(r,n,i){var o,s=this&&this.__extends||(o=function(S,b){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,E){C.__proto__=E}||function(C,E){for(var x in E)Object.prototype.hasOwnProperty.call(E,x)&&(C[x]=E[x])},o(S,b)},function(S,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function C(){this.constructor=S}o(S,b),S.prototype=b===null?Object.create(b):(C.prototype=b.prototype,new C)}),l=this&&this.__decorate||function(S,b,C,E){var x,w=arguments.length,L=w<3?b:E===null?E=Object.getOwnPropertyDescriptor(b,C):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(S,b,C,E);else for(var k=S.length-1;k>=0;k--)(x=S[k])&&(L=(w<3?x(L):w>3?x(b,C,L):x(b,C))||L);return w>3&&L&&Object.defineProperty(b,C,L),L},u=this&&this.__param||function(S,b){return function(C,E){b(C,E,S)}};Object.defineProperty(n,"__esModule",{value:!0}),n.Renderer=void 0;var p=i(9596),_=i(4149),m=i(2512),d=i(5098),g=i(844),h=i(4725),f=i(2585),a=i(1420),c=i(8460),v=1,y=function(S){function b(C,E,x,w,L,k,N,A){var O=S.call(this)||this;O._colors=C,O._screenElement=E,O._bufferService=k,O._charSizeService=N,O._optionsService=A,O._id=v++,O._onRequestRedraw=new c.EventEmitter;var I=O._optionsService.rawOptions.allowTransparency;return O._renderLayers=[L.createInstance(p.TextRenderLayer,O._screenElement,0,O._colors,I,O._id),L.createInstance(_.SelectionRenderLayer,O._screenElement,1,O._colors,O._id),L.createInstance(d.LinkRenderLayer,O._screenElement,2,O._colors,O._id,x,w),L.createInstance(m.CursorRenderLayer,O._screenElement,3,O._colors,O._id,O._onRequestRedraw)],O.dimensions={scaledCharWidth:0,scaledCharHeight:0,scaledCellWidth:0,scaledCellHeight:0,scaledCharLeft:0,scaledCharTop:0,scaledCanvasWidth:0,scaledCanvasHeight:0,canvasWidth:0,canvasHeight:0,actualCellWidth:0,actualCellHeight:0},O._devicePixelRatio=window.devicePixelRatio,O._updateDimensions(),O.onOptionsChanged(),O}return s(b,S),Object.defineProperty(b.prototype,"onRequestRedraw",{get:function(){return this._onRequestRedraw.event},enumerable:!1,configurable:!0}),b.prototype.dispose=function(){for(var C=0,E=this._renderLayers;C<E.length;C++)E[C].dispose();S.prototype.dispose.call(this),(0,a.removeTerminalFromCache)(this._id)},b.prototype.onDevicePixelRatioChange=function(){this._devicePixelRatio!==window.devicePixelRatio&&(this._devicePixelRatio=window.devicePixelRatio,this.onResize(this._bufferService.cols,this._bufferService.rows))},b.prototype.setColors=function(C){this._colors=C;for(var E=0,x=this._renderLayers;E<x.length;E++){var w=x[E];w.setColors(this._colors),w.reset()}},b.prototype.onResize=function(C,E){this._updateDimensions();for(var x=0,w=this._renderLayers;x<w.length;x++)w[x].resize(this.dimensions);this._screenElement.style.width=this.dimensions.canvasWidth+"px",this._screenElement.style.height=this.dimensions.canvasHeight+"px"},b.prototype.onCharSizeChanged=function(){this.onResize(this._bufferService.cols,this._bufferService.rows)},b.prototype.onBlur=function(){this._runOperation(function(C){return C.onBlur()})},b.prototype.onFocus=function(){this._runOperation(function(C){return C.onFocus()})},b.prototype.onSelectionChanged=function(C,E,x){x===void 0&&(x=!1),this._runOperation(function(w){return w.onSelectionChanged(C,E,x)})},b.prototype.onCursorMove=function(){this._runOperation(function(C){return C.onCursorMove()})},b.prototype.onOptionsChanged=function(){this._runOperation(function(C){return C.onOptionsChanged()})},b.prototype.clear=function(){this._runOperation(function(C){return C.reset()})},b.prototype._runOperation=function(C){for(var E=0,x=this._renderLayers;E<x.length;E++)C(x[E])},b.prototype.renderRows=function(C,E){for(var x=0,w=this._renderLayers;x<w.length;x++)w[x].onGridChanged(C,E)},b.prototype.clearTextureAtlas=function(){for(var C=0,E=this._renderLayers;C<E.length;C++)E[C].clearTextureAtlas()},b.prototype._updateDimensions=function(){this._charSizeService.hasValidSize&&(this.dimensions.scaledCharWidth=Math.floor(this._charSizeService.width*window.devicePixelRatio),this.dimensions.scaledCharHeight=Math.ceil(this._charSizeService.height*window.devicePixelRatio),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._optionsService.rawOptions.lineHeight),this.dimensions.scaledCharTop=this._optionsService.rawOptions.lineHeight===1?0:Math.round((this.dimensions.scaledCellHeight-this.dimensions.scaledCharHeight)/2),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.scaledCharLeft=Math.floor(this._optionsService.rawOptions.letterSpacing/2),this.dimensions.scaledCanvasHeight=this._bufferService.rows*this.dimensions.scaledCellHeight,this.dimensions.scaledCanvasWidth=this._bufferService.cols*this.dimensions.scaledCellWidth,this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._bufferService.rows,this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._bufferService.cols)},l([u(4,f.IInstantiationService),u(5,f.IBufferService),u(6,h.ICharSizeService),u(7,f.IOptionsService)],b)}(g.Disposable);n.Renderer=y},1752:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.throwIfFalsy=void 0,n.throwIfFalsy=function(i){if(!i)throw new Error("value must not be falsy");return i}},4149:function(r,n,i){var o,s=this&&this.__extends||(o=function(d,g){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var a in f)Object.prototype.hasOwnProperty.call(f,a)&&(h[a]=f[a])},o(d,g)},function(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function h(){this.constructor=d}o(d,g),d.prototype=g===null?Object.create(g):(h.prototype=g.prototype,new h)}),l=this&&this.__decorate||function(d,g,h,f){var a,c=arguments.length,v=c<3?g:f===null?f=Object.getOwnPropertyDescriptor(g,h):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(d,g,h,f);else for(var y=d.length-1;y>=0;y--)(a=d[y])&&(v=(c<3?a(v):c>3?a(g,h,v):a(g,h))||v);return c>3&&v&&Object.defineProperty(g,h,v),v},u=this&&this.__param||function(d,g){return function(h,f){g(h,f,d)}};Object.defineProperty(n,"__esModule",{value:!0}),n.SelectionRenderLayer=void 0;var p=i(1546),_=i(2585),m=function(d){function g(h,f,a,c,v,y){var S=d.call(this,h,"selection",f,!0,a,c,v,y)||this;return S._clearState(),S}return s(g,d),g.prototype._clearState=function(){this._state={start:void 0,end:void 0,columnSelectMode:void 0,ydisp:void 0}},g.prototype.resize=function(h){d.prototype.resize.call(this,h),this._clearState()},g.prototype.reset=function(){this._state.start&&this._state.end&&(this._clearState(),this._clearAll())},g.prototype.onSelectionChanged=function(h,f,a){if(this._didStateChange(h,f,a,this._bufferService.buffer.ydisp))if(this._clearAll(),h&&f){var c=h[1]-this._bufferService.buffer.ydisp,v=f[1]-this._bufferService.buffer.ydisp,y=Math.max(c,0),S=Math.min(v,this._bufferService.rows-1);if(y>=this._bufferService.rows||S<0)this._state.ydisp=this._bufferService.buffer.ydisp;else{if(this._ctx.fillStyle=this._colors.selectionTransparent.css,a){var b=h[0],C=f[0]-b,E=S-y+1;this._fillCells(b,y,C,E)}else{b=c===y?h[0]:0;var x=y===v?f[0]:this._bufferService.cols;this._fillCells(b,y,x-b,1);var w=Math.max(S-y-1,0);if(this._fillCells(0,y+1,this._bufferService.cols,w),y!==S){var L=v===S?f[0]:this._bufferService.cols;this._fillCells(0,S,L,1)}}this._state.start=[h[0],h[1]],this._state.end=[f[0],f[1]],this._state.columnSelectMode=a,this._state.ydisp=this._bufferService.buffer.ydisp}}else this._clearState()},g.prototype._didStateChange=function(h,f,a,c){return!this._areCoordinatesEqual(h,this._state.start)||!this._areCoordinatesEqual(f,this._state.end)||a!==this._state.columnSelectMode||c!==this._state.ydisp},g.prototype._areCoordinatesEqual=function(h,f){return!(!h||!f)&&h[0]===f[0]&&h[1]===f[1]},l([u(4,_.IBufferService),u(5,_.IOptionsService)],g)}(p.BaseRenderLayer);n.SelectionRenderLayer=m},9596:function(r,n,i){var o,s=this&&this.__extends||(o=function(v,y){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,b){S.__proto__=b}||function(S,b){for(var C in b)Object.prototype.hasOwnProperty.call(b,C)&&(S[C]=b[C])},o(v,y)},function(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function S(){this.constructor=v}o(v,y),v.prototype=y===null?Object.create(y):(S.prototype=y.prototype,new S)}),l=this&&this.__decorate||function(v,y,S,b){var C,E=arguments.length,x=E<3?y:b===null?b=Object.getOwnPropertyDescriptor(y,S):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(v,y,S,b);else for(var w=v.length-1;w>=0;w--)(C=v[w])&&(x=(E<3?C(x):E>3?C(y,S,x):C(y,S))||x);return E>3&&x&&Object.defineProperty(y,S,x),x},u=this&&this.__param||function(v,y){return function(S,b){y(S,b,v)}};Object.defineProperty(n,"__esModule",{value:!0}),n.TextRenderLayer=void 0;var p=i(3700),_=i(1546),m=i(3734),d=i(643),g=i(511),h=i(2585),f=i(4725),a=i(4269),c=function(v){function y(S,b,C,E,x,w,L,k){var N=v.call(this,S,"text",b,E,C,x,w,L)||this;return N._characterJoinerService=k,N._characterWidth=0,N._characterFont="",N._characterOverlapCache={},N._workCell=new g.CellData,N._state=new p.GridCache,N}return s(y,v),y.prototype.resize=function(S){v.prototype.resize.call(this,S);var b=this._getFont(!1,!1);this._characterWidth===S.scaledCharWidth&&this._characterFont===b||(this._characterWidth=S.scaledCharWidth,this._characterFont=b,this._characterOverlapCache={}),this._state.clear(),this._state.resize(this._bufferService.cols,this._bufferService.rows)},y.prototype.reset=function(){this._state.clear(),this._clearAll()},y.prototype._forEachCell=function(S,b,C){for(var E=S;E<=b;E++)for(var x=E+this._bufferService.buffer.ydisp,w=this._bufferService.buffer.lines.get(x),L=this._characterJoinerService.getJoinedCharacters(x),k=0;k<this._bufferService.cols;k++){w.loadCell(k,this._workCell);var N=this._workCell,A=!1,O=k;if(N.getWidth()!==0){if(L.length>0&&k===L[0][0]){A=!0;var I=L.shift();N=new a.JoinedCellData(this._workCell,w.translateToString(!0,I[0],I[1]),I[1]-I[0]),O=I[1]-1}!A&&this._isOverlapping(N)&&O<w.length-1&&w.getCodePoint(O+1)===d.NULL_CELL_CODE&&(N.content&=-12582913,N.content|=2<<22),C(N,k,E),k=O}}},y.prototype._drawBackground=function(S,b){var C=this,E=this._ctx,x=this._bufferService.cols,w=0,L=0,k=null;E.save(),this._forEachCell(S,b,function(N,A,O){var I=null;N.isInverse()?I=N.isFgDefault()?C._colors.foreground.css:N.isFgRGB()?"rgb("+m.AttributeData.toColorRGB(N.getFgColor()).join(",")+")":C._colors.ansi[N.getFgColor()].css:N.isBgRGB()?I="rgb("+m.AttributeData.toColorRGB(N.getBgColor()).join(",")+")":N.isBgPalette()&&(I=C._colors.ansi[N.getBgColor()].css),k===null&&(w=A,L=O),O!==L?(E.fillStyle=k||"",C._fillCells(w,L,x-w,1),w=A,L=O):k!==I&&(E.fillStyle=k||"",C._fillCells(w,L,A-w,1),w=A,L=O),k=I}),k!==null&&(E.fillStyle=k,this._fillCells(w,L,x-w,1)),E.restore()},y.prototype._drawForeground=function(S,b){var C=this;this._forEachCell(S,b,function(E,x,w){if(!E.isInvisible()&&(C._drawChars(E,x,w),E.isUnderline()||E.isStrikethrough())){if(C._ctx.save(),E.isInverse())if(E.isBgDefault())C._ctx.fillStyle=C._colors.background.css;else if(E.isBgRGB())C._ctx.fillStyle="rgb("+m.AttributeData.toColorRGB(E.getBgColor()).join(",")+")";else{var L=E.getBgColor();C._optionsService.rawOptions.drawBoldTextInBrightColors&&E.isBold()&&L<8&&(L+=8),C._ctx.fillStyle=C._colors.ansi[L].css}else if(E.isFgDefault())C._ctx.fillStyle=C._colors.foreground.css;else if(E.isFgRGB())C._ctx.fillStyle="rgb("+m.AttributeData.toColorRGB(E.getFgColor()).join(",")+")";else{var k=E.getFgColor();C._optionsService.rawOptions.drawBoldTextInBrightColors&&E.isBold()&&k<8&&(k+=8),C._ctx.fillStyle=C._colors.ansi[k].css}E.isStrikethrough()&&C._fillMiddleLineAtCells(x,w,E.getWidth()),E.isUnderline()&&C._fillBottomLineAtCells(x,w,E.getWidth()),C._ctx.restore()}})},y.prototype.onGridChanged=function(S,b){this._state.cache.length!==0&&(this._charAtlas&&this._charAtlas.beginFrame(),this._clearCells(0,S,this._bufferService.cols,b-S+1),this._drawBackground(S,b),this._drawForeground(S,b))},y.prototype.onOptionsChanged=function(){this._setTransparency(this._optionsService.rawOptions.allowTransparency)},y.prototype._isOverlapping=function(S){if(S.getWidth()!==1||S.getCode()<256)return!1;var b=S.getChars();if(this._characterOverlapCache.hasOwnProperty(b))return this._characterOverlapCache[b];this._ctx.save(),this._ctx.font=this._characterFont;var C=Math.floor(this._ctx.measureText(b).width)>this._characterWidth;return this._ctx.restore(),this._characterOverlapCache[b]=C,C},l([u(5,h.IBufferService),u(6,h.IOptionsService),u(7,f.ICharacterJoinerService)],y)}(_.BaseRenderLayer);n.TextRenderLayer=c},9616:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BaseCharAtlas=void 0;var i=function(){function o(){this._didWarmUp=!1}return o.prototype.dispose=function(){},o.prototype.warmUp=function(){this._didWarmUp||(this._doWarmUp(),this._didWarmUp=!0)},o.prototype._doWarmUp=function(){},o.prototype.clear=function(){},o.prototype.beginFrame=function(){},o}();n.BaseCharAtlas=i},1420:(r,n,i)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.removeTerminalFromCache=n.acquireCharAtlas=void 0;var o=i(2040),s=i(1906),l=[];n.acquireCharAtlas=function(u,p,_,m,d){for(var g=(0,o.generateConfig)(m,d,u,_),h=0;h<l.length;h++){var f=(a=l[h]).ownedBy.indexOf(p);if(f>=0){if((0,o.configEquals)(a.config,g))return a.atlas;a.ownedBy.length===1?(a.atlas.dispose(),l.splice(h,1)):a.ownedBy.splice(f,1);break}}for(h=0;h<l.length;h++){var a=l[h];if((0,o.configEquals)(a.config,g))return a.ownedBy.push(p),a.atlas}var c={atlas:new s.DynamicCharAtlas(document,g),config:g,ownedBy:[p]};return l.push(c),c.atlas},n.removeTerminalFromCache=function(u){for(var p=0;p<l.length;p++){var _=l[p].ownedBy.indexOf(u);if(_!==-1){l[p].ownedBy.length===1?(l[p].atlas.dispose(),l.splice(p,1)):l[p].ownedBy.splice(_,1);break}}}},2040:function(r,n,i){var o=this&&this.__spreadArray||function(l,u,p){if(p||arguments.length===2)for(var _,m=0,d=u.length;m<d;m++)!_&&m in u||(_||(_=Array.prototype.slice.call(u,0,m)),_[m]=u[m]);return l.concat(_||Array.prototype.slice.call(u))};Object.defineProperty(n,"__esModule",{value:!0}),n.is256Color=n.configEquals=n.generateConfig=void 0;var s=i(643);n.generateConfig=function(l,u,p,_){var m={foreground:_.foreground,background:_.background,cursor:void 0,cursorAccent:void 0,selection:void 0,ansi:o([],_.ansi,!0)};return{devicePixelRatio:window.devicePixelRatio,scaledCharWidth:l,scaledCharHeight:u,fontFamily:p.fontFamily,fontSize:p.fontSize,fontWeight:p.fontWeight,fontWeightBold:p.fontWeightBold,allowTransparency:p.allowTransparency,colors:m}},n.configEquals=function(l,u){for(var p=0;p<l.colors.ansi.length;p++)if(l.colors.ansi[p].rgba!==u.colors.ansi[p].rgba)return!1;return l.devicePixelRatio===u.devicePixelRatio&&l.fontFamily===u.fontFamily&&l.fontSize===u.fontSize&&l.fontWeight===u.fontWeight&&l.fontWeightBold===u.fontWeightBold&&l.allowTransparency===u.allowTransparency&&l.scaledCharWidth===u.scaledCharWidth&&l.scaledCharHeight===u.scaledCharHeight&&l.colors.foreground===u.colors.foreground&&l.colors.background===u.colors.background},n.is256Color=function(l){return l<s.DEFAULT_COLOR}},8803:(r,n,i)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CHAR_ATLAS_CELL_SPACING=n.TEXT_BASELINE=n.DIM_OPACITY=n.INVERTED_DEFAULT_COLOR=void 0;var o=i(6114);n.INVERTED_DEFAULT_COLOR=257,n.DIM_OPACITY=.5,n.TEXT_BASELINE=o.isFirefox||o.isLegacyEdge?"bottom":"ideographic",n.CHAR_ATLAS_CELL_SPACING=1},1906:function(r,n,i){var o,s=this&&this.__extends||(o=function(b,C){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,x){E.__proto__=x}||function(E,x){for(var w in x)Object.prototype.hasOwnProperty.call(x,w)&&(E[w]=x[w])},o(b,C)},function(b,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function E(){this.constructor=b}o(b,C),b.prototype=C===null?Object.create(C):(E.prototype=C.prototype,new E)});Object.defineProperty(n,"__esModule",{value:!0}),n.NoneCharAtlas=n.DynamicCharAtlas=n.getGlyphCacheKey=void 0;var l=i(8803),u=i(9616),p=i(5680),_=i(7001),m=i(6114),d=i(1752),g=i(4774),h=1024,f=1024,a={css:"rgba(0, 0, 0, 0)",rgba:0};function c(b){return b.code<<21|b.bg<<12|b.fg<<3|(b.bold?0:4)+(b.dim?0:2)+(b.italic?0:1)}n.getGlyphCacheKey=c;var v=function(b){function C(E,x){var w=b.call(this)||this;w._config=x,w._drawToCacheCount=0,w._glyphsWaitingOnBitmap=[],w._bitmapCommitTimeout=null,w._bitmap=null,w._cacheCanvas=E.createElement("canvas"),w._cacheCanvas.width=h,w._cacheCanvas.height=f,w._cacheCtx=(0,d.throwIfFalsy)(w._cacheCanvas.getContext("2d",{alpha:!0}));var L=E.createElement("canvas");L.width=w._config.scaledCharWidth,L.height=w._config.scaledCharHeight,w._tmpCtx=(0,d.throwIfFalsy)(L.getContext("2d",{alpha:w._config.allowTransparency})),w._width=Math.floor(h/w._config.scaledCharWidth),w._height=Math.floor(f/w._config.scaledCharHeight);var k=w._width*w._height;return w._cacheMap=new _.LRUMap(k),w._cacheMap.prealloc(k),w}return s(C,b),C.prototype.dispose=function(){this._bitmapCommitTimeout!==null&&(window.clearTimeout(this._bitmapCommitTimeout),this._bitmapCommitTimeout=null)},C.prototype.beginFrame=function(){this._drawToCacheCount=0},C.prototype.clear=function(){if(this._cacheMap.size>0){var E=this._width*this._height;this._cacheMap=new _.LRUMap(E),this._cacheMap.prealloc(E)}this._cacheCtx.clearRect(0,0,h,f),this._tmpCtx.clearRect(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight)},C.prototype.draw=function(E,x,w,L){if(x.code===32)return!0;if(!this._canCache(x))return!1;var k=c(x),N=this._cacheMap.get(k);if(N!=null)return this._drawFromCache(E,N,w,L),!0;if(this._drawToCacheCount<100){var A;A=this._cacheMap.size<this._cacheMap.capacity?this._cacheMap.size:this._cacheMap.peek().index;var O=this._drawToCache(x,A);return this._cacheMap.set(k,O),this._drawFromCache(E,O,w,L),!0}return!1},C.prototype._canCache=function(E){return E.code<256},C.prototype._toCoordinateX=function(E){return E%this._width*this._config.scaledCharWidth},C.prototype._toCoordinateY=function(E){return Math.floor(E/this._width)*this._config.scaledCharHeight},C.prototype._drawFromCache=function(E,x,w,L){if(!x.isEmpty){var k=this._toCoordinateX(x.index),N=this._toCoordinateY(x.index);E.drawImage(x.inBitmap?this._bitmap:this._cacheCanvas,k,N,this._config.scaledCharWidth,this._config.scaledCharHeight,w,L,this._config.scaledCharWidth,this._config.scaledCharHeight)}},C.prototype._getColorFromAnsiIndex=function(E){return E<this._config.colors.ansi.length?this._config.colors.ansi[E]:p.DEFAULT_ANSI_COLORS[E]},C.prototype._getBackgroundColor=function(E){return this._config.allowTransparency?a:E.bg===l.INVERTED_DEFAULT_COLOR?this._config.colors.foreground:E.bg<256?this._getColorFromAnsiIndex(E.bg):this._config.colors.background},C.prototype._getForegroundColor=function(E){return E.fg===l.INVERTED_DEFAULT_COLOR?g.color.opaque(this._config.colors.background):E.fg<256?this._getColorFromAnsiIndex(E.fg):this._config.colors.foreground},C.prototype._drawToCache=function(E,x){this._drawToCacheCount++,this._tmpCtx.save();var w=this._getBackgroundColor(E);this._tmpCtx.globalCompositeOperation="copy",this._tmpCtx.fillStyle=w.css,this._tmpCtx.fillRect(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),this._tmpCtx.globalCompositeOperation="source-over";var L=E.bold?this._config.fontWeightBold:this._config.fontWeight,k=E.italic?"italic":"";this._tmpCtx.font=k+" "+L+" "+this._config.fontSize*this._config.devicePixelRatio+"px "+this._config.fontFamily,this._tmpCtx.textBaseline=l.TEXT_BASELINE,this._tmpCtx.fillStyle=this._getForegroundColor(E).css,E.dim&&(this._tmpCtx.globalAlpha=l.DIM_OPACITY),this._tmpCtx.fillText(E.chars,0,this._config.scaledCharHeight);var N=this._tmpCtx.getImageData(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),A=!1;if(this._config.allowTransparency||(A=S(N,w)),A&&E.chars==="_"&&!this._config.allowTransparency)for(var O=1;O<=5&&(this._tmpCtx.fillText(E.chars,0,this._config.scaledCharHeight-O),A=S(N=this._tmpCtx.getImageData(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),w));O++);this._tmpCtx.restore();var I=this._toCoordinateX(x),D=this._toCoordinateY(x);this._cacheCtx.putImageData(N,I,D);var j={index:x,isEmpty:A,inBitmap:!1};return this._addGlyphToBitmap(j),j},C.prototype._addGlyphToBitmap=function(E){var x=this;!("createImageBitmap"in window)||m.isFirefox||m.isSafari||(this._glyphsWaitingOnBitmap.push(E),this._bitmapCommitTimeout===null&&(this._bitmapCommitTimeout=window.setTimeout(function(){return x._generateBitmap()},100)))},C.prototype._generateBitmap=function(){var E=this,x=this._glyphsWaitingOnBitmap;this._glyphsWaitingOnBitmap=[],window.createImageBitmap(this._cacheCanvas).then(function(w){E._bitmap=w;for(var L=0;L<x.length;L++)x[L].inBitmap=!0}),this._bitmapCommitTimeout=null},C}(u.BaseCharAtlas);n.DynamicCharAtlas=v;var y=function(b){function C(E,x){return b.call(this)||this}return s(C,b),C.prototype.draw=function(E,x,w,L){return!1},C}(u.BaseCharAtlas);function S(b,C){for(var E=!0,x=C.rgba>>>24,w=C.rgba>>>16&255,L=C.rgba>>>8&255,k=0;k<b.data.length;k+=4)b.data[k]===x&&b.data[k+1]===w&&b.data[k+2]===L?b.data[k+3]=0:E=!1;return E}n.NoneCharAtlas=y},7001:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.LRUMap=void 0;var i=function(){function o(s){this.capacity=s,this._map={},this._head=null,this._tail=null,this._nodePool=[],this.size=0}return o.prototype._unlinkNode=function(s){var l=s.prev,u=s.next;s===this._head&&(this._head=u),s===this._tail&&(this._tail=l),l!==null&&(l.next=u),u!==null&&(u.prev=l)},o.prototype._appendNode=function(s){var l=this._tail;l!==null&&(l.next=s),s.prev=l,s.next=null,this._tail=s,this._head===null&&(this._head=s)},o.prototype.prealloc=function(s){for(var l=this._nodePool,u=0;u<s;u++)l.push({prev:null,next:null,key:null,value:null})},o.prototype.get=function(s){var l=this._map[s];return l!==void 0?(this._unlinkNode(l),this._appendNode(l),l.value):null},o.prototype.peekValue=function(s){var l=this._map[s];return l!==void 0?l.value:null},o.prototype.peek=function(){var s=this._head;return s===null?null:s.value},o.prototype.set=function(s,l){var u=this._map[s];if(u!==void 0)u=this._map[s],this._unlinkNode(u),u.value=l;else if(this.size>=this.capacity)u=this._head,this._unlinkNode(u),delete this._map[u.key],u.key=s,u.value=l,this._map[s]=u;else{var p=this._nodePool;p.length>0?((u=p.pop()).key=s,u.value=l):u={prev:null,next:null,key:s,value:l},this._map[s]=u,this.size++}this._appendNode(u)},o}();n.LRUMap=i},1296:function(r,n,i){var o,s=this&&this.__extends||(o=function(E,x){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,L){w.__proto__=L}||function(w,L){for(var k in L)Object.prototype.hasOwnProperty.call(L,k)&&(w[k]=L[k])},o(E,x)},function(E,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");function w(){this.constructor=E}o(E,x),E.prototype=x===null?Object.create(x):(w.prototype=x.prototype,new w)}),l=this&&this.__decorate||function(E,x,w,L){var k,N=arguments.length,A=N<3?x:L===null?L=Object.getOwnPropertyDescriptor(x,w):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(E,x,w,L);else for(var O=E.length-1;O>=0;O--)(k=E[O])&&(A=(N<3?k(A):N>3?k(x,w,A):k(x,w))||A);return N>3&&A&&Object.defineProperty(x,w,A),A},u=this&&this.__param||function(E,x){return function(w,L){x(w,L,E)}};Object.defineProperty(n,"__esModule",{value:!0}),n.DomRenderer=void 0;var p=i(3787),_=i(8803),m=i(844),d=i(4725),g=i(2585),h=i(8460),f=i(4774),a=i(9631),c="xterm-dom-renderer-owner-",v="xterm-fg-",y="xterm-bg-",S="xterm-focus",b=1,C=function(E){function x(w,L,k,N,A,O,I,D,j,z){var V=E.call(this)||this;return V._colors=w,V._element=L,V._screenElement=k,V._viewportElement=N,V._linkifier=A,V._linkifier2=O,V._charSizeService=D,V._optionsService=j,V._bufferService=z,V._terminalClass=b++,V._rowElements=[],V._rowContainer=document.createElement("div"),V._rowContainer.classList.add("xterm-rows"),V._rowContainer.style.lineHeight="normal",V._rowContainer.setAttribute("aria-hidden","true"),V._refreshRowElements(V._bufferService.cols,V._bufferService.rows),V._selectionContainer=document.createElement("div"),V._selectionContainer.classList.add("xterm-selection"),V._selectionContainer.setAttribute("aria-hidden","true"),V.dimensions={scaledCharWidth:0,scaledCharHeight:0,scaledCellWidth:0,scaledCellHeight:0,scaledCharLeft:0,scaledCharTop:0,scaledCanvasWidth:0,scaledCanvasHeight:0,canvasWidth:0,canvasHeight:0,actualCellWidth:0,actualCellHeight:0},V._updateDimensions(),V._injectCss(),V._rowFactory=I.createInstance(p.DomRendererRowFactory,document,V._colors),V._element.classList.add(c+V._terminalClass),V._screenElement.appendChild(V._rowContainer),V._screenElement.appendChild(V._selectionContainer),V._linkifier.onShowLinkUnderline(function(ae){return V._onLinkHover(ae)}),V._linkifier.onHideLinkUnderline(function(ae){return V._onLinkLeave(ae)}),V._linkifier2.onShowLinkUnderline(function(ae){return V._onLinkHover(ae)}),V._linkifier2.onHideLinkUnderline(function(ae){return V._onLinkLeave(ae)}),V}return s(x,E),Object.defineProperty(x.prototype,"onRequestRedraw",{get:function(){return new h.EventEmitter().event},enumerable:!1,configurable:!0}),x.prototype.dispose=function(){this._element.classList.remove(c+this._terminalClass),(0,a.removeElementFromParent)(this._rowContainer,this._selectionContainer,this._themeStyleElement,this._dimensionsStyleElement),E.prototype.dispose.call(this)},x.prototype._updateDimensions=function(){this.dimensions.scaledCharWidth=this._charSizeService.width*window.devicePixelRatio,this.dimensions.scaledCharHeight=Math.ceil(this._charSizeService.height*window.devicePixelRatio),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._optionsService.rawOptions.lineHeight),this.dimensions.scaledCharLeft=0,this.dimensions.scaledCharTop=0,this.dimensions.scaledCanvasWidth=this.dimensions.scaledCellWidth*this._bufferService.cols,this.dimensions.scaledCanvasHeight=this.dimensions.scaledCellHeight*this._bufferService.rows,this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._bufferService.cols,this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._bufferService.rows;for(var w=0,L=this._rowElements;w<L.length;w++){var k=L[w];k.style.width=this.dimensions.canvasWidth+"px",k.style.height=this.dimensions.actualCellHeight+"px",k.style.lineHeight=this.dimensions.actualCellHeight+"px",k.style.overflow="hidden"}this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));var N=this._terminalSelector+" .xterm-rows span { display: inline-block; height: 100%; vertical-align: top; width: "+this.dimensions.actualCellWidth+"px}";this._dimensionsStyleElement.textContent=N,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=this.dimensions.canvasWidth+"px",this._screenElement.style.height=this.dimensions.canvasHeight+"px"},x.prototype.setColors=function(w){this._colors=w,this._injectCss()},x.prototype._injectCss=function(){var w=this;this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));var L=this._terminalSelector+" .xterm-rows { color: "+this._colors.foreground.css+"; font-family: "+this._optionsService.rawOptions.fontFamily+"; font-size: "+this._optionsService.rawOptions.fontSize+"px;}";L+=this._terminalSelector+" span:not(."+p.BOLD_CLASS+") { font-weight: "+this._optionsService.rawOptions.fontWeight+";}"+this._terminalSelector+" span."+p.BOLD_CLASS+" { font-weight: "+this._optionsService.rawOptions.fontWeightBold+";}"+this._terminalSelector+" span."+p.ITALIC_CLASS+" { font-style: italic;}",L+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  box-shadow: none; }}",L+="@keyframes blink_block_"+this._terminalClass+" { 0% {  background-color: "+this._colors.cursor.css+";  color: "+this._colors.cursorAccent.css+"; } 50% {  background-color: "+this._colors.cursorAccent.css+";  color: "+this._colors.cursor.css+"; }}",L+=this._terminalSelector+" .xterm-rows:not(.xterm-focus) ."+p.CURSOR_CLASS+"."+p.CURSOR_STYLE_BLOCK_CLASS+" { outline: 1px solid "+this._colors.cursor.css+"; outline-offset: -1px;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+p.CURSOR_CLASS+"."+p.CURSOR_BLINK_CLASS+":not(."+p.CURSOR_STYLE_BLOCK_CLASS+") { animation: blink_box_shadow_"+this._terminalClass+" 1s step-end infinite;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+p.CURSOR_CLASS+"."+p.CURSOR_BLINK_CLASS+"."+p.CURSOR_STYLE_BLOCK_CLASS+" { animation: blink_block_"+this._terminalClass+" 1s step-end infinite;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+p.CURSOR_CLASS+"."+p.CURSOR_STYLE_BLOCK_CLASS+" { background-color: "+this._colors.cursor.css+"; color: "+this._colors.cursorAccent.css+";}"+this._terminalSelector+" .xterm-rows ."+p.CURSOR_CLASS+"."+p.CURSOR_STYLE_BAR_CLASS+" { box-shadow: "+this._optionsService.rawOptions.cursorWidth+"px 0 0 "+this._colors.cursor.css+" inset;}"+this._terminalSelector+" .xterm-rows ."+p.CURSOR_CLASS+"."+p.CURSOR_STYLE_UNDERLINE_CLASS+" { box-shadow: 0 -1px 0 "+this._colors.cursor.css+" inset;}",L+=this._terminalSelector+" .xterm-selection { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}"+this._terminalSelector+" .xterm-selection div { position: absolute; background-color: "+this._colors.selectionTransparent.css+";}",this._colors.ansi.forEach(function(k,N){L+=w._terminalSelector+" ."+v+N+" { color: "+k.css+"; }"+w._terminalSelector+" ."+y+N+" { background-color: "+k.css+"; }"}),L+=this._terminalSelector+" ."+v+_.INVERTED_DEFAULT_COLOR+" { color: "+f.color.opaque(this._colors.background).css+"; }"+this._terminalSelector+" ."+y+_.INVERTED_DEFAULT_COLOR+" { background-color: "+this._colors.foreground.css+"; }",this._themeStyleElement.textContent=L},x.prototype.onDevicePixelRatioChange=function(){this._updateDimensions()},x.prototype._refreshRowElements=function(w,L){for(var k=this._rowElements.length;k<=L;k++){var N=document.createElement("div");this._rowContainer.appendChild(N),this._rowElements.push(N)}for(;this._rowElements.length>L;)this._rowContainer.removeChild(this._rowElements.pop())},x.prototype.onResize=function(w,L){this._refreshRowElements(w,L),this._updateDimensions()},x.prototype.onCharSizeChanged=function(){this._updateDimensions()},x.prototype.onBlur=function(){this._rowContainer.classList.remove(S)},x.prototype.onFocus=function(){this._rowContainer.classList.add(S)},x.prototype.onSelectionChanged=function(w,L,k){for(;this._selectionContainer.children.length;)this._selectionContainer.removeChild(this._selectionContainer.children[0]);if(w&&L){var N=w[1]-this._bufferService.buffer.ydisp,A=L[1]-this._bufferService.buffer.ydisp,O=Math.max(N,0),I=Math.min(A,this._bufferService.rows-1);if(!(O>=this._bufferService.rows||I<0)){var D=document.createDocumentFragment();if(k)D.appendChild(this._createSelectionElement(O,w[0],L[0],I-O+1));else{var j=N===O?w[0]:0,z=O===A?L[0]:this._bufferService.cols;D.appendChild(this._createSelectionElement(O,j,z));var V=I-O-1;if(D.appendChild(this._createSelectionElement(O+1,0,this._bufferService.cols,V)),O!==I){var ae=A===I?L[0]:this._bufferService.cols;D.appendChild(this._createSelectionElement(I,0,ae))}}this._selectionContainer.appendChild(D)}}},x.prototype._createSelectionElement=function(w,L,k,N){N===void 0&&(N=1);var A=document.createElement("div");return A.style.height=N*this.dimensions.actualCellHeight+"px",A.style.top=w*this.dimensions.actualCellHeight+"px",A.style.left=L*this.dimensions.actualCellWidth+"px",A.style.width=this.dimensions.actualCellWidth*(k-L)+"px",A},x.prototype.onCursorMove=function(){},x.prototype.onOptionsChanged=function(){this._updateDimensions(),this._injectCss()},x.prototype.clear=function(){for(var w=0,L=this._rowElements;w<L.length;w++)L[w].innerText=""},x.prototype.renderRows=function(w,L){for(var k=this._bufferService.buffer.ybase+this._bufferService.buffer.y,N=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),A=this._optionsService.rawOptions.cursorBlink,O=w;O<=L;O++){var I=this._rowElements[O];I.innerText="";var D=O+this._bufferService.buffer.ydisp,j=this._bufferService.buffer.lines.get(D),z=this._optionsService.rawOptions.cursorStyle;I.appendChild(this._rowFactory.createRow(j,D,D===k,z,N,A,this.dimensions.actualCellWidth,this._bufferService.cols))}},Object.defineProperty(x.prototype,"_terminalSelector",{get:function(){return"."+c+this._terminalClass},enumerable:!1,configurable:!0}),x.prototype._onLinkHover=function(w){this._setCellUnderline(w.x1,w.x2,w.y1,w.y2,w.cols,!0)},x.prototype._onLinkLeave=function(w){this._setCellUnderline(w.x1,w.x2,w.y1,w.y2,w.cols,!1)},x.prototype._setCellUnderline=function(w,L,k,N,A,O){for(;w!==L||k!==N;){var I=this._rowElements[k];if(!I)return;var D=I.children[w];D&&(D.style.textDecoration=O?"underline":"none"),++w>=A&&(w=0,k++)}},l([u(6,g.IInstantiationService),u(7,d.ICharSizeService),u(8,g.IOptionsService),u(9,g.IBufferService)],x)}(m.Disposable);n.DomRenderer=C},3787:function(r,n,i){var o=this&&this.__decorate||function(a,c,v,y){var S,b=arguments.length,C=b<3?c:y===null?y=Object.getOwnPropertyDescriptor(c,v):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(a,c,v,y);else for(var E=a.length-1;E>=0;E--)(S=a[E])&&(C=(b<3?S(C):b>3?S(c,v,C):S(c,v))||C);return b>3&&C&&Object.defineProperty(c,v,C),C},s=this&&this.__param||function(a,c){return function(v,y){c(v,y,a)}};Object.defineProperty(n,"__esModule",{value:!0}),n.DomRendererRowFactory=n.CURSOR_STYLE_UNDERLINE_CLASS=n.CURSOR_STYLE_BAR_CLASS=n.CURSOR_STYLE_BLOCK_CLASS=n.CURSOR_BLINK_CLASS=n.CURSOR_CLASS=n.STRIKETHROUGH_CLASS=n.UNDERLINE_CLASS=n.ITALIC_CLASS=n.DIM_CLASS=n.BOLD_CLASS=void 0;var l=i(8803),u=i(643),p=i(511),_=i(2585),m=i(4774),d=i(4725),g=i(4269);n.BOLD_CLASS="xterm-bold",n.DIM_CLASS="xterm-dim",n.ITALIC_CLASS="xterm-italic",n.UNDERLINE_CLASS="xterm-underline",n.STRIKETHROUGH_CLASS="xterm-strikethrough",n.CURSOR_CLASS="xterm-cursor",n.CURSOR_BLINK_CLASS="xterm-cursor-blink",n.CURSOR_STYLE_BLOCK_CLASS="xterm-cursor-block",n.CURSOR_STYLE_BAR_CLASS="xterm-cursor-bar",n.CURSOR_STYLE_UNDERLINE_CLASS="xterm-cursor-underline";var h=function(){function a(c,v,y,S,b){this._document=c,this._colors=v,this._characterJoinerService=y,this._optionsService=S,this._coreService=b,this._workCell=new p.CellData}return a.prototype.setColors=function(c){this._colors=c},a.prototype.createRow=function(c,v,y,S,b,C,E,x){for(var w=this._document.createDocumentFragment(),L=this._characterJoinerService.getJoinedCharacters(v),k=0,N=Math.min(c.length,x)-1;N>=0;N--)if(c.loadCell(N,this._workCell).getCode()!==u.NULL_CELL_CODE||y&&N===b){k=N+1;break}for(N=0;N<k;N++){c.loadCell(N,this._workCell);var A=this._workCell.getWidth();if(A!==0){var O=!1,I=N,D=this._workCell;if(L.length>0&&N===L[0][0]){O=!0;var j=L.shift();D=new g.JoinedCellData(this._workCell,c.translateToString(!0,j[0],j[1]),j[1]-j[0]),I=j[1]-1,A=D.getWidth()}var z=this._document.createElement("span");if(A>1&&(z.style.width=E*A+"px"),O&&(z.style.display="inline",b>=N&&b<=I&&(b=N)),!this._coreService.isCursorHidden&&y&&N===b)switch(z.classList.add(n.CURSOR_CLASS),C&&z.classList.add(n.CURSOR_BLINK_CLASS),S){case"bar":z.classList.add(n.CURSOR_STYLE_BAR_CLASS);break;case"underline":z.classList.add(n.CURSOR_STYLE_UNDERLINE_CLASS);break;default:z.classList.add(n.CURSOR_STYLE_BLOCK_CLASS)}D.isBold()&&z.classList.add(n.BOLD_CLASS),D.isItalic()&&z.classList.add(n.ITALIC_CLASS),D.isDim()&&z.classList.add(n.DIM_CLASS),D.isUnderline()&&z.classList.add(n.UNDERLINE_CLASS),D.isInvisible()?z.textContent=u.WHITESPACE_CELL_CHAR:z.textContent=D.getChars()||u.WHITESPACE_CELL_CHAR,D.isStrikethrough()&&z.classList.add(n.STRIKETHROUGH_CLASS);var V=D.getFgColor(),ae=D.getFgColorMode(),re=D.getBgColor(),ke=D.getBgColorMode(),M=!!D.isInverse();if(M){var q=V;V=re,re=q;var R=ae;ae=ke,ke=R}switch(ae){case 16777216:case 33554432:D.isBold()&&V<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(V+=8),this._applyMinimumContrast(z,this._colors.background,this._colors.ansi[V])||z.classList.add("xterm-fg-"+V);break;case 50331648:var B=m.rgba.toColor(V>>16&255,V>>8&255,255&V);this._applyMinimumContrast(z,this._colors.background,B)||this._addStyle(z,"color:#"+f(V.toString(16),"0",6));break;default:this._applyMinimumContrast(z,this._colors.background,this._colors.foreground)||M&&z.classList.add("xterm-fg-"+l.INVERTED_DEFAULT_COLOR)}switch(ke){case 16777216:case 33554432:z.classList.add("xterm-bg-"+re);break;case 50331648:this._addStyle(z,"background-color:#"+f(re.toString(16),"0",6));break;default:M&&z.classList.add("xterm-bg-"+l.INVERTED_DEFAULT_COLOR)}w.appendChild(z),N=I}}return w},a.prototype._applyMinimumContrast=function(c,v,y){if(this._optionsService.rawOptions.minimumContrastRatio===1)return!1;var S=this._colors.contrastCache.getColor(this._workCell.bg,this._workCell.fg);return S===void 0&&(S=m.color.ensureContrastRatio(v,y,this._optionsService.rawOptions.minimumContrastRatio),this._colors.contrastCache.setColor(this._workCell.bg,this._workCell.fg,S??null)),!!S&&(this._addStyle(c,"color:"+S.css),!0)},a.prototype._addStyle=function(c,v){c.setAttribute("style",""+(c.getAttribute("style")||"")+v+";")},o([s(2,d.ICharacterJoinerService),s(3,_.IOptionsService),s(4,_.ICoreService)],a)}();function f(a,c,v){for(;a.length<v;)a=c+a;return a}n.DomRendererRowFactory=h},456:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.SelectionModel=void 0;var i=function(){function o(s){this._bufferService=s,this.isSelectAllActive=!1,this.selectionStartLength=0}return o.prototype.clearSelection=function(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0},Object.defineProperty(o.prototype,"finalSelectionStart",{get:function(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"finalSelectionEnd",{get:function(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){var s=this.selectionStart[0]+this.selectionStartLength;return s>this._bufferService.cols?s%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(s/this._bufferService.cols)-1]:[s%this._bufferService.cols,this.selectionStart[1]+Math.floor(s/this._bufferService.cols)]:[s,this.selectionStart[1]]}return this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]?[Math.max(this.selectionStart[0]+this.selectionStartLength,this.selectionEnd[0]),this.selectionEnd[1]]:this.selectionEnd}},enumerable:!1,configurable:!0}),o.prototype.areSelectionValuesReversed=function(){var s=this.selectionStart,l=this.selectionEnd;return!(!s||!l)&&(s[1]>l[1]||s[1]===l[1]&&s[0]>l[0])},o.prototype.onTrim=function(s){return this.selectionStart&&(this.selectionStart[1]-=s),this.selectionEnd&&(this.selectionEnd[1]-=s),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)},o}();n.SelectionModel=i},428:function(r,n,i){var o=this&&this.__decorate||function(m,d,g,h){var f,a=arguments.length,c=a<3?d:h===null?h=Object.getOwnPropertyDescriptor(d,g):h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(m,d,g,h);else for(var v=m.length-1;v>=0;v--)(f=m[v])&&(c=(a<3?f(c):a>3?f(d,g,c):f(d,g))||c);return a>3&&c&&Object.defineProperty(d,g,c),c},s=this&&this.__param||function(m,d){return function(g,h){d(g,h,m)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CharSizeService=void 0;var l=i(2585),u=i(8460),p=function(){function m(d,g,h){this._optionsService=h,this.width=0,this.height=0,this._onCharSizeChange=new u.EventEmitter,this._measureStrategy=new _(d,g,this._optionsService)}return Object.defineProperty(m.prototype,"hasValidSize",{get:function(){return this.width>0&&this.height>0},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onCharSizeChange",{get:function(){return this._onCharSizeChange.event},enumerable:!1,configurable:!0}),m.prototype.measure=function(){var d=this._measureStrategy.measure();d.width===this.width&&d.height===this.height||(this.width=d.width,this.height=d.height,this._onCharSizeChange.fire())},o([s(2,l.IOptionsService)],m)}();n.CharSizeService=p;var _=function(){function m(d,g,h){this._document=d,this._parentElement=g,this._optionsService=h,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W",this._measureElement.setAttribute("aria-hidden","true"),this._parentElement.appendChild(this._measureElement)}return m.prototype.measure=function(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=this._optionsService.rawOptions.fontSize+"px";var d=this._measureElement.getBoundingClientRect();return d.width!==0&&d.height!==0&&(this._result.width=d.width,this._result.height=Math.ceil(d.height)),this._result},m}()},4269:function(r,n,i){var o,s=this&&this.__extends||(o=function(f,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,v){c.__proto__=v}||function(c,v){for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&(c[y]=v[y])},o(f,a)},function(f,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function c(){this.constructor=f}o(f,a),f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}),l=this&&this.__decorate||function(f,a,c,v){var y,S=arguments.length,b=S<3?a:v===null?v=Object.getOwnPropertyDescriptor(a,c):v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(f,a,c,v);else for(var C=f.length-1;C>=0;C--)(y=f[C])&&(b=(S<3?y(b):S>3?y(a,c,b):y(a,c))||b);return S>3&&b&&Object.defineProperty(a,c,b),b},u=this&&this.__param||function(f,a){return function(c,v){a(c,v,f)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CharacterJoinerService=n.JoinedCellData=void 0;var p=i(3734),_=i(643),m=i(511),d=i(2585),g=function(f){function a(c,v,y){var S=f.call(this)||this;return S.content=0,S.combinedData="",S.fg=c.fg,S.bg=c.bg,S.combinedData=v,S._width=y,S}return s(a,f),a.prototype.isCombined=function(){return 2097152},a.prototype.getWidth=function(){return this._width},a.prototype.getChars=function(){return this.combinedData},a.prototype.getCode=function(){return 2097151},a.prototype.setFromCharData=function(c){throw new Error("not implemented")},a.prototype.getAsCharData=function(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]},a}(p.AttributeData);n.JoinedCellData=g;var h=function(){function f(a){this._bufferService=a,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new m.CellData}return f.prototype.register=function(a){var c={id:this._nextCharacterJoinerId++,handler:a};return this._characterJoiners.push(c),c.id},f.prototype.deregister=function(a){for(var c=0;c<this._characterJoiners.length;c++)if(this._characterJoiners[c].id===a)return this._characterJoiners.splice(c,1),!0;return!1},f.prototype.getJoinedCharacters=function(a){if(this._characterJoiners.length===0)return[];var c=this._bufferService.buffer.lines.get(a);if(!c||c.length===0)return[];for(var v=[],y=c.translateToString(!0),S=0,b=0,C=0,E=c.getFg(0),x=c.getBg(0),w=0;w<c.getTrimmedLength();w++)if(c.loadCell(w,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==E||this._workCell.bg!==x){if(w-S>1)for(var L=this._getJoinedRanges(y,C,b,c,S),k=0;k<L.length;k++)v.push(L[k]);S=w,C=b,E=this._workCell.fg,x=this._workCell.bg}b+=this._workCell.getChars().length||_.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-S>1)for(L=this._getJoinedRanges(y,C,b,c,S),k=0;k<L.length;k++)v.push(L[k]);return v},f.prototype._getJoinedRanges=function(a,c,v,y,S){var b=a.substring(c,v),C=[];try{C=this._characterJoiners[0].handler(b)}catch(L){console.error(L)}for(var E=1;E<this._characterJoiners.length;E++)try{for(var x=this._characterJoiners[E].handler(b),w=0;w<x.length;w++)f._mergeRanges(C,x[w])}catch(L){console.error(L)}return this._stringRangesToCellRanges(C,y,S),C},f.prototype._stringRangesToCellRanges=function(a,c,v){var y=0,S=!1,b=0,C=a[y];if(C){for(var E=v;E<this._bufferService.cols;E++){var x=c.getWidth(E),w=c.getString(E).length||_.WHITESPACE_CELL_CHAR.length;if(x!==0){if(!S&&C[0]<=b&&(C[0]=E,S=!0),C[1]<=b){if(C[1]=E,!(C=a[++y]))break;C[0]<=b?(C[0]=E,S=!0):S=!1}b+=w}}C&&(C[1]=this._bufferService.cols)}},f._mergeRanges=function(a,c){for(var v=!1,y=0;y<a.length;y++){var S=a[y];if(v){if(c[1]<=S[0])return a[y-1][1]=c[1],a;if(c[1]<=S[1])return a[y-1][1]=Math.max(c[1],S[1]),a.splice(y,1),a;a.splice(y,1),y--}else{if(c[1]<=S[0])return a.splice(y,0,c),a;if(c[1]<=S[1])return S[0]=Math.min(c[0],S[0]),a;c[0]<S[1]&&(S[0]=Math.min(c[0],S[0]),v=!0)}}return v?a[a.length-1][1]=c[1]:a.push(c),a},f=l([u(0,d.IBufferService)],f)}();n.CharacterJoinerService=h},5114:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CoreBrowserService=void 0;var i=function(){function o(s){this._textarea=s}return Object.defineProperty(o.prototype,"isFocused",{get:function(){return(this._textarea.getRootNode?this._textarea.getRootNode():document).activeElement===this._textarea&&document.hasFocus()},enumerable:!1,configurable:!0}),o}();n.CoreBrowserService=i},7641:function(r,n,i){var o,s=this&&this.__extends||(o=function(h,f){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var v in c)Object.prototype.hasOwnProperty.call(c,v)&&(a[v]=c[v])},o(h,f)},function(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function a(){this.constructor=h}o(h,f),h.prototype=f===null?Object.create(f):(a.prototype=f.prototype,new a)}),l=this&&this.__decorate||function(h,f,a,c){var v,y=arguments.length,S=y<3?f:c===null?c=Object.getOwnPropertyDescriptor(f,a):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(h,f,a,c);else for(var b=h.length-1;b>=0;b--)(v=h[b])&&(S=(y<3?v(S):y>3?v(f,a,S):v(f,a))||S);return y>3&&S&&Object.defineProperty(f,a,S),S},u=this&&this.__param||function(h,f){return function(a,c){f(a,c,h)}};Object.defineProperty(n,"__esModule",{value:!0}),n.Decoration=n.DecorationService=void 0;var p=i(8460),_=i(844),m=i(2585),d=function(h){function f(a){var c=h.call(this)||this;return c._instantiationService=a,c._decorations=[],c}return s(f,h),f.prototype.attachToDom=function(a,c){var v=this;this._renderService=c,this._screenElement=a,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),a.appendChild(this._container),this.register(this._renderService.onRenderedBufferChange(function(){return v.refresh()})),this.register(this._renderService.onDimensionsChange(function(){return v.refresh(!0)}))},f.prototype.registerDecoration=function(a){var c=this;if(!a.marker.isDisposed&&this._container){var v=this._instantiationService.createInstance(g,a,this._container);return this._decorations.push(v),v.onDispose(function(){return c._decorations.splice(c._decorations.indexOf(v),1)}),this._queueRefresh(),v}},f.prototype._queueRefresh=function(){var a=this;this._animationFrame===void 0&&(this._animationFrame=window.requestAnimationFrame(function(){a.refresh(),a._animationFrame=void 0}))},f.prototype.refresh=function(a){if(this._renderService)for(var c=0,v=this._decorations;c<v.length;c++)v[c].render(this._renderService,a)},f.prototype.dispose=function(){for(var a=0,c=this._decorations;a<c.length;a++)c[a].dispose();this._screenElement&&this._container&&this._screenElement.contains(this._container)&&this._screenElement.removeChild(this._container)},l([u(0,m.IInstantiationService)],f)}(_.Disposable);n.DecorationService=d;var g=function(h){function f(a,c,v){var y,S=h.call(this)||this;return S._container=c,S._bufferService=v,S.isDisposed=!1,S._onDispose=new p.EventEmitter,S._onRender=new p.EventEmitter,S.x=(y=a.x)!==null&&y!==void 0?y:0,S._marker=a.marker,S._marker.onDispose(function(){return S.dispose()}),S.anchor=a.anchor||"left",S.width=a.width||1,S.height=a.height||1,S}return s(f,h),Object.defineProperty(f.prototype,"element",{get:function(){return this._element},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"marker",{get:function(){return this._marker},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"onDispose",{get:function(){return this._onDispose.event},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"onRender",{get:function(){return this._onRender.event},enumerable:!1,configurable:!0}),f.prototype.render=function(a,c){this._element&&!c||this._createElement(a,c),this._container&&this._element&&!this._container.contains(this._element)&&this._container.append(this._element),this._refreshStyle(a),this._element&&this._onRender.fire(this._element)},f.prototype._createElement=function(a,c){c&&this._element&&this._container.contains(this._element)&&this._container.removeChild(this._element),this._element=document.createElement("div"),this._element.classList.add("xterm-decoration"),this._element.style.width=this.width*a.dimensions.actualCellWidth+"px",this._element.style.height=this.height*a.dimensions.actualCellHeight+"px",this._element.style.top=(this.marker.line-this._bufferService.buffers.active.ydisp)*a.dimensions.actualCellHeight+"px",this._element.style.lineHeight=a.dimensions.actualCellHeight+"px",this.x&&this.x>this._bufferService.cols&&(this._element.style.display="none"),this.anchor==="right"?this._element.style.right=this.x?this.x*a.dimensions.actualCellWidth+"px":"":this._element.style.left=this.x?this.x*a.dimensions.actualCellWidth+"px":""},f.prototype._refreshStyle=function(a){if(this._element){var c=this.marker.line-this._bufferService.buffers.active.ydisp;c<0||c>this._bufferService.rows?this._element.style.display="none":(this._element.style.top=c*a.dimensions.actualCellHeight+"px",this._element.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block")}},f.prototype.dispose=function(){this.isDisposed||(this._element&&this._container.contains(this._element)&&this._container.removeChild(this._element),this.isDisposed=!0,this._onDispose.fire())},l([u(2,m.IBufferService)],f)}(_.Disposable);n.Decoration=g},8934:function(r,n,i){var o=this&&this.__decorate||function(_,m,d,g){var h,f=arguments.length,a=f<3?m:g===null?g=Object.getOwnPropertyDescriptor(m,d):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(_,m,d,g);else for(var c=_.length-1;c>=0;c--)(h=_[c])&&(a=(f<3?h(a):f>3?h(m,d,a):h(m,d))||a);return f>3&&a&&Object.defineProperty(m,d,a),a},s=this&&this.__param||function(_,m){return function(d,g){m(d,g,_)}};Object.defineProperty(n,"__esModule",{value:!0}),n.MouseService=void 0;var l=i(4725),u=i(9806),p=function(){function _(m,d){this._renderService=m,this._charSizeService=d}return _.prototype.getCoords=function(m,d,g,h,f){return(0,u.getCoords)(m,d,g,h,this._charSizeService.hasValidSize,this._renderService.dimensions.actualCellWidth,this._renderService.dimensions.actualCellHeight,f)},_.prototype.getRawByteCoords=function(m,d,g,h){var f=this.getCoords(m,d,g,h);return(0,u.getRawByteCoords)(f)},o([s(0,l.IRenderService),s(1,l.ICharSizeService)],_)}();n.MouseService=p},3230:function(r,n,i){var o,s=this&&this.__extends||(o=function(c,v){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,S){y.__proto__=S}||function(y,S){for(var b in S)Object.prototype.hasOwnProperty.call(S,b)&&(y[b]=S[b])},o(c,v)},function(c,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function y(){this.constructor=c}o(c,v),c.prototype=v===null?Object.create(v):(y.prototype=v.prototype,new y)}),l=this&&this.__decorate||function(c,v,y,S){var b,C=arguments.length,E=C<3?v:S===null?S=Object.getOwnPropertyDescriptor(v,y):S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(c,v,y,S);else for(var x=c.length-1;x>=0;x--)(b=c[x])&&(E=(C<3?b(E):C>3?b(v,y,E):b(v,y))||E);return C>3&&E&&Object.defineProperty(v,y,E),E},u=this&&this.__param||function(c,v){return function(y,S){v(y,S,c)}};Object.defineProperty(n,"__esModule",{value:!0}),n.RenderService=void 0;var p=i(6193),_=i(8460),m=i(844),d=i(5596),g=i(3656),h=i(2585),f=i(4725),a=function(c){function v(y,S,b,C,E,x){var w=c.call(this)||this;if(w._renderer=y,w._rowCount=S,w._charSizeService=E,w._isPaused=!1,w._needsFullRefresh=!1,w._isNextRenderRedrawOnly=!0,w._needsSelectionRefresh=!1,w._canvasWidth=0,w._canvasHeight=0,w._selectionState={start:void 0,end:void 0,columnSelectMode:!1},w._onDimensionsChange=new _.EventEmitter,w._onRender=new _.EventEmitter,w._onRefreshRequest=new _.EventEmitter,w.register({dispose:function(){return w._renderer.dispose()}}),w._renderDebouncer=new p.RenderDebouncer(function(k,N){return w._renderRows(k,N)}),w.register(w._renderDebouncer),w._screenDprMonitor=new d.ScreenDprMonitor,w._screenDprMonitor.setListener(function(){return w.onDevicePixelRatioChange()}),w.register(w._screenDprMonitor),w.register(x.onResize(function(){return w._fullRefresh()})),w.register(x.buffers.onBufferActivate(function(){var k;return(k=w._renderer)===null||k===void 0?void 0:k.clear()})),w.register(C.onOptionChange(function(){return w._renderer.onOptionsChanged()})),w.register(w._charSizeService.onCharSizeChange(function(){return w.onCharSizeChanged()})),w._renderer.onRequestRedraw(function(k){return w.refreshRows(k.start,k.end,!0)}),w.register((0,g.addDisposableDomListener)(window,"resize",function(){return w.onDevicePixelRatioChange()})),"IntersectionObserver"in window){var L=new IntersectionObserver(function(k){return w._onIntersectionChange(k[k.length-1])},{threshold:0});L.observe(b),w.register({dispose:function(){return L.disconnect()}})}return w}return s(v,c),Object.defineProperty(v.prototype,"onDimensionsChange",{get:function(){return this._onDimensionsChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"onRenderedBufferChange",{get:function(){return this._onRender.event},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"onRefreshRequest",{get:function(){return this._onRefreshRequest.event},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"dimensions",{get:function(){return this._renderer.dimensions},enumerable:!1,configurable:!0}),v.prototype._onIntersectionChange=function(y){this._isPaused=y.isIntersecting===void 0?y.intersectionRatio===0:!y.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)},v.prototype.refreshRows=function(y,S,b){b===void 0&&(b=!1),this._isPaused?this._needsFullRefresh=!0:(b||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(y,S,this._rowCount))},v.prototype._renderRows=function(y,S){this._renderer.renderRows(y,S),this._needsSelectionRefresh&&(this._renderer.onSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRender.fire({start:y,end:S}),this._isNextRenderRedrawOnly=!0},v.prototype.resize=function(y,S){this._rowCount=S,this._fireOnCanvasResize()},v.prototype.changeOptions=function(){this._renderer.onOptionsChanged(),this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize()},v.prototype._fireOnCanvasResize=function(){this._renderer.dimensions.canvasWidth===this._canvasWidth&&this._renderer.dimensions.canvasHeight===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.dimensions)},v.prototype.dispose=function(){c.prototype.dispose.call(this)},v.prototype.setRenderer=function(y){var S=this;this._renderer.dispose(),this._renderer=y,this._renderer.onRequestRedraw(function(b){return S.refreshRows(b.start,b.end,!0)}),this._needsSelectionRefresh=!0,this._fullRefresh()},v.prototype._fullRefresh=function(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)},v.prototype.clearTextureAtlas=function(){var y,S;(S=(y=this._renderer)===null||y===void 0?void 0:y.clearTextureAtlas)===null||S===void 0||S.call(y),this._fullRefresh()},v.prototype.setColors=function(y){this._renderer.setColors(y),this._fullRefresh()},v.prototype.onDevicePixelRatioChange=function(){this._charSizeService.measure(),this._renderer.onDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1)},v.prototype.onResize=function(y,S){this._renderer.onResize(y,S),this._fullRefresh()},v.prototype.onCharSizeChanged=function(){this._renderer.onCharSizeChanged()},v.prototype.onBlur=function(){this._renderer.onBlur()},v.prototype.onFocus=function(){this._renderer.onFocus()},v.prototype.onSelectionChanged=function(y,S,b){this._selectionState.start=y,this._selectionState.end=S,this._selectionState.columnSelectMode=b,this._renderer.onSelectionChanged(y,S,b)},v.prototype.onCursorMove=function(){this._renderer.onCursorMove()},v.prototype.clear=function(){this._renderer.clear()},l([u(3,h.IOptionsService),u(4,f.ICharSizeService),u(5,h.IBufferService)],v)}(m.Disposable);n.RenderService=a},9312:function(r,n,i){var o,s=this&&this.__extends||(o=function(C,E){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,w){x.__proto__=w}||function(x,w){for(var L in w)Object.prototype.hasOwnProperty.call(w,L)&&(x[L]=w[L])},o(C,E)},function(C,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function x(){this.constructor=C}o(C,E),C.prototype=E===null?Object.create(E):(x.prototype=E.prototype,new x)}),l=this&&this.__decorate||function(C,E,x,w){var L,k=arguments.length,N=k<3?E:w===null?w=Object.getOwnPropertyDescriptor(E,x):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(C,E,x,w);else for(var A=C.length-1;A>=0;A--)(L=C[A])&&(N=(k<3?L(N):k>3?L(E,x,N):L(E,x))||N);return k>3&&N&&Object.defineProperty(E,x,N),N},u=this&&this.__param||function(C,E){return function(x,w){E(x,w,C)}};Object.defineProperty(n,"__esModule",{value:!0}),n.SelectionService=void 0;var p=i(6114),_=i(456),m=i(511),d=i(8460),g=i(4725),h=i(2585),f=i(9806),a=i(9504),c=i(844),v=i(4841),y=String.fromCharCode(160),S=new RegExp(y,"g"),b=function(C){function E(x,w,L,k,N,A,O,I){var D=C.call(this)||this;return D._element=x,D._screenElement=w,D._linkifier=L,D._bufferService=k,D._coreService=N,D._mouseService=A,D._optionsService=O,D._renderService=I,D._dragScrollAmount=0,D._enabled=!0,D._workCell=new m.CellData,D._mouseDownTimeStamp=0,D._oldHasSelection=!1,D._oldSelectionStart=void 0,D._oldSelectionEnd=void 0,D._onLinuxMouseSelection=D.register(new d.EventEmitter),D._onRedrawRequest=D.register(new d.EventEmitter),D._onSelectionChange=D.register(new d.EventEmitter),D._onRequestScrollLines=D.register(new d.EventEmitter),D._mouseMoveListener=function(j){return D._onMouseMove(j)},D._mouseUpListener=function(j){return D._onMouseUp(j)},D._coreService.onUserInput(function(){D.hasSelection&&D.clearSelection()}),D._trimListener=D._bufferService.buffer.lines.onTrim(function(j){return D._onTrim(j)}),D.register(D._bufferService.buffers.onBufferActivate(function(j){return D._onBufferActivate(j)})),D.enable(),D._model=new _.SelectionModel(D._bufferService),D._activeSelectionMode=0,D}return s(E,C),Object.defineProperty(E.prototype,"onLinuxMouseSelection",{get:function(){return this._onLinuxMouseSelection.event},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"onRequestRedraw",{get:function(){return this._onRedrawRequest.event},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"onSelectionChange",{get:function(){return this._onSelectionChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"onRequestScrollLines",{get:function(){return this._onRequestScrollLines.event},enumerable:!1,configurable:!0}),E.prototype.dispose=function(){this._removeMouseDownListeners()},E.prototype.reset=function(){this.clearSelection()},E.prototype.disable=function(){this.clearSelection(),this._enabled=!1},E.prototype.enable=function(){this._enabled=!0},Object.defineProperty(E.prototype,"selectionStart",{get:function(){return this._model.finalSelectionStart},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"selectionEnd",{get:function(){return this._model.finalSelectionEnd},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"hasSelection",{get:function(){var x=this._model.finalSelectionStart,w=this._model.finalSelectionEnd;return!(!x||!w||x[0]===w[0]&&x[1]===w[1])},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"selectionText",{get:function(){var x=this._model.finalSelectionStart,w=this._model.finalSelectionEnd;if(!x||!w)return"";var L=this._bufferService.buffer,k=[];if(this._activeSelectionMode===3){if(x[0]===w[0])return"";for(var N=x[1];N<=w[1];N++){var A=L.translateBufferLineToString(N,!0,x[0],w[0]);k.push(A)}}else{var O=x[1]===w[1]?w[0]:void 0;for(k.push(L.translateBufferLineToString(x[1],!0,x[0],O)),N=x[1]+1;N<=w[1]-1;N++){var I=L.lines.get(N);A=L.translateBufferLineToString(N,!0),I?.isWrapped?k[k.length-1]+=A:k.push(A)}x[1]!==w[1]&&(I=L.lines.get(w[1]),A=L.translateBufferLineToString(w[1],!0,0,w[0]),I&&I.isWrapped?k[k.length-1]+=A:k.push(A))}return k.map(function(D){return D.replace(S," ")}).join(p.isWindows?`\r
`:`
`)},enumerable:!1,configurable:!0}),E.prototype.clearSelection=function(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()},E.prototype.refresh=function(x){var w=this;this._refreshAnimationFrame||(this._refreshAnimationFrame=window.requestAnimationFrame(function(){return w._refresh()})),p.isLinux&&x&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)},E.prototype._refresh=function(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})},E.prototype._isClickInSelection=function(x){var w=this._getMouseBufferCoords(x),L=this._model.finalSelectionStart,k=this._model.finalSelectionEnd;return!!(L&&k&&w)&&this._areCoordsInSelection(w,L,k)},E.prototype._areCoordsInSelection=function(x,w,L){return x[1]>w[1]&&x[1]<L[1]||w[1]===L[1]&&x[1]===w[1]&&x[0]>=w[0]&&x[0]<L[0]||w[1]<L[1]&&x[1]===L[1]&&x[0]<L[0]||w[1]<L[1]&&x[1]===w[1]&&x[0]>=w[0]},E.prototype._selectWordAtCursor=function(x,w){var L,k,N=(k=(L=this._linkifier.currentLink)===null||L===void 0?void 0:L.link)===null||k===void 0?void 0:k.range;if(N)return this._model.selectionStart=[N.start.x-1,N.start.y-1],this._model.selectionStartLength=(0,v.getRangeLength)(N,this._bufferService.cols),this._model.selectionEnd=void 0,!0;var A=this._getMouseBufferCoords(x);return!!A&&(this._selectWordAt(A,w),this._model.selectionEnd=void 0,!0)},E.prototype.selectAll=function(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()},E.prototype.selectLines=function(x,w){this._model.clearSelection(),x=Math.max(x,0),w=Math.min(w,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,x],this._model.selectionEnd=[this._bufferService.cols,w],this.refresh(),this._onSelectionChange.fire()},E.prototype._onTrim=function(x){this._model.onTrim(x)&&this.refresh()},E.prototype._getMouseBufferCoords=function(x){var w=this._mouseService.getCoords(x,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(w)return w[0]--,w[1]--,w[1]+=this._bufferService.buffer.ydisp,w},E.prototype._getMouseEventScrollAmount=function(x){var w=(0,f.getCoordsRelativeToElement)(x,this._screenElement)[1],L=this._renderService.dimensions.canvasHeight;return w>=0&&w<=L?0:(w>L&&(w-=L),w=Math.min(Math.max(w,-50),50),(w/=50)/Math.abs(w)+Math.round(14*w))},E.prototype.shouldForceSelection=function(x){return p.isMac?x.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:x.shiftKey},E.prototype.onMouseDown=function(x){if(this._mouseDownTimeStamp=x.timeStamp,(x.button!==2||!this.hasSelection)&&x.button===0){if(!this._enabled){if(!this.shouldForceSelection(x))return;x.stopPropagation()}x.preventDefault(),this._dragScrollAmount=0,this._enabled&&x.shiftKey?this._onIncrementalClick(x):x.detail===1?this._onSingleClick(x):x.detail===2?this._onDoubleClick(x):x.detail===3&&this._onTripleClick(x),this._addMouseDownListeners(),this.refresh(!0)}},E.prototype._addMouseDownListeners=function(){var x=this;this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=window.setInterval(function(){return x._dragScroll()},50)},E.prototype._removeMouseDownListeners=function(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0},E.prototype._onIncrementalClick=function(x){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(x))},E.prototype._onSingleClick=function(x){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(x)?3:0,this._model.selectionStart=this._getMouseBufferCoords(x),this._model.selectionStart){this._model.selectionEnd=void 0;var w=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);w&&w.length!==this._model.selectionStart[0]&&w.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}},E.prototype._onDoubleClick=function(x){this._selectWordAtCursor(x,!0)&&(this._activeSelectionMode=1)},E.prototype._onTripleClick=function(x){var w=this._getMouseBufferCoords(x);w&&(this._activeSelectionMode=2,this._selectLineAt(w[1]))},E.prototype.shouldColumnSelect=function(x){return x.altKey&&!(p.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)},E.prototype._onMouseMove=function(x){if(x.stopImmediatePropagation(),this._model.selectionStart){var w=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(x),this._model.selectionEnd){this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(x),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));var L=this._bufferService.buffer;if(this._model.selectionEnd[1]<L.lines.length){var k=L.lines.get(this._model.selectionEnd[1]);k&&k.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}w&&w[0]===this._model.selectionEnd[0]&&w[1]===this._model.selectionEnd[1]||this.refresh(!0)}else this.refresh(!0)}},E.prototype._dragScroll=function(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});var x=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(x.ydisp+this._bufferService.rows,x.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=x.ydisp),this.refresh()}},E.prototype._onMouseUp=function(x){var w=x.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&w<500&&x.altKey&&this._optionsService.getOption("altClickMovesCursor")){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){var L=this._mouseService.getCoords(x,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(L&&L[0]!==void 0&&L[1]!==void 0){var k=(0,a.moveToCellSequence)(L[0]-1,L[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(k,!0)}}}else this._fireEventIfSelectionChanged()},E.prototype._fireEventIfSelectionChanged=function(){var x=this._model.finalSelectionStart,w=this._model.finalSelectionEnd,L=!(!x||!w||x[0]===w[0]&&x[1]===w[1]);L?x&&w&&(this._oldSelectionStart&&this._oldSelectionEnd&&x[0]===this._oldSelectionStart[0]&&x[1]===this._oldSelectionStart[1]&&w[0]===this._oldSelectionEnd[0]&&w[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(x,w,L)):this._oldHasSelection&&this._fireOnSelectionChange(x,w,L)},E.prototype._fireOnSelectionChange=function(x,w,L){this._oldSelectionStart=x,this._oldSelectionEnd=w,this._oldHasSelection=L,this._onSelectionChange.fire()},E.prototype._onBufferActivate=function(x){var w=this;this.clearSelection(),this._trimListener.dispose(),this._trimListener=x.activeBuffer.lines.onTrim(function(L){return w._onTrim(L)})},E.prototype._convertViewportColToCharacterIndex=function(x,w){for(var L=w[0],k=0;w[0]>=k;k++){var N=x.loadCell(k,this._workCell).getChars().length;this._workCell.getWidth()===0?L--:N>1&&w[0]!==k&&(L+=N-1)}return L},E.prototype.setSelection=function(x,w,L){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[x,w],this._model.selectionStartLength=L,this.refresh()},E.prototype.rightClickSelect=function(x){this._isClickInSelection(x)||(this._selectWordAtCursor(x,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())},E.prototype._getWordAt=function(x,w,L,k){if(L===void 0&&(L=!0),k===void 0&&(k=!0),!(x[0]>=this._bufferService.cols)){var N=this._bufferService.buffer,A=N.lines.get(x[1]);if(A){var O=N.translateBufferLineToString(x[1],!1),I=this._convertViewportColToCharacterIndex(A,x),D=I,j=x[0]-I,z=0,V=0,ae=0,re=0;if(O.charAt(I)===" "){for(;I>0&&O.charAt(I-1)===" ";)I--;for(;D<O.length&&O.charAt(D+1)===" ";)D++}else{var ke=x[0],M=x[0];A.getWidth(ke)===0&&(z++,ke--),A.getWidth(M)===2&&(V++,M++);var q=A.getString(M).length;for(q>1&&(re+=q-1,D+=q-1);ke>0&&I>0&&!this._isCharWordSeparator(A.loadCell(ke-1,this._workCell));){A.loadCell(ke-1,this._workCell);var R=this._workCell.getChars().length;this._workCell.getWidth()===0?(z++,ke--):R>1&&(ae+=R-1,I-=R-1),I--,ke--}for(;M<A.length&&D+1<O.length&&!this._isCharWordSeparator(A.loadCell(M+1,this._workCell));){A.loadCell(M+1,this._workCell);var B=this._workCell.getChars().length;this._workCell.getWidth()===2?(V++,M++):B>1&&(re+=B-1,D+=B-1),D++,M++}}D++;var P=I+j-z+ae,ee=Math.min(this._bufferService.cols,D-I+z+V-ae-re);if(w||O.slice(I,D).trim()!==""){if(L&&P===0&&A.getCodePoint(0)!==32){var ne=N.lines.get(x[1]-1);if(ne&&A.isWrapped&&ne.getCodePoint(this._bufferService.cols-1)!==32){var ue=this._getWordAt([this._bufferService.cols-1,x[1]-1],!1,!0,!1);if(ue){var Fe=this._bufferService.cols-ue.start;P-=Fe,ee+=Fe}}}if(k&&P+ee===this._bufferService.cols&&A.getCodePoint(this._bufferService.cols-1)!==32){var Qe=N.lines.get(x[1]+1);if(Qe?.isWrapped&&Qe.getCodePoint(0)!==32){var vr=this._getWordAt([0,x[1]+1],!1,!1,!0);vr&&(ee+=vr.length)}}return{start:P,length:ee}}}}},E.prototype._selectWordAt=function(x,w){var L=this._getWordAt(x,w);if(L){for(;L.start<0;)L.start+=this._bufferService.cols,x[1]--;this._model.selectionStart=[L.start,x[1]],this._model.selectionStartLength=L.length}},E.prototype._selectToWordAt=function(x){var w=this._getWordAt(x,!0);if(w){for(var L=x[1];w.start<0;)w.start+=this._bufferService.cols,L--;if(!this._model.areSelectionValuesReversed())for(;w.start+w.length>this._bufferService.cols;)w.length-=this._bufferService.cols,L++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?w.start:w.start+w.length,L]}},E.prototype._isCharWordSeparator=function(x){return x.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(x.getChars())>=0},E.prototype._selectLineAt=function(x){var w=this._bufferService.buffer.getWrappedRangeForLine(x);this._model.selectionStart=[0,w.first],this._model.selectionEnd=[this._bufferService.cols,w.last],this._model.selectionStartLength=0},l([u(3,h.IBufferService),u(4,h.ICoreService),u(5,g.IMouseService),u(6,h.IOptionsService),u(7,g.IRenderService)],E)}(c.Disposable);n.SelectionService=b},4725:(r,n,i)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.IDecorationService=n.ICharacterJoinerService=n.ISoundService=n.ISelectionService=n.IRenderService=n.IMouseService=n.ICoreBrowserService=n.ICharSizeService=void 0;var o=i(8343);n.ICharSizeService=(0,o.createDecorator)("CharSizeService"),n.ICoreBrowserService=(0,o.createDecorator)("CoreBrowserService"),n.IMouseService=(0,o.createDecorator)("MouseService"),n.IRenderService=(0,o.createDecorator)("RenderService"),n.ISelectionService=(0,o.createDecorator)("SelectionService"),n.ISoundService=(0,o.createDecorator)("SoundService"),n.ICharacterJoinerService=(0,o.createDecorator)("CharacterJoinerService"),n.IDecorationService=(0,o.createDecorator)("DecorationService")},357:function(r,n,i){var o=this&&this.__decorate||function(p,_,m,d){var g,h=arguments.length,f=h<3?_:d===null?d=Object.getOwnPropertyDescriptor(_,m):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(p,_,m,d);else for(var a=p.length-1;a>=0;a--)(g=p[a])&&(f=(h<3?g(f):h>3?g(_,m,f):g(_,m))||f);return h>3&&f&&Object.defineProperty(_,m,f),f},s=this&&this.__param||function(p,_){return function(m,d){_(m,d,p)}};Object.defineProperty(n,"__esModule",{value:!0}),n.SoundService=void 0;var l=i(2585),u=function(){function p(_){this._optionsService=_}return Object.defineProperty(p,"audioContext",{get:function(){if(!p._audioContext){var _=window.AudioContext||window.webkitAudioContext;if(!_)return console.warn("Web Audio API is not supported by this browser. Consider upgrading to the latest version"),null;p._audioContext=new _}return p._audioContext},enumerable:!1,configurable:!0}),p.prototype.playBellSound=function(){var _=p.audioContext;if(_){var m=_.createBufferSource();_.decodeAudioData(this._base64ToArrayBuffer(this._removeMimeType(this._optionsService.rawOptions.bellSound)),function(d){m.buffer=d,m.connect(_.destination),m.start(0)})}},p.prototype._base64ToArrayBuffer=function(_){for(var m=window.atob(_),d=m.length,g=new Uint8Array(d),h=0;h<d;h++)g[h]=m.charCodeAt(h);return g.buffer},p.prototype._removeMimeType=function(_){return _.split(",")[1]},p=o([s(0,l.IOptionsService)],p)}();n.SoundService=u},6349:(r,n,i)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CircularList=void 0;var o=i(8460),s=function(){function l(u){this._maxLength=u,this.onDeleteEmitter=new o.EventEmitter,this.onInsertEmitter=new o.EventEmitter,this.onTrimEmitter=new o.EventEmitter,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}return Object.defineProperty(l.prototype,"onDelete",{get:function(){return this.onDeleteEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"onInsert",{get:function(){return this.onInsertEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"onTrim",{get:function(){return this.onTrimEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"maxLength",{get:function(){return this._maxLength},set:function(u){if(this._maxLength!==u){for(var p=new Array(u),_=0;_<Math.min(u,this.length);_++)p[_]=this._array[this._getCyclicIndex(_)];this._array=p,this._maxLength=u,this._startIndex=0}},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"length",{get:function(){return this._length},set:function(u){if(u>this._length)for(var p=this._length;p<u;p++)this._array[p]=void 0;this._length=u},enumerable:!1,configurable:!0}),l.prototype.get=function(u){return this._array[this._getCyclicIndex(u)]},l.prototype.set=function(u,p){this._array[this._getCyclicIndex(u)]=p},l.prototype.push=function(u){this._array[this._getCyclicIndex(this._length)]=u,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++},l.prototype.recycle=function(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]},Object.defineProperty(l.prototype,"isFull",{get:function(){return this._length===this._maxLength},enumerable:!1,configurable:!0}),l.prototype.pop=function(){return this._array[this._getCyclicIndex(this._length---1)]},l.prototype.splice=function(u,p){for(var _=[],m=2;m<arguments.length;m++)_[m-2]=arguments[m];if(p){for(var d=u;d<this._length-p;d++)this._array[this._getCyclicIndex(d)]=this._array[this._getCyclicIndex(d+p)];this._length-=p,this.onDeleteEmitter.fire({index:u,amount:p})}for(d=this._length-1;d>=u;d--)this._array[this._getCyclicIndex(d+_.length)]=this._array[this._getCyclicIndex(d)];for(d=0;d<_.length;d++)this._array[this._getCyclicIndex(u+d)]=_[d];if(_.length&&this.onInsertEmitter.fire({index:u,amount:_.length}),this._length+_.length>this._maxLength){var g=this._length+_.length-this._maxLength;this._startIndex+=g,this._length=this._maxLength,this.onTrimEmitter.fire(g)}else this._length+=_.length},l.prototype.trimStart=function(u){u>this._length&&(u=this._length),this._startIndex+=u,this._length-=u,this.onTrimEmitter.fire(u)},l.prototype.shiftElements=function(u,p,_){if(!(p<=0)){if(u<0||u>=this._length)throw new Error("start argument out of range");if(u+_<0)throw new Error("Cannot shift elements in list beyond index 0");if(_>0){for(var m=p-1;m>=0;m--)this.set(u+m+_,this.get(u+m));var d=u+p+_-this._length;if(d>0)for(this._length+=d;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(m=0;m<p;m++)this.set(u+m+_,this.get(u+m))}},l.prototype._getCyclicIndex=function(u){return(this._startIndex+u)%this._maxLength},l}();n.CircularList=s},1439:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.clone=void 0,n.clone=function i(o,s){if(s===void 0&&(s=5),typeof o!="object")return o;var l=Array.isArray(o)?[]:{};for(var u in o)l[u]=s<=1?o[u]:o[u]&&i(o[u],s-1);return l}},8969:function(r,n,i){var o,s=this&&this.__extends||(o=function(x,w){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,k){L.__proto__=k}||function(L,k){for(var N in k)Object.prototype.hasOwnProperty.call(k,N)&&(L[N]=k[N])},o(x,w)},function(x,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function L(){this.constructor=x}o(x,w),x.prototype=w===null?Object.create(w):(L.prototype=w.prototype,new L)});Object.defineProperty(n,"__esModule",{value:!0}),n.CoreTerminal=void 0;var l=i(844),u=i(2585),p=i(4348),_=i(7866),m=i(744),d=i(7302),g=i(6975),h=i(8460),f=i(1753),a=i(3730),c=i(1480),v=i(7994),y=i(9282),S=i(5435),b=i(5981),C=!1,E=function(x){function w(L){var k=x.call(this)||this;return k._onBinary=new h.EventEmitter,k._onData=new h.EventEmitter,k._onLineFeed=new h.EventEmitter,k._onResize=new h.EventEmitter,k._onScroll=new h.EventEmitter,k._instantiationService=new p.InstantiationService,k.optionsService=new d.OptionsService(L),k._instantiationService.setService(u.IOptionsService,k.optionsService),k._bufferService=k.register(k._instantiationService.createInstance(m.BufferService)),k._instantiationService.setService(u.IBufferService,k._bufferService),k._logService=k._instantiationService.createInstance(_.LogService),k._instantiationService.setService(u.ILogService,k._logService),k.coreService=k.register(k._instantiationService.createInstance(g.CoreService,function(){return k.scrollToBottom()})),k._instantiationService.setService(u.ICoreService,k.coreService),k.coreMouseService=k._instantiationService.createInstance(f.CoreMouseService),k._instantiationService.setService(u.ICoreMouseService,k.coreMouseService),k._dirtyRowService=k._instantiationService.createInstance(a.DirtyRowService),k._instantiationService.setService(u.IDirtyRowService,k._dirtyRowService),k.unicodeService=k._instantiationService.createInstance(c.UnicodeService),k._instantiationService.setService(u.IUnicodeService,k.unicodeService),k._charsetService=k._instantiationService.createInstance(v.CharsetService),k._instantiationService.setService(u.ICharsetService,k._charsetService),k._inputHandler=new S.InputHandler(k._bufferService,k._charsetService,k.coreService,k._dirtyRowService,k._logService,k.optionsService,k.coreMouseService,k.unicodeService),k.register((0,h.forwardEvent)(k._inputHandler.onLineFeed,k._onLineFeed)),k.register(k._inputHandler),k.register((0,h.forwardEvent)(k._bufferService.onResize,k._onResize)),k.register((0,h.forwardEvent)(k.coreService.onData,k._onData)),k.register((0,h.forwardEvent)(k.coreService.onBinary,k._onBinary)),k.register(k.optionsService.onOptionChange(function(N){return k._updateOptions(N)})),k.register(k._bufferService.onScroll(function(N){k._onScroll.fire({position:k._bufferService.buffer.ydisp,source:0}),k._dirtyRowService.markRangeDirty(k._bufferService.buffer.scrollTop,k._bufferService.buffer.scrollBottom)})),k.register(k._inputHandler.onScroll(function(N){k._onScroll.fire({position:k._bufferService.buffer.ydisp,source:0}),k._dirtyRowService.markRangeDirty(k._bufferService.buffer.scrollTop,k._bufferService.buffer.scrollBottom)})),k._writeBuffer=new b.WriteBuffer(function(N,A){return k._inputHandler.parse(N,A)}),k}return s(w,x),Object.defineProperty(w.prototype,"onBinary",{get:function(){return this._onBinary.event},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"onData",{get:function(){return this._onData.event},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"onLineFeed",{get:function(){return this._onLineFeed.event},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"onResize",{get:function(){return this._onResize.event},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"onScroll",{get:function(){var L=this;return this._onScrollApi||(this._onScrollApi=new h.EventEmitter,this.register(this._onScroll.event(function(k){var N;(N=L._onScrollApi)===null||N===void 0||N.fire(k.position)}))),this._onScrollApi.event},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"cols",{get:function(){return this._bufferService.cols},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"rows",{get:function(){return this._bufferService.rows},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"buffers",{get:function(){return this._bufferService.buffers},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"options",{get:function(){return this.optionsService.options},set:function(L){for(var k in L)this.optionsService.options[k]=L[k]},enumerable:!1,configurable:!0}),w.prototype.dispose=function(){var L;this._isDisposed||(x.prototype.dispose.call(this),(L=this._windowsMode)===null||L===void 0||L.dispose(),this._windowsMode=void 0)},w.prototype.write=function(L,k){this._writeBuffer.write(L,k)},w.prototype.writeSync=function(L,k){this._logService.logLevel<=u.LogLevelEnum.WARN&&!C&&(this._logService.warn("writeSync is unreliable and will be removed soon."),C=!0),this._writeBuffer.writeSync(L,k)},w.prototype.resize=function(L,k){isNaN(L)||isNaN(k)||(L=Math.max(L,m.MINIMUM_COLS),k=Math.max(k,m.MINIMUM_ROWS),this._bufferService.resize(L,k))},w.prototype.scroll=function(L,k){k===void 0&&(k=!1),this._bufferService.scroll(L,k)},w.prototype.scrollLines=function(L,k,N){this._bufferService.scrollLines(L,k,N)},w.prototype.scrollPages=function(L){this._bufferService.scrollPages(L)},w.prototype.scrollToTop=function(){this._bufferService.scrollToTop()},w.prototype.scrollToBottom=function(){this._bufferService.scrollToBottom()},w.prototype.scrollToLine=function(L){this._bufferService.scrollToLine(L)},w.prototype.registerEscHandler=function(L,k){return this._inputHandler.registerEscHandler(L,k)},w.prototype.registerDcsHandler=function(L,k){return this._inputHandler.registerDcsHandler(L,k)},w.prototype.registerCsiHandler=function(L,k){return this._inputHandler.registerCsiHandler(L,k)},w.prototype.registerOscHandler=function(L,k){return this._inputHandler.registerOscHandler(L,k)},w.prototype._setup=function(){this.optionsService.rawOptions.windowsMode&&this._enableWindowsMode()},w.prototype.reset=function(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()},w.prototype._updateOptions=function(L){var k;switch(L){case"scrollback":this.buffers.resize(this.cols,this.rows);break;case"windowsMode":this.optionsService.rawOptions.windowsMode?this._enableWindowsMode():((k=this._windowsMode)===null||k===void 0||k.dispose(),this._windowsMode=void 0)}},w.prototype._enableWindowsMode=function(){var L=this;if(!this._windowsMode){var k=[];k.push(this.onLineFeed(y.updateWindowsModeWrappedState.bind(null,this._bufferService))),k.push(this.registerCsiHandler({final:"H"},function(){return(0,y.updateWindowsModeWrappedState)(L._bufferService),!1})),this._windowsMode={dispose:function(){for(var N=0,A=k;N<A.length;N++)A[N].dispose()}}}},w}(l.Disposable);n.CoreTerminal=E},8460:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.forwardEvent=n.EventEmitter=void 0;var i=function(){function o(){this._listeners=[],this._disposed=!1}return Object.defineProperty(o.prototype,"event",{get:function(){var s=this;return this._event||(this._event=function(l){return s._listeners.push(l),{dispose:function(){if(!s._disposed){for(var u=0;u<s._listeners.length;u++)if(s._listeners[u]===l)return void s._listeners.splice(u,1)}}}}),this._event},enumerable:!1,configurable:!0}),o.prototype.fire=function(s,l){for(var u=[],p=0;p<this._listeners.length;p++)u.push(this._listeners[p]);for(p=0;p<u.length;p++)u[p].call(void 0,s,l)},o.prototype.dispose=function(){this._listeners&&(this._listeners.length=0),this._disposed=!0},o}();n.EventEmitter=i,n.forwardEvent=function(o,s){return o(function(l){return s.fire(l)})}},5435:function(r,n,i){var o,s=this&&this.__extends||(o=function(N,A){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,I){O.__proto__=I}||function(O,I){for(var D in I)Object.prototype.hasOwnProperty.call(I,D)&&(O[D]=I[D])},o(N,A)},function(N,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function O(){this.constructor=N}o(N,A),N.prototype=A===null?Object.create(A):(O.prototype=A.prototype,new O)});Object.defineProperty(n,"__esModule",{value:!0}),n.InputHandler=n.WindowsOptionsReportType=void 0;var l,u=i(2584),p=i(7116),_=i(2015),m=i(844),d=i(8273),g=i(482),h=i(8437),f=i(8460),a=i(643),c=i(511),v=i(3734),y=i(2585),S=i(6242),b=i(6351),C=i(5941),E={"(":0,")":1,"*":2,"+":3,"-":1,".":2},x=131072;function w(N,A){if(N>24)return A.setWinLines||!1;switch(N){case 1:return!!A.restoreWin;case 2:return!!A.minimizeWin;case 3:return!!A.setWinPosition;case 4:return!!A.setWinSizePixels;case 5:return!!A.raiseWin;case 6:return!!A.lowerWin;case 7:return!!A.refreshWin;case 8:return!!A.setWinSizeChars;case 9:return!!A.maximizeWin;case 10:return!!A.fullscreenWin;case 11:return!!A.getWinState;case 13:return!!A.getWinPosition;case 14:return!!A.getWinSizePixels;case 15:return!!A.getScreenSizePixels;case 16:return!!A.getCellSizePixels;case 18:return!!A.getWinSizeChars;case 19:return!!A.getScreenSizeChars;case 20:return!!A.getIconTitle;case 21:return!!A.getWinTitle;case 22:return!!A.pushTitle;case 23:return!!A.popTitle;case 24:return!!A.setWinLines}return!1}(function(N){N[N.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",N[N.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(l=n.WindowsOptionsReportType||(n.WindowsOptionsReportType={}));var L=function(){function N(A,O,I,D){this._bufferService=A,this._coreService=O,this._logService=I,this._optionsService=D,this._data=new Uint32Array(0)}return N.prototype.hook=function(A){this._data=new Uint32Array(0)},N.prototype.put=function(A,O,I){this._data=(0,d.concat)(this._data,A.subarray(O,I))},N.prototype.unhook=function(A){if(!A)return this._data=new Uint32Array(0),!0;var O=(0,g.utf32ToString)(this._data);switch(this._data=new Uint32Array(0),O){case'"q':this._coreService.triggerDataEvent(u.C0.ESC+'P1$r0"q'+u.C0.ESC+"\\");break;case'"p':this._coreService.triggerDataEvent(u.C0.ESC+'P1$r61;1"p'+u.C0.ESC+"\\");break;case"r":var I=this._bufferService.buffer.scrollTop+1+";"+(this._bufferService.buffer.scrollBottom+1)+"r";this._coreService.triggerDataEvent(u.C0.ESC+"P1$r"+I+u.C0.ESC+"\\");break;case"m":this._coreService.triggerDataEvent(u.C0.ESC+"P1$r0m"+u.C0.ESC+"\\");break;case" q":var D={block:2,underline:4,bar:6}[this._optionsService.rawOptions.cursorStyle];D-=this._optionsService.rawOptions.cursorBlink?1:0,this._coreService.triggerDataEvent(u.C0.ESC+"P1$r"+D+" q"+u.C0.ESC+"\\");break;default:this._logService.debug("Unknown DCS $q %s",O),this._coreService.triggerDataEvent(u.C0.ESC+"P0$r"+u.C0.ESC+"\\")}return!0},N}(),k=function(N){function A(O,I,D,j,z,V,ae,re,ke){ke===void 0&&(ke=new _.EscapeSequenceParser);var M=N.call(this)||this;M._bufferService=O,M._charsetService=I,M._coreService=D,M._dirtyRowService=j,M._logService=z,M._optionsService=V,M._coreMouseService=ae,M._unicodeService=re,M._parser=ke,M._parseBuffer=new Uint32Array(4096),M._stringDecoder=new g.StringToUtf32,M._utf8Decoder=new g.Utf8ToUtf32,M._workCell=new c.CellData,M._windowTitle="",M._iconName="",M._windowTitleStack=[],M._iconNameStack=[],M._curAttrData=h.DEFAULT_ATTR_DATA.clone(),M._eraseAttrDataInternal=h.DEFAULT_ATTR_DATA.clone(),M._onRequestBell=new f.EventEmitter,M._onRequestRefreshRows=new f.EventEmitter,M._onRequestReset=new f.EventEmitter,M._onRequestSendFocus=new f.EventEmitter,M._onRequestSyncScrollBar=new f.EventEmitter,M._onRequestWindowsOptionsReport=new f.EventEmitter,M._onA11yChar=new f.EventEmitter,M._onA11yTab=new f.EventEmitter,M._onCursorMove=new f.EventEmitter,M._onLineFeed=new f.EventEmitter,M._onScroll=new f.EventEmitter,M._onTitleChange=new f.EventEmitter,M._onColor=new f.EventEmitter,M._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},M._specialColors=[256,257,258],M.register(M._parser),M._activeBuffer=M._bufferService.buffer,M.register(M._bufferService.buffers.onBufferActivate(function(P){return M._activeBuffer=P.activeBuffer})),M._parser.setCsiHandlerFallback(function(P,ee){M._logService.debug("Unknown CSI code: ",{identifier:M._parser.identToString(P),params:ee.toArray()})}),M._parser.setEscHandlerFallback(function(P){M._logService.debug("Unknown ESC code: ",{identifier:M._parser.identToString(P)})}),M._parser.setExecuteHandlerFallback(function(P){M._logService.debug("Unknown EXECUTE code: ",{code:P})}),M._parser.setOscHandlerFallback(function(P,ee,ne){M._logService.debug("Unknown OSC code: ",{identifier:P,action:ee,data:ne})}),M._parser.setDcsHandlerFallback(function(P,ee,ne){ee==="HOOK"&&(ne=ne.toArray()),M._logService.debug("Unknown DCS code: ",{identifier:M._parser.identToString(P),action:ee,payload:ne})}),M._parser.setPrintHandler(function(P,ee,ne){return M.print(P,ee,ne)}),M._parser.registerCsiHandler({final:"@"},function(P){return M.insertChars(P)}),M._parser.registerCsiHandler({intermediates:" ",final:"@"},function(P){return M.scrollLeft(P)}),M._parser.registerCsiHandler({final:"A"},function(P){return M.cursorUp(P)}),M._parser.registerCsiHandler({intermediates:" ",final:"A"},function(P){return M.scrollRight(P)}),M._parser.registerCsiHandler({final:"B"},function(P){return M.cursorDown(P)}),M._parser.registerCsiHandler({final:"C"},function(P){return M.cursorForward(P)}),M._parser.registerCsiHandler({final:"D"},function(P){return M.cursorBackward(P)}),M._parser.registerCsiHandler({final:"E"},function(P){return M.cursorNextLine(P)}),M._parser.registerCsiHandler({final:"F"},function(P){return M.cursorPrecedingLine(P)}),M._parser.registerCsiHandler({final:"G"},function(P){return M.cursorCharAbsolute(P)}),M._parser.registerCsiHandler({final:"H"},function(P){return M.cursorPosition(P)}),M._parser.registerCsiHandler({final:"I"},function(P){return M.cursorForwardTab(P)}),M._parser.registerCsiHandler({final:"J"},function(P){return M.eraseInDisplay(P)}),M._parser.registerCsiHandler({prefix:"?",final:"J"},function(P){return M.eraseInDisplay(P)}),M._parser.registerCsiHandler({final:"K"},function(P){return M.eraseInLine(P)}),M._parser.registerCsiHandler({prefix:"?",final:"K"},function(P){return M.eraseInLine(P)}),M._parser.registerCsiHandler({final:"L"},function(P){return M.insertLines(P)}),M._parser.registerCsiHandler({final:"M"},function(P){return M.deleteLines(P)}),M._parser.registerCsiHandler({final:"P"},function(P){return M.deleteChars(P)}),M._parser.registerCsiHandler({final:"S"},function(P){return M.scrollUp(P)}),M._parser.registerCsiHandler({final:"T"},function(P){return M.scrollDown(P)}),M._parser.registerCsiHandler({final:"X"},function(P){return M.eraseChars(P)}),M._parser.registerCsiHandler({final:"Z"},function(P){return M.cursorBackwardTab(P)}),M._parser.registerCsiHandler({final:"`"},function(P){return M.charPosAbsolute(P)}),M._parser.registerCsiHandler({final:"a"},function(P){return M.hPositionRelative(P)}),M._parser.registerCsiHandler({final:"b"},function(P){return M.repeatPrecedingCharacter(P)}),M._parser.registerCsiHandler({final:"c"},function(P){return M.sendDeviceAttributesPrimary(P)}),M._parser.registerCsiHandler({prefix:">",final:"c"},function(P){return M.sendDeviceAttributesSecondary(P)}),M._parser.registerCsiHandler({final:"d"},function(P){return M.linePosAbsolute(P)}),M._parser.registerCsiHandler({final:"e"},function(P){return M.vPositionRelative(P)}),M._parser.registerCsiHandler({final:"f"},function(P){return M.hVPosition(P)}),M._parser.registerCsiHandler({final:"g"},function(P){return M.tabClear(P)}),M._parser.registerCsiHandler({final:"h"},function(P){return M.setMode(P)}),M._parser.registerCsiHandler({prefix:"?",final:"h"},function(P){return M.setModePrivate(P)}),M._parser.registerCsiHandler({final:"l"},function(P){return M.resetMode(P)}),M._parser.registerCsiHandler({prefix:"?",final:"l"},function(P){return M.resetModePrivate(P)}),M._parser.registerCsiHandler({final:"m"},function(P){return M.charAttributes(P)}),M._parser.registerCsiHandler({final:"n"},function(P){return M.deviceStatus(P)}),M._parser.registerCsiHandler({prefix:"?",final:"n"},function(P){return M.deviceStatusPrivate(P)}),M._parser.registerCsiHandler({intermediates:"!",final:"p"},function(P){return M.softReset(P)}),M._parser.registerCsiHandler({intermediates:" ",final:"q"},function(P){return M.setCursorStyle(P)}),M._parser.registerCsiHandler({final:"r"},function(P){return M.setScrollRegion(P)}),M._parser.registerCsiHandler({final:"s"},function(P){return M.saveCursor(P)}),M._parser.registerCsiHandler({final:"t"},function(P){return M.windowOptions(P)}),M._parser.registerCsiHandler({final:"u"},function(P){return M.restoreCursor(P)}),M._parser.registerCsiHandler({intermediates:"'",final:"}"},function(P){return M.insertColumns(P)}),M._parser.registerCsiHandler({intermediates:"'",final:"~"},function(P){return M.deleteColumns(P)}),M._parser.setExecuteHandler(u.C0.BEL,function(){return M.bell()}),M._parser.setExecuteHandler(u.C0.LF,function(){return M.lineFeed()}),M._parser.setExecuteHandler(u.C0.VT,function(){return M.lineFeed()}),M._parser.setExecuteHandler(u.C0.FF,function(){return M.lineFeed()}),M._parser.setExecuteHandler(u.C0.CR,function(){return M.carriageReturn()}),M._parser.setExecuteHandler(u.C0.BS,function(){return M.backspace()}),M._parser.setExecuteHandler(u.C0.HT,function(){return M.tab()}),M._parser.setExecuteHandler(u.C0.SO,function(){return M.shiftOut()}),M._parser.setExecuteHandler(u.C0.SI,function(){return M.shiftIn()}),M._parser.setExecuteHandler(u.C1.IND,function(){return M.index()}),M._parser.setExecuteHandler(u.C1.NEL,function(){return M.nextLine()}),M._parser.setExecuteHandler(u.C1.HTS,function(){return M.tabSet()}),M._parser.registerOscHandler(0,new S.OscHandler(function(P){return M.setTitle(P),M.setIconName(P),!0})),M._parser.registerOscHandler(1,new S.OscHandler(function(P){return M.setIconName(P)})),M._parser.registerOscHandler(2,new S.OscHandler(function(P){return M.setTitle(P)})),M._parser.registerOscHandler(4,new S.OscHandler(function(P){return M.setOrReportIndexedColor(P)})),M._parser.registerOscHandler(10,new S.OscHandler(function(P){return M.setOrReportFgColor(P)})),M._parser.registerOscHandler(11,new S.OscHandler(function(P){return M.setOrReportBgColor(P)})),M._parser.registerOscHandler(12,new S.OscHandler(function(P){return M.setOrReportCursorColor(P)})),M._parser.registerOscHandler(104,new S.OscHandler(function(P){return M.restoreIndexedColor(P)})),M._parser.registerOscHandler(110,new S.OscHandler(function(P){return M.restoreFgColor(P)})),M._parser.registerOscHandler(111,new S.OscHandler(function(P){return M.restoreBgColor(P)})),M._parser.registerOscHandler(112,new S.OscHandler(function(P){return M.restoreCursorColor(P)})),M._parser.registerEscHandler({final:"7"},function(){return M.saveCursor()}),M._parser.registerEscHandler({final:"8"},function(){return M.restoreCursor()}),M._parser.registerEscHandler({final:"D"},function(){return M.index()}),M._parser.registerEscHandler({final:"E"},function(){return M.nextLine()}),M._parser.registerEscHandler({final:"H"},function(){return M.tabSet()}),M._parser.registerEscHandler({final:"M"},function(){return M.reverseIndex()}),M._parser.registerEscHandler({final:"="},function(){return M.keypadApplicationMode()}),M._parser.registerEscHandler({final:">"},function(){return M.keypadNumericMode()}),M._parser.registerEscHandler({final:"c"},function(){return M.fullReset()}),M._parser.registerEscHandler({final:"n"},function(){return M.setgLevel(2)}),M._parser.registerEscHandler({final:"o"},function(){return M.setgLevel(3)}),M._parser.registerEscHandler({final:"|"},function(){return M.setgLevel(3)}),M._parser.registerEscHandler({final:"}"},function(){return M.setgLevel(2)}),M._parser.registerEscHandler({final:"~"},function(){return M.setgLevel(1)}),M._parser.registerEscHandler({intermediates:"%",final:"@"},function(){return M.selectDefaultCharset()}),M._parser.registerEscHandler({intermediates:"%",final:"G"},function(){return M.selectDefaultCharset()});var q=function(P){R._parser.registerEscHandler({intermediates:"(",final:P},function(){return M.selectCharset("("+P)}),R._parser.registerEscHandler({intermediates:")",final:P},function(){return M.selectCharset(")"+P)}),R._parser.registerEscHandler({intermediates:"*",final:P},function(){return M.selectCharset("*"+P)}),R._parser.registerEscHandler({intermediates:"+",final:P},function(){return M.selectCharset("+"+P)}),R._parser.registerEscHandler({intermediates:"-",final:P},function(){return M.selectCharset("-"+P)}),R._parser.registerEscHandler({intermediates:".",final:P},function(){return M.selectCharset("."+P)}),R._parser.registerEscHandler({intermediates:"/",final:P},function(){return M.selectCharset("/"+P)})},R=this;for(var B in p.CHARSETS)q(B);return M._parser.registerEscHandler({intermediates:"#",final:"8"},function(){return M.screenAlignmentPattern()}),M._parser.setErrorHandler(function(P){return M._logService.error("Parsing error: ",P),P}),M._parser.registerDcsHandler({intermediates:"$",final:"q"},new L(M._bufferService,M._coreService,M._logService,M._optionsService)),M}return s(A,N),Object.defineProperty(A.prototype,"onRequestBell",{get:function(){return this._onRequestBell.event},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"onRequestRefreshRows",{get:function(){return this._onRequestRefreshRows.event},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"onRequestReset",{get:function(){return this._onRequestReset.event},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"onRequestSendFocus",{get:function(){return this._onRequestSendFocus.event},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"onRequestSyncScrollBar",{get:function(){return this._onRequestSyncScrollBar.event},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"onRequestWindowsOptionsReport",{get:function(){return this._onRequestWindowsOptionsReport.event},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"onA11yChar",{get:function(){return this._onA11yChar.event},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"onA11yTab",{get:function(){return this._onA11yTab.event},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"onCursorMove",{get:function(){return this._onCursorMove.event},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"onLineFeed",{get:function(){return this._onLineFeed.event},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"onScroll",{get:function(){return this._onScroll.event},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"onTitleChange",{get:function(){return this._onTitleChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"onColor",{get:function(){return this._onColor.event},enumerable:!1,configurable:!0}),A.prototype.dispose=function(){N.prototype.dispose.call(this)},A.prototype._preserveStack=function(O,I,D,j){this._parseStack.paused=!0,this._parseStack.cursorStartX=O,this._parseStack.cursorStartY=I,this._parseStack.decodedLength=D,this._parseStack.position=j},A.prototype._logSlowResolvingAsync=function(O){this._logService.logLevel<=y.LogLevelEnum.WARN&&Promise.race([O,new Promise(function(I,D){return setTimeout(function(){return D("#SLOW_TIMEOUT")},5e3)})]).catch(function(I){if(I!=="#SLOW_TIMEOUT")throw I;console.warn("async parser handler taking longer than 5000 ms")})},A.prototype.parse=function(O,I){var D,j=this._activeBuffer.x,z=this._activeBuffer.y,V=0,ae=this._parseStack.paused;if(ae){if(D=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,I))return this._logSlowResolvingAsync(D),D;j=this._parseStack.cursorStartX,z=this._parseStack.cursorStartY,this._parseStack.paused=!1,O.length>x&&(V=this._parseStack.position+x)}if(this._logService.logLevel<=y.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof O=="string"?' "'+O+'"':' "'+Array.prototype.map.call(O,function(q){return String.fromCharCode(q)}).join("")+'"'),typeof O=="string"?O.split("").map(function(q){return q.charCodeAt(0)}):O),this._parseBuffer.length<O.length&&this._parseBuffer.length<x&&(this._parseBuffer=new Uint32Array(Math.min(O.length,x))),ae||this._dirtyRowService.clearRange(),O.length>x)for(var re=V;re<O.length;re+=x){var ke=re+x<O.length?re+x:O.length,M=typeof O=="string"?this._stringDecoder.decode(O.substring(re,ke),this._parseBuffer):this._utf8Decoder.decode(O.subarray(re,ke),this._parseBuffer);if(D=this._parser.parse(this._parseBuffer,M))return this._preserveStack(j,z,M,re),this._logSlowResolvingAsync(D),D}else if(!ae&&(M=typeof O=="string"?this._stringDecoder.decode(O,this._parseBuffer):this._utf8Decoder.decode(O,this._parseBuffer),D=this._parser.parse(this._parseBuffer,M)))return this._preserveStack(j,z,M,0),this._logSlowResolvingAsync(D),D;this._activeBuffer.x===j&&this._activeBuffer.y===z||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowService.start,this._dirtyRowService.end)},A.prototype.print=function(O,I,D){var j,z,V=this._charsetService.charset,ae=this._optionsService.rawOptions.screenReaderMode,re=this._bufferService.cols,ke=this._coreService.decPrivateModes.wraparound,M=this._coreService.modes.insertMode,q=this._curAttrData,R=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowService.markDirty(this._activeBuffer.y),this._activeBuffer.x&&D-I>0&&R.getWidth(this._activeBuffer.x-1)===2&&R.setCellFromCodePoint(this._activeBuffer.x-1,0,1,q.fg,q.bg,q.extended);for(var B=I;B<D;++B){if(j=O[B],z=this._unicodeService.wcwidth(j),j<127&&V){var P=V[String.fromCharCode(j)];P&&(j=P.charCodeAt(0))}if(ae&&this._onA11yChar.fire((0,g.stringFromCodePoint)(j)),z||!this._activeBuffer.x){if(this._activeBuffer.x+z-1>=re){if(ke){for(;this._activeBuffer.x<re;)R.setCellFromCodePoint(this._activeBuffer.x++,0,1,q.fg,q.bg,q.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),R=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=re-1,z===2)continue}if(M&&(R.insertCells(this._activeBuffer.x,z,this._activeBuffer.getNullCell(q),q),R.getWidth(re-1)===2&&R.setCellFromCodePoint(re-1,a.NULL_CELL_CODE,a.NULL_CELL_WIDTH,q.fg,q.bg,q.extended)),R.setCellFromCodePoint(this._activeBuffer.x++,j,z,q.fg,q.bg,q.extended),z>0)for(;--z;)R.setCellFromCodePoint(this._activeBuffer.x++,0,0,q.fg,q.bg,q.extended)}else R.getWidth(this._activeBuffer.x-1)?R.addCodepointToCell(this._activeBuffer.x-1,j):R.addCodepointToCell(this._activeBuffer.x-2,j)}D-I>0&&(R.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<re&&D-I>0&&R.getWidth(this._activeBuffer.x)===0&&!R.hasContent(this._activeBuffer.x)&&R.setCellFromCodePoint(this._activeBuffer.x,0,1,q.fg,q.bg,q.extended),this._dirtyRowService.markDirty(this._activeBuffer.y)},A.prototype.registerCsiHandler=function(O,I){var D=this;return O.final!=="t"||O.prefix||O.intermediates?this._parser.registerCsiHandler(O,I):this._parser.registerCsiHandler(O,function(j){return!w(j.params[0],D._optionsService.rawOptions.windowOptions)||I(j)})},A.prototype.registerDcsHandler=function(O,I){return this._parser.registerDcsHandler(O,new b.DcsHandler(I))},A.prototype.registerEscHandler=function(O,I){return this._parser.registerEscHandler(O,I)},A.prototype.registerOscHandler=function(O,I){return this._parser.registerOscHandler(O,new S.OscHandler(I))},A.prototype.bell=function(){return this._onRequestBell.fire(),!0},A.prototype.lineFeed=function(){return this._dirtyRowService.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowService.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0},A.prototype.carriageReturn=function(){return this._activeBuffer.x=0,!0},A.prototype.backspace=function(){var O;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&((O=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||O===void 0?void 0:O.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;var I=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);I.hasWidth(this._activeBuffer.x)&&!I.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0},A.prototype.tab=function(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;var O=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-O),!0},A.prototype.shiftOut=function(){return this._charsetService.setgLevel(1),!0},A.prototype.shiftIn=function(){return this._charsetService.setgLevel(0),!0},A.prototype._restrictCursor=function(O){O===void 0&&(O=this._bufferService.cols-1),this._activeBuffer.x=Math.min(O,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowService.markDirty(this._activeBuffer.y)},A.prototype._setCursor=function(O,I){this._dirtyRowService.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=O,this._activeBuffer.y=this._activeBuffer.scrollTop+I):(this._activeBuffer.x=O,this._activeBuffer.y=I),this._restrictCursor(),this._dirtyRowService.markDirty(this._activeBuffer.y)},A.prototype._moveCursor=function(O,I){this._restrictCursor(),this._setCursor(this._activeBuffer.x+O,this._activeBuffer.y+I)},A.prototype.cursorUp=function(O){var I=this._activeBuffer.y-this._activeBuffer.scrollTop;return I>=0?this._moveCursor(0,-Math.min(I,O.params[0]||1)):this._moveCursor(0,-(O.params[0]||1)),!0},A.prototype.cursorDown=function(O){var I=this._activeBuffer.scrollBottom-this._activeBuffer.y;return I>=0?this._moveCursor(0,Math.min(I,O.params[0]||1)):this._moveCursor(0,O.params[0]||1),!0},A.prototype.cursorForward=function(O){return this._moveCursor(O.params[0]||1,0),!0},A.prototype.cursorBackward=function(O){return this._moveCursor(-(O.params[0]||1),0),!0},A.prototype.cursorNextLine=function(O){return this.cursorDown(O),this._activeBuffer.x=0,!0},A.prototype.cursorPrecedingLine=function(O){return this.cursorUp(O),this._activeBuffer.x=0,!0},A.prototype.cursorCharAbsolute=function(O){return this._setCursor((O.params[0]||1)-1,this._activeBuffer.y),!0},A.prototype.cursorPosition=function(O){return this._setCursor(O.length>=2?(O.params[1]||1)-1:0,(O.params[0]||1)-1),!0},A.prototype.charPosAbsolute=function(O){return this._setCursor((O.params[0]||1)-1,this._activeBuffer.y),!0},A.prototype.hPositionRelative=function(O){return this._moveCursor(O.params[0]||1,0),!0},A.prototype.linePosAbsolute=function(O){return this._setCursor(this._activeBuffer.x,(O.params[0]||1)-1),!0},A.prototype.vPositionRelative=function(O){return this._moveCursor(0,O.params[0]||1),!0},A.prototype.hVPosition=function(O){return this.cursorPosition(O),!0},A.prototype.tabClear=function(O){var I=O.params[0];return I===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:I===3&&(this._activeBuffer.tabs={}),!0},A.prototype.cursorForwardTab=function(O){if(this._activeBuffer.x>=this._bufferService.cols)return!0;for(var I=O.params[0]||1;I--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0},A.prototype.cursorBackwardTab=function(O){if(this._activeBuffer.x>=this._bufferService.cols)return!0;for(var I=O.params[0]||1;I--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0},A.prototype._eraseInBufferLine=function(O,I,D,j){j===void 0&&(j=!1);var z=this._activeBuffer.lines.get(this._activeBuffer.ybase+O);z.replaceCells(I,D,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),j&&(z.isWrapped=!1)},A.prototype._resetBufferLine=function(O){var I=this._activeBuffer.lines.get(this._activeBuffer.ybase+O);I.fill(this._activeBuffer.getNullCell(this._eraseAttrData())),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+O),I.isWrapped=!1},A.prototype.eraseInDisplay=function(O){var I;switch(this._restrictCursor(this._bufferService.cols),O.params[0]){case 0:for(I=this._activeBuffer.y,this._dirtyRowService.markDirty(I),this._eraseInBufferLine(I++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0);I<this._bufferService.rows;I++)this._resetBufferLine(I);this._dirtyRowService.markDirty(I);break;case 1:for(I=this._activeBuffer.y,this._dirtyRowService.markDirty(I),this._eraseInBufferLine(I,0,this._activeBuffer.x+1,!0),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(I+1).isWrapped=!1);I--;)this._resetBufferLine(I);this._dirtyRowService.markDirty(0);break;case 2:for(I=this._bufferService.rows,this._dirtyRowService.markDirty(I-1);I--;)this._resetBufferLine(I);this._dirtyRowService.markDirty(0);break;case 3:var D=this._activeBuffer.lines.length-this._bufferService.rows;D>0&&(this._activeBuffer.lines.trimStart(D),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-D,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-D,0),this._onScroll.fire(0))}return!0},A.prototype.eraseInLine=function(O){switch(this._restrictCursor(this._bufferService.cols),O.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0)}return this._dirtyRowService.markDirty(this._activeBuffer.y),!0},A.prototype.insertLines=function(O){this._restrictCursor();var I=O.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var D=this._activeBuffer.ybase+this._activeBuffer.y,j=this._bufferService.rows-1-this._activeBuffer.scrollBottom,z=this._bufferService.rows-1+this._activeBuffer.ybase-j+1;I--;)this._activeBuffer.lines.splice(z-1,1),this._activeBuffer.lines.splice(D,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0},A.prototype.deleteLines=function(O){this._restrictCursor();var I=O.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;var D,j=this._activeBuffer.ybase+this._activeBuffer.y;for(D=this._bufferService.rows-1-this._activeBuffer.scrollBottom,D=this._bufferService.rows-1+this._activeBuffer.ybase-D;I--;)this._activeBuffer.lines.splice(j,1),this._activeBuffer.lines.splice(D,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0},A.prototype.insertChars=function(O){this._restrictCursor();var I=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return I&&(I.insertCells(this._activeBuffer.x,O.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0},A.prototype.deleteChars=function(O){this._restrictCursor();var I=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return I&&(I.deleteCells(this._activeBuffer.x,O.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0},A.prototype.scrollUp=function(O){for(var I=O.params[0]||1;I--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},A.prototype.scrollDown=function(O){for(var I=O.params[0]||1;I--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(h.DEFAULT_ATTR_DATA));return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},A.prototype.scrollLeft=function(O){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var I=O.params[0]||1,D=this._activeBuffer.scrollTop;D<=this._activeBuffer.scrollBottom;++D){var j=this._activeBuffer.lines.get(this._activeBuffer.ybase+D);j.deleteCells(0,I,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),j.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},A.prototype.scrollRight=function(O){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var I=O.params[0]||1,D=this._activeBuffer.scrollTop;D<=this._activeBuffer.scrollBottom;++D){var j=this._activeBuffer.lines.get(this._activeBuffer.ybase+D);j.insertCells(0,I,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),j.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},A.prototype.insertColumns=function(O){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var I=O.params[0]||1,D=this._activeBuffer.scrollTop;D<=this._activeBuffer.scrollBottom;++D){var j=this._activeBuffer.lines.get(this._activeBuffer.ybase+D);j.insertCells(this._activeBuffer.x,I,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),j.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},A.prototype.deleteColumns=function(O){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var I=O.params[0]||1,D=this._activeBuffer.scrollTop;D<=this._activeBuffer.scrollBottom;++D){var j=this._activeBuffer.lines.get(this._activeBuffer.ybase+D);j.deleteCells(this._activeBuffer.x,I,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),j.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},A.prototype.eraseChars=function(O){this._restrictCursor();var I=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return I&&(I.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(O.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0},A.prototype.repeatPrecedingCharacter=function(O){if(!this._parser.precedingCodepoint)return!0;for(var I=O.params[0]||1,D=new Uint32Array(I),j=0;j<I;++j)D[j]=this._parser.precedingCodepoint;return this.print(D,0,D.length),!0},A.prototype.sendDeviceAttributesPrimary=function(O){return O.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(u.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(u.C0.ESC+"[?6c")),!0},A.prototype.sendDeviceAttributesSecondary=function(O){return O.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(u.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(u.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(O.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(u.C0.ESC+"[>83;40003;0c")),!0},A.prototype._is=function(O){return(this._optionsService.rawOptions.termName+"").indexOf(O)===0},A.prototype.setMode=function(O){for(var I=0;I<O.length;I++)O.params[I]===4&&(this._coreService.modes.insertMode=!0);return!0},A.prototype.setModePrivate=function(O){for(var I=0;I<O.length;I++)switch(O.params[I]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,p.DEFAULT_CHARSET),this._charsetService.setgCharset(1,p.DEFAULT_CHARSET),this._charsetService.setgCharset(2,p.DEFAULT_CHARSET),this._charsetService.setgCharset(3,p.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0},A.prototype.resetMode=function(O){for(var I=0;I<O.length;I++)O.params[I]===4&&(this._coreService.modes.insertMode=!1);return!0},A.prototype.resetModePrivate=function(O){for(var I=0;I<O.length;I++)switch(O.params[I]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),O.params[I]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0},A.prototype._updateAttrColor=function(O,I,D,j,z){return I===2?(O|=50331648,O&=-16777216,O|=v.AttributeData.fromColorRGB([D,j,z])):I===5&&(O&=-50331904,O|=33554432|255&D),O},A.prototype._extractColor=function(O,I,D){var j=[0,0,-1,0,0,0],z=0,V=0;do{if(j[V+z]=O.params[I+V],O.hasSubParams(I+V)){var ae=O.getSubParams(I+V),re=0;do j[1]===5&&(z=1),j[V+re+1+z]=ae[re];while(++re<ae.length&&re+V+1+z<j.length);break}if(j[1]===5&&V+z>=2||j[1]===2&&V+z>=5)break;j[1]&&(z=1)}while(++V+I<O.length&&V+z<j.length);for(re=2;re<j.length;++re)j[re]===-1&&(j[re]=0);switch(j[0]){case 38:D.fg=this._updateAttrColor(D.fg,j[1],j[3],j[4],j[5]);break;case 48:D.bg=this._updateAttrColor(D.bg,j[1],j[3],j[4],j[5]);break;case 58:D.extended=D.extended.clone(),D.extended.underlineColor=this._updateAttrColor(D.extended.underlineColor,j[1],j[3],j[4],j[5])}return V},A.prototype._processUnderline=function(O,I){I.extended=I.extended.clone(),(!~O||O>5)&&(O=1),I.extended.underlineStyle=O,I.fg|=268435456,O===0&&(I.fg&=-268435457),I.updateExtended()},A.prototype.charAttributes=function(O){if(O.length===1&&O.params[0]===0)return this._curAttrData.fg=h.DEFAULT_ATTR_DATA.fg,this._curAttrData.bg=h.DEFAULT_ATTR_DATA.bg,!0;for(var I,D=O.length,j=this._curAttrData,z=0;z<D;z++)(I=O.params[z])>=30&&I<=37?(j.fg&=-50331904,j.fg|=16777216|I-30):I>=40&&I<=47?(j.bg&=-50331904,j.bg|=16777216|I-40):I>=90&&I<=97?(j.fg&=-50331904,j.fg|=16777224|I-90):I>=100&&I<=107?(j.bg&=-50331904,j.bg|=16777224|I-100):I===0?(j.fg=h.DEFAULT_ATTR_DATA.fg,j.bg=h.DEFAULT_ATTR_DATA.bg):I===1?j.fg|=134217728:I===3?j.bg|=67108864:I===4?(j.fg|=268435456,this._processUnderline(O.hasSubParams(z)?O.getSubParams(z)[0]:1,j)):I===5?j.fg|=536870912:I===7?j.fg|=67108864:I===8?j.fg|=1073741824:I===9?j.fg|=2147483648:I===2?j.bg|=134217728:I===21?this._processUnderline(2,j):I===22?(j.fg&=-134217729,j.bg&=-134217729):I===23?j.bg&=-67108865:I===24?j.fg&=-268435457:I===25?j.fg&=-536870913:I===27?j.fg&=-67108865:I===28?j.fg&=-1073741825:I===29?j.fg&=2147483647:I===39?(j.fg&=-67108864,j.fg|=16777215&h.DEFAULT_ATTR_DATA.fg):I===49?(j.bg&=-67108864,j.bg|=16777215&h.DEFAULT_ATTR_DATA.bg):I===38||I===48||I===58?z+=this._extractColor(O,z,j):I===59?(j.extended=j.extended.clone(),j.extended.underlineColor=-1,j.updateExtended()):I===100?(j.fg&=-67108864,j.fg|=16777215&h.DEFAULT_ATTR_DATA.fg,j.bg&=-67108864,j.bg|=16777215&h.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",I);return!0},A.prototype.deviceStatus=function(O){switch(O.params[0]){case 5:this._coreService.triggerDataEvent(u.C0.ESC+"[0n");break;case 6:var I=this._activeBuffer.y+1,D=this._activeBuffer.x+1;this._coreService.triggerDataEvent(u.C0.ESC+"["+I+";"+D+"R")}return!0},A.prototype.deviceStatusPrivate=function(O){if(O.params[0]===6){var I=this._activeBuffer.y+1,D=this._activeBuffer.x+1;this._coreService.triggerDataEvent(u.C0.ESC+"[?"+I+";"+D+"R")}return!0},A.prototype.softReset=function(O){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=h.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0},A.prototype.setCursorStyle=function(O){var I=O.params[0]||1;switch(I){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}var D=I%2==1;return this._optionsService.options.cursorBlink=D,!0},A.prototype.setScrollRegion=function(O){var I,D=O.params[0]||1;return(O.length<2||(I=O.params[1])>this._bufferService.rows||I===0)&&(I=this._bufferService.rows),I>D&&(this._activeBuffer.scrollTop=D-1,this._activeBuffer.scrollBottom=I-1,this._setCursor(0,0)),!0},A.prototype.windowOptions=function(O){if(!w(O.params[0],this._optionsService.rawOptions.windowOptions))return!0;var I=O.length>1?O.params[1]:0;switch(O.params[0]){case 14:I!==2&&this._onRequestWindowsOptionsReport.fire(l.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(l.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(u.C0.ESC+"[8;"+this._bufferService.rows+";"+this._bufferService.cols+"t");break;case 22:I!==0&&I!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),I!==0&&I!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:I!==0&&I!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),I!==0&&I!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0},A.prototype.saveCursor=function(O){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0},A.prototype.restoreCursor=function(O){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0},A.prototype.setTitle=function(O){return this._windowTitle=O,this._onTitleChange.fire(O),!0},A.prototype.setIconName=function(O){return this._iconName=O,!0},A.prototype.setOrReportIndexedColor=function(O){for(var I=[],D=O.split(";");D.length>1;){var j=D.shift(),z=D.shift();if(/^\d+$/.exec(j)){var V=parseInt(j);if(0<=V&&V<256)if(z==="?")I.push({type:0,index:V});else{var ae=(0,C.parseColor)(z);ae&&I.push({type:1,index:V,color:ae})}}}return I.length&&this._onColor.fire(I),!0},A.prototype._setOrReportSpecialColor=function(O,I){for(var D=O.split(";"),j=0;j<D.length&&!(I>=this._specialColors.length);++j,++I)if(D[j]==="?")this._onColor.fire([{type:0,index:this._specialColors[I]}]);else{var z=(0,C.parseColor)(D[j]);z&&this._onColor.fire([{type:1,index:this._specialColors[I],color:z}])}return!0},A.prototype.setOrReportFgColor=function(O){return this._setOrReportSpecialColor(O,0)},A.prototype.setOrReportBgColor=function(O){return this._setOrReportSpecialColor(O,1)},A.prototype.setOrReportCursorColor=function(O){return this._setOrReportSpecialColor(O,2)},A.prototype.restoreIndexedColor=function(O){if(!O)return this._onColor.fire([{type:2}]),!0;for(var I=[],D=O.split(";"),j=0;j<D.length;++j)if(/^\d+$/.exec(D[j])){var z=parseInt(D[j]);0<=z&&z<256&&I.push({type:2,index:z})}return I.length&&this._onColor.fire(I),!0},A.prototype.restoreFgColor=function(O){return this._onColor.fire([{type:2,index:256}]),!0},A.prototype.restoreBgColor=function(O){return this._onColor.fire([{type:2,index:257}]),!0},A.prototype.restoreCursorColor=function(O){return this._onColor.fire([{type:2,index:258}]),!0},A.prototype.nextLine=function(){return this._activeBuffer.x=0,this.index(),!0},A.prototype.keypadApplicationMode=function(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0},A.prototype.keypadNumericMode=function(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0},A.prototype.selectDefaultCharset=function(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,p.DEFAULT_CHARSET),!0},A.prototype.selectCharset=function(O){return O.length!==2?(this.selectDefaultCharset(),!0):(O[0]==="/"||this._charsetService.setgCharset(E[O[0]],p.CHARSETS[O[1]]||p.DEFAULT_CHARSET),!0)},A.prototype.index=function(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0},A.prototype.tabSet=function(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0},A.prototype.reverseIndex=function(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){var O=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,O,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0},A.prototype.fullReset=function(){return this._parser.reset(),this._onRequestReset.fire(),!0},A.prototype.reset=function(){this._curAttrData=h.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=h.DEFAULT_ATTR_DATA.clone()},A.prototype._eraseAttrData=function(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal},A.prototype.setgLevel=function(O){return this._charsetService.setgLevel(O),!0},A.prototype.screenAlignmentPattern=function(){var O=new c.CellData;O.content=1<<22|"E".charCodeAt(0),O.fg=this._curAttrData.fg,O.bg=this._curAttrData.bg,this._setCursor(0,0);for(var I=0;I<this._bufferService.rows;++I){var D=this._activeBuffer.ybase+this._activeBuffer.y+I,j=this._activeBuffer.lines.get(D);j&&(j.fill(O),j.isWrapped=!1)}return this._dirtyRowService.markAllDirty(),this._setCursor(0,0),!0},A}(m.Disposable);n.InputHandler=k},844:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.getDisposeArrayDisposable=n.disposeArray=n.Disposable=void 0;var i=function(){function s(){this._disposables=[],this._isDisposed=!1}return s.prototype.dispose=function(){this._isDisposed=!0;for(var l=0,u=this._disposables;l<u.length;l++)u[l].dispose();this._disposables.length=0},s.prototype.register=function(l){return this._disposables.push(l),l},s.prototype.unregister=function(l){var u=this._disposables.indexOf(l);u!==-1&&this._disposables.splice(u,1)},s}();function o(s){for(var l=0,u=s;l<u.length;l++)u[l].dispose();s.length=0}n.Disposable=i,n.disposeArray=o,n.getDisposeArrayDisposable=function(s){return{dispose:function(){return o(s)}}}},6114:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.isLinux=n.isWindows=n.isIphone=n.isIpad=n.isMac=n.isSafari=n.isLegacyEdge=n.isFirefox=void 0;var i=typeof navigator>"u",o=i?"node":navigator.userAgent,s=i?"node":navigator.platform;n.isFirefox=o.includes("Firefox"),n.isLegacyEdge=o.includes("Edge"),n.isSafari=/^((?!chrome|android).)*safari/i.test(o),n.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(s),n.isIpad=s==="iPad",n.isIphone=s==="iPhone",n.isWindows=["Windows","Win16","Win32","WinCE"].includes(s),n.isLinux=s.indexOf("Linux")>=0},8273:(r,n)=>{function i(o,s,l,u){if(l===void 0&&(l=0),u===void 0&&(u=o.length),l>=o.length)return o;l=(o.length+l)%o.length,u=u>=o.length?o.length:(o.length+u)%o.length;for(var p=l;p<u;++p)o[p]=s;return o}Object.defineProperty(n,"__esModule",{value:!0}),n.concat=n.fillFallback=n.fill=void 0,n.fill=function(o,s,l,u){return o.fill?o.fill(s,l,u):i(o,s,l,u)},n.fillFallback=i,n.concat=function(o,s){var l=new o.constructor(o.length+s.length);return l.set(o),l.set(s,o.length),l}},9282:(r,n,i)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.updateWindowsModeWrappedState=void 0;var o=i(643);n.updateWindowsModeWrappedState=function(s){var l=s.buffer.lines.get(s.buffer.ybase+s.buffer.y-1),u=l?.get(s.cols-1),p=s.buffer.lines.get(s.buffer.ybase+s.buffer.y);p&&u&&(p.isWrapped=u[o.CHAR_DATA_CODE_INDEX]!==o.NULL_CELL_CODE&&u[o.CHAR_DATA_CODE_INDEX]!==o.WHITESPACE_CELL_CODE)}},3734:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ExtendedAttrs=n.AttributeData=void 0;var i=function(){function s(){this.fg=0,this.bg=0,this.extended=new o}return s.toColorRGB=function(l){return[l>>>16&255,l>>>8&255,255&l]},s.fromColorRGB=function(l){return(255&l[0])<<16|(255&l[1])<<8|255&l[2]},s.prototype.clone=function(){var l=new s;return l.fg=this.fg,l.bg=this.bg,l.extended=this.extended.clone(),l},s.prototype.isInverse=function(){return 67108864&this.fg},s.prototype.isBold=function(){return 134217728&this.fg},s.prototype.isUnderline=function(){return 268435456&this.fg},s.prototype.isBlink=function(){return 536870912&this.fg},s.prototype.isInvisible=function(){return 1073741824&this.fg},s.prototype.isItalic=function(){return 67108864&this.bg},s.prototype.isDim=function(){return 134217728&this.bg},s.prototype.isStrikethrough=function(){return 2147483648&this.fg},s.prototype.getFgColorMode=function(){return 50331648&this.fg},s.prototype.getBgColorMode=function(){return 50331648&this.bg},s.prototype.isFgRGB=function(){return(50331648&this.fg)==50331648},s.prototype.isBgRGB=function(){return(50331648&this.bg)==50331648},s.prototype.isFgPalette=function(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432},s.prototype.isBgPalette=function(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432},s.prototype.isFgDefault=function(){return(50331648&this.fg)==0},s.prototype.isBgDefault=function(){return(50331648&this.bg)==0},s.prototype.isAttributeDefault=function(){return this.fg===0&&this.bg===0},s.prototype.getFgColor=function(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}},s.prototype.getBgColor=function(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}},s.prototype.hasExtendedAttrs=function(){return 268435456&this.bg},s.prototype.updateExtended=function(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456},s.prototype.getUnderlineColor=function(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()},s.prototype.getUnderlineColorMode=function(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()},s.prototype.isUnderlineColorRGB=function(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()},s.prototype.isUnderlineColorPalette=function(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()},s.prototype.isUnderlineColorDefault=function(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()},s.prototype.getUnderlineStyle=function(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0},s}();n.AttributeData=i;var o=function(){function s(l,u){l===void 0&&(l=0),u===void 0&&(u=-1),this.underlineStyle=l,this.underlineColor=u}return s.prototype.clone=function(){return new s(this.underlineStyle,this.underlineColor)},s.prototype.isEmpty=function(){return this.underlineStyle===0},s}();n.ExtendedAttrs=o},9092:(r,n,i)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferStringIterator=n.Buffer=n.MAX_BUFFER_SIZE=void 0;var o=i(6349),s=i(8437),l=i(511),u=i(643),p=i(4634),_=i(4863),m=i(7116),d=i(3734);n.MAX_BUFFER_SIZE=4294967295;var g=function(){function f(a,c,v){this._hasScrollback=a,this._optionsService=c,this._bufferService=v,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.savedY=0,this.savedX=0,this.savedCurAttrData=s.DEFAULT_ATTR_DATA.clone(),this.savedCharset=m.DEFAULT_CHARSET,this.markers=[],this._nullCell=l.CellData.fromCharData([0,u.NULL_CELL_CHAR,u.NULL_CELL_WIDTH,u.NULL_CELL_CODE]),this._whitespaceCell=l.CellData.fromCharData([0,u.WHITESPACE_CELL_CHAR,u.WHITESPACE_CELL_WIDTH,u.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new o.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}return f.prototype.getNullCell=function(a){return a?(this._nullCell.fg=a.fg,this._nullCell.bg=a.bg,this._nullCell.extended=a.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new d.ExtendedAttrs),this._nullCell},f.prototype.getWhitespaceCell=function(a){return a?(this._whitespaceCell.fg=a.fg,this._whitespaceCell.bg=a.bg,this._whitespaceCell.extended=a.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new d.ExtendedAttrs),this._whitespaceCell},f.prototype.getBlankLine=function(a,c){return new s.BufferLine(this._bufferService.cols,this.getNullCell(a),c)},Object.defineProperty(f.prototype,"hasScrollback",{get:function(){return this._hasScrollback&&this.lines.maxLength>this._rows},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isCursorInViewport",{get:function(){var a=this.ybase+this.y-this.ydisp;return a>=0&&a<this._rows},enumerable:!1,configurable:!0}),f.prototype._getCorrectBufferLength=function(a){if(!this._hasScrollback)return a;var c=a+this._optionsService.rawOptions.scrollback;return c>n.MAX_BUFFER_SIZE?n.MAX_BUFFER_SIZE:c},f.prototype.fillViewportRows=function(a){if(this.lines.length===0){a===void 0&&(a=s.DEFAULT_ATTR_DATA);for(var c=this._rows;c--;)this.lines.push(this.getBlankLine(a))}},f.prototype.clear=function(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new o.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()},f.prototype.resize=function(a,c){var v=this.getNullCell(s.DEFAULT_ATTR_DATA),y=this._getCorrectBufferLength(c);if(y>this.lines.maxLength&&(this.lines.maxLength=y),this.lines.length>0){if(this._cols<a)for(var S=0;S<this.lines.length;S++)this.lines.get(S).resize(a,v);var b=0;if(this._rows<c)for(var C=this._rows;C<c;C++)this.lines.length<c+this.ybase&&(this._optionsService.rawOptions.windowsMode?this.lines.push(new s.BufferLine(a,v)):this.ybase>0&&this.lines.length<=this.ybase+this.y+b+1?(this.ybase--,b++,this.ydisp>0&&this.ydisp--):this.lines.push(new s.BufferLine(a,v)));else for(C=this._rows;C>c;C--)this.lines.length>c+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(y<this.lines.maxLength){var E=this.lines.length-y;E>0&&(this.lines.trimStart(E),this.ybase=Math.max(this.ybase-E,0),this.ydisp=Math.max(this.ydisp-E,0),this.savedY=Math.max(this.savedY-E,0)),this.lines.maxLength=y}this.x=Math.min(this.x,a-1),this.y=Math.min(this.y,c-1),b&&(this.y+=b),this.savedX=Math.min(this.savedX,a-1),this.scrollTop=0}if(this.scrollBottom=c-1,this._isReflowEnabled&&(this._reflow(a,c),this._cols>a))for(S=0;S<this.lines.length;S++)this.lines.get(S).resize(a,v);this._cols=a,this._rows=c},Object.defineProperty(f.prototype,"_isReflowEnabled",{get:function(){return this._hasScrollback&&!this._optionsService.rawOptions.windowsMode},enumerable:!1,configurable:!0}),f.prototype._reflow=function(a,c){this._cols!==a&&(a>this._cols?this._reflowLarger(a,c):this._reflowSmaller(a,c))},f.prototype._reflowLarger=function(a,c){var v=(0,p.reflowLargerGetLinesToRemove)(this.lines,this._cols,a,this.ybase+this.y,this.getNullCell(s.DEFAULT_ATTR_DATA));if(v.length>0){var y=(0,p.reflowLargerCreateNewLayout)(this.lines,v);(0,p.reflowLargerApplyNewLayout)(this.lines,y.layout),this._reflowLargerAdjustViewport(a,c,y.countRemoved)}},f.prototype._reflowLargerAdjustViewport=function(a,c,v){for(var y=this.getNullCell(s.DEFAULT_ATTR_DATA),S=v;S-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<c&&this.lines.push(new s.BufferLine(a,y))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-v,0)},f.prototype._reflowSmaller=function(a,c){for(var v=this.getNullCell(s.DEFAULT_ATTR_DATA),y=[],S=0,b=this.lines.length-1;b>=0;b--){var C=this.lines.get(b);if(!(!C||!C.isWrapped&&C.getTrimmedLength()<=a)){for(var E=[C];C.isWrapped&&b>0;)C=this.lines.get(--b),E.unshift(C);var x=this.ybase+this.y;if(!(x>=b&&x<b+E.length)){var w,L=E[E.length-1].getTrimmedLength(),k=(0,p.reflowSmallerGetNewLineLengths)(E,this._cols,a),N=k.length-E.length;w=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+N):Math.max(0,this.lines.length-this.lines.maxLength+N);for(var A=[],O=0;O<N;O++){var I=this.getBlankLine(s.DEFAULT_ATTR_DATA,!0);A.push(I)}A.length>0&&(y.push({start:b+E.length+S,newLines:A}),S+=A.length),E.push.apply(E,A);var D=k.length-1,j=k[D];j===0&&(j=k[--D]);for(var z=E.length-N-1,V=L;z>=0;){var ae=Math.min(V,j);if(E[D]===void 0)break;if(E[D].copyCellsFrom(E[z],V-ae,j-ae,ae,!0),(j-=ae)==0&&(j=k[--D]),(V-=ae)==0){z--;var re=Math.max(z,0);V=(0,p.getWrappedLineTrimmedLength)(E,re,this._cols)}}for(O=0;O<E.length;O++)k[O]<a&&E[O].setCell(k[O],v);for(var ke=N-w;ke-- >0;)this.ybase===0?this.y<c-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+S)-c&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+N,this.ybase+c-1)}}}if(y.length>0){var M=[],q=[];for(O=0;O<this.lines.length;O++)q.push(this.lines.get(O));var R=this.lines.length,B=R-1,P=0,ee=y[P];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+S);var ne=0;for(O=Math.min(this.lines.maxLength-1,R+S-1);O>=0;O--)if(ee&&ee.start>B+ne){for(var ue=ee.newLines.length-1;ue>=0;ue--)this.lines.set(O--,ee.newLines[ue]);O++,M.push({index:B+1,amount:ee.newLines.length}),ne+=ee.newLines.length,ee=y[++P]}else this.lines.set(O,q[B--]);var Fe=0;for(O=M.length-1;O>=0;O--)M[O].index+=Fe,this.lines.onInsertEmitter.fire(M[O]),Fe+=M[O].amount;var Qe=Math.max(0,R+S-this.lines.maxLength);Qe>0&&this.lines.onTrimEmitter.fire(Qe)}},f.prototype.stringIndexToBufferIndex=function(a,c,v){for(v===void 0&&(v=!1);c;){var y=this.lines.get(a);if(!y)return[-1,-1];for(var S=v?y.getTrimmedLength():y.length,b=0;b<S;++b)if(y.get(b)[u.CHAR_DATA_WIDTH_INDEX]&&(c-=y.get(b)[u.CHAR_DATA_CHAR_INDEX].length||1),c<0)return[a,b];a++}return[a,0]},f.prototype.translateBufferLineToString=function(a,c,v,y){v===void 0&&(v=0);var S=this.lines.get(a);return S?S.translateToString(c,v,y):""},f.prototype.getWrappedRangeForLine=function(a){for(var c=a,v=a;c>0&&this.lines.get(c).isWrapped;)c--;for(;v+1<this.lines.length&&this.lines.get(v+1).isWrapped;)v++;return{first:c,last:v}},f.prototype.setupTabStops=function(a){for(a!=null?this.tabs[a]||(a=this.prevStop(a)):(this.tabs={},a=0);a<this._cols;a+=this._optionsService.rawOptions.tabStopWidth)this.tabs[a]=!0},f.prototype.prevStop=function(a){for(a==null&&(a=this.x);!this.tabs[--a]&&a>0;);return a>=this._cols?this._cols-1:a<0?0:a},f.prototype.nextStop=function(a){for(a==null&&(a=this.x);!this.tabs[++a]&&a<this._cols;);return a>=this._cols?this._cols-1:a<0?0:a},f.prototype.clearMarkers=function(a){if(this._isClearing=!0,a!==void 0)for(var c=0;c<this.markers.length;c++)this.markers[c].line===a&&(this.markers[c].dispose(),this.markers.splice(c--,1));else{for(var v=0,y=this.markers;v<y.length;v++)y[v].dispose();this.markers=[]}this._isClearing=!1},f.prototype.addMarker=function(a){var c=this,v=new _.Marker(a);return this.markers.push(v),v.register(this.lines.onTrim(function(y){v.line-=y,v.line<0&&v.dispose()})),v.register(this.lines.onInsert(function(y){v.line>=y.index&&(v.line+=y.amount)})),v.register(this.lines.onDelete(function(y){v.line>=y.index&&v.line<y.index+y.amount&&v.dispose(),v.line>y.index&&(v.line-=y.amount)})),v.register(v.onDispose(function(){return c._removeMarker(v)})),v},f.prototype._removeMarker=function(a){this._isClearing||this.markers.splice(this.markers.indexOf(a),1)},f.prototype.iterator=function(a,c,v,y,S){return new h(this,a,c,v,y,S)},f}();n.Buffer=g;var h=function(){function f(a,c,v,y,S,b){v===void 0&&(v=0),y===void 0&&(y=a.lines.length),S===void 0&&(S=0),b===void 0&&(b=0),this._buffer=a,this._trimRight=c,this._startIndex=v,this._endIndex=y,this._startOverscan=S,this._endOverscan=b,this._startIndex<0&&(this._startIndex=0),this._endIndex>this._buffer.lines.length&&(this._endIndex=this._buffer.lines.length),this._current=this._startIndex}return f.prototype.hasNext=function(){return this._current<this._endIndex},f.prototype.next=function(){var a=this._buffer.getWrappedRangeForLine(this._current);a.first<this._startIndex-this._startOverscan&&(a.first=this._startIndex-this._startOverscan),a.last>this._endIndex+this._endOverscan&&(a.last=this._endIndex+this._endOverscan),a.first=Math.max(a.first,0),a.last=Math.min(a.last,this._buffer.lines.length);for(var c="",v=a.first;v<=a.last;++v)c+=this._buffer.translateBufferLineToString(v,this._trimRight);return this._current=a.last+1,{range:a,content:c}},f}();n.BufferStringIterator=h},8437:(r,n,i)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferLine=n.DEFAULT_ATTR_DATA=void 0;var o=i(482),s=i(643),l=i(511),u=i(3734);n.DEFAULT_ATTR_DATA=Object.freeze(new u.AttributeData);var p=function(){function _(m,d,g){g===void 0&&(g=!1),this.isWrapped=g,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*m);for(var h=d||l.CellData.fromCharData([0,s.NULL_CELL_CHAR,s.NULL_CELL_WIDTH,s.NULL_CELL_CODE]),f=0;f<m;++f)this.setCell(f,h);this.length=m}return _.prototype.get=function(m){var d=this._data[3*m+0],g=2097151&d;return[this._data[3*m+1],2097152&d?this._combined[m]:g?(0,o.stringFromCodePoint)(g):"",d>>22,2097152&d?this._combined[m].charCodeAt(this._combined[m].length-1):g]},_.prototype.set=function(m,d){this._data[3*m+1]=d[s.CHAR_DATA_ATTR_INDEX],d[s.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[m]=d[1],this._data[3*m+0]=2097152|m|d[s.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*m+0]=d[s.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|d[s.CHAR_DATA_WIDTH_INDEX]<<22},_.prototype.getWidth=function(m){return this._data[3*m+0]>>22},_.prototype.hasWidth=function(m){return 12582912&this._data[3*m+0]},_.prototype.getFg=function(m){return this._data[3*m+1]},_.prototype.getBg=function(m){return this._data[3*m+2]},_.prototype.hasContent=function(m){return 4194303&this._data[3*m+0]},_.prototype.getCodePoint=function(m){var d=this._data[3*m+0];return 2097152&d?this._combined[m].charCodeAt(this._combined[m].length-1):2097151&d},_.prototype.isCombined=function(m){return 2097152&this._data[3*m+0]},_.prototype.getString=function(m){var d=this._data[3*m+0];return 2097152&d?this._combined[m]:2097151&d?(0,o.stringFromCodePoint)(2097151&d):""},_.prototype.loadCell=function(m,d){var g=3*m;return d.content=this._data[g+0],d.fg=this._data[g+1],d.bg=this._data[g+2],2097152&d.content&&(d.combinedData=this._combined[m]),268435456&d.bg&&(d.extended=this._extendedAttrs[m]),d},_.prototype.setCell=function(m,d){2097152&d.content&&(this._combined[m]=d.combinedData),268435456&d.bg&&(this._extendedAttrs[m]=d.extended),this._data[3*m+0]=d.content,this._data[3*m+1]=d.fg,this._data[3*m+2]=d.bg},_.prototype.setCellFromCodePoint=function(m,d,g,h,f,a){268435456&f&&(this._extendedAttrs[m]=a),this._data[3*m+0]=d|g<<22,this._data[3*m+1]=h,this._data[3*m+2]=f},_.prototype.addCodepointToCell=function(m,d){var g=this._data[3*m+0];2097152&g?this._combined[m]+=(0,o.stringFromCodePoint)(d):(2097151&g?(this._combined[m]=(0,o.stringFromCodePoint)(2097151&g)+(0,o.stringFromCodePoint)(d),g&=-2097152,g|=2097152):g=d|1<<22,this._data[3*m+0]=g)},_.prototype.insertCells=function(m,d,g,h){if((m%=this.length)&&this.getWidth(m-1)===2&&this.setCellFromCodePoint(m-1,0,1,h?.fg||0,h?.bg||0,h?.extended||new u.ExtendedAttrs),d<this.length-m){for(var f=new l.CellData,a=this.length-m-d-1;a>=0;--a)this.setCell(m+d+a,this.loadCell(m+a,f));for(a=0;a<d;++a)this.setCell(m+a,g)}else for(a=m;a<this.length;++a)this.setCell(a,g);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,h?.fg||0,h?.bg||0,h?.extended||new u.ExtendedAttrs)},_.prototype.deleteCells=function(m,d,g,h){if(m%=this.length,d<this.length-m){for(var f=new l.CellData,a=0;a<this.length-m-d;++a)this.setCell(m+a,this.loadCell(m+d+a,f));for(a=this.length-d;a<this.length;++a)this.setCell(a,g)}else for(a=m;a<this.length;++a)this.setCell(a,g);m&&this.getWidth(m-1)===2&&this.setCellFromCodePoint(m-1,0,1,h?.fg||0,h?.bg||0,h?.extended||new u.ExtendedAttrs),this.getWidth(m)!==0||this.hasContent(m)||this.setCellFromCodePoint(m,0,1,h?.fg||0,h?.bg||0,h?.extended||new u.ExtendedAttrs)},_.prototype.replaceCells=function(m,d,g,h){for(m&&this.getWidth(m-1)===2&&this.setCellFromCodePoint(m-1,0,1,h?.fg||0,h?.bg||0,h?.extended||new u.ExtendedAttrs),d<this.length&&this.getWidth(d-1)===2&&this.setCellFromCodePoint(d,0,1,h?.fg||0,h?.bg||0,h?.extended||new u.ExtendedAttrs);m<d&&m<this.length;)this.setCell(m++,g)},_.prototype.resize=function(m,d){if(m!==this.length){if(m>this.length){var g=new Uint32Array(3*m);this.length&&(3*m<this._data.length?g.set(this._data.subarray(0,3*m)):g.set(this._data)),this._data=g;for(var h=this.length;h<m;++h)this.setCell(h,d)}else if(m){(g=new Uint32Array(3*m)).set(this._data.subarray(0,3*m)),this._data=g;var f=Object.keys(this._combined);for(h=0;h<f.length;h++){var a=parseInt(f[h],10);a>=m&&delete this._combined[a]}}else this._data=new Uint32Array(0),this._combined={};this.length=m}},_.prototype.fill=function(m){this._combined={},this._extendedAttrs={};for(var d=0;d<this.length;++d)this.setCell(d,m)},_.prototype.copyFrom=function(m){for(var d in this.length!==m.length?this._data=new Uint32Array(m._data):this._data.set(m._data),this.length=m.length,this._combined={},m._combined)this._combined[d]=m._combined[d];for(var d in this._extendedAttrs={},m._extendedAttrs)this._extendedAttrs[d]=m._extendedAttrs[d];this.isWrapped=m.isWrapped},_.prototype.clone=function(){var m=new _(0);for(var d in m._data=new Uint32Array(this._data),m.length=this.length,this._combined)m._combined[d]=this._combined[d];for(var d in this._extendedAttrs)m._extendedAttrs[d]=this._extendedAttrs[d];return m.isWrapped=this.isWrapped,m},_.prototype.getTrimmedLength=function(){for(var m=this.length-1;m>=0;--m)if(4194303&this._data[3*m+0])return m+(this._data[3*m+0]>>22);return 0},_.prototype.copyCellsFrom=function(m,d,g,h,f){var a=m._data;if(f)for(var c=h-1;c>=0;c--)for(var v=0;v<3;v++)this._data[3*(g+c)+v]=a[3*(d+c)+v];else for(c=0;c<h;c++)for(v=0;v<3;v++)this._data[3*(g+c)+v]=a[3*(d+c)+v];var y=Object.keys(m._combined);for(v=0;v<y.length;v++){var S=parseInt(y[v],10);S>=d&&(this._combined[S-d+g]=m._combined[S])}},_.prototype.translateToString=function(m,d,g){m===void 0&&(m=!1),d===void 0&&(d=0),g===void 0&&(g=this.length),m&&(g=Math.min(g,this.getTrimmedLength()));for(var h="";d<g;){var f=this._data[3*d+0],a=2097151&f;h+=2097152&f?this._combined[d]:a?(0,o.stringFromCodePoint)(a):s.WHITESPACE_CELL_CHAR,d+=f>>22||1}return h},_}();n.BufferLine=p},4841:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.getRangeLength=void 0,n.getRangeLength=function(i,o){if(i.start.y>i.end.y)throw new Error("Buffer range end ("+i.end.x+", "+i.end.y+") cannot be before start ("+i.start.x+", "+i.start.y+")");return o*(i.end.y-i.start.y)+(i.end.x-i.start.x+1)}},4634:(r,n)=>{function i(o,s,l){if(s===o.length-1)return o[s].getTrimmedLength();var u=!o[s].hasContent(l-1)&&o[s].getWidth(l-1)===1,p=o[s+1].getWidth(0)===2;return u&&p?l-1:l}Object.defineProperty(n,"__esModule",{value:!0}),n.getWrappedLineTrimmedLength=n.reflowSmallerGetNewLineLengths=n.reflowLargerApplyNewLayout=n.reflowLargerCreateNewLayout=n.reflowLargerGetLinesToRemove=void 0,n.reflowLargerGetLinesToRemove=function(o,s,l,u,p){for(var _=[],m=0;m<o.length-1;m++){var d=m,g=o.get(++d);if(g.isWrapped){for(var h=[o.get(m)];d<o.length&&g.isWrapped;)h.push(g),g=o.get(++d);if(u>=m&&u<d)m+=h.length-1;else{for(var f=0,a=i(h,f,s),c=1,v=0;c<h.length;){var y=i(h,c,s),S=y-v,b=l-a,C=Math.min(S,b);h[f].copyCellsFrom(h[c],v,a,C,!1),(a+=C)===l&&(f++,a=0),(v+=C)===y&&(c++,v=0),a===0&&f!==0&&h[f-1].getWidth(l-1)===2&&(h[f].copyCellsFrom(h[f-1],l-1,a++,1,!1),h[f-1].setCell(l-1,p))}h[f].replaceCells(a,l,p);for(var E=0,x=h.length-1;x>0&&(x>f||h[x].getTrimmedLength()===0);x--)E++;E>0&&(_.push(m+h.length-E),_.push(E)),m+=h.length-1}}}return _},n.reflowLargerCreateNewLayout=function(o,s){for(var l=[],u=0,p=s[u],_=0,m=0;m<o.length;m++)if(p===m){var d=s[++u];o.onDeleteEmitter.fire({index:m-_,amount:d}),m+=d-1,_+=d,p=s[++u]}else l.push(m);return{layout:l,countRemoved:_}},n.reflowLargerApplyNewLayout=function(o,s){for(var l=[],u=0;u<s.length;u++)l.push(o.get(s[u]));for(u=0;u<l.length;u++)o.set(u,l[u]);o.length=s.length},n.reflowSmallerGetNewLineLengths=function(o,s,l){for(var u=[],p=o.map(function(a,c){return i(o,c,s)}).reduce(function(a,c){return a+c}),_=0,m=0,d=0;d<p;){if(p-d<l){u.push(p-d);break}_+=l;var g=i(o,m,s);_>g&&(_-=g,m++);var h=o[m].getWidth(_-1)===2;h&&_--;var f=h?l-1:l;u.push(f),d+=f}return u},n.getWrappedLineTrimmedLength=i},5295:function(r,n,i){var o,s=this&&this.__extends||(o=function(_,m){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,g){d.__proto__=g}||function(d,g){for(var h in g)Object.prototype.hasOwnProperty.call(g,h)&&(d[h]=g[h])},o(_,m)},function(_,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function d(){this.constructor=_}o(_,m),_.prototype=m===null?Object.create(m):(d.prototype=m.prototype,new d)});Object.defineProperty(n,"__esModule",{value:!0}),n.BufferSet=void 0;var l=i(9092),u=i(8460),p=function(_){function m(d,g){var h=_.call(this)||this;return h._optionsService=d,h._bufferService=g,h._onBufferActivate=h.register(new u.EventEmitter),h.reset(),h}return s(m,_),Object.defineProperty(m.prototype,"onBufferActivate",{get:function(){return this._onBufferActivate.event},enumerable:!1,configurable:!0}),m.prototype.reset=function(){this._normal=new l.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new l.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()},Object.defineProperty(m.prototype,"alt",{get:function(){return this._alt},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"active",{get:function(){return this._activeBuffer},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"normal",{get:function(){return this._normal},enumerable:!1,configurable:!0}),m.prototype.activateNormalBuffer=function(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))},m.prototype.activateAltBuffer=function(d){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(d),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))},m.prototype.resize=function(d,g){this._normal.resize(d,g),this._alt.resize(d,g)},m.prototype.setupTabStops=function(d){this._normal.setupTabStops(d),this._alt.setupTabStops(d)},m}(i(844).Disposable);n.BufferSet=p},511:function(r,n,i){var o,s=this&&this.__extends||(o=function(m,d){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,h){g.__proto__=h}||function(g,h){for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(g[f]=h[f])},o(m,d)},function(m,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function g(){this.constructor=m}o(m,d),m.prototype=d===null?Object.create(d):(g.prototype=d.prototype,new g)});Object.defineProperty(n,"__esModule",{value:!0}),n.CellData=void 0;var l=i(482),u=i(643),p=i(3734),_=function(m){function d(){var g=m!==null&&m.apply(this,arguments)||this;return g.content=0,g.fg=0,g.bg=0,g.extended=new p.ExtendedAttrs,g.combinedData="",g}return s(d,m),d.fromCharData=function(g){var h=new d;return h.setFromCharData(g),h},d.prototype.isCombined=function(){return 2097152&this.content},d.prototype.getWidth=function(){return this.content>>22},d.prototype.getChars=function(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,l.stringFromCodePoint)(2097151&this.content):""},d.prototype.getCode=function(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content},d.prototype.setFromCharData=function(g){this.fg=g[u.CHAR_DATA_ATTR_INDEX],this.bg=0;var h=!1;if(g[u.CHAR_DATA_CHAR_INDEX].length>2)h=!0;else if(g[u.CHAR_DATA_CHAR_INDEX].length===2){var f=g[u.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=f&&f<=56319){var a=g[u.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=a&&a<=57343?this.content=1024*(f-55296)+a-56320+65536|g[u.CHAR_DATA_WIDTH_INDEX]<<22:h=!0}else h=!0}else this.content=g[u.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|g[u.CHAR_DATA_WIDTH_INDEX]<<22;h&&(this.combinedData=g[u.CHAR_DATA_CHAR_INDEX],this.content=2097152|g[u.CHAR_DATA_WIDTH_INDEX]<<22)},d.prototype.getAsCharData=function(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]},d}(p.AttributeData);n.CellData=_},643:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.WHITESPACE_CELL_CODE=n.WHITESPACE_CELL_WIDTH=n.WHITESPACE_CELL_CHAR=n.NULL_CELL_CODE=n.NULL_CELL_WIDTH=n.NULL_CELL_CHAR=n.CHAR_DATA_CODE_INDEX=n.CHAR_DATA_WIDTH_INDEX=n.CHAR_DATA_CHAR_INDEX=n.CHAR_DATA_ATTR_INDEX=n.DEFAULT_ATTR=n.DEFAULT_COLOR=void 0,n.DEFAULT_COLOR=256,n.DEFAULT_ATTR=256|n.DEFAULT_COLOR<<9,n.CHAR_DATA_ATTR_INDEX=0,n.CHAR_DATA_CHAR_INDEX=1,n.CHAR_DATA_WIDTH_INDEX=2,n.CHAR_DATA_CODE_INDEX=3,n.NULL_CELL_CHAR="",n.NULL_CELL_WIDTH=1,n.NULL_CELL_CODE=0,n.WHITESPACE_CELL_CHAR=" ",n.WHITESPACE_CELL_WIDTH=1,n.WHITESPACE_CELL_CODE=32},4863:function(r,n,i){var o,s=this&&this.__extends||(o=function(p,_){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,d){m.__proto__=d}||function(m,d){for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&(m[g]=d[g])},o(p,_)},function(p,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");function m(){this.constructor=p}o(p,_),p.prototype=_===null?Object.create(_):(m.prototype=_.prototype,new m)});Object.defineProperty(n,"__esModule",{value:!0}),n.Marker=void 0;var l=i(8460),u=function(p){function _(m){var d=p.call(this)||this;return d.line=m,d._id=_._nextId++,d.isDisposed=!1,d._onDispose=new l.EventEmitter,d}return s(_,p),Object.defineProperty(_.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"onDispose",{get:function(){return this._onDispose.event},enumerable:!1,configurable:!0}),_.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),p.prototype.dispose.call(this))},_._nextId=1,_}(i(844).Disposable);n.Marker=u},7116:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_CHARSET=n.CHARSETS=void 0,n.CHARSETS={},n.DEFAULT_CHARSET=n.CHARSETS.B,n.CHARSETS[0]={"`":"\u25C6",a:"\u2592",b:"\u2409",c:"\u240C",d:"\u240D",e:"\u240A",f:"\xB0",g:"\xB1",h:"\u2424",i:"\u240B",j:"\u2518",k:"\u2510",l:"\u250C",m:"\u2514",n:"\u253C",o:"\u23BA",p:"\u23BB",q:"\u2500",r:"\u23BC",s:"\u23BD",t:"\u251C",u:"\u2524",v:"\u2534",w:"\u252C",x:"\u2502",y:"\u2264",z:"\u2265","{":"\u03C0","|":"\u2260","}":"\xA3","~":"\xB7"},n.CHARSETS.A={"#":"\xA3"},n.CHARSETS.B=void 0,n.CHARSETS[4]={"#":"\xA3","@":"\xBE","[":"ij","\\":"\xBD","]":"|","{":"\xA8","|":"f","}":"\xBC","~":"\xB4"},n.CHARSETS.C=n.CHARSETS[5]={"[":"\xC4","\\":"\xD6","]":"\xC5","^":"\xDC","`":"\xE9","{":"\xE4","|":"\xF6","}":"\xE5","~":"\xFC"},n.CHARSETS.R={"#":"\xA3","@":"\xE0","[":"\xB0","\\":"\xE7","]":"\xA7","{":"\xE9","|":"\xF9","}":"\xE8","~":"\xA8"},n.CHARSETS.Q={"@":"\xE0","[":"\xE2","\\":"\xE7","]":"\xEA","^":"\xEE","`":"\xF4","{":"\xE9","|":"\xF9","}":"\xE8","~":"\xFB"},n.CHARSETS.K={"@":"\xA7","[":"\xC4","\\":"\xD6","]":"\xDC","{":"\xE4","|":"\xF6","}":"\xFC","~":"\xDF"},n.CHARSETS.Y={"#":"\xA3","@":"\xA7","[":"\xB0","\\":"\xE7","]":"\xE9","`":"\xF9","{":"\xE0","|":"\xF2","}":"\xE8","~":"\xEC"},n.CHARSETS.E=n.CHARSETS[6]={"@":"\xC4","[":"\xC6","\\":"\xD8","]":"\xC5","^":"\xDC","`":"\xE4","{":"\xE6","|":"\xF8","}":"\xE5","~":"\xFC"},n.CHARSETS.Z={"#":"\xA3","@":"\xA7","[":"\xA1","\\":"\xD1","]":"\xBF","{":"\xB0","|":"\xF1","}":"\xE7"},n.CHARSETS.H=n.CHARSETS[7]={"@":"\xC9","[":"\xC4","\\":"\xD6","]":"\xC5","^":"\xDC","`":"\xE9","{":"\xE4","|":"\xF6","}":"\xE5","~":"\xFC"},n.CHARSETS["="]={"#":"\xF9","@":"\xE0","[":"\xE9","\\":"\xE7","]":"\xEA","^":"\xEE",_:"\xE8","`":"\xF4","{":"\xE4","|":"\xF6","}":"\xFC","~":"\xFB"}},2584:(r,n)=>{var i,o;Object.defineProperty(n,"__esModule",{value:!0}),n.C1=n.C0=void 0,(o=n.C0||(n.C0={})).NUL="\0",o.SOH="",o.STX="",o.ETX="",o.EOT="",o.ENQ="",o.ACK="",o.BEL="\x07",o.BS="\b",o.HT="	",o.LF=`
`,o.VT="\v",o.FF="\f",o.CR="\r",o.SO="",o.SI="",o.DLE="",o.DC1="",o.DC2="",o.DC3="",o.DC4="",o.NAK="",o.SYN="",o.ETB="",o.CAN="",o.EM="",o.SUB="",o.ESC="\x1B",o.FS="",o.GS="",o.RS="",o.US="",o.SP=" ",o.DEL="\x7F",(i=n.C1||(n.C1={})).PAD="\x80",i.HOP="\x81",i.BPH="\x82",i.NBH="\x83",i.IND="\x84",i.NEL="\x85",i.SSA="\x86",i.ESA="\x87",i.HTS="\x88",i.HTJ="\x89",i.VTS="\x8A",i.PLD="\x8B",i.PLU="\x8C",i.RI="\x8D",i.SS2="\x8E",i.SS3="\x8F",i.DCS="\x90",i.PU1="\x91",i.PU2="\x92",i.STS="\x93",i.CCH="\x94",i.MW="\x95",i.SPA="\x96",i.EPA="\x97",i.SOS="\x98",i.SGCI="\x99",i.SCI="\x9A",i.CSI="\x9B",i.ST="\x9C",i.OSC="\x9D",i.PM="\x9E",i.APC="\x9F"},7399:(r,n,i)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.evaluateKeyboardEvent=void 0;var o=i(2584),s={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};n.evaluateKeyboardEvent=function(l,u,p,_){var m={type:0,cancel:!1,key:void 0},d=(l.shiftKey?1:0)|(l.altKey?2:0)|(l.ctrlKey?4:0)|(l.metaKey?8:0);switch(l.keyCode){case 0:l.key==="UIKeyInputUpArrow"?m.key=u?o.C0.ESC+"OA":o.C0.ESC+"[A":l.key==="UIKeyInputLeftArrow"?m.key=u?o.C0.ESC+"OD":o.C0.ESC+"[D":l.key==="UIKeyInputRightArrow"?m.key=u?o.C0.ESC+"OC":o.C0.ESC+"[C":l.key==="UIKeyInputDownArrow"&&(m.key=u?o.C0.ESC+"OB":o.C0.ESC+"[B");break;case 8:if(l.shiftKey){m.key=o.C0.BS;break}if(l.altKey){m.key=o.C0.ESC+o.C0.DEL;break}m.key=o.C0.DEL;break;case 9:if(l.shiftKey){m.key=o.C0.ESC+"[Z";break}m.key=o.C0.HT,m.cancel=!0;break;case 13:m.key=l.altKey?o.C0.ESC+o.C0.CR:o.C0.CR,m.cancel=!0;break;case 27:m.key=o.C0.ESC,l.altKey&&(m.key=o.C0.ESC+o.C0.ESC),m.cancel=!0;break;case 37:if(l.metaKey)break;d?(m.key=o.C0.ESC+"[1;"+(d+1)+"D",m.key===o.C0.ESC+"[1;3D"&&(m.key=o.C0.ESC+(p?"b":"[1;5D"))):m.key=u?o.C0.ESC+"OD":o.C0.ESC+"[D";break;case 39:if(l.metaKey)break;d?(m.key=o.C0.ESC+"[1;"+(d+1)+"C",m.key===o.C0.ESC+"[1;3C"&&(m.key=o.C0.ESC+(p?"f":"[1;5C"))):m.key=u?o.C0.ESC+"OC":o.C0.ESC+"[C";break;case 38:if(l.metaKey)break;d?(m.key=o.C0.ESC+"[1;"+(d+1)+"A",p||m.key!==o.C0.ESC+"[1;3A"||(m.key=o.C0.ESC+"[1;5A")):m.key=u?o.C0.ESC+"OA":o.C0.ESC+"[A";break;case 40:if(l.metaKey)break;d?(m.key=o.C0.ESC+"[1;"+(d+1)+"B",p||m.key!==o.C0.ESC+"[1;3B"||(m.key=o.C0.ESC+"[1;5B")):m.key=u?o.C0.ESC+"OB":o.C0.ESC+"[B";break;case 45:l.shiftKey||l.ctrlKey||(m.key=o.C0.ESC+"[2~");break;case 46:m.key=d?o.C0.ESC+"[3;"+(d+1)+"~":o.C0.ESC+"[3~";break;case 36:m.key=d?o.C0.ESC+"[1;"+(d+1)+"H":u?o.C0.ESC+"OH":o.C0.ESC+"[H";break;case 35:m.key=d?o.C0.ESC+"[1;"+(d+1)+"F":u?o.C0.ESC+"OF":o.C0.ESC+"[F";break;case 33:l.shiftKey?m.type=2:m.key=o.C0.ESC+"[5~";break;case 34:l.shiftKey?m.type=3:m.key=o.C0.ESC+"[6~";break;case 112:m.key=d?o.C0.ESC+"[1;"+(d+1)+"P":o.C0.ESC+"OP";break;case 113:m.key=d?o.C0.ESC+"[1;"+(d+1)+"Q":o.C0.ESC+"OQ";break;case 114:m.key=d?o.C0.ESC+"[1;"+(d+1)+"R":o.C0.ESC+"OR";break;case 115:m.key=d?o.C0.ESC+"[1;"+(d+1)+"S":o.C0.ESC+"OS";break;case 116:m.key=d?o.C0.ESC+"[15;"+(d+1)+"~":o.C0.ESC+"[15~";break;case 117:m.key=d?o.C0.ESC+"[17;"+(d+1)+"~":o.C0.ESC+"[17~";break;case 118:m.key=d?o.C0.ESC+"[18;"+(d+1)+"~":o.C0.ESC+"[18~";break;case 119:m.key=d?o.C0.ESC+"[19;"+(d+1)+"~":o.C0.ESC+"[19~";break;case 120:m.key=d?o.C0.ESC+"[20;"+(d+1)+"~":o.C0.ESC+"[20~";break;case 121:m.key=d?o.C0.ESC+"[21;"+(d+1)+"~":o.C0.ESC+"[21~";break;case 122:m.key=d?o.C0.ESC+"[23;"+(d+1)+"~":o.C0.ESC+"[23~";break;case 123:m.key=d?o.C0.ESC+"[24;"+(d+1)+"~":o.C0.ESC+"[24~";break;default:if(!l.ctrlKey||l.shiftKey||l.altKey||l.metaKey)if(p&&!_||!l.altKey||l.metaKey)!p||l.altKey||l.ctrlKey||l.shiftKey||!l.metaKey?l.key&&!l.ctrlKey&&!l.altKey&&!l.metaKey&&l.keyCode>=48&&l.key.length===1?m.key=l.key:l.key&&l.ctrlKey&&l.key==="_"&&(m.key=o.C0.US):l.keyCode===65&&(m.type=1);else{var g=s[l.keyCode],h=g?.[l.shiftKey?1:0];if(h)m.key=o.C0.ESC+h;else if(l.keyCode>=65&&l.keyCode<=90){var f=l.ctrlKey?l.keyCode-64:l.keyCode+32;m.key=o.C0.ESC+String.fromCharCode(f)}}else l.keyCode>=65&&l.keyCode<=90?m.key=String.fromCharCode(l.keyCode-64):l.keyCode===32?m.key=o.C0.NUL:l.keyCode>=51&&l.keyCode<=55?m.key=String.fromCharCode(l.keyCode-51+27):l.keyCode===56?m.key=o.C0.DEL:l.keyCode===219?m.key=o.C0.ESC:l.keyCode===220?m.key=o.C0.FS:l.keyCode===221&&(m.key=o.C0.GS)}return m}},482:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Utf8ToUtf32=n.StringToUtf32=n.utf32ToString=n.stringFromCodePoint=void 0,n.stringFromCodePoint=function(s){return s>65535?(s-=65536,String.fromCharCode(55296+(s>>10))+String.fromCharCode(s%1024+56320)):String.fromCharCode(s)},n.utf32ToString=function(s,l,u){l===void 0&&(l=0),u===void 0&&(u=s.length);for(var p="",_=l;_<u;++_){var m=s[_];m>65535?(m-=65536,p+=String.fromCharCode(55296+(m>>10))+String.fromCharCode(m%1024+56320)):p+=String.fromCharCode(m)}return p};var i=function(){function s(){this._interim=0}return s.prototype.clear=function(){this._interim=0},s.prototype.decode=function(l,u){var p=l.length;if(!p)return 0;var _=0,m=0;this._interim&&(56320<=(h=l.charCodeAt(m++))&&h<=57343?u[_++]=1024*(this._interim-55296)+h-56320+65536:(u[_++]=this._interim,u[_++]=h),this._interim=0);for(var d=m;d<p;++d){var g=l.charCodeAt(d);if(55296<=g&&g<=56319){if(++d>=p)return this._interim=g,_;var h;56320<=(h=l.charCodeAt(d))&&h<=57343?u[_++]=1024*(g-55296)+h-56320+65536:(u[_++]=g,u[_++]=h)}else g!==65279&&(u[_++]=g)}return _},s}();n.StringToUtf32=i;var o=function(){function s(){this.interim=new Uint8Array(3)}return s.prototype.clear=function(){this.interim.fill(0)},s.prototype.decode=function(l,u){var p=l.length;if(!p)return 0;var _,m,d,g,h=0,f=0,a=0;if(this.interim[0]){var c=!1,v=this.interim[0];v&=(224&v)==192?31:(240&v)==224?15:7;for(var y=0,S=void 0;(S=63&this.interim[++y])&&y<4;)v<<=6,v|=S;for(var b=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,C=b-y;a<C;){if(a>=p)return 0;if((192&(S=l[a++]))!=128){a--,c=!0;break}this.interim[y++]=S,v<<=6,v|=63&S}c||(b===2?v<128?a--:u[h++]=v:b===3?v<2048||v>=55296&&v<=57343||v===65279||(u[h++]=v):v<65536||v>1114111||(u[h++]=v)),this.interim.fill(0)}for(var E=p-4,x=a;x<p;){for(;!(!(x<E)||128&(_=l[x])||128&(m=l[x+1])||128&(d=l[x+2])||128&(g=l[x+3]));)u[h++]=_,u[h++]=m,u[h++]=d,u[h++]=g,x+=4;if((_=l[x++])<128)u[h++]=_;else if((224&_)==192){if(x>=p)return this.interim[0]=_,h;if((192&(m=l[x++]))!=128){x--;continue}if((f=(31&_)<<6|63&m)<128){x--;continue}u[h++]=f}else if((240&_)==224){if(x>=p)return this.interim[0]=_,h;if((192&(m=l[x++]))!=128){x--;continue}if(x>=p)return this.interim[0]=_,this.interim[1]=m,h;if((192&(d=l[x++]))!=128){x--;continue}if((f=(15&_)<<12|(63&m)<<6|63&d)<2048||f>=55296&&f<=57343||f===65279)continue;u[h++]=f}else if((248&_)==240){if(x>=p)return this.interim[0]=_,h;if((192&(m=l[x++]))!=128){x--;continue}if(x>=p)return this.interim[0]=_,this.interim[1]=m,h;if((192&(d=l[x++]))!=128){x--;continue}if(x>=p)return this.interim[0]=_,this.interim[1]=m,this.interim[2]=d,h;if((192&(g=l[x++]))!=128){x--;continue}if((f=(7&_)<<18|(63&m)<<12|(63&d)<<6|63&g)<65536||f>1114111)continue;u[h++]=f}}return h},s}();n.Utf8ToUtf32=o},225:(r,n,i)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.UnicodeV6=void 0;var o,s=i(8273),l=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],u=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]],p=function(){function _(){if(this.version="6",!o){o=new Uint8Array(65536),(0,s.fill)(o,1),o[0]=0,(0,s.fill)(o,0,1,32),(0,s.fill)(o,0,127,160),(0,s.fill)(o,2,4352,4448),o[9001]=2,o[9002]=2,(0,s.fill)(o,2,11904,42192),o[12351]=1,(0,s.fill)(o,2,44032,55204),(0,s.fill)(o,2,63744,64256),(0,s.fill)(o,2,65040,65050),(0,s.fill)(o,2,65072,65136),(0,s.fill)(o,2,65280,65377),(0,s.fill)(o,2,65504,65511);for(var m=0;m<l.length;++m)(0,s.fill)(o,0,l[m][0],l[m][1]+1)}}return _.prototype.wcwidth=function(m){return m<32?0:m<127?1:m<65536?o[m]:function(d,g){var h,f=0,a=g.length-1;if(d<g[0][0]||d>g[a][1])return!1;for(;a>=f;)if(d>g[h=f+a>>1][1])f=h+1;else{if(!(d<g[h][0]))return!0;a=h-1}return!1}(m,u)?0:m>=131072&&m<=196605||m>=196608&&m<=262141?2:1},_}();n.UnicodeV6=p},5981:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.WriteBuffer=void 0;var i=typeof queueMicrotask>"u"?function(s){Promise.resolve().then(s)}:queueMicrotask,o=function(){function s(l){this._action=l,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0}return s.prototype.writeSync=function(l,u){if(u!==void 0&&this._syncCalls>u)this._syncCalls=0;else if(this._pendingData+=l.length,this._writeBuffer.push(l),this._callbacks.push(void 0),this._syncCalls++,!this._isSyncWriting){var p;for(this._isSyncWriting=!0;p=this._writeBuffer.shift();){this._action(p);var _=this._callbacks.shift();_&&_()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}},s.prototype.write=function(l,u){var p=this;if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");this._writeBuffer.length||(this._bufferOffset=0,setTimeout(function(){return p._innerWrite()})),this._pendingData+=l.length,this._writeBuffer.push(l),this._callbacks.push(u)},s.prototype._innerWrite=function(l,u){var p=this;l===void 0&&(l=0),u===void 0&&(u=!0);for(var _=l||Date.now();this._writeBuffer.length>this._bufferOffset;){var m=this._writeBuffer[this._bufferOffset],d=this._action(m,u);if(d)return void d.catch(function(h){return i(function(){throw h}),Promise.resolve(!1)}).then(function(h){return Date.now()-_>=12?setTimeout(function(){return p._innerWrite(0,h)}):p._innerWrite(_,h)});var g=this._callbacks[this._bufferOffset];if(g&&g(),this._bufferOffset++,this._pendingData-=m.length,Date.now()-_>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(function(){return p._innerWrite()})):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0)},s}();n.WriteBuffer=o},5941:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.toRgbString=n.parseColor=void 0;var i=/^([\da-f]{1})\/([\da-f]{1})\/([\da-f]{1})$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,o=/^[\da-f]+$/;function s(l,u){var p=l.toString(16),_=p.length<2?"0"+p:p;switch(u){case 4:return p[0];case 8:return _;case 12:return(_+_).slice(0,3);default:return _+_}}n.parseColor=function(l){if(l){var u=l.toLowerCase();if(u.indexOf("rgb:")===0){u=u.slice(4);var p=i.exec(u);if(p){var _=p[1]?15:p[4]?255:p[7]?4095:65535;return[Math.round(parseInt(p[1]||p[4]||p[7]||p[10],16)/_*255),Math.round(parseInt(p[2]||p[5]||p[8]||p[11],16)/_*255),Math.round(parseInt(p[3]||p[6]||p[9]||p[12],16)/_*255)]}}else if(u.indexOf("#")===0&&(u=u.slice(1),o.exec(u)&&[3,6,9,12].includes(u.length))){for(var m=u.length/3,d=[0,0,0],g=0;g<3;++g){var h=parseInt(u.slice(m*g,m*g+m),16);d[g]=m===1?h<<4:m===2?h:m===3?h>>4:h>>8}return d}}},n.toRgbString=function(l,u){u===void 0&&(u=16);var p=l[0],_=l[1],m=l[2];return"rgb:"+s(p,u)+"/"+s(_,u)+"/"+s(m,u)}},5770:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PAYLOAD_LIMIT=void 0,n.PAYLOAD_LIMIT=1e7},6351:(r,n,i)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.DcsHandler=n.DcsParser=void 0;var o=i(482),s=i(8742),l=i(5770),u=[],p=function(){function d(){this._handlers=Object.create(null),this._active=u,this._ident=0,this._handlerFb=function(){},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}return d.prototype.dispose=function(){this._handlers=Object.create(null),this._handlerFb=function(){},this._active=u},d.prototype.registerHandler=function(g,h){this._handlers[g]===void 0&&(this._handlers[g]=[]);var f=this._handlers[g];return f.push(h),{dispose:function(){var a=f.indexOf(h);a!==-1&&f.splice(a,1)}}},d.prototype.clearHandler=function(g){this._handlers[g]&&delete this._handlers[g]},d.prototype.setHandlerFallback=function(g){this._handlerFb=g},d.prototype.reset=function(){if(this._active.length)for(var g=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;g>=0;--g)this._active[g].unhook(!1);this._stack.paused=!1,this._active=u,this._ident=0},d.prototype.hook=function(g,h){if(this.reset(),this._ident=g,this._active=this._handlers[g]||u,this._active.length)for(var f=this._active.length-1;f>=0;f--)this._active[f].hook(h);else this._handlerFb(this._ident,"HOOK",h)},d.prototype.put=function(g,h,f){if(this._active.length)for(var a=this._active.length-1;a>=0;a--)this._active[a].put(g,h,f);else this._handlerFb(this._ident,"PUT",(0,o.utf32ToString)(g,h,f))},d.prototype.unhook=function(g,h){if(h===void 0&&(h=!0),this._active.length){var f=!1,a=this._active.length-1,c=!1;if(this._stack.paused&&(a=this._stack.loopPosition-1,f=h,c=this._stack.fallThrough,this._stack.paused=!1),!c&&f===!1){for(;a>=0&&(f=this._active[a].unhook(g))!==!0;a--)if(f instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=a,this._stack.fallThrough=!1,f;a--}for(;a>=0;a--)if((f=this._active[a].unhook(!1))instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=a,this._stack.fallThrough=!0,f}else this._handlerFb(this._ident,"UNHOOK",g);this._active=u,this._ident=0},d}();n.DcsParser=p;var _=new s.Params;_.addParam(0);var m=function(){function d(g){this._handler=g,this._data="",this._params=_,this._hitLimit=!1}return d.prototype.hook=function(g){this._params=g.length>1||g.params[0]?g.clone():_,this._data="",this._hitLimit=!1},d.prototype.put=function(g,h,f){this._hitLimit||(this._data+=(0,o.utf32ToString)(g,h,f),this._data.length>l.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))},d.prototype.unhook=function(g){var h=this,f=!1;if(this._hitLimit)f=!1;else if(g&&(f=this._handler(this._data,this._params))instanceof Promise)return f.then(function(a){return h._params=_,h._data="",h._hitLimit=!1,a});return this._params=_,this._data="",this._hitLimit=!1,f},d}();n.DcsHandler=m},2015:function(r,n,i){var o,s=this&&this.__extends||(o=function(f,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,v){c.__proto__=v}||function(c,v){for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&(c[y]=v[y])},o(f,a)},function(f,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function c(){this.constructor=f}o(f,a),f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)});Object.defineProperty(n,"__esModule",{value:!0}),n.EscapeSequenceParser=n.VT500_TRANSITION_TABLE=n.TransitionTable=void 0;var l=i(844),u=i(8273),p=i(8742),_=i(6242),m=i(6351),d=function(){function f(a){this.table=new Uint8Array(a)}return f.prototype.setDefault=function(a,c){(0,u.fill)(this.table,a<<4|c)},f.prototype.add=function(a,c,v,y){this.table[c<<8|a]=v<<4|y},f.prototype.addMany=function(a,c,v,y){for(var S=0;S<a.length;S++)this.table[c<<8|a[S]]=v<<4|y},f}();n.TransitionTable=d;var g=160;n.VT500_TRANSITION_TABLE=function(){var f=new d(4095),a=Array.apply(null,Array(256)).map(function(C,E){return E}),c=function(C,E){return a.slice(C,E)},v=c(32,127),y=c(0,24);y.push(25),y.push.apply(y,c(28,32));var S,b=c(0,14);for(S in f.setDefault(1,0),f.addMany(v,0,2,0),b)f.addMany([24,26,153,154],S,3,0),f.addMany(c(128,144),S,3,0),f.addMany(c(144,152),S,3,0),f.add(156,S,0,0),f.add(27,S,11,1),f.add(157,S,4,8),f.addMany([152,158,159],S,0,7),f.add(155,S,11,3),f.add(144,S,11,9);return f.addMany(y,0,3,0),f.addMany(y,1,3,1),f.add(127,1,0,1),f.addMany(y,8,0,8),f.addMany(y,3,3,3),f.add(127,3,0,3),f.addMany(y,4,3,4),f.add(127,4,0,4),f.addMany(y,6,3,6),f.addMany(y,5,3,5),f.add(127,5,0,5),f.addMany(y,2,3,2),f.add(127,2,0,2),f.add(93,1,4,8),f.addMany(v,8,5,8),f.add(127,8,5,8),f.addMany([156,27,24,26,7],8,6,0),f.addMany(c(28,32),8,0,8),f.addMany([88,94,95],1,0,7),f.addMany(v,7,0,7),f.addMany(y,7,0,7),f.add(156,7,0,0),f.add(127,7,0,7),f.add(91,1,11,3),f.addMany(c(64,127),3,7,0),f.addMany(c(48,60),3,8,4),f.addMany([60,61,62,63],3,9,4),f.addMany(c(48,60),4,8,4),f.addMany(c(64,127),4,7,0),f.addMany([60,61,62,63],4,0,6),f.addMany(c(32,64),6,0,6),f.add(127,6,0,6),f.addMany(c(64,127),6,0,0),f.addMany(c(32,48),3,9,5),f.addMany(c(32,48),5,9,5),f.addMany(c(48,64),5,0,6),f.addMany(c(64,127),5,7,0),f.addMany(c(32,48),4,9,5),f.addMany(c(32,48),1,9,2),f.addMany(c(32,48),2,9,2),f.addMany(c(48,127),2,10,0),f.addMany(c(48,80),1,10,0),f.addMany(c(81,88),1,10,0),f.addMany([89,90,92],1,10,0),f.addMany(c(96,127),1,10,0),f.add(80,1,11,9),f.addMany(y,9,0,9),f.add(127,9,0,9),f.addMany(c(28,32),9,0,9),f.addMany(c(32,48),9,9,12),f.addMany(c(48,60),9,8,10),f.addMany([60,61,62,63],9,9,10),f.addMany(y,11,0,11),f.addMany(c(32,128),11,0,11),f.addMany(c(28,32),11,0,11),f.addMany(y,10,0,10),f.add(127,10,0,10),f.addMany(c(28,32),10,0,10),f.addMany(c(48,60),10,8,10),f.addMany([60,61,62,63],10,0,11),f.addMany(c(32,48),10,9,12),f.addMany(y,12,0,12),f.add(127,12,0,12),f.addMany(c(28,32),12,0,12),f.addMany(c(32,48),12,9,12),f.addMany(c(48,64),12,0,11),f.addMany(c(64,127),12,12,13),f.addMany(c(64,127),10,12,13),f.addMany(c(64,127),9,12,13),f.addMany(y,13,13,13),f.addMany(v,13,13,13),f.add(127,13,0,13),f.addMany([27,156,24,26],13,14,0),f.add(g,0,2,0),f.add(g,8,5,8),f.add(g,6,0,6),f.add(g,11,0,11),f.add(g,13,13,13),f}();var h=function(f){function a(c){c===void 0&&(c=n.VT500_TRANSITION_TABLE);var v=f.call(this)||this;return v._transitions=c,v._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},v.initialState=0,v.currentState=v.initialState,v._params=new p.Params,v._params.addParam(0),v._collect=0,v.precedingCodepoint=0,v._printHandlerFb=function(y,S,b){},v._executeHandlerFb=function(y){},v._csiHandlerFb=function(y,S){},v._escHandlerFb=function(y){},v._errorHandlerFb=function(y){return y},v._printHandler=v._printHandlerFb,v._executeHandlers=Object.create(null),v._csiHandlers=Object.create(null),v._escHandlers=Object.create(null),v._oscParser=new _.OscParser,v._dcsParser=new m.DcsParser,v._errorHandler=v._errorHandlerFb,v.registerEscHandler({final:"\\"},function(){return!0}),v}return s(a,f),a.prototype._identifier=function(c,v){v===void 0&&(v=[64,126]);var y=0;if(c.prefix){if(c.prefix.length>1)throw new Error("only one byte as prefix supported");if((y=c.prefix.charCodeAt(0))&&60>y||y>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(c.intermediates){if(c.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(var S=0;S<c.intermediates.length;++S){var b=c.intermediates.charCodeAt(S);if(32>b||b>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");y<<=8,y|=b}}if(c.final.length!==1)throw new Error("final must be a single byte");var C=c.final.charCodeAt(0);if(v[0]>C||C>v[1])throw new Error("final must be in range "+v[0]+" .. "+v[1]);return(y<<=8)|C},a.prototype.identToString=function(c){for(var v=[];c;)v.push(String.fromCharCode(255&c)),c>>=8;return v.reverse().join("")},a.prototype.dispose=function(){this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null),this._oscParser.dispose(),this._dcsParser.dispose()},a.prototype.setPrintHandler=function(c){this._printHandler=c},a.prototype.clearPrintHandler=function(){this._printHandler=this._printHandlerFb},a.prototype.registerEscHandler=function(c,v){var y=this._identifier(c,[48,126]);this._escHandlers[y]===void 0&&(this._escHandlers[y]=[]);var S=this._escHandlers[y];return S.push(v),{dispose:function(){var b=S.indexOf(v);b!==-1&&S.splice(b,1)}}},a.prototype.clearEscHandler=function(c){this._escHandlers[this._identifier(c,[48,126])]&&delete this._escHandlers[this._identifier(c,[48,126])]},a.prototype.setEscHandlerFallback=function(c){this._escHandlerFb=c},a.prototype.setExecuteHandler=function(c,v){this._executeHandlers[c.charCodeAt(0)]=v},a.prototype.clearExecuteHandler=function(c){this._executeHandlers[c.charCodeAt(0)]&&delete this._executeHandlers[c.charCodeAt(0)]},a.prototype.setExecuteHandlerFallback=function(c){this._executeHandlerFb=c},a.prototype.registerCsiHandler=function(c,v){var y=this._identifier(c);this._csiHandlers[y]===void 0&&(this._csiHandlers[y]=[]);var S=this._csiHandlers[y];return S.push(v),{dispose:function(){var b=S.indexOf(v);b!==-1&&S.splice(b,1)}}},a.prototype.clearCsiHandler=function(c){this._csiHandlers[this._identifier(c)]&&delete this._csiHandlers[this._identifier(c)]},a.prototype.setCsiHandlerFallback=function(c){this._csiHandlerFb=c},a.prototype.registerDcsHandler=function(c,v){return this._dcsParser.registerHandler(this._identifier(c),v)},a.prototype.clearDcsHandler=function(c){this._dcsParser.clearHandler(this._identifier(c))},a.prototype.setDcsHandlerFallback=function(c){this._dcsParser.setHandlerFallback(c)},a.prototype.registerOscHandler=function(c,v){return this._oscParser.registerHandler(c,v)},a.prototype.clearOscHandler=function(c){this._oscParser.clearHandler(c)},a.prototype.setOscHandlerFallback=function(c){this._oscParser.setHandlerFallback(c)},a.prototype.setErrorHandler=function(c){this._errorHandler=c},a.prototype.clearErrorHandler=function(){this._errorHandler=this._errorHandlerFb},a.prototype.reset=function(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])},a.prototype._preserveStack=function(c,v,y,S,b){this._parseStack.state=c,this._parseStack.handlers=v,this._parseStack.handlerPos=y,this._parseStack.transition=S,this._parseStack.chunkPos=b},a.prototype.parse=function(c,v,y){var S,b=0,C=0,E=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,E=this._parseStack.chunkPos+1;else{if(y===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");var x=this._parseStack.handlers,w=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(y===!1&&w>-1){for(;w>=0&&(S=x[w](this._params))!==!0;w--)if(S instanceof Promise)return this._parseStack.handlerPos=w,S}this._parseStack.handlers=[];break;case 4:if(y===!1&&w>-1){for(;w>=0&&(S=x[w]())!==!0;w--)if(S instanceof Promise)return this._parseStack.handlerPos=w,S}this._parseStack.handlers=[];break;case 6:if(b=c[this._parseStack.chunkPos],S=this._dcsParser.unhook(b!==24&&b!==26,y))return S;b===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(b=c[this._parseStack.chunkPos],S=this._oscParser.end(b!==24&&b!==26,y))return S;b===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,E=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(var L=E;L<v;++L){switch(b=c[L],(C=this._transitions.table[this.currentState<<8|(b<160?b:g)])>>4){case 2:for(var k=L+1;;++k){if(k>=v||(b=c[k])<32||b>126&&b<g){this._printHandler(c,L,k),L=k-1;break}if(++k>=v||(b=c[k])<32||b>126&&b<g){this._printHandler(c,L,k),L=k-1;break}if(++k>=v||(b=c[k])<32||b>126&&b<g){this._printHandler(c,L,k),L=k-1;break}if(++k>=v||(b=c[k])<32||b>126&&b<g){this._printHandler(c,L,k),L=k-1;break}}break;case 3:this._executeHandlers[b]?this._executeHandlers[b]():this._executeHandlerFb(b),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:L,code:b,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:for(var N=(x=this._csiHandlers[this._collect<<8|b])?x.length-1:-1;N>=0&&(S=x[N](this._params))!==!0;N--)if(S instanceof Promise)return this._preserveStack(3,x,N,C,L),S;N<0&&this._csiHandlerFb(this._collect<<8|b,this._params),this.precedingCodepoint=0;break;case 8:do switch(b){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(b-48)}while(++L<v&&(b=c[L])>47&&b<60);L--;break;case 9:this._collect<<=8,this._collect|=b;break;case 10:for(var A=this._escHandlers[this._collect<<8|b],O=A?A.length-1:-1;O>=0&&(S=A[O]())!==!0;O--)if(S instanceof Promise)return this._preserveStack(4,A,O,C,L),S;O<0&&this._escHandlerFb(this._collect<<8|b),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|b,this._params);break;case 13:for(var I=L+1;;++I)if(I>=v||(b=c[I])===24||b===26||b===27||b>127&&b<g){this._dcsParser.put(c,L,I),L=I-1;break}break;case 14:if(S=this._dcsParser.unhook(b!==24&&b!==26))return this._preserveStack(6,[],0,C,L),S;b===27&&(C|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(var D=L+1;;D++)if(D>=v||(b=c[D])<32||b>127&&b<g){this._oscParser.put(c,L,D),L=D-1;break}break;case 6:if(S=this._oscParser.end(b!==24&&b!==26))return this._preserveStack(5,[],0,C,L),S;b===27&&(C|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&C}},a}(l.Disposable);n.EscapeSequenceParser=h},6242:(r,n,i)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.OscHandler=n.OscParser=void 0;var o=i(5770),s=i(482),l=[],u=function(){function _(){this._state=0,this._active=l,this._id=-1,this._handlers=Object.create(null),this._handlerFb=function(){},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}return _.prototype.registerHandler=function(m,d){this._handlers[m]===void 0&&(this._handlers[m]=[]);var g=this._handlers[m];return g.push(d),{dispose:function(){var h=g.indexOf(d);h!==-1&&g.splice(h,1)}}},_.prototype.clearHandler=function(m){this._handlers[m]&&delete this._handlers[m]},_.prototype.setHandlerFallback=function(m){this._handlerFb=m},_.prototype.dispose=function(){this._handlers=Object.create(null),this._handlerFb=function(){},this._active=l},_.prototype.reset=function(){if(this._state===2)for(var m=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;m>=0;--m)this._active[m].end(!1);this._stack.paused=!1,this._active=l,this._id=-1,this._state=0},_.prototype._start=function(){if(this._active=this._handlers[this._id]||l,this._active.length)for(var m=this._active.length-1;m>=0;m--)this._active[m].start();else this._handlerFb(this._id,"START")},_.prototype._put=function(m,d,g){if(this._active.length)for(var h=this._active.length-1;h>=0;h--)this._active[h].put(m,d,g);else this._handlerFb(this._id,"PUT",(0,s.utf32ToString)(m,d,g))},_.prototype.start=function(){this.reset(),this._state=1},_.prototype.put=function(m,d,g){if(this._state!==3){if(this._state===1)for(;d<g;){var h=m[d++];if(h===59){this._state=2,this._start();break}if(h<48||57<h)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+h-48}this._state===2&&g-d>0&&this._put(m,d,g)}},_.prototype.end=function(m,d){if(d===void 0&&(d=!0),this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){var g=!1,h=this._active.length-1,f=!1;if(this._stack.paused&&(h=this._stack.loopPosition-1,g=d,f=this._stack.fallThrough,this._stack.paused=!1),!f&&g===!1){for(;h>=0&&(g=this._active[h].end(m))!==!0;h--)if(g instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=h,this._stack.fallThrough=!1,g;h--}for(;h>=0;h--)if((g=this._active[h].end(!1))instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=h,this._stack.fallThrough=!0,g}else this._handlerFb(this._id,"END",m);this._active=l,this._id=-1,this._state=0}},_}();n.OscParser=u;var p=function(){function _(m){this._handler=m,this._data="",this._hitLimit=!1}return _.prototype.start=function(){this._data="",this._hitLimit=!1},_.prototype.put=function(m,d,g){this._hitLimit||(this._data+=(0,s.utf32ToString)(m,d,g),this._data.length>o.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))},_.prototype.end=function(m){var d=this,g=!1;if(this._hitLimit)g=!1;else if(m&&(g=this._handler(this._data))instanceof Promise)return g.then(function(h){return d._data="",d._hitLimit=!1,h});return this._data="",this._hitLimit=!1,g},_}();n.OscHandler=p},8742:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Params=void 0;var i=2147483647,o=function(){function s(l,u){if(l===void 0&&(l=32),u===void 0&&(u=32),this.maxLength=l,this.maxSubParamsLength=u,u>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(l),this.length=0,this._subParams=new Int32Array(u),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(l),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}return s.fromArray=function(l){var u=new s;if(!l.length)return u;for(var p=Array.isArray(l[0])?1:0;p<l.length;++p){var _=l[p];if(Array.isArray(_))for(var m=0;m<_.length;++m)u.addSubParam(_[m]);else u.addParam(_)}return u},s.prototype.clone=function(){var l=new s(this.maxLength,this.maxSubParamsLength);return l.params.set(this.params),l.length=this.length,l._subParams.set(this._subParams),l._subParamsLength=this._subParamsLength,l._subParamsIdx.set(this._subParamsIdx),l._rejectDigits=this._rejectDigits,l._rejectSubDigits=this._rejectSubDigits,l._digitIsSub=this._digitIsSub,l},s.prototype.toArray=function(){for(var l=[],u=0;u<this.length;++u){l.push(this.params[u]);var p=this._subParamsIdx[u]>>8,_=255&this._subParamsIdx[u];_-p>0&&l.push(Array.prototype.slice.call(this._subParams,p,_))}return l},s.prototype.reset=function(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1},s.prototype.addParam=function(l){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(l<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=l>i?i:l}},s.prototype.addSubParam=function(l){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(l<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=l>i?i:l,this._subParamsIdx[this.length-1]++}},s.prototype.hasSubParams=function(l){return(255&this._subParamsIdx[l])-(this._subParamsIdx[l]>>8)>0},s.prototype.getSubParams=function(l){var u=this._subParamsIdx[l]>>8,p=255&this._subParamsIdx[l];return p-u>0?this._subParams.subarray(u,p):null},s.prototype.getSubParamsAll=function(){for(var l={},u=0;u<this.length;++u){var p=this._subParamsIdx[u]>>8,_=255&this._subParamsIdx[u];_-p>0&&(l[u]=this._subParams.slice(p,_))}return l},s.prototype.addDigit=function(l){var u;if(!(this._rejectDigits||!(u=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)){var p=this._digitIsSub?this._subParams:this.params,_=p[u-1];p[u-1]=~_?Math.min(10*_+l,i):l}},s}();n.Params=o},5741:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.AddonManager=void 0;var i=function(){function o(){this._addons=[]}return o.prototype.dispose=function(){for(var s=this._addons.length-1;s>=0;s--)this._addons[s].instance.dispose()},o.prototype.loadAddon=function(s,l){var u=this,p={instance:l,dispose:l.dispose,isDisposed:!1};this._addons.push(p),l.dispose=function(){return u._wrappedAddonDispose(p)},l.activate(s)},o.prototype._wrappedAddonDispose=function(s){if(!s.isDisposed){for(var l=-1,u=0;u<this._addons.length;u++)if(this._addons[u]===s){l=u;break}if(l===-1)throw new Error("Could not dispose an addon that has not been loaded");s.isDisposed=!0,s.dispose.apply(s.instance),this._addons.splice(l,1)}},o}();n.AddonManager=i},8771:(r,n,i)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferApiView=void 0;var o=i(3785),s=i(511),l=function(){function u(p,_){this._buffer=p,this.type=_}return u.prototype.init=function(p){return this._buffer=p,this},Object.defineProperty(u.prototype,"cursorY",{get:function(){return this._buffer.y},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"cursorX",{get:function(){return this._buffer.x},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"viewportY",{get:function(){return this._buffer.ydisp},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"baseY",{get:function(){return this._buffer.ybase},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"length",{get:function(){return this._buffer.lines.length},enumerable:!1,configurable:!0}),u.prototype.getLine=function(p){var _=this._buffer.lines.get(p);if(_)return new o.BufferLineApiView(_)},u.prototype.getNullCell=function(){return new s.CellData},u}();n.BufferApiView=l},3785:(r,n,i)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferLineApiView=void 0;var o=i(511),s=function(){function l(u){this._line=u}return Object.defineProperty(l.prototype,"isWrapped",{get:function(){return this._line.isWrapped},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"length",{get:function(){return this._line.length},enumerable:!1,configurable:!0}),l.prototype.getCell=function(u,p){if(!(u<0||u>=this._line.length))return p?(this._line.loadCell(u,p),p):this._line.loadCell(u,new o.CellData)},l.prototype.translateToString=function(u,p,_){return this._line.translateToString(u,p,_)},l}();n.BufferLineApiView=s},8285:(r,n,i)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferNamespaceApi=void 0;var o=i(8771),s=i(8460),l=function(){function u(p){var _=this;this._core=p,this._onBufferChange=new s.EventEmitter,this._normal=new o.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new o.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(function(){return _._onBufferChange.fire(_.active)})}return Object.defineProperty(u.prototype,"onBufferChange",{get:function(){return this._onBufferChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"active",{get:function(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"normal",{get:function(){return this._normal.init(this._core.buffers.normal)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"alternate",{get:function(){return this._alternate.init(this._core.buffers.alt)},enumerable:!1,configurable:!0}),u}();n.BufferNamespaceApi=l},7975:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ParserApi=void 0;var i=function(){function o(s){this._core=s}return o.prototype.registerCsiHandler=function(s,l){return this._core.registerCsiHandler(s,function(u){return l(u.toArray())})},o.prototype.addCsiHandler=function(s,l){return this.registerCsiHandler(s,l)},o.prototype.registerDcsHandler=function(s,l){return this._core.registerDcsHandler(s,function(u,p){return l(u,p.toArray())})},o.prototype.addDcsHandler=function(s,l){return this.registerDcsHandler(s,l)},o.prototype.registerEscHandler=function(s,l){return this._core.registerEscHandler(s,l)},o.prototype.addEscHandler=function(s,l){return this.registerEscHandler(s,l)},o.prototype.registerOscHandler=function(s,l){return this._core.registerOscHandler(s,l)},o.prototype.addOscHandler=function(s,l){return this.registerOscHandler(s,l)},o}();n.ParserApi=i},7090:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.UnicodeApi=void 0;var i=function(){function o(s){this._core=s}return o.prototype.register=function(s){this._core.unicodeService.register(s)},Object.defineProperty(o.prototype,"versions",{get:function(){return this._core.unicodeService.versions},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"activeVersion",{get:function(){return this._core.unicodeService.activeVersion},set:function(s){this._core.unicodeService.activeVersion=s},enumerable:!1,configurable:!0}),o}();n.UnicodeApi=i},744:function(r,n,i){var o,s=this&&this.__extends||(o=function(h,f){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var v in c)Object.prototype.hasOwnProperty.call(c,v)&&(a[v]=c[v])},o(h,f)},function(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function a(){this.constructor=h}o(h,f),h.prototype=f===null?Object.create(f):(a.prototype=f.prototype,new a)}),l=this&&this.__decorate||function(h,f,a,c){var v,y=arguments.length,S=y<3?f:c===null?c=Object.getOwnPropertyDescriptor(f,a):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(h,f,a,c);else for(var b=h.length-1;b>=0;b--)(v=h[b])&&(S=(y<3?v(S):y>3?v(f,a,S):v(f,a))||S);return y>3&&S&&Object.defineProperty(f,a,S),S},u=this&&this.__param||function(h,f){return function(a,c){f(a,c,h)}};Object.defineProperty(n,"__esModule",{value:!0}),n.BufferService=n.MINIMUM_ROWS=n.MINIMUM_COLS=void 0;var p=i(2585),_=i(5295),m=i(8460),d=i(844);n.MINIMUM_COLS=2,n.MINIMUM_ROWS=1;var g=function(h){function f(a){var c=h.call(this)||this;return c._optionsService=a,c.isUserScrolling=!1,c._onResize=new m.EventEmitter,c._onScroll=new m.EventEmitter,c.cols=Math.max(a.rawOptions.cols||0,n.MINIMUM_COLS),c.rows=Math.max(a.rawOptions.rows||0,n.MINIMUM_ROWS),c.buffers=new _.BufferSet(a,c),c}return s(f,h),Object.defineProperty(f.prototype,"onResize",{get:function(){return this._onResize.event},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"onScroll",{get:function(){return this._onScroll.event},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"buffer",{get:function(){return this.buffers.active},enumerable:!1,configurable:!0}),f.prototype.dispose=function(){h.prototype.dispose.call(this),this.buffers.dispose()},f.prototype.resize=function(a,c){this.cols=a,this.rows=c,this.buffers.resize(a,c),this.buffers.setupTabStops(this.cols),this._onResize.fire({cols:a,rows:c})},f.prototype.reset=function(){this.buffers.reset(),this.isUserScrolling=!1},f.prototype.scroll=function(a,c){c===void 0&&(c=!1);var v,y=this.buffer;(v=this._cachedBlankLine)&&v.length===this.cols&&v.getFg(0)===a.fg&&v.getBg(0)===a.bg||(v=y.getBlankLine(a,c),this._cachedBlankLine=v),v.isWrapped=c;var S=y.ybase+y.scrollTop,b=y.ybase+y.scrollBottom;if(y.scrollTop===0){var C=y.lines.isFull;b===y.lines.length-1?C?y.lines.recycle().copyFrom(v):y.lines.push(v.clone()):y.lines.splice(b+1,0,v.clone()),C?this.isUserScrolling&&(y.ydisp=Math.max(y.ydisp-1,0)):(y.ybase++,this.isUserScrolling||y.ydisp++)}else{var E=b-S+1;y.lines.shiftElements(S+1,E-1,-1),y.lines.set(b,v.clone())}this.isUserScrolling||(y.ydisp=y.ybase),this._onScroll.fire(y.ydisp)},f.prototype.scrollLines=function(a,c,v){var y=this.buffer;if(a<0){if(y.ydisp===0)return;this.isUserScrolling=!0}else a+y.ydisp>=y.ybase&&(this.isUserScrolling=!1);var S=y.ydisp;y.ydisp=Math.max(Math.min(y.ydisp+a,y.ybase),0),S!==y.ydisp&&(c||this._onScroll.fire(y.ydisp))},f.prototype.scrollPages=function(a){this.scrollLines(a*(this.rows-1))},f.prototype.scrollToTop=function(){this.scrollLines(-this.buffer.ydisp)},f.prototype.scrollToBottom=function(){this.scrollLines(this.buffer.ybase-this.buffer.ydisp)},f.prototype.scrollToLine=function(a){var c=a-this.buffer.ydisp;c!==0&&this.scrollLines(c)},l([u(0,p.IOptionsService)],f)}(d.Disposable);n.BufferService=g},7994:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CharsetService=void 0;var i=function(){function o(){this.glevel=0,this._charsets=[]}return o.prototype.reset=function(){this.charset=void 0,this._charsets=[],this.glevel=0},o.prototype.setgLevel=function(s){this.glevel=s,this.charset=this._charsets[s]},o.prototype.setgCharset=function(s,l){this._charsets[s]=l,this.glevel===s&&(this.charset=l)},o}();n.CharsetService=i},1753:function(r,n,i){var o=this&&this.__decorate||function(h,f,a,c){var v,y=arguments.length,S=y<3?f:c===null?c=Object.getOwnPropertyDescriptor(f,a):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(h,f,a,c);else for(var b=h.length-1;b>=0;b--)(v=h[b])&&(S=(y<3?v(S):y>3?v(f,a,S):v(f,a))||S);return y>3&&S&&Object.defineProperty(f,a,S),S},s=this&&this.__param||function(h,f){return function(a,c){f(a,c,h)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CoreMouseService=void 0;var l=i(2585),u=i(8460),p={NONE:{events:0,restrict:function(){return!1}},X10:{events:1,restrict:function(h){return h.button!==4&&h.action===1&&(h.ctrl=!1,h.alt=!1,h.shift=!1,!0)}},VT200:{events:19,restrict:function(h){return h.action!==32}},DRAG:{events:23,restrict:function(h){return h.action!==32||h.button!==3}},ANY:{events:31,restrict:function(h){return!0}}};function _(h,f){var a=(h.ctrl?16:0)|(h.shift?4:0)|(h.alt?8:0);return h.button===4?(a|=64,a|=h.action):(a|=3&h.button,4&h.button&&(a|=64),8&h.button&&(a|=128),h.action===32?a|=32:h.action!==0||f||(a|=3)),a}var m=String.fromCharCode,d={DEFAULT:function(h){var f=[_(h,!1)+32,h.col+32,h.row+32];return f[0]>255||f[1]>255||f[2]>255?"":"\x1B[M"+m(f[0])+m(f[1])+m(f[2])},SGR:function(h){var f=h.action===0&&h.button!==4?"m":"M";return"\x1B[<"+_(h,!0)+";"+h.col+";"+h.row+f}},g=function(){function h(f,a){this._bufferService=f,this._coreService=a,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._onProtocolChange=new u.EventEmitter,this._lastEvent=null;for(var c=0,v=Object.keys(p);c<v.length;c++){var y=v[c];this.addProtocol(y,p[y])}for(var S=0,b=Object.keys(d);S<b.length;S++){var C=b[S];this.addEncoding(C,d[C])}this.reset()}return h.prototype.addProtocol=function(f,a){this._protocols[f]=a},h.prototype.addEncoding=function(f,a){this._encodings[f]=a},Object.defineProperty(h.prototype,"activeProtocol",{get:function(){return this._activeProtocol},set:function(f){if(!this._protocols[f])throw new Error('unknown protocol "'+f+'"');this._activeProtocol=f,this._onProtocolChange.fire(this._protocols[f].events)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"areMouseEventsActive",{get:function(){return this._protocols[this._activeProtocol].events!==0},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"activeEncoding",{get:function(){return this._activeEncoding},set:function(f){if(!this._encodings[f])throw new Error('unknown encoding "'+f+'"');this._activeEncoding=f},enumerable:!1,configurable:!0}),h.prototype.reset=function(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null},Object.defineProperty(h.prototype,"onProtocolChange",{get:function(){return this._onProtocolChange.event},enumerable:!1,configurable:!0}),h.prototype.triggerMouseEvent=function(f){if(f.col<0||f.col>=this._bufferService.cols||f.row<0||f.row>=this._bufferService.rows||f.button===4&&f.action===32||f.button===3&&f.action!==32||f.button!==4&&(f.action===2||f.action===3)||(f.col++,f.row++,f.action===32&&this._lastEvent&&this._compareEvents(this._lastEvent,f))||!this._protocols[this._activeProtocol].restrict(f))return!1;var a=this._encodings[this._activeEncoding](f);return a&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(a):this._coreService.triggerDataEvent(a,!0)),this._lastEvent=f,!0},h.prototype.explainEvents=function(f){return{down:!!(1&f),up:!!(2&f),drag:!!(4&f),move:!!(8&f),wheel:!!(16&f)}},h.prototype._compareEvents=function(f,a){return f.col===a.col&&f.row===a.row&&f.button===a.button&&f.action===a.action&&f.ctrl===a.ctrl&&f.alt===a.alt&&f.shift===a.shift},o([s(0,l.IBufferService),s(1,l.ICoreService)],h)}();n.CoreMouseService=g},6975:function(r,n,i){var o,s=this&&this.__extends||(o=function(a,c){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(v[S]=y[S])},o(a,c)},function(a,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function v(){this.constructor=a}o(a,c),a.prototype=c===null?Object.create(c):(v.prototype=c.prototype,new v)}),l=this&&this.__decorate||function(a,c,v,y){var S,b=arguments.length,C=b<3?c:y===null?y=Object.getOwnPropertyDescriptor(c,v):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(a,c,v,y);else for(var E=a.length-1;E>=0;E--)(S=a[E])&&(C=(b<3?S(C):b>3?S(c,v,C):S(c,v))||C);return b>3&&C&&Object.defineProperty(c,v,C),C},u=this&&this.__param||function(a,c){return function(v,y){c(v,y,a)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CoreService=void 0;var p=i(2585),_=i(8460),m=i(1439),d=i(844),g=Object.freeze({insertMode:!1}),h=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0}),f=function(a){function c(v,y,S,b){var C=a.call(this)||this;return C._bufferService=y,C._logService=S,C._optionsService=b,C.isCursorInitialized=!1,C.isCursorHidden=!1,C._onData=C.register(new _.EventEmitter),C._onUserInput=C.register(new _.EventEmitter),C._onBinary=C.register(new _.EventEmitter),C._scrollToBottom=v,C.register({dispose:function(){return C._scrollToBottom=void 0}}),C.modes=(0,m.clone)(g),C.decPrivateModes=(0,m.clone)(h),C}return s(c,a),Object.defineProperty(c.prototype,"onData",{get:function(){return this._onData.event},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"onUserInput",{get:function(){return this._onUserInput.event},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"onBinary",{get:function(){return this._onBinary.event},enumerable:!1,configurable:!0}),c.prototype.reset=function(){this.modes=(0,m.clone)(g),this.decPrivateModes=(0,m.clone)(h)},c.prototype.triggerDataEvent=function(v,y){if(y===void 0&&(y=!1),!this._optionsService.rawOptions.disableStdin){var S=this._bufferService.buffer;S.ybase!==S.ydisp&&this._scrollToBottom(),y&&this._onUserInput.fire(),this._logService.debug('sending data "'+v+'"',function(){return v.split("").map(function(b){return b.charCodeAt(0)})}),this._onData.fire(v)}},c.prototype.triggerBinaryEvent=function(v){this._optionsService.rawOptions.disableStdin||(this._logService.debug('sending binary "'+v+'"',function(){return v.split("").map(function(y){return y.charCodeAt(0)})}),this._onBinary.fire(v))},l([u(1,p.IBufferService),u(2,p.ILogService),u(3,p.IOptionsService)],c)}(d.Disposable);n.CoreService=f},3730:function(r,n,i){var o=this&&this.__decorate||function(p,_,m,d){var g,h=arguments.length,f=h<3?_:d===null?d=Object.getOwnPropertyDescriptor(_,m):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(p,_,m,d);else for(var a=p.length-1;a>=0;a--)(g=p[a])&&(f=(h<3?g(f):h>3?g(_,m,f):g(_,m))||f);return h>3&&f&&Object.defineProperty(_,m,f),f},s=this&&this.__param||function(p,_){return function(m,d){_(m,d,p)}};Object.defineProperty(n,"__esModule",{value:!0}),n.DirtyRowService=void 0;var l=i(2585),u=function(){function p(_){this._bufferService=_,this.clearRange()}return Object.defineProperty(p.prototype,"start",{get:function(){return this._start},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"end",{get:function(){return this._end},enumerable:!1,configurable:!0}),p.prototype.clearRange=function(){this._start=this._bufferService.buffer.y,this._end=this._bufferService.buffer.y},p.prototype.markDirty=function(_){_<this._start?this._start=_:_>this._end&&(this._end=_)},p.prototype.markRangeDirty=function(_,m){if(_>m){var d=_;_=m,m=d}_<this._start&&(this._start=_),m>this._end&&(this._end=m)},p.prototype.markAllDirty=function(){this.markRangeDirty(0,this._bufferService.rows-1)},o([s(0,l.IBufferService)],p)}();n.DirtyRowService=u},4348:function(r,n,i){var o=this&&this.__spreadArray||function(_,m,d){if(d||arguments.length===2)for(var g,h=0,f=m.length;h<f;h++)!g&&h in m||(g||(g=Array.prototype.slice.call(m,0,h)),g[h]=m[h]);return _.concat(g||Array.prototype.slice.call(m))};Object.defineProperty(n,"__esModule",{value:!0}),n.InstantiationService=n.ServiceCollection=void 0;var s=i(2585),l=i(8343),u=function(){function _(){for(var m=[],d=0;d<arguments.length;d++)m[d]=arguments[d];this._entries=new Map;for(var g=0,h=m;g<h.length;g++){var f=h[g],a=f[0],c=f[1];this.set(a,c)}}return _.prototype.set=function(m,d){var g=this._entries.get(m);return this._entries.set(m,d),g},_.prototype.forEach=function(m){this._entries.forEach(function(d,g){return m(g,d)})},_.prototype.has=function(m){return this._entries.has(m)},_.prototype.get=function(m){return this._entries.get(m)},_}();n.ServiceCollection=u;var p=function(){function _(){this._services=new u,this._services.set(s.IInstantiationService,this)}return _.prototype.setService=function(m,d){this._services.set(m,d)},_.prototype.getService=function(m){return this._services.get(m)},_.prototype.createInstance=function(m){for(var d=[],g=1;g<arguments.length;g++)d[g-1]=arguments[g];for(var h=(0,l.getServiceDependencies)(m).sort(function(b,C){return b.index-C.index}),f=[],a=0,c=h;a<c.length;a++){var v=c[a],y=this._services.get(v.id);if(!y)throw new Error("[createInstance] "+m.name+" depends on UNKNOWN service "+v.id+".");f.push(y)}var S=h.length>0?h[0].index:d.length;if(d.length!==S)throw new Error("[createInstance] First service dependency of "+m.name+" at position "+(S+1)+" conflicts with "+d.length+" static arguments");return new(m.bind.apply(m,o([void 0],o(o([],d,!0),f,!0),!1)))},_}();n.InstantiationService=p},7866:function(r,n,i){var o=this&&this.__decorate||function(m,d,g,h){var f,a=arguments.length,c=a<3?d:h===null?h=Object.getOwnPropertyDescriptor(d,g):h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(m,d,g,h);else for(var v=m.length-1;v>=0;v--)(f=m[v])&&(c=(a<3?f(c):a>3?f(d,g,c):f(d,g))||c);return a>3&&c&&Object.defineProperty(d,g,c),c},s=this&&this.__param||function(m,d){return function(g,h){d(g,h,m)}},l=this&&this.__spreadArray||function(m,d,g){if(g||arguments.length===2)for(var h,f=0,a=d.length;f<a;f++)!h&&f in d||(h||(h=Array.prototype.slice.call(d,0,f)),h[f]=d[f]);return m.concat(h||Array.prototype.slice.call(d))};Object.defineProperty(n,"__esModule",{value:!0}),n.LogService=void 0;var u=i(2585),p={debug:u.LogLevelEnum.DEBUG,info:u.LogLevelEnum.INFO,warn:u.LogLevelEnum.WARN,error:u.LogLevelEnum.ERROR,off:u.LogLevelEnum.OFF},_=function(){function m(d){var g=this;this._optionsService=d,this.logLevel=u.LogLevelEnum.OFF,this._updateLogLevel(),this._optionsService.onOptionChange(function(h){h==="logLevel"&&g._updateLogLevel()})}return m.prototype._updateLogLevel=function(){this.logLevel=p[this._optionsService.rawOptions.logLevel]},m.prototype._evalLazyOptionalParams=function(d){for(var g=0;g<d.length;g++)typeof d[g]=="function"&&(d[g]=d[g]())},m.prototype._log=function(d,g,h){this._evalLazyOptionalParams(h),d.call.apply(d,l([console,"xterm.js: "+g],h,!1))},m.prototype.debug=function(d){for(var g=[],h=1;h<arguments.length;h++)g[h-1]=arguments[h];this.logLevel<=u.LogLevelEnum.DEBUG&&this._log(console.log,d,g)},m.prototype.info=function(d){for(var g=[],h=1;h<arguments.length;h++)g[h-1]=arguments[h];this.logLevel<=u.LogLevelEnum.INFO&&this._log(console.info,d,g)},m.prototype.warn=function(d){for(var g=[],h=1;h<arguments.length;h++)g[h-1]=arguments[h];this.logLevel<=u.LogLevelEnum.WARN&&this._log(console.warn,d,g)},m.prototype.error=function(d){for(var g=[],h=1;h<arguments.length;h++)g[h-1]=arguments[h];this.logLevel<=u.LogLevelEnum.ERROR&&this._log(console.error,d,g)},o([s(0,u.IOptionsService)],m)}();n.LogService=_},7302:function(r,n,i){var o=this&&this.__assign||function(){return o=Object.assign||function(_){for(var m,d=1,g=arguments.length;d<g;d++)for(var h in m=arguments[d])Object.prototype.hasOwnProperty.call(m,h)&&(_[h]=m[h]);return _},o.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.OptionsService=n.DEFAULT_OPTIONS=n.DEFAULT_BELL_SOUND=void 0;var s=i(8460),l=i(6114);n.DEFAULT_BELL_SOUND="data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjMyLjEwNAAAAAAAAAAAAAAA//tQxAADB8AhSmxhIIEVCSiJrDCQBTcu3UrAIwUdkRgQbFAZC1CQEwTJ9mjRvBA4UOLD8nKVOWfh+UlK3z/177OXrfOdKl7pyn3Xf//WreyTRUoAWgBgkOAGbZHBgG1OF6zM82DWbZaUmMBptgQhGjsyYqc9ae9XFz280948NMBWInljyzsNRFLPWdnZGWrddDsjK1unuSrVN9jJsK8KuQtQCtMBjCEtImISdNKJOopIpBFpNSMbIHCSRpRR5iakjTiyzLhchUUBwCgyKiweBv/7UsQbg8isVNoMPMjAAAA0gAAABEVFGmgqK////9bP/6XCykxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",n.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,customGlyphs:!0,bellSound:n.DEFAULT_BELL_SOUND,bellStyle:"none",drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",lineHeight:1,linkTooltipHoverDuration:500,letterSpacing:0,logLevel:"info",scrollback:1e3,scrollSensitivity:1,screenReaderMode:!1,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!0,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:l.isMac,rendererType:"canvas",windowOptions:{},windowsMode:!1,wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1};var u=["normal","bold","100","200","300","400","500","600","700","800","900"],p=function(){function _(m){this._onOptionChange=new s.EventEmitter;var d=o({},n.DEFAULT_OPTIONS);for(var g in m)if(g in d)try{var h=m[g];d[g]=this._sanitizeAndValidateOption(g,h)}catch(f){console.error(f)}this.rawOptions=d,this.options=o({},d),this._setupOptions()}return Object.defineProperty(_.prototype,"onOptionChange",{get:function(){return this._onOptionChange.event},enumerable:!1,configurable:!0}),_.prototype._setupOptions=function(){var m=this,d=function(a){if(!(a in n.DEFAULT_OPTIONS))throw new Error('No option with key "'+a+'"');return m.rawOptions[a]},g=function(a,c){if(!(a in n.DEFAULT_OPTIONS))throw new Error('No option with key "'+a+'"');c=m._sanitizeAndValidateOption(a,c),m.rawOptions[a]!==c&&(m.rawOptions[a]=c,m._onOptionChange.fire(a))};for(var h in this.rawOptions){var f={get:d.bind(this,h),set:g.bind(this,h)};Object.defineProperty(this.options,h,f)}},_.prototype.setOption=function(m,d){this.options[m]=d},_.prototype._sanitizeAndValidateOption=function(m,d){switch(m){case"bellStyle":case"cursorStyle":case"rendererType":case"wordSeparator":d||(d=n.DEFAULT_OPTIONS[m]);break;case"fontWeight":case"fontWeightBold":if(typeof d=="number"&&1<=d&&d<=1e3)break;d=u.includes(d)?d:n.DEFAULT_OPTIONS[m];break;case"cursorWidth":d=Math.floor(d);case"lineHeight":case"tabStopWidth":if(d<1)throw new Error(m+" cannot be less than 1, value: "+d);break;case"minimumContrastRatio":d=Math.max(1,Math.min(21,Math.round(10*d)/10));break;case"scrollback":if((d=Math.min(d,4294967295))<0)throw new Error(m+" cannot be less than 0, value: "+d);break;case"fastScrollSensitivity":case"scrollSensitivity":if(d<=0)throw new Error(m+" cannot be less than or equal to 0, value: "+d);case"rows":case"cols":if(!d&&d!==0)throw new Error(m+" must be numeric, value: "+d)}return d},_.prototype.getOption=function(m){return this.options[m]},_}();n.OptionsService=p},8343:(r,n)=>{function i(o,s,l){s.di$target===s?s.di$dependencies.push({id:o,index:l}):(s.di$dependencies=[{id:o,index:l}],s.di$target=s)}Object.defineProperty(n,"__esModule",{value:!0}),n.createDecorator=n.getServiceDependencies=n.serviceRegistry=void 0,n.serviceRegistry=new Map,n.getServiceDependencies=function(o){return o.di$dependencies||[]},n.createDecorator=function(o){if(n.serviceRegistry.has(o))return n.serviceRegistry.get(o);var s=function(l,u,p){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");i(s,l,p)};return s.toString=function(){return o},n.serviceRegistry.set(o,s),s}},2585:(r,n,i)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.IUnicodeService=n.IOptionsService=n.ILogService=n.LogLevelEnum=n.IInstantiationService=n.IDirtyRowService=n.ICharsetService=n.ICoreService=n.ICoreMouseService=n.IBufferService=void 0;var o,s=i(8343);n.IBufferService=(0,s.createDecorator)("BufferService"),n.ICoreMouseService=(0,s.createDecorator)("CoreMouseService"),n.ICoreService=(0,s.createDecorator)("CoreService"),n.ICharsetService=(0,s.createDecorator)("CharsetService"),n.IDirtyRowService=(0,s.createDecorator)("DirtyRowService"),n.IInstantiationService=(0,s.createDecorator)("InstantiationService"),(o=n.LogLevelEnum||(n.LogLevelEnum={}))[o.DEBUG=0]="DEBUG",o[o.INFO=1]="INFO",o[o.WARN=2]="WARN",o[o.ERROR=3]="ERROR",o[o.OFF=4]="OFF",n.ILogService=(0,s.createDecorator)("LogService"),n.IOptionsService=(0,s.createDecorator)("OptionsService"),n.IUnicodeService=(0,s.createDecorator)("UnicodeService")},1480:(r,n,i)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.UnicodeService=void 0;var o=i(8460),s=i(225),l=function(){function u(){this._providers=Object.create(null),this._active="",this._onChange=new o.EventEmitter;var p=new s.UnicodeV6;this.register(p),this._active=p.version,this._activeProvider=p}return Object.defineProperty(u.prototype,"onChange",{get:function(){return this._onChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"versions",{get:function(){return Object.keys(this._providers)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"activeVersion",{get:function(){return this._active},set:function(p){if(!this._providers[p])throw new Error('unknown Unicode version "'+p+'"');this._active=p,this._activeProvider=this._providers[p],this._onChange.fire(p)},enumerable:!1,configurable:!0}),u.prototype.register=function(p){this._providers[p.version]=p},u.prototype.wcwidth=function(p){return this._activeProvider.wcwidth(p)},u.prototype.getStringCellWidth=function(p){for(var _=0,m=p.length,d=0;d<m;++d){var g=p.charCodeAt(d);if(55296<=g&&g<=56319){if(++d>=m)return _+this.wcwidth(g);var h=p.charCodeAt(d);56320<=h&&h<=57343?g=1024*(g-55296)+h-56320+65536:_+=this.wcwidth(h)}_+=this.wcwidth(g)}return _},u}();n.UnicodeService=l}},t={};return function r(n){var i=t[n];if(i!==void 0)return i.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}(4389)})()})});var kb=me((_f,tv)=>{(function(e,t){typeof _f=="object"&&typeof tv=="object"?tv.exports=t():typeof define=="function"&&define.amd?define([],t):typeof _f=="object"?_f.FitAddon=t():e.FitAddon=t()})(self,function(){return(()=>{"use strict";var e={775:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.FitAddon=void 0;var i=function(){function o(){}return o.prototype.activate=function(s){this._terminal=s},o.prototype.dispose=function(){},o.prototype.fit=function(){var s=this.proposeDimensions();if(s&&this._terminal){var l=this._terminal._core;this._terminal.rows===s.rows&&this._terminal.cols===s.cols||(l._renderService.clear(),this._terminal.resize(s.cols,s.rows))}},o.prototype.proposeDimensions=function(){if(this._terminal&&this._terminal.element&&this._terminal.element.parentElement){var s=this._terminal._core;if(s._renderService.dimensions.actualCellWidth!==0&&s._renderService.dimensions.actualCellHeight!==0){var l=window.getComputedStyle(this._terminal.element.parentElement),u=parseInt(l.getPropertyValue("height")),p=Math.max(0,parseInt(l.getPropertyValue("width"))),_=window.getComputedStyle(this._terminal.element),m=u-(parseInt(_.getPropertyValue("padding-top"))+parseInt(_.getPropertyValue("padding-bottom"))),d=p-(parseInt(_.getPropertyValue("padding-right"))+parseInt(_.getPropertyValue("padding-left")))-s.viewport.scrollBarWidth;return{cols:Math.max(2,Math.floor(d/s._renderService.dimensions.actualCellWidth)),rows:Math.max(1,Math.floor(m/s._renderService.dimensions.actualCellHeight))}}}},o}();n.FitAddon=i}},t={};return function r(n){if(t[n])return t[n].exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}(775)})()})});var Jb=me(Ha=>{"use strict";yl();var e5=He(),Xb=60103;Ha.Fragment=60107;typeof Symbol=="function"&&Symbol.for&&(cv=Symbol.for,Xb=cv("react.element"),Ha.Fragment=cv("react.fragment"));var cv,t5=e5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r5=Object.prototype.hasOwnProperty,n5={key:!0,ref:!0,__self:!0,__source:!0};function Yb(e,t,r){var n,i={},o=null,s=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)r5.call(t,n)&&!n5.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:Xb,type:e,key:o,ref:s,props:i,_owner:t5.current}}Ha.jsx=Yb;Ha.jsxs=Yb});var Qb=me((Ire,Zb)=>{"use strict";Zb.exports=Jb()});var ox=me(Me=>{"use strict";var wf=60103,Cf=60106,Ua=60107,Wa=60108,qa=60114,za=60109,Va=60110,$a=60112,Ga=60113,fv=60120,Ka=60115,Xa=60116,ex=60121,tx=60122,rx=60117,nx=60129,ix=60131;typeof Symbol=="function"&&Symbol.for&&(ft=Symbol.for,wf=ft("react.element"),Cf=ft("react.portal"),Ua=ft("react.fragment"),Wa=ft("react.strict_mode"),qa=ft("react.profiler"),za=ft("react.provider"),Va=ft("react.context"),$a=ft("react.forward_ref"),Ga=ft("react.suspense"),fv=ft("react.suspense_list"),Ka=ft("react.memo"),Xa=ft("react.lazy"),ex=ft("react.block"),tx=ft("react.server.block"),rx=ft("react.fundamental"),nx=ft("react.debug_trace_mode"),ix=ft("react.legacy_hidden"));var ft;function xr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case wf:switch(e=e.type,e){case Ua:case qa:case Wa:case Ga:case fv:return e;default:switch(e=e&&e.$$typeof,e){case Va:case $a:case Xa:case Ka:case za:return e;default:return t}}case Cf:return t}}}var i5=za,o5=wf,s5=$a,a5=Ua,u5=Xa,l5=Ka,c5=Cf,f5=qa,d5=Wa,p5=Ga;Me.ContextConsumer=Va;Me.ContextProvider=i5;Me.Element=o5;Me.ForwardRef=s5;Me.Fragment=a5;Me.Lazy=u5;Me.Memo=l5;Me.Portal=c5;Me.Profiler=f5;Me.StrictMode=d5;Me.Suspense=p5;Me.isAsyncMode=function(){return!1};Me.isConcurrentMode=function(){return!1};Me.isContextConsumer=function(e){return xr(e)===Va};Me.isContextProvider=function(e){return xr(e)===za};Me.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===wf};Me.isForwardRef=function(e){return xr(e)===$a};Me.isFragment=function(e){return xr(e)===Ua};Me.isLazy=function(e){return xr(e)===Xa};Me.isMemo=function(e){return xr(e)===Ka};Me.isPortal=function(e){return xr(e)===Cf};Me.isProfiler=function(e){return xr(e)===qa};Me.isStrictMode=function(e){return xr(e)===Wa};Me.isSuspense=function(e){return xr(e)===Ga};Me.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ua||e===qa||e===nx||e===Wa||e===Ga||e===fv||e===ix||typeof e=="object"&&e!==null&&(e.$$typeof===Xa||e.$$typeof===Ka||e.$$typeof===za||e.$$typeof===Va||e.$$typeof===$a||e.$$typeof===rx||e.$$typeof===ex||e[0]===tx)};Me.typeOf=xr});var ax=me((Are,sx)=>{"use strict";sx.exports=ox()});var Uv=me((Zre,Px)=>{"use strict";var Jn={DEBUG:!1,LIB_VERSION:"2.45.0"},Tt;typeof window>"u"?(bv={hostname:""},Tt={navigator:{userAgent:""},document:{location:bv,referrer:""},screen:{width:0,height:0},location:bv}):Tt=window;var bv,Pf=Array.prototype,N5=Function.prototype,xx=Object.prototype,Yn=Pf.slice,iu=xx.toString,Rf=xx.hasOwnProperty,nt=Tt.console,ln=Tt.navigator,Pe=Tt.document,eu=Tt.opera,Of=Tt.screen,wr=ln.userAgent,xv=N5.bind,px=Pf.forEach,hx=Pf.indexOf,mx=Pf.map,B5=Array.isArray,Ev={},T={trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},Te={log:function(){if(Jn.DEBUG&&!T.isUndefined(nt)&&nt)try{nt.log.apply(nt,arguments)}catch{T.each(arguments,function(t){nt.log(t)})}},warn:function(){if(Jn.DEBUG&&!T.isUndefined(nt)&&nt){var e=["Mixpanel warning:"].concat(T.toArray(arguments));try{nt.warn.apply(nt,e)}catch{T.each(e,function(r){nt.warn(r)})}}},error:function(){if(Jn.DEBUG&&!T.isUndefined(nt)&&nt){var e=["Mixpanel error:"].concat(T.toArray(arguments));try{nt.error.apply(nt,e)}catch{T.each(e,function(r){nt.error(r)})}}},critical:function(){if(!T.isUndefined(nt)&&nt){var e=["Mixpanel error:"].concat(T.toArray(arguments));try{nt.error.apply(nt,e)}catch{T.each(e,function(r){nt.error(r)})}}}},wv=function(e,t){return function(){return arguments[0]="["+t+"] "+arguments[0],e.apply(Te,arguments)}},Ov=function(e){return{log:wv(Te.log,e),error:wv(Te.error,e),critical:wv(Te.critical,e)}};T.bind=function(e,t){var r,n;if(xv&&e.bind===xv)return xv.apply(e,Yn.call(arguments,1));if(!T.isFunction(e))throw new TypeError;return r=Yn.call(arguments,2),n=function(){if(!(this instanceof n))return e.apply(t,r.concat(Yn.call(arguments)));var i={};i.prototype=e.prototype;var o=new i;i.prototype=null;var s=e.apply(o,r.concat(Yn.call(arguments)));return Object(s)===s?s:o},n};T.each=function(e,t,r){if(e!=null){if(px&&e.forEach===px)e.forEach(t,r);else if(e.length===+e.length){for(var n=0,i=e.length;n<i;n++)if(n in e&&t.call(r,e[n],n,e)===Ev)return}else for(var o in e)if(Rf.call(e,o)&&t.call(r,e[o],o,e)===Ev)return}};T.extend=function(e){return T.each(Yn.call(arguments,1),function(t){for(var r in t)t[r]!==void 0&&(e[r]=t[r])}),e};T.isArray=B5||function(e){return iu.call(e)==="[object Array]"};T.isFunction=function(e){try{return/^\s*\bfunction\b/.test(e)}catch{return!1}};T.isArguments=function(e){return!!(e&&Rf.call(e,"callee"))};T.toArray=function(e){return e?e.toArray?e.toArray():T.isArray(e)||T.isArguments(e)?Yn.call(e):T.values(e):[]};T.map=function(e,t,r){if(mx&&e.map===mx)return e.map(t,r);var n=[];return T.each(e,function(i){n.push(t.call(r,i))}),n};T.keys=function(e){var t=[];return e===null||T.each(e,function(r,n){t[t.length]=n}),t};T.values=function(e){var t=[];return e===null||T.each(e,function(r){t[t.length]=r}),t};T.include=function(e,t){var r=!1;return e===null?r:hx&&e.indexOf===hx?e.indexOf(t)!=-1:(T.each(e,function(n){if(r||(r=n===t))return Ev}),r)};T.includes=function(e,t){return e.indexOf(t)!==-1};T.inherit=function(e,t){return e.prototype=new t,e.prototype.constructor=e,e.superclass=t.prototype,e};T.isObject=function(e){return e===Object(e)&&!T.isArray(e)};T.isEmptyObject=function(e){if(T.isObject(e)){for(var t in e)if(Rf.call(e,t))return!1;return!0}return!1};T.isUndefined=function(e){return e===void 0};T.isString=function(e){return iu.call(e)=="[object String]"};T.isDate=function(e){return iu.call(e)=="[object Date]"};T.isNumber=function(e){return iu.call(e)=="[object Number]"};T.isElement=function(e){return!!(e&&e.nodeType===1)};T.encodeDates=function(e){return T.each(e,function(t,r){T.isDate(t)?e[r]=T.formatDate(t):T.isObject(t)&&(e[r]=T.encodeDates(t))}),e};T.timestamp=function(){return Date.now=Date.now||function(){return+new Date},Date.now()};T.formatDate=function(e){function t(r){return r<10?"0"+r:r}return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())};T.strip_empty_properties=function(e){var t={};return T.each(e,function(r,n){T.isString(r)&&r.length>0&&(t[n]=r)}),t};T.truncate=function(e,t){var r;return typeof e=="string"?r=e.slice(0,t):T.isArray(e)?(r=[],T.each(e,function(n){r.push(T.truncate(n,t))})):T.isObject(e)?(r={},T.each(e,function(n,i){r[i]=T.truncate(n,t)})):r=e,r};T.JSONEncode=function(){return function(e){var t=e,r=function(i){var o=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return o.lastIndex=0,o.test(i)?'"'+i.replace(o,function(l){var u=s[l];return typeof u=="string"?u:"\\u"+("0000"+l.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+i+'"'},n=function(i,o){var s="",l="    ",u=0,p="",_="",m=0,d=s,g=[],h=o[i];switch(h&&typeof h=="object"&&typeof h.toJSON=="function"&&(h=h.toJSON(i)),typeof h){case"string":return r(h);case"number":return isFinite(h)?String(h):"null";case"boolean":case"null":return String(h);case"object":if(!h)return"null";if(s+=l,g=[],iu.apply(h)==="[object Array]"){for(m=h.length,u=0;u<m;u+=1)g[u]=n(u,h)||"null";return _=g.length===0?"[]":s?`[
`+s+g.join(`,
`+s)+`
`+d+"]":"["+g.join(",")+"]",s=d,_}for(p in h)Rf.call(h,p)&&(_=n(p,h),_&&g.push(r(p)+(s?": ":":")+_));return _=g.length===0?"{}":s?"{"+g.join(",")+d+"}":"{"+g.join(",")+"}",s=d,_}};return n("",{"":t})}}();T.JSONDecode=function(){var e,t,r={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},n,i=function(g){var h=new SyntaxError(g);throw h.at=e,h.text=n,h},o=function(g){return g&&g!==t&&i("Expected '"+g+"' instead of '"+t+"'"),t=n.charAt(e),e+=1,t},s=function(){var g,h="";for(t==="-"&&(h="-",o("-"));t>="0"&&t<="9";)h+=t,o();if(t===".")for(h+=".";o()&&t>="0"&&t<="9";)h+=t;if(t==="e"||t==="E")for(h+=t,o(),(t==="-"||t==="+")&&(h+=t,o());t>="0"&&t<="9";)h+=t,o();if(g=+h,!isFinite(g))i("Bad number");else return g},l=function(){var g,h,f="",a;if(t==='"')for(;o();){if(t==='"')return o(),f;if(t==="\\")if(o(),t==="u"){for(a=0,h=0;h<4&&(g=parseInt(o(),16),!!isFinite(g));h+=1)a=a*16+g;f+=String.fromCharCode(a)}else if(typeof r[t]=="string")f+=r[t];else break;else f+=t}i("Bad string")},u=function(){for(;t&&t<=" ";)o()},p=function(){switch(t){case"t":return o("t"),o("r"),o("u"),o("e"),!0;case"f":return o("f"),o("a"),o("l"),o("s"),o("e"),!1;case"n":return o("n"),o("u"),o("l"),o("l"),null}i('Unexpected "'+t+'"')},_,m=function(){var g=[];if(t==="["){if(o("["),u(),t==="]")return o("]"),g;for(;t;){if(g.push(_()),u(),t==="]")return o("]"),g;o(","),u()}}i("Bad array")},d=function(){var g,h={};if(t==="{"){if(o("{"),u(),t==="}")return o("}"),h;for(;t;){if(g=l(),u(),o(":"),Object.hasOwnProperty.call(h,g)&&i('Duplicate key "'+g+'"'),h[g]=_(),u(),t==="}")return o("}"),h;o(","),u()}}i("Bad object")};return _=function(){switch(u(),t){case"{":return d();case"[":return m();case'"':return l();case"-":return s();default:return t>="0"&&t<="9"?s():p()}},function(g){var h;return n=g,e=0,t=" ",h=_(),u(),t&&i("Syntax error"),h}}();T.base64Encode=function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r,n,i,o,s,l,u,p,_=0,m=0,d="",g=[];if(!e)return e;e=T.utf8Encode(e);do r=e.charCodeAt(_++),n=e.charCodeAt(_++),i=e.charCodeAt(_++),p=r<<16|n<<8|i,o=p>>18&63,s=p>>12&63,l=p>>6&63,u=p&63,g[m++]=t.charAt(o)+t.charAt(s)+t.charAt(l)+t.charAt(u);while(_<e.length);switch(d=g.join(""),e.length%3){case 1:d=d.slice(0,-2)+"==";break;case 2:d=d.slice(0,-1)+"=";break}return d};T.utf8Encode=function(e){e=(e+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`);var t="",r,n,i=0,o;for(r=n=0,i=e.length,o=0;o<i;o++){var s=e.charCodeAt(o),l=null;s<128?n++:s>127&&s<2048?l=String.fromCharCode(s>>6|192,s&63|128):l=String.fromCharCode(s>>12|224,s>>6&63|128,s&63|128),l!==null&&(n>r&&(t+=e.substring(r,n)),t+=l,r=n=o+1)}return n>r&&(t+=e.substring(r,e.length)),t};T.UUID=function(){var e=function(){for(var n=1*new Date,i=0;n==1*new Date;)i++;return n.toString(16)+i.toString(16)},t=function(){return Math.random().toString(16).replace(".","")},r=function(){var n=wr,i,o,s=[],l=0;function u(p,_){var m,d=0;for(m=0;m<_.length;m++)d|=s[m]<<m*8;return p^d}for(i=0;i<n.length;i++)o=n.charCodeAt(i),s.unshift(o&255),s.length>=4&&(l=u(l,s),s=[]);return s.length>0&&(l=u(l,s)),l.toString(16)};return function(){var n=(Of.height*Of.width).toString(16);return e()+"-"+t()+"-"+r()+"-"+n+"-"+e()}}();var vx=["ahrefsbot","baiduspider","bingbot","bingpreview","facebookexternal","petalbot","pinterest","screaming frog","yahoo! slurp","yandexbot","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google"];T.isBlockedUA=function(e){var t;for(e=e.toLowerCase(),t=0;t<vx.length;t++)if(e.indexOf(vx[t])!==-1)return!0;return!1};T.HTTPBuildQuery=function(e,t){var r,n,i=[];return T.isUndefined(t)&&(t="&"),T.each(e,function(o,s){r=encodeURIComponent(o.toString()),n=encodeURIComponent(s),i[i.length]=n+"="+r}),i.join(t)};T.getQueryParam=function(e,t){t=t.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");var r="[\\?&]"+t+"=([^&#]*)",n=new RegExp(r),i=n.exec(e);if(i===null||i&&typeof i[1]!="string"&&i[1].length)return"";var o=i[1];try{o=decodeURIComponent(o)}catch{Te.error("Skipping decoding for malformed query param: "+o)}return o.replace(/\+/g," ")};T.cookie={get:function(e){for(var t=e+"=",r=Pe.cookie.split(";"),n=0;n<r.length;n++){for(var i=r[n];i.charAt(0)==" ";)i=i.substring(1,i.length);if(i.indexOf(t)===0)return decodeURIComponent(i.substring(t.length,i.length))}return null},parse:function(e){var t;try{t=T.JSONDecode(T.cookie.get(e))||{}}catch{}return t},set_seconds:function(e,t,r,n,i,o,s){var l="",u="",p="";if(s)l="; domain="+s;else if(n){var _=_x(Pe.location.hostname);l=_?"; domain=."+_:""}if(r){var m=new Date;m.setTime(m.getTime()+r*1e3),u="; expires="+m.toGMTString()}o&&(i=!0,p="; SameSite=None"),i&&(p+="; secure"),Pe.cookie=e+"="+encodeURIComponent(t)+u+"; path=/"+l+p},set:function(e,t,r,n,i,o,s){var l="",u="",p="";if(s)l="; domain="+s;else if(n){var _=_x(Pe.location.hostname);l=_?"; domain=."+_:""}if(r){var m=new Date;m.setTime(m.getTime()+r*24*60*60*1e3),u="; expires="+m.toGMTString()}o&&(i=!0,p="; SameSite=None"),i&&(p+="; secure");var d=e+"="+encodeURIComponent(t)+u+"; path=/"+l+p;return Pe.cookie=d,d},remove:function(e,t,r){T.cookie.set(e,"",-1,t,!1,!1,r)}};var Cv=null,Lf=function(e,t){if(Cv!==null&&!t)return Cv;var r=!0;try{e=e||window.localStorage;var n="__mplss_"+Lv(8),i="xyz";e.setItem(n,i),e.getItem(n)!==i&&(r=!1),e.removeItem(n)}catch{r=!1}return Cv=r,r};T.localStorage={is_supported:function(e){var t=Lf(null,e);return t||Te.error("localStorage unsupported; falling back to cookie store"),t},error:function(e){Te.error("localStorage error: "+e)},get:function(e){try{return window.localStorage.getItem(e)}catch(t){T.localStorage.error(t)}return null},parse:function(e){try{return T.JSONDecode(T.localStorage.get(e))||{}}catch{}return null},set:function(e,t){try{window.localStorage.setItem(e,t)}catch(r){T.localStorage.error(r)}},remove:function(e){try{window.localStorage.removeItem(e)}catch(t){T.localStorage.error(t)}}};T.register_event=function(){var e=function(n,i,o,s,l){if(!n){Te.error("No valid element provided to register_event");return}if(n.addEventListener&&!s)n.addEventListener(i,o,!!l);else{var u="on"+i,p=n[u];n[u]=t(n,o,p)}};function t(n,i,o){var s=function(l){if(l=l||r(window.event),!!l){var u=!0,p,_;return T.isFunction(o)&&(p=o(l)),_=i.call(n,l),(p===!1||_===!1)&&(u=!1),u}};return s}function r(n){return n&&(n.preventDefault=r.preventDefault,n.stopPropagation=r.stopPropagation),n}return r.preventDefault=function(){this.returnValue=!1},r.stopPropagation=function(){this.cancelBubble=!0},e}();var j5=new RegExp('^(\\w*)\\[(\\w+)([=~\\|\\^\\$\\*]?)=?"?([^\\]"]*)"?\\]$');T.dom_query=function(){function e(i){return i.all?i.all:i.getElementsByTagName("*")}var t=/[\t\r\n]/g;function r(i,o){var s=" "+o+" ";return(" "+i.className+" ").replace(t," ").indexOf(s)>=0}function n(i){if(!Pe.getElementsByTagName)return[];var o=i.split(" "),s,l,u,p,_,m,d,g,h,f,a=[Pe];for(m=0;m<o.length;m++){if(s=o[m].replace(/^\s+/,"").replace(/\s+$/,""),s.indexOf("#")>-1){l=s.split("#"),u=l[0];var c=l[1],v=Pe.getElementById(c);if(!v||u&&v.nodeName.toLowerCase()!=u)return[];a=[v];continue}if(s.indexOf(".")>-1){l=s.split("."),u=l[0];var y=l[1];for(u||(u="*"),p=[],_=0,d=0;d<a.length;d++)for(u=="*"?h=e(a[d]):h=a[d].getElementsByTagName(u),g=0;g<h.length;g++)p[_++]=h[g];for(a=[],f=0,d=0;d<p.length;d++)p[d].className&&T.isString(p[d].className)&&r(p[d],y)&&(a[f++]=p[d]);continue}var S=s.match(j5);if(S){u=S[1];var b=S[2],C=S[3],E=S[4];for(u||(u="*"),p=[],_=0,d=0;d<a.length;d++)for(u=="*"?h=e(a[d]):h=a[d].getElementsByTagName(u),g=0;g<h.length;g++)p[_++]=h[g];a=[],f=0;var x;switch(C){case"=":x=function(w){return w.getAttribute(b)==E};break;case"~":x=function(w){return w.getAttribute(b).match(new RegExp("\\b"+E+"\\b"))};break;case"|":x=function(w){return w.getAttribute(b).match(new RegExp("^"+E+"-?"))};break;case"^":x=function(w){return w.getAttribute(b).indexOf(E)===0};break;case"$":x=function(w){return w.getAttribute(b).lastIndexOf(E)==w.getAttribute(b).length-E.length};break;case"*":x=function(w){return w.getAttribute(b).indexOf(E)>-1};break;default:x=function(w){return w.getAttribute(b)}}for(a=[],f=0,d=0;d<p.length;d++)x(p[d])&&(a[f++]=p[d]);continue}for(u=s,p=[],_=0,d=0;d<a.length;d++)for(h=a[d].getElementsByTagName(u),g=0;g<h.length;g++)p[_++]=h[g];a=p}return a}return function(i){return T.isElement(i)?[i]:T.isObject(i)&&!T.isUndefined(i.length)?i:n.call(this,i)}}();T.info={campaignParams:function(){var e="utm_source utm_medium utm_campaign utm_content utm_term".split(" "),t="",r={};return T.each(e,function(n){t=T.getQueryParam(Pe.URL,n),t.length&&(r[n]=t)}),r},searchEngine:function(e){return e.search("https?://(.*)google.([^/?]*)")===0?"google":e.search("https?://(.*)bing.com")===0?"bing":e.search("https?://(.*)yahoo.com")===0?"yahoo":e.search("https?://(.*)duckduckgo.com")===0?"duckduckgo":null},searchInfo:function(e){var t=T.info.searchEngine(e),r=t!="yahoo"?"q":"p",n={};if(t!==null){n.$search_engine=t;var i=T.getQueryParam(e,r);i.length&&(n.mp_keyword=i)}return n},browser:function(e,t,r){return t=t||"",r||T.includes(e," OPR/")?T.includes(e,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":T.includes(e,"IEMobile")||T.includes(e,"WPDesktop")?"Internet Explorer Mobile":T.includes(e,"SamsungBrowser/")?"Samsung Internet":T.includes(e,"Edge")||T.includes(e,"Edg/")?"Microsoft Edge":T.includes(e,"FBIOS")?"Facebook Mobile":T.includes(e,"Chrome")?"Chrome":T.includes(e,"CriOS")?"Chrome iOS":T.includes(e,"UCWEB")||T.includes(e,"UCBrowser")?"UC Browser":T.includes(e,"FxiOS")?"Firefox iOS":T.includes(t,"Apple")?T.includes(e,"Mobile")?"Mobile Safari":"Safari":T.includes(e,"Android")?"Android Mobile":T.includes(e,"Konqueror")?"Konqueror":T.includes(e,"Firefox")?"Firefox":T.includes(e,"MSIE")||T.includes(e,"Trident/")?"Internet Explorer":T.includes(e,"Gecko")?"Mozilla":""},browserVersion:function(e,t,r){var n=T.info.browser(e,t,r),i={"Internet Explorer Mobile":/rv:(\d+(\.\d+)?)/,"Microsoft Edge":/Edge?\/(\d+(\.\d+)?)/,Chrome:/Chrome\/(\d+(\.\d+)?)/,"Chrome iOS":/CriOS\/(\d+(\.\d+)?)/,"UC Browser":/(UCBrowser|UCWEB)\/(\d+(\.\d+)?)/,Safari:/Version\/(\d+(\.\d+)?)/,"Mobile Safari":/Version\/(\d+(\.\d+)?)/,Opera:/(Opera|OPR)\/(\d+(\.\d+)?)/,Firefox:/Firefox\/(\d+(\.\d+)?)/,"Firefox iOS":/FxiOS\/(\d+(\.\d+)?)/,Konqueror:/Konqueror:(\d+(\.\d+)?)/,BlackBerry:/BlackBerry (\d+(\.\d+)?)/,"Android Mobile":/android\s(\d+(\.\d+)?)/,"Samsung Internet":/SamsungBrowser\/(\d+(\.\d+)?)/,"Internet Explorer":/(rv:|MSIE )(\d+(\.\d+)?)/,Mozilla:/rv:(\d+(\.\d+)?)/},o=i[n];if(o===void 0)return null;var s=e.match(o);return s?parseFloat(s[s.length-2]):null},os:function(){var e=wr;return/Windows/i.test(e)?/Phone/.test(e)||/WPDesktop/.test(e)?"Windows Phone":"Windows":/(iPhone|iPad|iPod)/.test(e)?"iOS":/Android/.test(e)?"Android":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Mac/i.test(e)?"Mac OS X":/Linux/.test(e)?"Linux":/CrOS/.test(e)?"Chrome OS":""},device:function(e){return/Windows Phone/i.test(e)||/WPDesktop/.test(e)?"Windows Phone":/iPad/.test(e)?"iPad":/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Android/.test(e)?"Android":""},referringDomain:function(e){var t=e.split("/");return t.length>=3?t[2]:""},properties:function(){return T.extend(T.strip_empty_properties({$os:T.info.os(),$browser:T.info.browser(wr,ln.vendor,eu),$referrer:Pe.referrer,$referring_domain:T.info.referringDomain(Pe.referrer),$device:T.info.device(wr)}),{$current_url:Tt.location.href,$browser_version:T.info.browserVersion(wr,ln.vendor,eu),$screen_height:Of.height,$screen_width:Of.width,mp_lib:"web",$lib_version:Jn.LIB_VERSION,$insert_id:Lv(),time:T.timestamp()/1e3})},people_properties:function(){return T.extend(T.strip_empty_properties({$os:T.info.os(),$browser:T.info.browser(wr,ln.vendor,eu)}),{$browser_version:T.info.browserVersion(wr,ln.vendor,eu)})},pageviewInfo:function(e){return T.strip_empty_properties({mp_page:e,mp_referrer:Pe.referrer,mp_browser:T.info.browser(wr,ln.vendor,eu),mp_platform:T.info.os()})}};var Lv=function(e){var t=Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10);return e?t.substring(0,e):t},F5=/[a-z0-9][a-z0-9-]*\.[a-z]+$/i,H5=/[a-z0-9][a-z0-9-]+\.[a-z.]{2,6}$/i,_x=function(e){var t=H5,r=e.split("."),n=r[r.length-1];(n.length>4||n==="com"||n==="org")&&(t=F5);var i=e.match(t);return i?i[0]:""},Tf=null,If=null;typeof JSON<"u"&&(Tf=JSON.stringify,If=JSON.parse);Tf=Tf||T.JSONEncode;If=If||T.JSONDecode;T.toArray=T.toArray;T.isObject=T.isObject;T.JSONEncode=T.JSONEncode;T.JSONDecode=T.JSONDecode;T.isBlockedUA=T.isBlockedUA;T.isEmptyObject=T.isEmptyObject;T.info=T.info;T.info.device=T.info.device;T.info.browser=T.info.browser;T.info.browserVersion=T.info.browserVersion;T.info.properties=T.info.properties;var fn=function(){};fn.prototype.create_properties=function(){};fn.prototype.event_handler=function(){};fn.prototype.after_track_handler=function(){};fn.prototype.init=function(e){return this.mp=e,this};fn.prototype.track=function(e,t,r,n){var i=this,o=T.dom_query(e);if(o.length===0){Te.error("The DOM query ("+e+") returned 0 elements");return}return T.each(o,function(s){T.register_event(s,this.override_event,function(l){var u={},p=i.create_properties(r,this),_=i.mp.get_config("track_links_timeout");i.event_handler(l,this,u),window.setTimeout(i.track_callback(n,p,u,!0),_),i.mp.track(t,p,i.track_callback(n,p,u))})},this),!0};fn.prototype.track_callback=function(e,t,r,n){n=n||!1;var i=this;return function(){r.callback_fired||(r.callback_fired=!0,!(e&&e(n,t)===!1)&&i.after_track_handler(t,r,n))}};fn.prototype.create_properties=function(e,t){var r;return typeof e=="function"?r=e(t):r=T.extend({},e),r};var Go=function(){this.override_event="click"};T.inherit(Go,fn);Go.prototype.create_properties=function(e,t){var r=Go.superclass.create_properties.apply(this,arguments);return t.href&&(r.url=t.href),r};Go.prototype.event_handler=function(e,t,r){r.new_tab=e.which===2||e.metaKey||e.ctrlKey||t.target==="_blank",r.href=t.href,r.new_tab||e.preventDefault()};Go.prototype.after_track_handler=function(e,t){t.new_tab||setTimeout(function(){window.location=t.href},0)};var Df=function(){this.override_event="submit"};T.inherit(Df,fn);Df.prototype.event_handler=function(e,t,r){r.element=t,e.preventDefault()};Df.prototype.after_track_handler=function(e,t){setTimeout(function(){t.element.submit()},0)};var U5=Ov("lock"),wx=function(e,t){t=t||{},this.storageKey=e,this.storage=t.storage||window.localStorage,this.pollIntervalMS=t.pollIntervalMS||100,this.timeoutMS=t.timeoutMS||2e3};wx.prototype.withLock=function(e,t,r){!r&&typeof t!="function"&&(r=t,t=null);var n=r||new Date().getTime()+"|"+Math.random(),i=new Date().getTime(),o=this.storageKey,s=this.pollIntervalMS,l=this.timeoutMS,u=this.storage,p=o+":X",_=o+":Y",m=o+":Z",d=function(v){t&&t(v)},g=function(v){if(new Date().getTime()-i>l){U5.error("Timeout waiting for mutex on "+o+"; clearing lock. ["+n+"]"),u.removeItem(m),u.removeItem(_),a();return}setTimeout(function(){try{v()}catch(y){d(y)}},s*(Math.random()+.1))},h=function(v,y){v()?y():g(function(){h(v,y)})},f=function(){var v=u.getItem(_);if(v&&v!==n)return!1;if(u.setItem(_,n),u.getItem(_)===n)return!0;if(!Lf(u,!0))throw new Error("localStorage support dropped while acquiring lock");return!1},a=function(){u.setItem(p,n),h(f,function(){if(u.getItem(p)===n){c();return}g(function(){if(u.getItem(_)!==n){a();return}h(function(){return!u.getItem(m)},c)})})},c=function(){u.setItem(m,"1");try{e()}finally{u.removeItem(m),u.getItem(_)===n&&u.removeItem(_),u.getItem(p)===n&&u.removeItem(p)}};try{if(Lf(u,!0))a();else throw new Error("localStorage support check failed")}catch(v){d(v)}};var gx=Ov("batch"),ei=function(e,t){t=t||{},this.storageKey=e,this.storage=t.storage||window.localStorage,this.reportError=t.errorReporter||T.bind(gx.error,gx),this.lock=new wx(e,{storage:this.storage}),this.pid=t.pid||null,this.memQueue=[]};ei.prototype.enqueue=function(e,t,r){var n={id:Lv(),flushAfter:new Date().getTime()+t*2,payload:e};this.lock.withLock(T.bind(function(){var o;try{var s=this.readFromStorage();s.push(n),o=this.saveToStorage(s),o&&this.memQueue.push(n)}catch{this.reportError("Error enqueueing item",e),o=!1}r&&r(o)},this),T.bind(function(o){this.reportError("Error acquiring storage lock",o),r&&r(!1)},this),this.pid)};ei.prototype.fillBatch=function(e){var t=this.memQueue.slice(0,e);if(t.length<e){var r=this.readFromStorage();if(r.length){var n={};T.each(t,function(s){n[s.id]=!0});for(var i=0;i<r.length;i++){var o=r[i];if(new Date().getTime()>o.flushAfter&&!n[o.id]&&(o.orphaned=!0,t.push(o),t.length>=e))break}}}return t};var yx=function(e,t){var r=[];return T.each(e,function(n){n.id&&!t[n.id]&&r.push(n)}),r};ei.prototype.removeItemsByID=function(e,t){var r={};T.each(e,function(i){r[i]=!0}),this.memQueue=yx(this.memQueue,r);var n=T.bind(function(){var i;try{var o=this.readFromStorage();if(o=yx(o,r),i=this.saveToStorage(o),i){o=this.readFromStorage();for(var s=0;s<o.length;s++){var l=o[s];if(l.id&&!!r[l.id])return this.reportError("Item not removed from storage"),!1}}}catch{this.reportError("Error removing items",e),i=!1}return i},this);this.lock.withLock(function(){var o=n();t&&t(o)},T.bind(function(o){var s=!1;if(this.reportError("Error acquiring storage lock",o),!Lf(this.storage,!0)&&(s=n(),!s))try{this.storage.removeItem(this.storageKey)}catch(l){this.reportError("Error clearing queue",l)}t&&t(s)},this),this.pid)};var Sx=function(e,t){var r=[];return T.each(e,function(n){var i=n.id;if(i in t){var o=t[i];o!==null&&(n.payload=o,r.push(n))}else r.push(n)}),r};ei.prototype.updatePayloads=function(e,t){this.memQueue=Sx(this.memQueue,e),this.lock.withLock(T.bind(function(){var n;try{var i=this.readFromStorage();i=Sx(i,e),n=this.saveToStorage(i)}catch{this.reportError("Error updating items",e),n=!1}t&&t(n)},this),T.bind(function(n){this.reportError("Error acquiring storage lock",n),t&&t(!1)},this),this.pid)};ei.prototype.readFromStorage=function(){var e;try{e=this.storage.getItem(this.storageKey),e&&(e=If(e),T.isArray(e)||(this.reportError("Invalid storage entry:",e),e=null))}catch(t){this.reportError("Error retrieving queue",t),e=null}return e||[]};ei.prototype.saveToStorage=function(e){try{return this.storage.setItem(this.storageKey,Tf(e)),!0}catch(t){return this.reportError("Error saving queue",t),!1}};ei.prototype.clear=function(){this.memQueue=[],this.storage.removeItem(this.storageKey)};var W5=10*60*1e3,tu=Ov("batch"),Vr=function(e,t){this.errorReporter=t.errorReporter,this.queue=new ei(e,{errorReporter:T.bind(this.reportError,this),storage:t.storage}),this.libConfig=t.libConfig,this.sendRequest=t.sendRequestFunc,this.beforeSendHook=t.beforeSendHook,this.stopAllBatching=t.stopAllBatchingFunc,this.batchSize=this.libConfig.batch_size,this.flushInterval=this.libConfig.batch_flush_interval_ms,this.stopped=!this.libConfig.batch_autostart,this.consecutiveRemovalFailures=0};Vr.prototype.enqueue=function(e,t){this.queue.enqueue(e,this.flushInterval,t)};Vr.prototype.start=function(){this.stopped=!1,this.consecutiveRemovalFailures=0,this.flush()};Vr.prototype.stop=function(){this.stopped=!0,this.timeoutID&&(clearTimeout(this.timeoutID),this.timeoutID=null)};Vr.prototype.clear=function(){this.queue.clear()};Vr.prototype.resetBatchSize=function(){this.batchSize=this.libConfig.batch_size};Vr.prototype.resetFlush=function(){this.scheduleFlush(this.libConfig.batch_flush_interval_ms)};Vr.prototype.scheduleFlush=function(e){this.flushInterval=e,this.stopped||(this.timeoutID=setTimeout(T.bind(this.flush,this),this.flushInterval))};Vr.prototype.flush=function(e){try{if(this.requestInProgress){tu.log("Flush: Request already in progress");return}e=e||{};var t=this.libConfig.batch_request_timeout_ms,r=new Date().getTime(),n=this.batchSize,i=this.queue.fillBatch(n),o=[],s={};if(T.each(i,function(p){var _=p.payload;this.beforeSendHook&&!p.orphaned&&(_=this.beforeSendHook(_)),_&&o.push(_),s[p.id]=_},this),o.length<1){this.resetFlush();return}this.requestInProgress=!0;var l=T.bind(function(p){this.requestInProgress=!1;try{var _=!1;if(e.unloading)this.queue.updatePayloads(s);else if(T.isObject(p)&&p.error==="timeout"&&new Date().getTime()-r>=t)this.reportError("Network timeout; retrying"),this.flush();else if(T.isObject(p)&&p.xhr_req&&(p.xhr_req.status>=500||p.xhr_req.status===429||p.error==="timeout")){var m=this.flushInterval*2,d=p.xhr_req.responseHeaders;if(d){var g=d["Retry-After"];g&&(m=parseInt(g,10)*1e3||m)}m=Math.min(W5,m),this.reportError("Error; retry in "+m+" ms"),this.scheduleFlush(m)}else if(T.isObject(p)&&p.xhr_req&&p.xhr_req.status===413)if(i.length>1){var h=Math.max(1,Math.floor(n/2));this.batchSize=Math.min(this.batchSize,h,i.length-1),this.reportError("413 response; reducing batch size to "+this.batchSize),this.resetFlush()}else this.reportError("Single-event request too large; dropping",i),this.resetBatchSize(),_=!0;else _=!0;_&&this.queue.removeItemsByID(T.map(i,function(f){return f.id}),T.bind(function(f){f?(this.consecutiveRemovalFailures=0,this.flush()):(this.reportError("Failed to remove items from queue"),++this.consecutiveRemovalFailures>5?(this.reportError("Too many queue failures; disabling batching system."),this.stopAllBatching()):this.resetFlush())},this))}catch(f){this.reportError("Error handling API response",f),this.resetFlush()}},this),u={method:"POST",verbose:!0,ignore_json_errors:!0,timeout_ms:t};e.unloading&&(u.transport="sendBeacon"),tu.log("MIXPANEL REQUEST:",o),this.sendRequest(o,u,l)}catch(p){this.reportError("Error flushing request queue",p),this.resetFlush()}};Vr.prototype.reportError=function(e,t){if(tu.error.apply(tu.error,arguments),this.errorReporter)try{t instanceof Error||(t=new Error(e)),this.errorReporter(e,t)}catch(r){tu.error(r)}};var q5="__mp_opt_in_out_";function z5(e,t){kx(!0,e,t)}function V5(e,t){kx(!1,e,t)}function $5(e,t){return Ex(e,t)==="1"}function Cx(e,t){if(K5(t))return Te.warn('This browser has "Do Not Track" enabled. This will prevent the Mixpanel SDK from sending any data. To ignore the "Do Not Track" browser setting, initialize the Mixpanel instance with the config "ignore_dnt: true"'),!0;var r=Ex(e,t)==="0";return r&&Te.warn("You are opted out of Mixpanel tracking. This will prevent the Mixpanel SDK from sending any data."),r}function ou(e){return Mv(e,function(t){return this.get_config(t)})}function ti(e){return Mv(e,function(t){return this._get_config(t)})}function Xo(e){return Mv(e,function(t){return this._get_config(t)})}function G5(e,t){t=t||{},Tv(t).remove(Iv(e,t),!!t.crossSubdomainCookie,t.cookieDomain)}function Tv(e){return e=e||{},e.persistenceType==="localStorage"?T.localStorage:T.cookie}function Iv(e,t){return t=t||{},(t.persistencePrefix||q5)+e}function Ex(e,t){return Tv(t).get(Iv(e,t))}function K5(e){if(e&&e.ignoreDnt)return!1;var t=e&&e.window||Tt,r=t.navigator||{},n=!1;return T.each([r.doNotTrack,r.msDoNotTrack,t.doNotTrack],function(i){T.includes([!0,1,"1","yes"],i)&&(n=!0)}),n}function kx(e,t,r){if(!T.isString(t)||!t.length){Te.error("gdpr."+(e?"optIn":"optOut")+" called with an invalid token");return}r=r||{},Tv(r).set(Iv(t,r),e?1:0,T.isNumber(r.cookieExpiration)?r.cookieExpiration:null,!!r.crossSubdomainCookie,!!r.secureCookie,!!r.crossSiteCookie,r.cookieDomain),r.track&&e&&r.track(r.trackEventName||"$opt_in",r.trackProperties,{send_immediately:!0})}function Mv(e,t){return function(){var r=!1;try{var n=t.call(this,"token"),i=t.call(this,"ignore_dnt"),o=t.call(this,"opt_out_tracking_persistence_type"),s=t.call(this,"opt_out_tracking_cookie_prefix"),l=t.call(this,"window");n&&(r=Cx(n,{ignoreDnt:i,persistenceType:o,persistencePrefix:s,window:l}))}catch(p){Te.error("Unexpected error when checking tracking opt-out status: "+p)}if(!r)return e.apply(this,arguments);var u=arguments[arguments.length-1];typeof u=="function"&&u(0)}}var Zn="$set",Ko="$set_once",Cr="$unset",Pi="$add",cn="$append",Ri="$union",Qn="$remove",X5="$delete",Ox={set_action:function(e,t){var r={},n={};return T.isObject(e)?T.each(e,function(i,o){this._is_reserved_property(o)||(n[o]=i)},this):n[e]=t,r[Zn]=n,r},unset_action:function(e){var t={},r=[];return T.isArray(e)||(e=[e]),T.each(e,function(n){this._is_reserved_property(n)||r.push(n)},this),t[Cr]=r,t},set_once_action:function(e,t){var r={},n={};return T.isObject(e)?T.each(e,function(i,o){this._is_reserved_property(o)||(n[o]=i)},this):n[e]=t,r[Ko]=n,r},union_action:function(e,t){var r={},n={};return T.isObject(e)?T.each(e,function(i,o){this._is_reserved_property(o)||(n[o]=T.isArray(i)?i:[i])},this):n[e]=T.isArray(t)?t:[t],r[Ri]=n,r},append_action:function(e,t){var r={},n={};return T.isObject(e)?T.each(e,function(i,o){this._is_reserved_property(o)||(n[o]=i)},this):n[e]=t,r[cn]=n,r},remove_action:function(e,t){var r={},n={};return T.isObject(e)?T.each(e,function(i,o){this._is_reserved_property(o)||(n[o]=i)},this):n[e]=t,r[Qn]=n,r},delete_action:function(){var e={};return e[X5]="",e}},je=function(){};T.extend(je.prototype,Ox);je.prototype._init=function(e,t,r){this._mixpanel=e,this._group_key=t,this._group_id=r};je.prototype.set=Xo(function(e,t,r){var n=this.set_action(e,t);return T.isObject(e)&&(r=t),this._send_request(n,r)});je.prototype.set_once=Xo(function(e,t,r){var n=this.set_once_action(e,t);return T.isObject(e)&&(r=t),this._send_request(n,r)});je.prototype.unset=Xo(function(e,t){var r=this.unset_action(e);return this._send_request(r,t)});je.prototype.union=Xo(function(e,t,r){T.isObject(e)&&(r=t);var n=this.union_action(e,t);return this._send_request(n,r)});je.prototype.delete=Xo(function(e){var t=this.delete_action();return this._send_request(t,e)});je.prototype.remove=Xo(function(e,t,r){var n=this.remove_action(e,t);return this._send_request(n,r)});je.prototype._send_request=function(e,t){e.$group_key=this._group_key,e.$group_id=this._group_id,e.$token=this._get_config("token");var r=T.encodeDates(e);return this._mixpanel._track_or_batch({type:"groups",data:r,endpoint:this._get_config("api_host")+"/groups/",batcher:this._mixpanel.request_batchers.groups},t)};je.prototype._is_reserved_property=function(e){return e==="$group_key"||e==="$group_id"};je.prototype._get_config=function(e){return this._mixpanel.get_config(e)};je.prototype.toString=function(){return this._mixpanel.toString()+".group."+this._group_key+"."+this._group_id};je.prototype.remove=je.prototype.remove;je.prototype.set=je.prototype.set;je.prototype.set_once=je.prototype.set_once;je.prototype.union=je.prototype.union;je.prototype.unset=je.prototype.unset;je.prototype.toString=je.prototype.toString;var fe=function(){};T.extend(fe.prototype,Ox);fe.prototype._init=function(e){this._mixpanel=e};fe.prototype.set=ti(function(e,t,r){var n=this.set_action(e,t);return T.isObject(e)&&(r=t),this._get_config("save_referrer")&&this._mixpanel.persistence.update_referrer_info(document.referrer),n[Zn]=T.extend({},T.info.people_properties(),this._mixpanel.persistence.get_referrer_info(),n[Zn]),this._send_request(n,r)});fe.prototype.set_once=ti(function(e,t,r){var n=this.set_once_action(e,t);return T.isObject(e)&&(r=t),this._send_request(n,r)});fe.prototype.unset=ti(function(e,t){var r=this.unset_action(e);return this._send_request(r,t)});fe.prototype.increment=ti(function(e,t,r){var n={},i={};return T.isObject(e)?(T.each(e,function(o,s){if(!this._is_reserved_property(s))if(isNaN(parseFloat(o))){Te.error("Invalid increment value passed to mixpanel.people.increment - must be a number");return}else i[s]=o},this),r=t):(T.isUndefined(t)&&(t=1),i[e]=t),n[Pi]=i,this._send_request(n,r)});fe.prototype.append=ti(function(e,t,r){T.isObject(e)&&(r=t);var n=this.append_action(e,t);return this._send_request(n,r)});fe.prototype.remove=ti(function(e,t,r){T.isObject(e)&&(r=t);var n=this.remove_action(e,t);return this._send_request(n,r)});fe.prototype.union=ti(function(e,t,r){T.isObject(e)&&(r=t);var n=this.union_action(e,t);return this._send_request(n,r)});fe.prototype.track_charge=ti(function(e,t,r){if(!T.isNumber(e)&&(e=parseFloat(e),isNaN(e))){Te.error("Invalid value passed to mixpanel.people.track_charge - must be a number");return}return this.append("$transactions",T.extend({$amount:e},t),r)});fe.prototype.clear_charges=function(e){return this.set("$transactions",[],e)};fe.prototype.delete_user=function(){if(!this._identify_called()){Te.error("mixpanel.people.delete_user() requires you to call identify() first");return}var e={$delete:this._mixpanel.get_distinct_id()};return this._send_request(e)};fe.prototype.toString=function(){return this._mixpanel.toString()+".people"};fe.prototype._send_request=function(e,t){e.$token=this._get_config("token"),e.$distinct_id=this._mixpanel.get_distinct_id();var r=this._mixpanel.get_property("$device_id"),n=this._mixpanel.get_property("$user_id"),i=this._mixpanel.get_property("$had_persisted_distinct_id");r&&(e.$device_id=r),n&&(e.$user_id=n),i&&(e.$had_persisted_distinct_id=i);var o=T.encodeDates(e);return this._identify_called()?this._mixpanel._track_or_batch({type:"people",data:o,endpoint:this._get_config("api_host")+"/engage/",batcher:this._mixpanel.request_batchers.people},t):(this._enqueue(e),T.isUndefined(t)||(this._get_config("verbose")?t({status:-1,error:null}):t(-1)),T.truncate(o,255))};fe.prototype._get_config=function(e){return this._mixpanel.get_config(e)};fe.prototype._identify_called=function(){return this._mixpanel._flags.identify_called===!0};fe.prototype._enqueue=function(e){Zn in e?this._mixpanel.persistence._add_to_people_queue(Zn,e):Ko in e?this._mixpanel.persistence._add_to_people_queue(Ko,e):Cr in e?this._mixpanel.persistence._add_to_people_queue(Cr,e):Pi in e?this._mixpanel.persistence._add_to_people_queue(Pi,e):cn in e?this._mixpanel.persistence._add_to_people_queue(cn,e):Qn in e?this._mixpanel.persistence._add_to_people_queue(Qn,e):Ri in e?this._mixpanel.persistence._add_to_people_queue(Ri,e):Te.error("Invalid call to _enqueue():",e)};fe.prototype._flush_one_queue=function(e,t,r,n){var i=this,o=T.extend({},this._mixpanel.persistence._get_queue(e)),s=o;!T.isUndefined(o)&&T.isObject(o)&&!T.isEmptyObject(o)&&(i._mixpanel.persistence._pop_from_people_queue(e,o),n&&(s=n(o)),t.call(i,s,function(l,u){l===0&&i._mixpanel.persistence._add_to_people_queue(e,o),T.isUndefined(r)||r(l,u)}))};fe.prototype._flush=function(e,t,r,n,i,o,s){var l=this,u=this._mixpanel.persistence._get_queue(cn),p=this._mixpanel.persistence._get_queue(Qn);if(this._flush_one_queue(Zn,this.set,e),this._flush_one_queue(Ko,this.set_once,n),this._flush_one_queue(Cr,this.unset,o,function(a){return T.keys(a)}),this._flush_one_queue(Pi,this.increment,t),this._flush_one_queue(Ri,this.union,i),!T.isUndefined(u)&&T.isArray(u)&&u.length){for(var _,m=function(a,c){a===0&&l._mixpanel.persistence._add_to_people_queue(cn,_),T.isUndefined(r)||r(a,c)},d=u.length-1;d>=0;d--)_=u.pop(),T.isEmptyObject(_)||l.append(_,m);l._mixpanel.persistence.save()}if(!T.isUndefined(p)&&T.isArray(p)&&p.length){for(var g,h=function(a,c){a===0&&l._mixpanel.persistence._add_to_people_queue(Qn,g),T.isUndefined(s)||s(a,c)},f=p.length-1;f>=0;f--)g=p.pop(),T.isEmptyObject(g)||l.remove(g,h);l._mixpanel.persistence.save()}};fe.prototype._is_reserved_property=function(e){return e==="$distinct_id"||e==="$token"||e==="$device_id"||e==="$user_id"||e==="$had_persisted_distinct_id"};fe.prototype.set=fe.prototype.set;fe.prototype.set_once=fe.prototype.set_once;fe.prototype.unset=fe.prototype.unset;fe.prototype.increment=fe.prototype.increment;fe.prototype.append=fe.prototype.append;fe.prototype.remove=fe.prototype.remove;fe.prototype.union=fe.prototype.union;fe.prototype.track_charge=fe.prototype.track_charge;fe.prototype.clear_charges=fe.prototype.clear_charges;fe.prototype.delete_user=fe.prototype.delete_user;fe.prototype.toString=fe.prototype.toString;var Av="__mps",Pv="__mpso",Rv="__mpus",Dv="__mpa",Nv="__mpap",Bv="__mpr",jv="__mpu",Lx="$people_distinct_id",Mf="__alias",ru="__timers",Y5=[Av,Pv,Rv,Dv,Nv,Bv,jv,Lx,Mf,ru],pe=function(e){this.props={},this.campaign_params_saved=!1,e.persistence_name?this.name="mp_"+e.persistence_name:this.name="mp_"+e.token+"_mixpanel";var t=e.persistence;t!=="cookie"&&t!=="localStorage"&&(Te.critical("Unknown persistence type "+t+"; falling back to cookie"),t=e.persistence="cookie"),t==="localStorage"&&T.localStorage.is_supported()?this.storage=T.localStorage:this.storage=T.cookie,this.load(),this.update_config(e),this.upgrade(e),this.save()};pe.prototype.properties=function(){var e={};return T.each(this.props,function(t,r){T.include(Y5,r)||(e[r]=t)}),e};pe.prototype.load=function(){if(!this.disabled){var e=this.storage.parse(this.name);e&&(this.props=T.extend({},e))}};pe.prototype.upgrade=function(e){var t=e.upgrade,r,n;t&&(r="mp_super_properties",typeof t=="string"&&(r=t),n=this.storage.parse(r),this.storage.remove(r),this.storage.remove(r,!0),n&&(this.props=T.extend(this.props,n.all,n.events))),!e.cookie_name&&e.name!=="mixpanel"&&(r="mp_"+e.token+"_"+e.name,n=this.storage.parse(r),n&&(this.storage.remove(r),this.storage.remove(r,!0),this.register_once(n))),this.storage===T.localStorage&&(n=T.cookie.parse(this.name),T.cookie.remove(this.name),T.cookie.remove(this.name,!0),n&&this.register_once(n))};pe.prototype.save=function(){this.disabled||this.storage.set(this.name,T.JSONEncode(this.props),this.expire_days,this.cross_subdomain,this.secure,this.cross_site,this.cookie_domain)};pe.prototype.remove=function(){this.storage.remove(this.name,!1,this.cookie_domain),this.storage.remove(this.name,!0,this.cookie_domain)};pe.prototype.clear=function(){this.remove(),this.props={}};pe.prototype.register_once=function(e,t,r){return T.isObject(e)?(typeof t>"u"&&(t="None"),this.expire_days=typeof r>"u"?this.default_expiry:r,T.each(e,function(n,i){(!this.props.hasOwnProperty(i)||this.props[i]===t)&&(this.props[i]=n)},this),this.save(),!0):!1};pe.prototype.register=function(e,t){return T.isObject(e)?(this.expire_days=typeof t>"u"?this.default_expiry:t,T.extend(this.props,e),this.save(),!0):!1};pe.prototype.unregister=function(e){e in this.props&&(delete this.props[e],this.save())};pe.prototype.update_campaign_params=function(){this.campaign_params_saved||(this.register_once(T.info.campaignParams()),this.campaign_params_saved=!0)};pe.prototype.update_search_keyword=function(e){this.register(T.info.searchInfo(e))};pe.prototype.update_referrer_info=function(e){this.register_once({$initial_referrer:e||"$direct",$initial_referring_domain:T.info.referringDomain(e)||"$direct"},"")};pe.prototype.get_referrer_info=function(){return T.strip_empty_properties({$initial_referrer:this.props.$initial_referrer,$initial_referring_domain:this.props.$initial_referring_domain})};pe.prototype.safe_merge=function(e){return T.each(this.props,function(t,r){r in e||(e[r]=t)}),e};pe.prototype.update_config=function(e){this.default_expiry=this.expire_days=e.cookie_expiration,this.set_disabled(e.disable_persistence),this.set_cookie_domain(e.cookie_domain),this.set_cross_site(e.cross_site_cookie),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie)};pe.prototype.set_disabled=function(e){this.disabled=e,this.disabled?this.remove():this.save()};pe.prototype.set_cookie_domain=function(e){e!==this.cookie_domain&&(this.remove(),this.cookie_domain=e,this.save())};pe.prototype.set_cross_site=function(e){e!==this.cross_site&&(this.cross_site=e,this.remove(),this.save())};pe.prototype.set_cross_subdomain=function(e){e!==this.cross_subdomain&&(this.cross_subdomain=e,this.remove(),this.save())};pe.prototype.get_cross_subdomain=function(){return this.cross_subdomain};pe.prototype.set_secure=function(e){e!==this.secure&&(this.secure=!!e,this.remove(),this.save())};pe.prototype._add_to_people_queue=function(e,t){var r=this._get_queue_key(e),n=t[e],i=this._get_or_create_queue(Zn),o=this._get_or_create_queue(Ko),s=this._get_or_create_queue(Cr),l=this._get_or_create_queue(Pi),u=this._get_or_create_queue(Ri),p=this._get_or_create_queue(Qn,[]),_=this._get_or_create_queue(cn,[]);r===Av?(T.extend(i,n),this._pop_from_people_queue(Pi,n),this._pop_from_people_queue(Ri,n),this._pop_from_people_queue(Cr,n)):r===Pv?(T.each(n,function(m,d){d in o||(o[d]=m)}),this._pop_from_people_queue(Cr,n)):r===Rv?T.each(n,function(m){T.each([i,o,l,u],function(d){m in d&&delete d[m]}),T.each(_,function(d){m in d&&delete d[m]}),s[m]=!0}):r===Dv?(T.each(n,function(m,d){d in i?i[d]+=m:(d in l||(l[d]=0),l[d]+=m)},this),this._pop_from_people_queue(Cr,n)):r===jv?(T.each(n,function(m,d){T.isArray(m)&&(d in u||(u[d]=[]),u[d]=u[d].concat(m))}),this._pop_from_people_queue(Cr,n)):r===Bv?(p.push(n),this._pop_from_people_queue(cn,n)):r===Nv&&(_.push(n),this._pop_from_people_queue(Cr,n)),Te.log("MIXPANEL PEOPLE REQUEST (QUEUED, PENDING IDENTIFY):"),Te.log(t),this.save()};pe.prototype._pop_from_people_queue=function(e,t){var r=this._get_queue(e);T.isUndefined(r)||(T.each(t,function(n,i){e===cn||e===Qn?T.each(r,function(o){o[i]===n&&delete o[i]}):delete r[i]},this),this.save())};pe.prototype._get_queue_key=function(e){if(e===Zn)return Av;if(e===Ko)return Pv;if(e===Cr)return Rv;if(e===Pi)return Dv;if(e===cn)return Nv;if(e===Qn)return Bv;if(e===Ri)return jv;Te.error("Invalid queue:",e)};pe.prototype._get_queue=function(e){return this.props[this._get_queue_key(e)]};pe.prototype._get_or_create_queue=function(e,t){var r=this._get_queue_key(e);return t=T.isUndefined(t)?{}:t,this.props[r]||(this.props[r]=t)};pe.prototype.set_event_timer=function(e,t){var r=this.props[ru]||{};r[e]=t,this.props[ru]=r,this.save()};pe.prototype.remove_event_timer=function(e){var t=this.props[ru]||{},r=t[e];return T.isUndefined(r)||(delete this.props[ru][e],this.save()),r};var Fv,Lt,Tx=0,J5=1,Z5=function(e){return e},nu=function(){},hr="mixpanel",Ix="base64",Q5="json",$o=Tt.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,Mx=!$o&&wr.indexOf("MSIE")===-1&&wr.indexOf("Mozilla")===-1,Af=null;ln.sendBeacon&&(Af=function(){return ln.sendBeacon.apply(ln,arguments)});var bx={api_host:"https://api-js.mixpanel.com",api_method:"POST",api_transport:"XHR",api_payload_format:Ix,app_host:"https://mixpanel.com",cdn:"https://cdn.mxpnl.com",cross_site_cookie:!1,cross_subdomain_cookie:!0,error_reporter:nu,persistence:"cookie",persistence_name:"",cookie_domain:"",cookie_name:"",loaded:nu,store_google:!0,save_referrer:!0,test:!1,verbose:!1,img:!1,debug:!1,track_links_timeout:300,cookie_expiration:365,upgrade:!1,disable_persistence:!1,disable_cookie:!1,secure_cookie:!1,ip:!0,opt_out_tracking_by_default:!1,opt_out_persistence_by_default:!1,opt_out_tracking_persistence_type:"localStorage",opt_out_tracking_cookie_prefix:null,property_blacklist:[],xhr_headers:{},ignore_dnt:!1,batch_requests:!0,batch_size:50,batch_flush_interval_ms:5e3,batch_request_timeout_ms:9e4,batch_autostart:!0,hooks:{}},Ax=!1,W=function(){},kv=function(e,t,r){var n,i=r===hr?Lt:Lt[r];if(i&&Fv===Tx)n=i;else{if(i&&!T.isArray(i)){Te.error("You have already initialized "+r);return}n=new W}return n._cached_groups={},n._init(e,t,r),n.people=new fe,n.people._init(n),Jn.DEBUG=Jn.DEBUG||n.get_config("debug"),!T.isUndefined(i)&&T.isArray(i)&&(n._execute_array.call(n.people,i.people),n._execute_array(i)),n};W.prototype.init=function(e,t,r){if(T.isUndefined(r)){this.report_error("You must name your new library: init(token, config, name)");return}if(r===hr){this.report_error("You must initialize the main mixpanel object right after you include the Mixpanel js snippet");return}var n=kv(e,t,r);return Lt[r]=n,n._loaded(),n};W.prototype._init=function(e,t,r){t=t||{},this.__loaded=!0,this.config={};var n={};if(!("api_payload_format"in t)){var i=t.api_host||bx.api_host;i.match(/\.mixpanel\.com$/)&&(n.api_payload_format=Q5)}if(this.set_config(T.extend({},bx,n,t,{name:r,token:e,callback_fn:(r===hr?r:hr+"."+r)+"._jsc"})),this._jsc=nu,this.__dom_loaded_queue=[],this.__request_queue=[],this.__disabled_events=[],this._flags={disable_all_events:!1,identify_called:!1},this.request_batchers={},this._batch_requests=this.get_config("batch_requests"),this._batch_requests){if(!T.localStorage.is_supported(!0)||!$o)this._batch_requests=!1,Te.log("Turning off Mixpanel request-queueing; needs XHR and localStorage support");else if(this.init_batchers(),Af&&Tt.addEventListener){var o=T.bind(function(){this.request_batchers.events.stopped||this.request_batchers.events.flush({unloading:!0})},this);Tt.addEventListener("pagehide",function(l){l.persisted&&o()}),Tt.addEventListener("visibilitychange",function(){Pe.visibilityState==="hidden"&&o()})}}this.persistence=this.cookie=new pe(this.config),this.unpersisted_superprops={},this._gdpr_init();var s=T.UUID();this.get_distinct_id()||this.register_once({distinct_id:s,$device_id:s},"")};W.prototype._loaded=function(){this.get_config("loaded")(this),this._set_default_superprops()};W.prototype._set_default_superprops=function(){this.persistence.update_search_keyword(Pe.referrer),this.get_config("store_google")&&this.persistence.update_campaign_params(),this.get_config("save_referrer")&&this.persistence.update_referrer_info(Pe.referrer)};W.prototype._dom_loaded=function(){T.each(this.__dom_loaded_queue,function(e){this._track_dom.apply(this,e)},this),this.has_opted_out_tracking()||T.each(this.__request_queue,function(e){this._send_request.apply(this,e)},this),delete this.__dom_loaded_queue,delete this.__request_queue};W.prototype._track_dom=function(e,t){if(this.get_config("img"))return this.report_error("You can't use DOM tracking functions with img = true."),!1;if(!Ax)return this.__dom_loaded_queue.push([e,t]),!1;var r=new e().init(this);return r.track.apply(r,t)};W.prototype._prepare_callback=function(e,t){if(T.isUndefined(e))return null;if($o){var r=function(s){e(s,t)};return r}else{var n=this._jsc,i=""+Math.floor(Math.random()*1e8),o=this.get_config("callback_fn")+"["+i+"]";return n[i]=function(s){delete n[i],e(s,t)},o}};W.prototype._send_request=function(e,t,r,n){var i=!0;if(Mx)return this.__request_queue.push(arguments),i;var o={method:this.get_config("api_method"),transport:this.get_config("api_transport"),verbose:this.get_config("verbose")},s=null;!n&&(T.isFunction(r)||typeof r=="string")&&(n=r,r=null),r=T.extend(o,r||{}),$o||(r.method="GET");var l=r.method==="POST",u=Af&&l&&r.transport.toLowerCase()==="sendbeacon",p=r.verbose;t.verbose&&(p=!0),this.get_config("test")&&(t.test=1),p&&(t.verbose=1),this.get_config("img")&&(t.img=1),$o||(n?t.callback=n:(p||this.get_config("test"))&&(t.callback="(function(){})")),t.ip=this.get_config("ip")?1:0,t._=new Date().getTime().toString(),l&&(s="data="+encodeURIComponent(t.data),delete t.data),e+="?"+T.HTTPBuildQuery(t);var _=this;if("img"in t){var m=Pe.createElement("img");m.src=e,Pe.body.appendChild(m)}else if(u){try{i=Af(e,s)}catch(c){_.report_error(c),i=!1}try{n&&n(i?1:0)}catch(c){_.report_error(c)}}else if($o)try{var d=new XMLHttpRequest;d.open(r.method,e,!0);var g=this.get_config("xhr_headers");if(l&&(g["Content-Type"]="application/x-www-form-urlencoded"),T.each(g,function(c,v){d.setRequestHeader(v,c)}),r.timeout_ms&&typeof d.timeout<"u"){d.timeout=r.timeout_ms;var h=new Date().getTime()}d.withCredentials=!0,d.onreadystatechange=function(){if(d.readyState===4)if(d.status===200){if(n)if(p){var c;try{c=T.JSONDecode(d.responseText)}catch(y){if(_.report_error(y),r.ignore_json_errors)c=d.responseText;else return}n(c)}else n(Number(d.responseText))}else{var v;d.timeout&&!d.status&&new Date().getTime()-h>=d.timeout?v="timeout":v="Bad HTTP status: "+d.status+" "+d.statusText,_.report_error(v),n&&n(p?{status:0,error:v,xhr_req:d}:0)}},d.send(s)}catch(c){_.report_error(c),i=!1}else{var f=Pe.createElement("script");f.type="text/javascript",f.async=!0,f.defer=!0,f.src=e;var a=Pe.getElementsByTagName("script")[0];a.parentNode.insertBefore(f,a)}return i};W.prototype._execute_array=function(e){var t,r=[],n=[],i=[];T.each(e,function(s){s&&(t=s[0],T.isArray(t)?i.push(s):typeof s=="function"?s.call(this):T.isArray(s)&&t==="alias"?r.push(s):T.isArray(s)&&t.indexOf("track")!==-1&&typeof this[t]=="function"?i.push(s):n.push(s))},this);var o=function(s,l){T.each(s,function(u){if(T.isArray(u[0])){var p=l;T.each(u,function(_){p=p[_[0]].apply(p,_.slice(1))})}else this[u[0]].apply(this,u.slice(1))},l)};o(r,this),o(n,this),o(i,this)};W.prototype.are_batchers_initialized=function(){return!!this.request_batchers.events};W.prototype.init_batchers=function(){var e=this.get_config("token");if(!this.are_batchers_initialized()){var t=T.bind(function(r){return new Vr("__mpq_"+e+r.queue_suffix,{libConfig:this.config,sendRequestFunc:T.bind(function(n,i,o){this._send_request(this.get_config("api_host")+r.endpoint,this._encode_data_for_request(n),i,this._prepare_callback(o,n))},this),beforeSendHook:T.bind(function(n){return this._run_hook("before_send_"+r.type,n)},this),errorReporter:this.get_config("error_reporter"),stopAllBatchingFunc:T.bind(this.stop_batch_senders,this)})},this);this.request_batchers={events:t({type:"events",endpoint:"/track/",queue_suffix:"_ev"}),people:t({type:"people",endpoint:"/engage/",queue_suffix:"_pp"}),groups:t({type:"groups",endpoint:"/groups/",queue_suffix:"_gr"})}}this.get_config("batch_autostart")&&this.start_batch_senders()};W.prototype.start_batch_senders=function(){this.are_batchers_initialized()&&(this._batch_requests=!0,T.each(this.request_batchers,function(e){e.start()}))};W.prototype.stop_batch_senders=function(){this._batch_requests=!1,T.each(this.request_batchers,function(e){e.stop(),e.clear()})};W.prototype.push=function(e){this._execute_array([e])};W.prototype.disable=function(e){typeof e>"u"?this._flags.disable_all_events=!0:this.__disabled_events=this.__disabled_events.concat(e)};W.prototype._encode_data_for_request=function(e){var t=T.JSONEncode(e);return this.get_config("api_payload_format")===Ix&&(t=T.base64Encode(t)),{data:t}};W.prototype._track_or_batch=function(e,t){var r=T.truncate(e.data,255),n=e.endpoint,i=e.batcher,o=e.should_send_immediately,s=e.send_request_options||{};t=t||nu;var l=!0,u=T.bind(function(){return s.skip_hooks||(r=this._run_hook("before_send_"+e.type,r)),r?(Te.log("MIXPANEL REQUEST:"),Te.log(r),this._send_request(n,this._encode_data_for_request(r),s,this._prepare_callback(t,r))):null},this);return this._batch_requests&&!o?i.enqueue(r,function(p){p?t(1,r):u()}):l=u(),l&&r};W.prototype.track=ou(function(e,t,r,n){!n&&typeof r=="function"&&(n=r,r=null),r=r||{};var i=r.transport;i&&(r.transport=i);var o=r.send_immediately;if(typeof n!="function"&&(n=nu),T.isUndefined(e)){this.report_error("No event name provided to mixpanel.track");return}if(this._event_is_disabled(e)){n(0);return}t=t||{},t.token=this.get_config("token");var s=this.persistence.remove_event_timer(e);if(!T.isUndefined(s)){var l=new Date().getTime()-s;t.$duration=parseFloat((l/1e3).toFixed(3))}this._set_default_superprops(),t=T.extend({},T.info.properties(),this.persistence.properties(),this.unpersisted_superprops,t);var u=this.get_config("property_blacklist");T.isArray(u)?T.each(u,function(m){delete t[m]}):this.report_error("Invalid value for property_blacklist config: "+u);var p={event:e,properties:t},_=this._track_or_batch({type:"events",data:p,endpoint:this.get_config("api_host")+"/track/",batcher:this.request_batchers.events,should_send_immediately:o,send_request_options:r},n);return _});W.prototype.set_group=ou(function(e,t,r){T.isArray(t)||(t=[t]);var n={};return n[e]=t,this.register(n),this.people.set(e,t,r)});W.prototype.add_group=ou(function(e,t,r){var n=this.get_property(e);if(n===void 0){var i={};i[e]=[t],this.register(i)}else n.indexOf(t)===-1&&(n.push(t),this.register(i));return this.people.union(e,t,r)});W.prototype.remove_group=ou(function(e,t,r){var n=this.get_property(e);if(n!==void 0){var i=n.indexOf(t);i>-1&&(n.splice(i,1),this.register({group_key:n})),n.length===0&&this.unregister(e)}return this.people.remove(e,t,r)});W.prototype.track_with_groups=ou(function(e,t,r,n){var i=T.extend({},t||{});return T.each(r,function(o,s){o!=null&&(i[s]=o)}),this.track(e,i,n)});W.prototype._create_map_key=function(e,t){return e+"_"+JSON.stringify(t)};W.prototype._remove_group_from_cache=function(e,t){delete this._cached_groups[this._create_map_key(e,t)]};W.prototype.get_group=function(e,t){var r=this._create_map_key(e,t),n=this._cached_groups[r];return(n===void 0||n._group_key!==e||n._group_id!==t)&&(n=new je,n._init(this,e,t),this._cached_groups[r]=n),n};W.prototype.track_pageview=function(e){T.isUndefined(e)&&(e=Pe.location.href),this.track("mp_page_view",T.info.pageviewInfo(e))};W.prototype.track_links=function(){return this._track_dom.call(this,Go,arguments)};W.prototype.track_forms=function(){return this._track_dom.call(this,Df,arguments)};W.prototype.time_event=function(e){if(T.isUndefined(e)){this.report_error("No event name provided to mixpanel.time_event");return}this._event_is_disabled(e)||this.persistence.set_event_timer(e,new Date().getTime())};var eT={persistent:!0},Hv=function(e){var t;return T.isObject(e)?t=e:T.isUndefined(e)?t={}:t={days:e},T.extend({},eT,t)};W.prototype.register=function(e,t){var r=Hv(t);r.persistent?this.persistence.register(e,r.days):T.extend(this.unpersisted_superprops,e)};W.prototype.register_once=function(e,t,r){var n=Hv(r);n.persistent?this.persistence.register_once(e,t,n.days):(typeof t>"u"&&(t="None"),T.each(e,function(i,o){(!this.unpersisted_superprops.hasOwnProperty(o)||this.unpersisted_superprops[o]===t)&&(this.unpersisted_superprops[o]=i)},this))};W.prototype.unregister=function(e,t){t=Hv(t),t.persistent?this.persistence.unregister(e):delete this.unpersisted_superprops[e]};W.prototype._register_single=function(e,t){var r={};r[e]=t,this.register(r)};W.prototype.identify=function(e,t,r,n,i,o,s,l){var u=this.get_distinct_id();if(this.register({$user_id:e}),!this.get_property("$device_id")){var p=u;this.register_once({$had_persisted_distinct_id:!0,$device_id:p},"")}e!==u&&e!==this.get_property(Mf)&&(this.unregister(Mf),this.register({distinct_id:e})),this._flags.identify_called=!0,this.people._flush(t,r,n,i,o,s,l),e!==u&&this.track("$identify",{distinct_id:e,$anon_distinct_id:u},{skip_hooks:!0})};W.prototype.reset=function(){this.persistence.clear(),this._flags.identify_called=!1;var e=T.UUID();this.register_once({distinct_id:e,$device_id:e},"")};W.prototype.get_distinct_id=function(){return this.get_property("distinct_id")};W.prototype.alias=function(e,t){if(e===this.get_property(Lx))return this.report_error("Attempting to create alias for existing People user - aborting."),-2;var r=this;return T.isUndefined(t)&&(t=this.get_distinct_id()),e!==t?(this._register_single(Mf,e),this.track("$create_alias",{alias:e,distinct_id:t},{skip_hooks:!0},function(){r.identify(e)})):(this.report_error("alias matches current distinct_id - skipping api call."),this.identify(e),-1)};W.prototype.name_tag=function(e){this._register_single("mp_name_tag",e)};W.prototype.set_config=function(e){if(T.isObject(e)){T.extend(this.config,e);var t=e.batch_size;t&&T.each(this.request_batchers,function(r){r.resetBatchSize()}),this.get_config("persistence_name")||(this.config.persistence_name=this.config.cookie_name),this.get_config("disable_persistence")||(this.config.disable_persistence=this.config.disable_cookie),this.persistence&&this.persistence.update_config(this.config),Jn.DEBUG=Jn.DEBUG||this.get_config("debug")}};W.prototype.get_config=function(e){return this.config[e]};W.prototype._run_hook=function(e){var t=(this.config.hooks[e]||Z5).apply(this,Yn.call(arguments,1));return typeof t>"u"&&(this.report_error(e+" hook did not return a value"),t=null),t};W.prototype.get_property=function(e){return this.persistence.props[e]};W.prototype.toString=function(){var e=this.get_config("name");return e!==hr&&(e=hr+"."+e),e};W.prototype._event_is_disabled=function(e){return T.isBlockedUA(wr)||this._flags.disable_all_events||T.include(this.__disabled_events,e)};W.prototype._gdpr_init=function(){var e=this.get_config("opt_out_tracking_persistence_type")==="localStorage";e&&T.localStorage.is_supported()&&(!this.has_opted_in_tracking()&&this.has_opted_in_tracking({persistence_type:"cookie"})&&this.opt_in_tracking({enable_persistence:!1}),!this.has_opted_out_tracking()&&this.has_opted_out_tracking({persistence_type:"cookie"})&&this.opt_out_tracking({clear_persistence:!1}),this.clear_opt_in_out_tracking({persistence_type:"cookie",enable_persistence:!1})),this.has_opted_out_tracking()?this._gdpr_update_persistence({clear_persistence:!0}):!this.has_opted_in_tracking()&&(this.get_config("opt_out_tracking_by_default")||T.cookie.get("mp_optout"))&&(T.cookie.remove("mp_optout"),this.opt_out_tracking({clear_persistence:this.get_config("opt_out_persistence_by_default")}))};W.prototype._gdpr_update_persistence=function(e){var t;if(e&&e.clear_persistence)t=!0;else if(e&&e.enable_persistence)t=!1;else return;!this.get_config("disable_persistence")&&this.persistence.disabled!==t&&this.persistence.set_disabled(t),t&&T.each(this.request_batchers,function(r){r.clear()})};W.prototype._gdpr_call_func=function(e,t){return t=T.extend({track:T.bind(this.track,this),persistence_type:this.get_config("opt_out_tracking_persistence_type"),cookie_prefix:this.get_config("opt_out_tracking_cookie_prefix"),cookie_expiration:this.get_config("cookie_expiration"),cross_site_cookie:this.get_config("cross_site_cookie"),cross_subdomain_cookie:this.get_config("cross_subdomain_cookie"),cookie_domain:this.get_config("cookie_domain"),secure_cookie:this.get_config("secure_cookie"),ignore_dnt:this.get_config("ignore_dnt")},t),T.localStorage.is_supported()||(t.persistence_type="cookie"),e(this.get_config("token"),{track:t.track,trackEventName:t.track_event_name,trackProperties:t.track_properties,persistenceType:t.persistence_type,persistencePrefix:t.cookie_prefix,cookieDomain:t.cookie_domain,cookieExpiration:t.cookie_expiration,crossSiteCookie:t.cross_site_cookie,crossSubdomainCookie:t.cross_subdomain_cookie,secureCookie:t.secure_cookie,ignoreDnt:t.ignore_dnt})};W.prototype.opt_in_tracking=function(e){e=T.extend({enable_persistence:!0},e),this._gdpr_call_func(z5,e),this._gdpr_update_persistence(e)};W.prototype.opt_out_tracking=function(e){e=T.extend({clear_persistence:!0,delete_user:!0},e),e.delete_user&&this.people&&this.people._identify_called()&&(this.people.delete_user(),this.people.clear_charges()),this._gdpr_call_func(V5,e),this._gdpr_update_persistence(e)};W.prototype.has_opted_in_tracking=function(e){return this._gdpr_call_func($5,e)};W.prototype.has_opted_out_tracking=function(e){return this._gdpr_call_func(Cx,e)};W.prototype.clear_opt_in_out_tracking=function(e){e=T.extend({enable_persistence:!0},e),this._gdpr_call_func(G5,e),this._gdpr_update_persistence(e)};W.prototype.report_error=function(e,t){Te.error.apply(Te.error,arguments);try{!t&&!(e instanceof Error)&&(e=new Error(e)),this.get_config("error_reporter")(e,t)}catch(r){Te.error(r)}};W.prototype.init=W.prototype.init;W.prototype.reset=W.prototype.reset;W.prototype.disable=W.prototype.disable;W.prototype.time_event=W.prototype.time_event;W.prototype.track=W.prototype.track;W.prototype.track_links=W.prototype.track_links;W.prototype.track_forms=W.prototype.track_forms;W.prototype.track_pageview=W.prototype.track_pageview;W.prototype.register=W.prototype.register;W.prototype.register_once=W.prototype.register_once;W.prototype.unregister=W.prototype.unregister;W.prototype.identify=W.prototype.identify;W.prototype.alias=W.prototype.alias;W.prototype.name_tag=W.prototype.name_tag;W.prototype.set_config=W.prototype.set_config;W.prototype.get_config=W.prototype.get_config;W.prototype.get_property=W.prototype.get_property;W.prototype.get_distinct_id=W.prototype.get_distinct_id;W.prototype.toString=W.prototype.toString;W.prototype.opt_out_tracking=W.prototype.opt_out_tracking;W.prototype.opt_in_tracking=W.prototype.opt_in_tracking;W.prototype.has_opted_out_tracking=W.prototype.has_opted_out_tracking;W.prototype.has_opted_in_tracking=W.prototype.has_opted_in_tracking;W.prototype.clear_opt_in_out_tracking=W.prototype.clear_opt_in_out_tracking;W.prototype.get_group=W.prototype.get_group;W.prototype.set_group=W.prototype.set_group;W.prototype.add_group=W.prototype.add_group;W.prototype.remove_group=W.prototype.remove_group;W.prototype.track_with_groups=W.prototype.track_with_groups;W.prototype.start_batch_senders=W.prototype.start_batch_senders;W.prototype.stop_batch_senders=W.prototype.stop_batch_senders;pe.prototype.properties=pe.prototype.properties;pe.prototype.update_search_keyword=pe.prototype.update_search_keyword;pe.prototype.update_referrer_info=pe.prototype.update_referrer_info;pe.prototype.get_cross_subdomain=pe.prototype.get_cross_subdomain;pe.prototype.clear=pe.prototype.clear;var Vo={},tT=function(){T.each(Vo,function(e,t){t!==hr&&(Lt[t]=e)}),Lt._=T},rT=function(){Lt.init=function(e,t,r){if(r)return Lt[r]||(Lt[r]=Vo[r]=kv(e,t,r),Lt[r]._loaded()),Lt[r];var n=Lt;Vo[hr]?n=Vo[hr]:e&&(n=kv(e,t,hr),n._loaded(),Vo[hr]=n),Lt=n,Fv===J5&&(Tt[hr]=Lt),tT()}},nT=function(){function e(){e.done||(e.done=!0,Ax=!0,Mx=!1,T.each(Vo,function(n){n._dom_loaded()}))}function t(){try{Pe.documentElement.doScroll("left")}catch{setTimeout(t,1);return}e()}if(Pe.addEventListener)Pe.readyState==="complete"?e():Pe.addEventListener("DOMContentLoaded",e,!1);else if(Pe.attachEvent){Pe.attachEvent("onreadystatechange",e);var r=!1;try{r=Tt.frameElement===null}catch{}Pe.documentElement.doScroll&&r&&t()}T.register_event(Tt,"load",e,!0)};function iT(){return Fv=Tx,Lt=new W,rT(),Lt.init(),nT(),Lt}var oT=iT();Px.exports=oT});var Wv=me((Nf,Hx)=>{"use strict";Object.defineProperty(Nf,"__esModule",{value:!0});Nf.default=Fx;var ST=/input|select|textarea|button|object|iframe/;function bT(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0;if(t&&!e.innerHTML)return!0;try{var r=window.getComputedStyle(e);return t?r.getPropertyValue("overflow")!=="visible"||e.scrollWidth<=0&&e.scrollHeight<=0:r.getPropertyValue("display")=="none"}catch{return console.warn("Failed to inspect element style"),!1}}function xT(e){for(var t=e,r=e.getRootNode&&e.getRootNode();t&&t!==document.body;){if(r&&t===r&&(t=r.host.parentNode),bT(t))return!1;t=t.parentNode}return!0}function wT(e,t){var r=e.nodeName.toLowerCase(),n=ST.test(r)&&!e.disabled||r==="a"&&e.href||t;return n&&xT(e)}function CT(e){var t=e.getAttribute("tabindex");t===null&&(t=void 0);var r=isNaN(t);return(r||t>=0)&&wT(e,!r)}function Fx(e){var t=[].slice.call(e.querySelectorAll("*"),0).reduce(function(r,n){return r.concat(n.shadowRoot?Fx(n.shadowRoot):[n])},[]);return t.filter(CT)}Hx.exports=Nf.default});var Ux=me(Er=>{"use strict";Object.defineProperty(Er,"__esModule",{value:!0});Er.resetState=LT;Er.log=TT;Er.handleBlur=su;Er.handleFocus=au;Er.markForFocusLater=IT;Er.returnFocus=MT;Er.popWithoutFocus=AT;Er.setupScopedFocus=PT;Er.teardownScopedFocus=RT;var ET=Wv(),kT=OT(ET);function OT(e){return e&&e.__esModule?e:{default:e}}var Jo=[],Yo=null,qv=!1;function LT(){Jo=[]}function TT(){}function su(){qv=!0}function au(){if(qv){if(qv=!1,!Yo)return;setTimeout(function(){if(!Yo.contains(document.activeElement)){var e=(0,kT.default)(Yo)[0]||Yo;e.focus()}},0)}}function IT(){Jo.push(document.activeElement)}function MT(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=null;try{Jo.length!==0&&(t=Jo.pop(),t.focus({preventScroll:e}));return}catch{console.warn(["You tried to return focus to",t,"but it is not in the DOM anymore"].join(" "))}}function AT(){Jo.length>0&&Jo.pop()}function PT(e){Yo=e,window.addEventListener?(window.addEventListener("blur",su,!1),document.addEventListener("focus",au,!0)):(window.attachEvent("onBlur",su),document.attachEvent("onFocus",au))}function RT(){Yo=null,window.addEventListener?(window.removeEventListener("blur",su),document.removeEventListener("focus",au)):(window.detachEvent("onBlur",su),document.detachEvent("onFocus",au))}});var zx=me((Bf,qx)=>{"use strict";Object.defineProperty(Bf,"__esModule",{value:!0});Bf.default=jT;var DT=Wv(),NT=BT(DT);function BT(e){return e&&e.__esModule?e:{default:e}}function Wx(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return e.activeElement.shadowRoot?Wx(e.activeElement.shadowRoot):e.activeElement}function jT(e,t){var r=(0,NT.default)(e);if(!r.length){t.preventDefault();return}var n=void 0,i=t.shiftKey,o=r[0],s=r[r.length-1],l=Wx();if(e===l){if(!i)return;n=s}if(s===l&&!i&&(n=o),o===l&&i&&(n=s),n){t.preventDefault(),n.focus();return}var u=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),p=u!=null&&u[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(!!p){var _=r.indexOf(l);if(_>-1&&(_+=i?-1:1),n=r[_],typeof n>"u"){t.preventDefault(),n=i?s:o,n.focus();return}t.preventDefault(),n.focus()}}qx.exports=Bf.default});var Kx=me((One,Gx)=>{"use strict";var FT=!1,$x=function(){};FT&&(Vx=function(t,r){var n=arguments.length;r=new Array(n>1?n-1:0);for(var i=1;i<n;i++)r[i-1]=arguments[i];var o=0,s="Warning: "+t.replace(/%s/g,function(){return r[o++]});typeof console<"u"&&console.error(s);try{throw new Error(s)}catch{}},$x=function(e,t,r){var n=arguments.length;r=new Array(n>2?n-2:0);for(var i=2;i<n;i++)r[i-2]=arguments[i];if(t===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");e||Vx.apply(null,[t].concat(r))});var Vx;Gx.exports=$x});var Xx=me((Lne,jf)=>{(function(){"use strict";var e=!!(typeof window<"u"&&window.document&&window.document.createElement),t={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};typeof define=="function"&&typeof define.amd=="object"&&define.amd?define(function(){return t}):typeof jf<"u"&&jf.exports?jf.exports=t:window.ExecutionEnvironment=t})()});var Hf=me(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});dn.canUseDOM=dn.SafeNodeList=dn.SafeHTMLCollection=void 0;var HT=Xx(),UT=WT(HT);function WT(e){return e&&e.__esModule?e:{default:e}}var Ff=UT.default,qT=Ff.canUseDOM?window.HTMLElement:{},Tne=dn.SafeHTMLCollection=Ff.canUseDOM?window.HTMLCollection:{},Ine=dn.SafeNodeList=Ff.canUseDOM?window.NodeList:{},Mne=dn.canUseDOM=Ff.canUseDOM;dn.default=qT});var Vv=me($r=>{"use strict";Object.defineProperty($r,"__esModule",{value:!0});$r.resetState=KT;$r.log=XT;$r.assertNodeList=Yx;$r.setElement=YT;$r.validateElement=zv;$r.hide=JT;$r.show=ZT;$r.documentNotReadyOrSSRTesting=QT;var zT=Kx(),VT=GT(zT),$T=Hf();function GT(e){return e&&e.__esModule?e:{default:e}}var mr=null;function KT(){mr&&(mr.removeAttribute?mr.removeAttribute("aria-hidden"):mr.length!=null?mr.forEach(function(e){return e.removeAttribute("aria-hidden")}):document.querySelectorAll(mr).forEach(function(e){return e.removeAttribute("aria-hidden")})),mr=null}function XT(){if(!1)var e}function Yx(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function YT(e){var t=e;if(typeof t=="string"&&$T.canUseDOM){var r=document.querySelectorAll(t);Yx(r,t),t=r}return mr=t||mr,mr}function zv(e){var t=e||mr;return t?Array.isArray(t)||t instanceof HTMLCollection||t instanceof NodeList?t:[t]:((0,VT.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function JT(e){var t=!0,r=!1,n=void 0;try{for(var i=zv(e)[Symbol.iterator](),o;!(t=(o=i.next()).done);t=!0){var s=o.value;s.setAttribute("aria-hidden","true")}}catch(l){r=!0,n=l}finally{try{!t&&i.return&&i.return()}finally{if(r)throw n}}}function ZT(e){var t=!0,r=!1,n=void 0;try{for(var i=zv(e)[Symbol.iterator](),o;!(t=(o=i.next()).done);t=!0){var s=o.value;s.removeAttribute("aria-hidden")}}catch(l){r=!0,n=l}finally{try{!t&&i.return&&i.return()}finally{if(r)throw n}}}function QT(){mr=null}});var Zx=me(Zo=>{"use strict";Object.defineProperty(Zo,"__esModule",{value:!0});Zo.resetState=eI;Zo.log=tI;var uu={},lu={};function Jx(e,t){e.classList.remove(t)}function eI(){var e=document.getElementsByTagName("html")[0];for(var t in uu)Jx(e,uu[t]);var r=document.body;for(var n in lu)Jx(r,lu[n]);uu={},lu={}}function tI(){if(!1){var e,t;for(var r in uu);for(var n in lu);}}var rI=function(t,r){return t[r]||(t[r]=0),t[r]+=1,r},nI=function(t,r){return t[r]&&(t[r]-=1),r},iI=function(t,r,n){n.forEach(function(i){rI(r,i),t.add(i)})},oI=function(t,r,n){n.forEach(function(i){nI(r,i),r[i]===0&&t.remove(i)})},Rne=Zo.add=function(t,r){return iI(t.classList,t.nodeName.toLowerCase()=="html"?uu:lu,r.split(" "))},Dne=Zo.remove=function(t,r){return oI(t.classList,t.nodeName.toLowerCase()=="html"?uu:lu,r.split(" "))}});var $v=me(cu=>{"use strict";Object.defineProperty(cu,"__esModule",{value:!0});cu.log=aI;cu.resetState=uI;function sI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Qx=function e(){var t=this;sI(this,e),this.register=function(r){t.openInstances.indexOf(r)===-1&&(t.openInstances.push(r),t.emit("register"))},this.deregister=function(r){var n=t.openInstances.indexOf(r);n!==-1&&(t.openInstances.splice(n,1),t.emit("deregister"))},this.subscribe=function(r){t.subscribers.push(r)},this.emit=function(r){t.subscribers.forEach(function(n){return n(r,t.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},Uf=new Qx;function aI(){console.log("portalOpenInstances ----------"),console.log(Uf.openInstances.length),Uf.openInstances.forEach(function(e){return console.log(e)}),console.log("end portalOpenInstances ----------")}function uI(){Uf=new Qx}cu.default=Uf});var tw=me(Wf=>{"use strict";Object.defineProperty(Wf,"__esModule",{value:!0});Wf.resetState=dI;Wf.log=pI;var lI=$v(),cI=fI(lI);function fI(e){return e&&e.__esModule?e:{default:e}}var It=void 0,kr=void 0,Di=[];function dI(){for(var e=[It,kr],t=0;t<e.length;t++){var r=e[t];!r||r.parentNode&&r.parentNode.removeChild(r)}It=kr=null,Di=[]}function pI(){console.log("bodyTrap ----------"),console.log(Di.length);for(var e=[It,kr],t=0;t<e.length;t++){var r=e[t],n=r||{};console.log(n.nodeName,n.className,n.id)}console.log("edn bodyTrap ----------")}function ew(){Di.length!==0&&Di[Di.length-1].focusContent()}function hI(e,t){!It&&!kr&&(It=document.createElement("div"),It.setAttribute("data-react-modal-body-trap",""),It.style.position="absolute",It.style.opacity="0",It.setAttribute("tabindex","0"),It.addEventListener("focus",ew),kr=It.cloneNode(),kr.addEventListener("focus",ew)),Di=t,Di.length>0?(document.body.firstChild!==It&&document.body.insertBefore(It,document.body.firstChild),document.body.lastChild!==kr&&document.body.appendChild(kr)):(It.parentElement&&It.parentElement.removeChild(It),kr.parentElement&&kr.parentElement.removeChild(kr))}cI.default.subscribe(hI)});var sw=me((Gf,ow)=>{"use strict";Object.defineProperty(Gf,"__esModule",{value:!0});var qf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vI=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_I=He(),gI=tm(),de=$f(gI),yI=Ux(),fu=Xv(yI),SI=zx(),bI=$f(SI),xI=Vv(),rw=Xv(xI),wI=Zx(),zf=Xv(wI),Kv=Hf(),nw=$f(Kv),CI=$v(),iw=$f(CI);tw();function Xv(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function $f(e){return e&&e.__esModule?e:{default:e}}function EI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kI(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function OI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Gv={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},LI=9,TI=27,Vf=0,Yv=function(e){OI(t,e);function t(r){EI(this,t);var n=kI(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));return n.setOverlayRef=function(i){n.overlay=i,n.props.overlayRef&&n.props.overlayRef(i)},n.setContentRef=function(i){n.content=i,n.props.contentRef&&n.props.contentRef(i)},n.afterClose=function(){var i=n.props,o=i.appElement,s=i.ariaHideApp,l=i.htmlOpenClassName,u=i.bodyOpenClassName;u&&zf.remove(document.body,u),l&&zf.remove(document.getElementsByTagName("html")[0],l),s&&Vf>0&&(Vf-=1,Vf===0&&rw.show(o)),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(fu.returnFocus(n.props.preventScroll),fu.teardownScopedFocus()):fu.popWithoutFocus()),n.props.onAfterClose&&n.props.onAfterClose(),iw.default.deregister(n)},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(fu.setupScopedFocus(n.node),fu.markForFocusLater()),n.setState({isOpen:!0},function(){n.openAnimationFrame=requestAnimationFrame(function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen({overlayEl:n.overlay,contentEl:n.content})})}))},n.close=function(){n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus({preventScroll:!0})},n.closeWithTimeout=function(){var i=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:i},function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())})},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(i){i.keyCode===LI&&(0,bI.default)(n.content,i),n.props.shouldCloseOnEsc&&i.keyCode===TI&&(i.stopPropagation(),n.requestClose(i))},n.handleOverlayOnClick=function(i){n.shouldClose===null&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(i):n.focusContent()),n.shouldClose=null},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(i){!n.props.shouldCloseOnOverlayClick&&i.target==n.overlay&&i.preventDefault()},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1},n.requestClose=function(i){return n.ownerHandlesClose()&&n.props.onRequestClose(i)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(i,o){var s=(typeof o>"u"?"undefined":mI(o))==="object"?o:{base:Gv[i],afterOpen:Gv[i]+"--after-open",beforeClose:Gv[i]+"--before-close"},l=s.base;return n.state.afterOpen&&(l=l+" "+s.afterOpen),n.state.beforeClose&&(l=l+" "+s.beforeClose),typeof o=="string"&&o?l+" "+o:l},n.attributesFromObject=function(i,o){return Object.keys(o).reduce(function(s,l){return s[i+"-"+l]=o[l],s},{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return vI(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(n,i){this.props.isOpen&&!n.isOpen?this.open():!this.props.isOpen&&n.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!i.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var n=this.props,i=n.appElement,o=n.ariaHideApp,s=n.htmlOpenClassName,l=n.bodyOpenClassName;l&&zf.add(document.body,l),s&&zf.add(document.getElementsByTagName("html")[0],s),o&&(Vf+=1,rw.hide(i)),iw.default.register(this)}},{key:"render",value:function(){var n=this.props,i=n.id,o=n.className,s=n.overlayClassName,l=n.defaultStyles,u=n.children,p=o?{}:l.content,_=s?{}:l.overlay;if(this.shouldBeClosed())return null;var m={ref:this.setOverlayRef,className:this.buildClassName("overlay",s),style:qf({},_,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},d=qf({id:i,ref:this.setContentRef,style:qf({},p,this.props.style.content),className:this.buildClassName("content",o),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",qf({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),g=this.props.contentElement(d,u);return this.props.overlayElement(m,g)}}]),t}(_I.Component);Yv.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}};Yv.propTypes={isOpen:de.default.bool.isRequired,defaultStyles:de.default.shape({content:de.default.object,overlay:de.default.object}),style:de.default.shape({content:de.default.object,overlay:de.default.object}),className:de.default.oneOfType([de.default.string,de.default.object]),overlayClassName:de.default.oneOfType([de.default.string,de.default.object]),bodyOpenClassName:de.default.string,htmlOpenClassName:de.default.string,ariaHideApp:de.default.bool,appElement:de.default.oneOfType([de.default.instanceOf(nw.default),de.default.instanceOf(Kv.SafeHTMLCollection),de.default.instanceOf(Kv.SafeNodeList),de.default.arrayOf(de.default.instanceOf(nw.default))]),onAfterOpen:de.default.func,onAfterClose:de.default.func,onRequestClose:de.default.func,closeTimeoutMS:de.default.number,shouldFocusAfterRender:de.default.bool,shouldCloseOnOverlayClick:de.default.bool,shouldReturnFocusAfterClose:de.default.bool,preventScroll:de.default.bool,role:de.default.string,contentLabel:de.default.string,aria:de.default.object,data:de.default.object,children:de.default.node,shouldCloseOnEsc:de.default.bool,overlayRef:de.default.func,contentRef:de.default.func,id:de.default.string,overlayElement:de.default.func,contentElement:de.default.func,testId:de.default.string};Gf.default=Yv;ow.exports=Gf.default});var cw=me(Jv=>{"use strict";Object.defineProperty(Jv,"__esModule",{value:!0});function aw(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function uw(e){function t(r){var n=this.constructor.getDerivedStateFromProps(e,r);return n??null}this.setState(t.bind(this))}function lw(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}aw.__suppressDeprecationWarning=!0;uw.__suppressDeprecationWarning=!0;lw.__suppressDeprecationWarning=!0;function II(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var r=null,n=null,i=null;if(typeof t.componentWillMount=="function"?r="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?i="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),r!==null||n!==null||i!==null){var o=e.displayName||e.name,s=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+s+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=aw,t.componentWillReceiveProps=uw),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=lw;var l=t.componentDidUpdate;t.componentDidUpdate=function(p,_,m){var d=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:m;l.call(this,p,_,d)}}return e}Jv.polyfill=II});var gw=me(Bi=>{"use strict";Object.defineProperty(Bi,"__esModule",{value:!0});Bi.bodyOpenClassName=Bi.portalClassName=void 0;var fw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},MI=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_w=He(),Xf=du(_w),AI=Rc(),Yf=du(AI),PI=tm(),ce=du(PI),RI=sw(),dw=du(RI),DI=Vv(),NI=jI(DI),ri=Hf(),pw=du(ri),BI=cw();function jI(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function du(e){return e&&e.__esModule?e:{default:e}}function FI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hw(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function HI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var UI=Bi.portalClassName="ReactModalPortal",WI=Bi.bodyOpenClassName="ReactModal__Body--open",Ni=ri.canUseDOM&&Yf.default.createPortal!==void 0,mw=function(t){return document.createElement(t)},vw=function(){return Ni?Yf.default.createPortal:Yf.default.unstable_renderSubtreeIntoContainer};function Kf(e){return e()}var pu=function(e){HI(t,e);function t(){var r,n,i,o;FI(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return o=(n=(i=hw(this,(r=t.__proto__||Object.getPrototypeOf(t)).call.apply(r,[this].concat(l))),i),i.removePortal=function(){!Ni&&Yf.default.unmountComponentAtNode(i.node);var p=Kf(i.props.parentSelector);p&&p.contains(i.node)?p.removeChild(i.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},i.portalRef=function(p){i.portal=p},i.renderPortal=function(p){var _=vw(),m=_(i,Xf.default.createElement(dw.default,fw({defaultStyles:t.defaultStyles},p)),i.node);i.portalRef(m)},n),hw(i,o)}return MI(t,[{key:"componentDidMount",value:function(){if(!!ri.canUseDOM){Ni||(this.node=mw("div")),this.node.className=this.props.portalClassName;var n=Kf(this.props.parentSelector);n.appendChild(this.node),!Ni&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(n){var i=Kf(n.parentSelector),o=Kf(this.props.parentSelector);return{prevParent:i,nextParent:o}}},{key:"componentDidUpdate",value:function(n,i,o){if(!!ri.canUseDOM){var s=this.props,l=s.isOpen,u=s.portalClassName;n.portalClassName!==u&&(this.node.className=u);var p=o.prevParent,_=o.nextParent;_!==p&&(p.removeChild(this.node),_.appendChild(this.node)),!(!n.isOpen&&!l)&&!Ni&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!ri.canUseDOM||!this.node||!this.portal)){var n=this.portal.state,i=Date.now(),o=n.isOpen&&this.props.closeTimeoutMS&&(n.closesAt||i+this.props.closeTimeoutMS);o?(n.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,o-i)):this.removePortal()}}},{key:"render",value:function(){if(!ri.canUseDOM||!Ni)return null;!this.node&&Ni&&(this.node=mw("div"));var n=vw();return n(Xf.default.createElement(dw.default,fw({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(n){NI.setElement(n)}}]),t}(_w.Component);pu.propTypes={isOpen:ce.default.bool.isRequired,style:ce.default.shape({content:ce.default.object,overlay:ce.default.object}),portalClassName:ce.default.string,bodyOpenClassName:ce.default.string,htmlOpenClassName:ce.default.string,className:ce.default.oneOfType([ce.default.string,ce.default.shape({base:ce.default.string.isRequired,afterOpen:ce.default.string.isRequired,beforeClose:ce.default.string.isRequired})]),overlayClassName:ce.default.oneOfType([ce.default.string,ce.default.shape({base:ce.default.string.isRequired,afterOpen:ce.default.string.isRequired,beforeClose:ce.default.string.isRequired})]),appElement:ce.default.oneOfType([ce.default.instanceOf(pw.default),ce.default.instanceOf(ri.SafeHTMLCollection),ce.default.instanceOf(ri.SafeNodeList),ce.default.arrayOf(ce.default.instanceOf(pw.default))]),onAfterOpen:ce.default.func,onRequestClose:ce.default.func,closeTimeoutMS:ce.default.number,ariaHideApp:ce.default.bool,shouldFocusAfterRender:ce.default.bool,shouldCloseOnOverlayClick:ce.default.bool,shouldReturnFocusAfterClose:ce.default.bool,preventScroll:ce.default.bool,parentSelector:ce.default.func,aria:ce.default.object,data:ce.default.object,role:ce.default.string,contentLabel:ce.default.string,shouldCloseOnEsc:ce.default.bool,overlayRef:ce.default.func,contentRef:ce.default.func,id:ce.default.string,overlayElement:ce.default.func,contentElement:ce.default.func};pu.defaultProps={isOpen:!1,portalClassName:UI,bodyOpenClassName:WI,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(t,r){return Xf.default.createElement("div",t,r)},contentElement:function(t,r){return Xf.default.createElement("div",t,r)}};pu.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,BI.polyfill)(pu);Bi.default=pu});var Sw=me((Jf,yw)=>{"use strict";Object.defineProperty(Jf,"__esModule",{value:!0});var qI=gw(),zI=VI(qI);function VI(e){return e&&e.__esModule?e:{default:e}}Jf.default=zI.default;yw.exports=Jf.default});var Pw=me((Tg,Aw)=>{(function(e,t){"use strict";typeof define=="function"&&define.amd?define("stackframe",[],t):typeof Tg=="object"?Aw.exports=t():e.StackFrame=t()})(Tg,function(){"use strict";function e(g){return!isNaN(parseFloat(g))&&isFinite(g)}function t(g){return g.charAt(0).toUpperCase()+g.substring(1)}function r(g){return function(){return this[g]}}var n=["isConstructor","isEval","isNative","isToplevel"],i=["columnNumber","lineNumber"],o=["fileName","functionName","source"],s=["args"],l=["evalOrigin"],u=n.concat(i,o,s,l);function p(g){if(!!g)for(var h=0;h<u.length;h++)g[u[h]]!==void 0&&this["set"+t(u[h])](g[u[h]])}p.prototype={getArgs:function(){return this.args},setArgs:function(g){if(Object.prototype.toString.call(g)!=="[object Array]")throw new TypeError("Args must be an Array");this.args=g},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(g){if(g instanceof p)this.evalOrigin=g;else if(g instanceof Object)this.evalOrigin=new p(g);else throw new TypeError("Eval Origin must be an Object or StackFrame")},toString:function(){var g=this.getFileName()||"",h=this.getLineNumber()||"",f=this.getColumnNumber()||"",a=this.getFunctionName()||"";return this.getIsEval()?g?"[eval] ("+g+":"+h+":"+f+")":"[eval]:"+h+":"+f:a?a+" ("+g+":"+h+":"+f+")":g+":"+h+":"+f}},p.fromString=function(h){var f=h.indexOf("("),a=h.lastIndexOf(")"),c=h.substring(0,f),v=h.substring(f+1,a).split(","),y=h.substring(a+1);if(y.indexOf("@")===0)var S=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(y,""),b=S[1],C=S[2],E=S[3];return new p({functionName:c,args:v||void 0,fileName:b,lineNumber:C||void 0,columnNumber:E||void 0})};for(var _=0;_<n.length;_++)p.prototype["get"+t(n[_])]=r(n[_]),p.prototype["set"+t(n[_])]=function(g){return function(h){this[g]=Boolean(h)}}(n[_]);for(var m=0;m<i.length;m++)p.prototype["get"+t(i[m])]=r(i[m]),p.prototype["set"+t(i[m])]=function(g){return function(h){if(!e(h))throw new TypeError(g+" must be a Number");this[g]=Number(h)}}(i[m]);for(var d=0;d<o.length;d++)p.prototype["get"+t(o[d])]=r(o[d]),p.prototype["set"+t(o[d])]=function(g){return function(h){this[g]=String(h)}}(o[d]);return p})});var Dw=me((Ig,Rw)=>{(function(e,t){"use strict";typeof define=="function"&&define.amd?define("error-stack-parser",["stackframe"],t):typeof Ig=="object"?Rw.exports=t(Pw()):e.ErrorStackParser=t(e.StackFrame)})(Ig,function(t){"use strict";var r=/(^|@)\S+:\d+/,n=/^\s*at .*(\S+:\d+|\(native\))/m,i=/^(eval@)?(\[native code])?$/;return{parse:function(s){if(typeof s.stacktrace<"u"||typeof s["opera#sourceloc"]<"u")return this.parseOpera(s);if(s.stack&&s.stack.match(n))return this.parseV8OrIE(s);if(s.stack)return this.parseFFOrSafari(s);throw new Error("Cannot parse given Error object")},extractLocation:function(s){if(s.indexOf(":")===-1)return[s];var l=/(.+?)(?::(\d+))?(?::(\d+))?$/,u=l.exec(s.replace(/[()]/g,""));return[u[1],u[2]||void 0,u[3]||void 0]},parseV8OrIE:function(s){var l=s.stack.split(`
`).filter(function(u){return!!u.match(n)},this);return l.map(function(u){u.indexOf("(eval ")>-1&&(u=u.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));var p=u.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,""),_=p.match(/ (\(.+\)$)/);p=_?p.replace(_[0],""):p;var m=this.extractLocation(_?_[1]:p),d=_&&p||void 0,g=["eval","<anonymous>"].indexOf(m[0])>-1?void 0:m[0];return new t({functionName:d,fileName:g,lineNumber:m[1],columnNumber:m[2],source:u})},this)},parseFFOrSafari:function(s){var l=s.stack.split(`
`).filter(function(u){return!u.match(i)},this);return l.map(function(u){if(u.indexOf(" > eval")>-1&&(u=u.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),u.indexOf("@")===-1&&u.indexOf(":")===-1)return new t({functionName:u});var p=/((.*".+"[^@]*)?[^@]*)(?:@)/,_=u.match(p),m=_&&_[1]?_[1]:void 0,d=this.extractLocation(u.replace(p,""));return new t({functionName:m,fileName:d[0],lineNumber:d[1],columnNumber:d[2],source:u})},this)},parseOpera:function(s){return!s.stacktrace||s.message.indexOf(`
`)>-1&&s.message.split(`
`).length>s.stacktrace.split(`
`).length?this.parseOpera9(s):s.stack?this.parseOpera11(s):this.parseOpera10(s)},parseOpera9:function(s){for(var l=/Line (\d+).*script (?:in )?(\S+)/i,u=s.message.split(`
`),p=[],_=2,m=u.length;_<m;_+=2){var d=l.exec(u[_]);d&&p.push(new t({fileName:d[2],lineNumber:d[1],source:u[_]}))}return p},parseOpera10:function(s){for(var l=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,u=s.stacktrace.split(`
`),p=[],_=0,m=u.length;_<m;_+=2){var d=l.exec(u[_]);d&&p.push(new t({functionName:d[3]||void 0,fileName:d[2],lineNumber:d[1],source:u[_]}))}return p},parseOpera11:function(s){var l=s.stack.split(`
`).filter(function(u){return!!u.match(r)&&!u.match(/^Error created at/)},this);return l.map(function(u){var p=u.split("@"),_=this.extractLocation(p.pop()),m=p.shift()||"",d=m.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,g;m.match(/\(([^)]*)\)/)&&(g=m.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var h=g===void 0||g==="[arguments not available]"?void 0:g.split(",");return new t({functionName:d,args:h,fileName:_[0],lineNumber:_[1],columnNumber:_[2],source:u})},this)}}})});var qe=Se(He()),Yw=Se(Rc());var aa=Se(He());var sS=Se(He()),Pt=sS.default.createContext(null);function vk(e){e()}var aS=vk,uS=function(t){return aS=t},lS=function(){return aS};function _k(){var e=lS(),t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e(function(){for(var i=t;i;)i.callback(),i=i.next})},get:function(){for(var i=[],o=t;o;)i.push(o),o=o.next;return i},subscribe:function(i){var o=!0,s=r={callback:i,next:null,prev:r};return s.prev?s.prev.next=s:t=s,function(){!o||t===null||(o=!1,s.next?s.next.prev=s.prev:r=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}var cS={notify:function(){},get:function(){return[]}};function sa(e,t){var r,n=cS;function i(m){return u(),n.subscribe(m)}function o(){n.notify()}function s(){_.onStateChange&&_.onStateChange()}function l(){return Boolean(r)}function u(){r||(r=t?t.addNestedSub(s):e.subscribe(s),n=_k())}function p(){r&&(r(),r=void 0,n.clear(),n=cS)}var _={addNestedSub:i,notifyNestedSubs:o,handleChangeWrapper:s,isSubscribed:l,trySubscribe:u,tryUnsubscribe:p,getListeners:function(){return n}};return _}var Dc=Se(He()),Eo=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?Dc.useLayoutEffect:Dc.useEffect;function gk(e){var t=e.store,r=e.context,n=e.children,i=(0,aa.useMemo)(function(){var l=sa(t);return l.onStateChange=l.notifyNestedSubs,{store:t,subscription:l}},[t]),o=(0,aa.useMemo)(function(){return t.getState()},[t]);Eo(function(){var l=i.subscription;return l.trySubscribe(),o!==t.getState()&&l.notifyNestedSubs(),function(){l.tryUnsubscribe(),l.onStateChange=null}},[i,o]);var s=r||Pt;return aa.default.createElement(s.Provider,{value:i},n)}var rm=gk;var Mk=Se(SS()),ua=Se(He()),Ak=Se(sm());var CS=Se(He());var wS=Se(He());function $c(){var e=(0,wS.useContext)(Pt);return e}function Gc(e){e===void 0&&(e=Pt);var t=e===Pt?$c:function(){return(0,CS.useContext)(e)};return function(){var n=t(),i=n.store;return i}}var lm=Gc();function ES(e){e===void 0&&(e=Pt);var t=e===Pt?lm:Gc(e);return function(){var n=t();return n.dispatch}}var vt=ES();var Gt=Se(He());var jk=function(t,r){return t===r};function Fk(e,t,r,n){var i=(0,Gt.useReducer)(function(h){return h+1},0),o=i[1],s=(0,Gt.useMemo)(function(){return sa(r,n)},[r,n]),l=(0,Gt.useRef)(),u=(0,Gt.useRef)(),p=(0,Gt.useRef)(),_=(0,Gt.useRef)(),m=r.getState(),d;try{if(e!==u.current||m!==p.current||l.current){var g=e(m);_.current===void 0||!t(g,_.current)?d=g:d=_.current}else d=_.current}catch(h){throw l.current&&(h.message+=`
The error may be correlated with this previous error:
`+l.current.stack+`

`),h}return Eo(function(){u.current=e,p.current=m,_.current=d,l.current=void 0}),Eo(function(){function h(){try{var f=r.getState();if(f===p.current)return;var a=u.current(f);if(t(a,_.current))return;_.current=a,p.current=f}catch(c){l.current=c}o()}return s.onStateChange=h,s.trySubscribe(),h(),function(){return s.tryUnsubscribe()}},[r,s]),d}function kS(e){e===void 0&&(e=Pt);var t=e===Pt?$c:function(){return(0,Gt.useContext)(e)};return function(n,i){i===void 0&&(i=jk);var o=t(),s=o.store,l=o.subscription,u=Fk(n,i,s,l);return(0,Gt.useDebugValue)(u),u}}var Y=kS();var cm=Se(Rc());uS(cm.unstable_batchedUpdates);function sr(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(!1)var i,o;throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(s){return"'"+s+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Hr(e){return!!e&&!!e[We]}function rn(e){return!!e&&(function(t){if(!t||typeof t!="object")return!1;var r=Object.getPrototypeOf(t);if(r===null)return!0;var n=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return n===Object||typeof n=="function"&&Function.toString.call(n)===$k}(e)||Array.isArray(e)||!!e[PS]||!!e.constructor[PS]||ym(e)||Sm(e))}function wi(e,t,r){r===void 0&&(r=!1),Lo(e)===0?(r?Object.keys:Oo)(e).forEach(function(n){r&&typeof n=="symbol"||t(n,e[n],e)}):e.forEach(function(n,i){return t(i,n,e)})}function Lo(e){var t=e[We];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:ym(e)?2:Sm(e)?3:0}function ko(e,t){return Lo(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Hk(e,t){return Lo(e)===2?e.get(t):e[t]}function RS(e,t,r){var n=Lo(e);n===2?e.set(t,r):n===3?(e.delete(t),e.add(r)):e[t]=r}function DS(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function ym(e){return zk&&e instanceof Map}function Sm(e){return Vk&&e instanceof Set}function Nn(e){return e.o||e.t}function bm(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=FS(e);delete t[We];for(var r=Oo(t),n=0;n<r.length;n++){var i=r[n],o=t[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function Jc(e,t){return t===void 0&&(t=!1),xm(e)||Hr(e)||!rn(e)||(Lo(e)>1&&(e.set=e.add=e.clear=e.delete=Uk),Object.freeze(e),t&&wi(e,function(r,n){return Jc(n,!0)},!0)),e}function Uk(){sr(2)}function xm(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Fr(e){var t=gm[e];return t||sr(18,e),t}function Wk(e,t){gm[e]||(gm[e]=t)}function mm(){return ca}function fm(e,t){t&&(Fr("Patches"),e.u=[],e.s=[],e.v=t)}function Kc(e){vm(e),e.p.forEach(qk),e.p=null}function vm(e){e===ca&&(ca=e.l)}function OS(e){return ca={p:[],l:ca,h:e,m:!0,_:0}}function qk(e){var t=e[We];t.i===0||t.i===1?t.j():t.O=!0}function dm(e,t){t._=t.p.length;var r=t.p[0],n=e!==void 0&&e!==r;return t.h.g||Fr("ES5").S(t,e,n),n?(r[We].P&&(Kc(t),sr(4)),rn(e)&&(e=Xc(t,e),t.l||Yc(t,e)),t.u&&Fr("Patches").M(r[We].t,e,t.u,t.s)):e=Xc(t,r,[]),Kc(t),t.u&&t.v(t.u,t.s),e!==jS?e:void 0}function Xc(e,t,r){if(xm(t))return t;var n=t[We];if(!n)return wi(t,function(o,s){return LS(e,n,t,o,s,r)},!0),t;if(n.A!==e)return t;if(!n.P)return Yc(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=n.i===4||n.i===5?n.o=bm(n.k):n.o;wi(n.i===3?new Set(i):i,function(o,s){return LS(e,n,i,o,s,r)}),Yc(e,i,!1),r&&e.u&&Fr("Patches").R(n,r,e.u,e.s)}return n.o}function LS(e,t,r,n,i,o){if(Hr(i)){var s=Xc(e,i,o&&t&&t.i!==3&&!ko(t.D,n)?o.concat(n):void 0);if(RS(r,n,s),!Hr(s))return;e.m=!1}if(rn(i)&&!xm(i)){if(!e.h.F&&e._<1)return;Xc(e,i),t&&t.A.l||Yc(e,i)}}function Yc(e,t,r){r===void 0&&(r=!1),e.h.F&&e.m&&Jc(t,r)}function pm(e,t){var r=e[We];return(r?Nn(r):e)[t]}function TS(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function Bn(e){e.P||(e.P=!0,e.l&&Bn(e.l))}function hm(e){e.o||(e.o=bm(e.t))}function _m(e,t,r){var n=ym(t)?Fr("MapSet").N(t,r):Sm(t)?Fr("MapSet").T(t,r):e.g?function(i,o){var s=Array.isArray(i),l={i:s?1:0,A:o?o.A:mm(),P:!1,I:!1,D:{},l:o,t:i,k:null,o:null,j:null,C:!1},u=l,p=fa;s&&(u=[l],p=la);var _=Proxy.revocable(u,p),m=_.revoke,d=_.proxy;return l.k=d,l.j=m,d}(t,r):Fr("ES5").J(t,r);return(r?r.A:mm()).p.push(n),n}function NS(e){return Hr(e)||sr(22,e),function t(r){if(!rn(r))return r;var n,i=r[We],o=Lo(r);if(i){if(!i.P&&(i.i<4||!Fr("ES5").K(i)))return i.t;i.I=!0,n=IS(r,o),i.I=!1}else n=IS(r,o);return wi(n,function(s,l){i&&Hk(i.t,s)===l||RS(n,s,t(l))}),o===3?new Set(n):n}(e)}function IS(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return bm(e)}function BS(){function e(s,l){var u=o[s];return u?u.enumerable=l:o[s]=u={configurable:!0,enumerable:l,get:function(){var p=this[We];return fa.get(p,s)},set:function(p){var _=this[We];fa.set(_,s,p)}},u}function t(s){for(var l=s.length-1;l>=0;l--){var u=s[l][We];if(!u.P)switch(u.i){case 5:n(u)&&Bn(u);break;case 4:r(u)&&Bn(u)}}}function r(s){for(var l=s.t,u=s.k,p=Oo(u),_=p.length-1;_>=0;_--){var m=p[_];if(m!==We){var d=l[m];if(d===void 0&&!ko(l,m))return!0;var g=u[m],h=g&&g[We];if(h?h.t!==d:!DS(g,d))return!0}}var f=!!l[We];return p.length!==Oo(l).length+(f?0:1)}function n(s){var l=s.k;if(l.length!==s.t.length)return!0;var u=Object.getOwnPropertyDescriptor(l,l.length-1);if(u&&!u.get)return!0;for(var p=0;p<l.length;p++)if(!l.hasOwnProperty(p))return!0;return!1}function i(s){s.O&&sr(3,JSON.stringify(Nn(s)))}var o={};Wk("ES5",{J:function(s,l){var u=Array.isArray(s),p=function(m,d){if(m){for(var g=Array(d.length),h=0;h<d.length;h++)Object.defineProperty(g,""+h,e(h,!0));return g}var f=FS(d);delete f[We];for(var a=Oo(f),c=0;c<a.length;c++){var v=a[c];f[v]=e(v,m||!!f[v].enumerable)}return Object.create(Object.getPrototypeOf(d),f)}(u,s),_={i:u?5:4,A:l?l.A:mm(),P:!1,I:!1,D:{},l,t:s,k:p,o:null,O:!1,C:!1};return Object.defineProperty(p,We,{value:_,writable:!0}),p},S:function(s,l,u){u?Hr(l)&&l[We].A===s&&t(s.p):(s.u&&function p(_){if(_&&typeof _=="object"){var m=_[We];if(m){var d=m.t,g=m.k,h=m.D,f=m.i;if(f===4)wi(g,function(S){S!==We&&(d[S]!==void 0||ko(d,S)?h[S]||p(g[S]):(h[S]=!0,Bn(m)))}),wi(d,function(S){g[S]!==void 0||ko(g,S)||(h[S]=!1,Bn(m))});else if(f===5){if(n(m)&&(Bn(m),h.length=!0),g.length<d.length)for(var a=g.length;a<d.length;a++)h[a]=!1;else for(var c=d.length;c<g.length;c++)h[c]=!0;for(var v=Math.min(g.length,d.length),y=0;y<v;y++)g.hasOwnProperty(y)||(h[y]=!0),h[y]===void 0&&p(g[y])}}}}(s.p[0]),t(s.p))},K:function(s){return s.i===4?r(s):n(s)}})}var MS,ca,wm=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",zk=typeof Map<"u",Vk=typeof Set<"u",AS=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",jS=wm?Symbol.for("immer-nothing"):((MS={})["immer-nothing"]=!0,MS),PS=wm?Symbol.for("immer-draftable"):"__$immer_draftable",We=wm?Symbol.for("immer-state"):"__$immer_state";var $k=""+Object.prototype.constructor,Oo=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,FS=Object.getOwnPropertyDescriptors||function(e){var t={};return Oo(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)}),t},gm={},fa={get:function(e,t){if(t===We)return e;var r=Nn(e);if(!ko(r,t))return function(i,o,s){var l,u=TS(o,s);return u?"value"in u?u.value:(l=u.get)===null||l===void 0?void 0:l.call(i.k):void 0}(e,r,t);var n=r[t];return e.I||!rn(n)?n:n===pm(e.t,t)?(hm(e),e.o[t]=_m(e.A.h,n,e)):n},has:function(e,t){return t in Nn(e)},ownKeys:function(e){return Reflect.ownKeys(Nn(e))},set:function(e,t,r){var n=TS(Nn(e),t);if(n?.set)return n.set.call(e.k,r),!0;if(!e.P){var i=pm(Nn(e),t),o=i?.[We];if(o&&o.t===r)return e.o[t]=r,e.D[t]=!1,!0;if(DS(r,i)&&(r!==void 0||ko(e.t,t)))return!0;hm(e),Bn(e)}return e.o[t]===r&&typeof r!="number"&&(r!==void 0||t in e.o)||(e.o[t]=r,e.D[t]=!0,!0)},deleteProperty:function(e,t){return pm(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,hm(e),Bn(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=Nn(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty:function(){sr(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){sr(12)}},la={};wi(fa,function(e,t){la[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),la.deleteProperty=function(e,t){return la.set.call(this,e,t,void 0)},la.set=function(e,t,r){return fa.set.call(this,e[0],t,r,e[0])};var Gk=function(){function e(r){var n=this;this.g=AS,this.F=!0,this.produce=function(i,o,s){if(typeof i=="function"&&typeof o!="function"){var l=o;o=i;var u=n;return function(f){var a=this;f===void 0&&(f=l);for(var c=arguments.length,v=Array(c>1?c-1:0),y=1;y<c;y++)v[y-1]=arguments[y];return u.produce(f,function(S){var b;return(b=o).call.apply(b,[a,S].concat(v))})}}var p;if(typeof o!="function"&&sr(6),s!==void 0&&typeof s!="function"&&sr(7),rn(i)){var _=OS(n),m=_m(n,i,void 0),d=!0;try{p=o(m),d=!1}finally{d?Kc(_):vm(_)}return typeof Promise<"u"&&p instanceof Promise?p.then(function(f){return fm(_,s),dm(f,_)},function(f){throw Kc(_),f}):(fm(_,s),dm(p,_))}if(!i||typeof i!="object"){if((p=o(i))===void 0&&(p=i),p===jS&&(p=void 0),n.F&&Jc(p,!0),s){var g=[],h=[];Fr("Patches").M(i,p,g,h),s(g,h)}return p}sr(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(p){for(var _=arguments.length,m=Array(_>1?_-1:0),d=1;d<_;d++)m[d-1]=arguments[d];return n.produceWithPatches(p,function(g){return i.apply(void 0,[g].concat(m))})};var s,l,u=n.produce(i,o,function(p,_){s=p,l=_});return typeof Promise<"u"&&u instanceof Promise?u.then(function(p){return[p,s,l]}):[u,s,l]},typeof r?.useProxies=="boolean"&&this.setUseProxies(r.useProxies),typeof r?.autoFreeze=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var t=e.prototype;return t.createDraft=function(r){rn(r)||sr(8),Hr(r)&&(r=NS(r));var n=OS(this),i=_m(this,r,void 0);return i[We].C=!0,vm(n),i},t.finishDraft=function(r,n){var i=r&&r[We],o=i.A;return fm(o,n),dm(void 0,o)},t.setAutoFreeze=function(r){this.F=r},t.setUseProxies=function(r){r&&!AS&&sr(20),this.g=r},t.applyPatches=function(r,n){var i;for(i=n.length-1;i>=0;i--){var o=n[i];if(o.path.length===0&&o.op==="replace"){r=o.value;break}}i>-1&&(n=n.slice(i+1));var s=Fr("Patches").$;return Hr(r)?s(r,n):this.produce(r,function(l){return s(l,n)})},e}(),Kt=new Gk,Kk=Kt.produce,fP=Kt.produceWithPatches.bind(Kt),dP=Kt.setAutoFreeze.bind(Kt),pP=Kt.setUseProxies.bind(Kt),hP=Kt.applyPatches.bind(Kt),mP=Kt.createDraft.bind(Kt),vP=Kt.finishDraft.bind(Kt),To=Kk;function Cm(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HS(Object(r),!0).forEach(function(n){Cm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Et(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var US=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Em=function(){return Math.random().toString(36).substring(7).split("").join(".")},Qc={INIT:"@@redux/INIT"+Em(),REPLACE:"@@redux/REPLACE"+Em(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Em()}};function Xk(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function km(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Et(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Et(1));return r(km)(e,t)}if(typeof e!="function")throw new Error(Et(2));var i=e,o=t,s=[],l=s,u=!1;function p(){l===s&&(l=s.slice())}function _(){if(u)throw new Error(Et(3));return o}function m(f){if(typeof f!="function")throw new Error(Et(4));if(u)throw new Error(Et(5));var a=!0;return p(),l.push(f),function(){if(!!a){if(u)throw new Error(Et(6));a=!1,p();var v=l.indexOf(f);l.splice(v,1),s=null}}}function d(f){if(!Xk(f))throw new Error(Et(7));if(typeof f.type>"u")throw new Error(Et(8));if(u)throw new Error(Et(9));try{u=!0,o=i(o,f)}finally{u=!1}for(var a=s=l,c=0;c<a.length;c++){var v=a[c];v()}return f}function g(f){if(typeof f!="function")throw new Error(Et(10));i=f,d({type:Qc.REPLACE})}function h(){var f,a=m;return f={subscribe:function(v){if(typeof v!="object"||v===null)throw new Error(Et(11));function y(){v.next&&v.next(_())}y();var S=a(y);return{unsubscribe:S}}},f[US]=function(){return this},f}return d({type:Qc.INIT}),n={dispatch:d,subscribe:m,getState:_,replaceReducer:g},n[US]=h,n}function Yk(e){Object.keys(e).forEach(function(t){var r=e[t],n=r(void 0,{type:Qc.INIT});if(typeof n>"u")throw new Error(Et(12));if(typeof r(void 0,{type:Qc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Et(13))})}function WS(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var i=t[n];typeof e[i]=="function"&&(r[i]=e[i])}var o=Object.keys(r),s,l;try{Yk(r)}catch(u){l=u}return function(p,_){if(p===void 0&&(p={}),l)throw l;if(!1)var m;for(var d=!1,g={},h=0;h<o.length;h++){var f=o[h],a=r[f],c=p[f],v=a(c,_);if(typeof v>"u"){var y=_&&_.type;throw new Error(Et(14))}g[f]=v,d=d||v!==c}return d=d||o.length!==Object.keys(p).length,d?g:p}}function Io(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,i){return function(){return n(i.apply(void 0,arguments))}})}function qS(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var i=n.apply(void 0,arguments),o=function(){throw new Error(Et(15))},s={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},l=t.map(function(u){return u(s)});return o=Io.apply(void 0,l)(i.dispatch),Zc(Zc({},i),{},{dispatch:o})}}}function zS(e){var t=function(n){var i=n.dispatch,o=n.getState;return function(s){return function(l){return typeof l=="function"?l(i,o,e):s(l)}}};return t}var VS=zS();VS.withExtraArgument=zS;var Om=VS;var Jk=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Zk=function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(p){return function(_){return u([p,_])}}function u(p){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=p[0]&2?i.return:p[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,p[1])).done)return o;switch(i=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,i=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){r.label=p[1];break}if(p[0]===6&&r.label<o[1]){r.label=o[1],o=p;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(p);break}o[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(_){p=[6,_],i=0}finally{n=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},ef=function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e},Qk=Object.defineProperty,eO=Object.defineProperties,tO=Object.getOwnPropertyDescriptors,$S=Object.getOwnPropertySymbols,rO=Object.prototype.hasOwnProperty,nO=Object.prototype.propertyIsEnumerable,GS=function(e,t,r){return t in e?Qk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},jn=function(e,t){for(var r in t||(t={}))rO.call(t,r)&&GS(e,r,t[r]);if($S)for(var n=0,i=$S(t);n<i.length;n++){var r=i[n];nO.call(t,r)&&GS(e,r,t[r])}return e},Lm=function(e,t){return eO(e,tO(t))},iO=function(e,t,r){return new Promise(function(n,i){var o=function(u){try{l(r.next(u))}catch(p){i(p)}},s=function(u){try{l(r.throw(u))}catch(p){i(p)}},l=function(u){return u.done?n(u.value):Promise.resolve(u.value).then(o,s)};l((r=r.apply(e,t)).next())})};var oO=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Io:Io.apply(null,arguments)},TP=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__:function(){return function(e){return e}};function sO(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var r=t;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return t===r}var aO=function(e){Jk(t,e);function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=e.apply(this,r)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.prototype.concat.apply(this,r)},t.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(t.bind.apply(t,ef([void 0],r[0].concat(this)))):new(t.bind.apply(t,ef([void 0],r.concat(this))))},t}(Array);function uO(e){return typeof e=="boolean"}function lO(){return function(t){return cO(t)}}function cO(e){e===void 0&&(e={});var t=e.thunk,r=t===void 0?!0:t,n=e.immutableCheck,i=n===void 0?!0:n,o=e.serializableCheck,s=o===void 0?!0:o,l=new aO;if(r&&(uO(r)?l.push(Om):l.push(Om.withExtraArgument(r.extraArgument))),!1){if(i)var u;if(s)var p}return l}var Tm=!0;function XS(e){var t=lO(),r=e||{},n=r.reducer,i=n===void 0?void 0:n,o=r.middleware,s=o===void 0?t():o,l=r.devTools,u=l===void 0?!0:l,p=r.preloadedState,_=p===void 0?void 0:p,m=r.enhancers,d=m===void 0?void 0:m,g;if(typeof i=="function")g=i;else if(sO(i))g=WS(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var h=s;if(typeof h=="function"&&(h=h(t),!Tm&&!Array.isArray(h)))throw new Error("when using a middleware builder function, an array of middleware must be returned");if(!Tm&&h.some(function(y){return typeof y!="function"}))throw new Error("each middleware provided to configureStore must be a function");var f=qS.apply(void 0,h),a=Io;u&&(a=oO(jn({trace:!Tm},typeof u=="object"&&u)));var c=[f];Array.isArray(d)?c=ef([f],d):typeof d=="function"&&(c=d(c));var v=a.apply(void 0,c);return km(g,_,v)}function Fn(e,t){function r(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(t){var o=t.apply(void 0,n);if(!o)throw new Error("prepareAction did not return an object");return jn(jn({type:e,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:e,payload:n[0]}}return r.toString=function(){return""+e},r.type=e,r.match=function(n){return n.type===e},r}function YS(e){var t={},r=[],n,i={addCase:function(o,s){var l=typeof o=="string"?o:o.type;if(l in t)throw new Error("addCase cannot be called with two reducers for the same action type");return t[l]=s,i},addMatcher:function(o,s){return r.push({matcher:o,reducer:s}),i},addDefaultCase:function(o){return n=o,i}};return e(i),[t,r,n]}function fO(e){return typeof e=="function"}function dO(e,t,r,n){r===void 0&&(r=[]);var i=typeof t=="function"?YS(t):[t,r,n],o=i[0],s=i[1],l=i[2],u;if(fO(e))u=function(){return To(e(),function(){})};else{var p=To(e,function(){});u=function(){return p}}function _(m,d){m===void 0&&(m=u());var g=ef([o[d.type]],s.filter(function(h){var f=h.matcher;return f(d)}).map(function(h){var f=h.reducer;return f}));return g.filter(function(h){return!!h}).length===0&&(g=[l]),g.reduce(function(h,f){if(f)if(Hr(h)){var a=h,c=f(a,d);return typeof c>"u"?h:c}else{if(rn(h))return To(h,function(v){return f(v,d)});var c=f(h,d);if(typeof c>"u"){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return c}return h},m)}return _.getInitialState=u,_}function pO(e,t){return e+"/"+t}function JS(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var r=typeof e.initialState=="function"?e.initialState:To(e.initialState,function(){}),n=e.reducers||{},i=Object.keys(n),o={},s={},l={};i.forEach(function(_){var m=n[_],d=pO(t,_),g,h;"reducer"in m?(g=m.reducer,h=m.prepare):g=m,o[_]=g,s[d]=g,l[_]=h?Fn(d,h):Fn(d)});function u(){var _=typeof e.extraReducers=="function"?YS(e.extraReducers):[e.extraReducers],m=_[0],d=m===void 0?{}:m,g=_[1],h=g===void 0?[]:g,f=_[2],a=f===void 0?void 0:f,c=jn(jn({},d),s);return dO(r,c,h,a)}var p;return{name:t,reducer:function(_,m){return p||(p=u()),p(_,m)},actions:l,caseReducers:o,getInitialState:function(){return p||(p=u()),p.getInitialState()}}}var hO="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",mO=function(e){e===void 0&&(e=21);for(var t="",r=e;r--;)t+=hO[Math.random()*64|0];return t},vO=["name","message","stack","code"],Im=function(){function e(t,r){this.payload=t,this.meta=r}return e}(),KS=function(){function e(t,r){this.payload=t,this.meta=r}return e}(),_O=function(e){if(typeof e=="object"&&e!==null){for(var t={},r=0,n=vO;r<n.length;r++){var i=n[r];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}};function tf(e,t,r){var n=Fn(e+"/fulfilled",function(p,_,m,d){return{payload:p,meta:Lm(jn({},d||{}),{arg:m,requestId:_,requestStatus:"fulfilled"})}}),i=Fn(e+"/pending",function(p,_,m){return{payload:void 0,meta:Lm(jn({},m||{}),{arg:_,requestId:p,requestStatus:"pending"})}}),o=Fn(e+"/rejected",function(p,_,m,d,g){return{payload:d,error:(r&&r.serializeError||_O)(p||"Rejected"),meta:Lm(jn({},g||{}),{arg:m,requestId:_,rejectedWithValue:!!d,requestStatus:"rejected",aborted:p?.name==="AbortError",condition:p?.name==="ConditionError"})}}),s=!1,l=typeof AbortController<"u"?AbortController:function(){function p(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){}}}return p.prototype.abort=function(){},p}();function u(p){return function(_,m,d){var g=r?.idGenerator?r.idGenerator(p):mO(),h=new l,f,a=new Promise(function(S,b){return h.signal.addEventListener("abort",function(){return b({name:"AbortError",message:f||"Aborted"})})}),c=!1;function v(S){c&&(f=S,h.abort())}var y=function(){return iO(this,null,function(){var S,b,C,E,x,w;return Zk(this,function(L){switch(L.label){case 0:return L.trys.push([0,4,,5]),E=(S=r?.condition)==null?void 0:S.call(r,p,{getState:m,extra:d}),yO(E)?[4,E]:[3,2];case 1:E=L.sent(),L.label=2;case 2:if(E===!1)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return c=!0,_(i(g,p,(b=r?.getPendingMeta)==null?void 0:b.call(r,{requestId:g,arg:p},{getState:m,extra:d}))),[4,Promise.race([a,Promise.resolve(t(p,{dispatch:_,getState:m,extra:d,requestId:g,signal:h.signal,rejectWithValue:function(k,N){return new Im(k,N)},fulfillWithValue:function(k,N){return new KS(k,N)}})).then(function(k){if(k instanceof Im)throw k;return k instanceof KS?n(k.payload,g,p,k.meta):n(k,g,p)})])];case 3:return C=L.sent(),[3,5];case 4:return x=L.sent(),C=x instanceof Im?o(null,g,p,x.payload,x.meta):o(x,g,p),[3,5];case 5:return w=r&&!r.dispatchConditionRejection&&o.match(C)&&C.meta.condition,w||_(C),[2,C]}})})}();return Object.assign(y,{abort:v,requestId:g,arg:p,unwrap:function(){return y.then(gO)}})}}return Object.assign(u,{pending:i,rejected:o,fulfilled:n,typePrefix:e})}function gO(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function yO(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var SO="task",ZS="listener",QS="completed",Mm="cancelled",AP="task-"+Mm,PP="task-"+QS,RP=ZS+"-"+Mm,DP=ZS+"-"+QS,NP=function(){function e(t){this.code=t,this.name="TaskAbortError",this.message=SO+" "+Mm+" (reason: "+t+")"}return e}();var Am="listenerMiddleware";var BP=Fn(Am+"/add"),jP=Fn(Am+"/removeAll"),FP=Fn(Am+"/remove");BS();var bO=e=>`module Task${e} where
-- Objective: fix the type error in this file

divides x y = y \`mod\` x == 0


dropEvery [] _ = []
dropEvery (x:xs) n = dropEvery' (x:xs) n 1

dropEvery' :: [Int] -> Int -> Int -> [Int]
dropEvery' [] _ _ = []
dropEvery' (x:xs) n i =
    let current =
            if n \`divides\` i
                then []
                else [x]
    in current : dropEvery' xs n (i+1)
`,xO=e=>`module Task${e} where
-- Objective: fix the type error in this file

-- Rotate a list N places to the left.

rotate1 :: [a] -> [a]
rotate1 x = tail x ++ [head x]

rotate1Back :: [a] -> [a]
rotate1Back x = last x : init x


rotate :: [a] -> Int -> [a]
rotate [] _ = []
rotate x 0 = x
rotate x y
  | y > 0 = rotate rotate1 (y-1)
  | otherwise = rotate rotate1Back x (y+1)
`;var wO=e=>`module Task${e} where
-- Objective: fix the type error in this file

-- Insert an element at a given position into a list.

insertAt el lst n =
    let accu (i, acc) x =
            if i == n
                then (acc ++ [el,x],i+1)
                else (acc ++ [x],i+1)
    in fst $ foldl accu ([],1) lst


`,CO=e=>`module Task${e} where
-- Objective: fix the type error in this file

data Tree a = Empty | Branch a (Tree a) (Tree a)
leaf x = Branch x Empty Empty

isBalancedTree Empty = True
isBalancedTree (Branch _ l r) =
    (countBranches l - countBranches r) == 1
    || (countBranches r - countBranches l) == 1
    && isBalancedTree l && isBalancedTree r


countBranches Empty = 0
countBranches (Branch _ l r) = 1 + l + r
`;var EO=e=>`module Task${e} where
-- Objective: fix the type error in this file

--  Eliminate consecutive duplicates of list elements.

compress = foldr skipDups

skipDups x [] = [x]
skipDups x acc
   | x == head acc = acc
   | otherwise = x : acc

expect = [3,4,5,6]

actual = compress [3,3,4,5,6,6]

test :: Bool
test =  expect == actual
`,kO=e=>`module Task${e} where
-- Objective: fix the type error in this file

data U = UCon Bool Int (Int, Int)

u (UCon x y z) =
  if x
    then z
    else fst y + snd y

actual = u (UCon False 0 (15, 10))
expect = 25

test :: Bool
test = actual == expect

`,OO=e=>`module Task${e} where
-- Objective: fix the type error in this file

quick :: [Int] -> [Int]
quick []   = []
quick (x:xs)=
 let littlebigs = split xs
 in
   quick (fst littlebigs)
    ++ [x]
    ++  quick (snd littlebigs)

split [] _ result = result
split (x:xs) n (littles, bigs) =
  if x < n
    then split xs n (x:littles, bigs)
    else split xs n (littles, x:bigs)
`,LO=e=>`module Task${e} where
-- Objective: fix the type error in this file

data XML = XML Position Part
data Position = Top | Bottom | Left | Right

type Name = String

data Part =
     Element Name [Attribute] [XML]
   | Comment String
   | Text String

getPart :: XML -> Part
getPart (XML pos part) = part


printXML (Element name [attributs] xmls) =
  "<" ++ name ++ ">"
  ++ mconcat (map printXML xmls)
  ++ "</" ++ name ++ ">"
printXML (Text text) = text


`;var TO=e=>`module Task${e} where

-- safely convert a maybe value
-- to a value of the inner type
fromMaybe' ma x = 
  case ma of
    Nothing -> x
    Just a -> a
  
-- Feed zero if the maybe value is nothing
justOrZero n = fromMaybe' 0 n

-- add two maybe words
x = let a = justOrZero (Just 3)
        b = justOrZero Nothing
    in a + b
`,IO=[TO,bO,xO,wO,CO,EO,kO,OO,LO].map((e,t)=>e(t+1)),da=IO;function Ce(e){return e!=null&&typeof e=="object"&&e["@@functional/placeholder"]===!0}function K(e){return function t(r){return arguments.length===0||Ce(r)?t:e.apply(this,arguments)}}function F(e){return function t(r,n){switch(arguments.length){case 0:return t;case 1:return Ce(r)?t:K(function(i){return e(r,i)});default:return Ce(r)&&Ce(n)?t:Ce(r)?K(function(i){return e(i,n)}):Ce(n)?K(function(i){return e(r,i)}):e(r,n)}}}function Rt(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(r){return t.apply(this,arguments)};case 2:return function(r,n){return t.apply(this,arguments)};case 3:return function(r,n,i){return t.apply(this,arguments)};case 4:return function(r,n,i,o){return t.apply(this,arguments)};case 5:return function(r,n,i,o,s){return t.apply(this,arguments)};case 6:return function(r,n,i,o,s,l){return t.apply(this,arguments)};case 7:return function(r,n,i,o,s,l,u){return t.apply(this,arguments)};case 8:return function(r,n,i,o,s,l,u,p){return t.apply(this,arguments)};case 9:return function(r,n,i,o,s,l,u,p,_){return t.apply(this,arguments)};case 10:return function(r,n,i,o,s,l,u,p,_,m){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function nn(e,t,r){return function(){for(var n=[],i=0,o=e,s=0;s<t.length||i<arguments.length;){var l;s<t.length&&(!Ce(t[s])||i>=arguments.length)?l=t[s]:(l=arguments[i],i+=1),n[s]=l,Ce(l)||(o-=1),s+=1}return o<=0?r.apply(this,n):Rt(o,nn(e,n,r))}}var MO=F(function(t,r){return t===1?K(r):Rt(t,nn(t,[],r))}),tt=MO;function te(e){return function t(r,n,i){switch(arguments.length){case 0:return t;case 1:return Ce(r)?t:F(function(o,s){return e(r,o,s)});case 2:return Ce(r)&&Ce(n)?t:Ce(r)?F(function(o,s){return e(o,n,s)}):Ce(n)?F(function(o,s){return e(r,o,s)}):K(function(o){return e(r,n,o)});default:return Ce(r)&&Ce(n)&&Ce(i)?t:Ce(r)&&Ce(n)?F(function(o,s){return e(o,s,i)}):Ce(r)&&Ce(i)?F(function(o,s){return e(o,n,s)}):Ce(n)&&Ce(i)?F(function(o,s){return e(r,o,s)}):Ce(r)?K(function(o){return e(o,n,i)}):Ce(n)?K(function(o){return e(r,o,i)}):Ce(i)?K(function(o){return e(r,n,o)}):e(r,n,i)}}}var Je=Array.isArray||function(t){return t!=null&&t.length>=0&&Object.prototype.toString.call(t)==="[object Array]"};function pa(e){return e!=null&&typeof e["@@transducer/step"]=="function"}function Oe(e,t,r){return function(){if(arguments.length===0)return r();var n=arguments[arguments.length-1];if(!Je(n)){for(var i=0;i<e.length;){if(typeof n[e[i]]=="function")return n[e[i]].apply(n,Array.prototype.slice.call(arguments,0,-1));i+=1}if(pa(n)){var o=t.apply(null,Array.prototype.slice.call(arguments,0,-1));return o(n)}}return r.apply(this,arguments)}}function ar(e){return e&&e["@@transducer/reduced"]?e:{"@@transducer/value":e,"@@transducer/reduced":!0}}var Le={init:function(){return this.xf["@@transducer/init"]()},result:function(e){return this.xf["@@transducer/result"](e)}};function Wr(e,t){for(var r=0,n=t.length,i=Array(n);r<n;)i[r]=e(t[r]),r+=1;return i}function on(e){return Object.prototype.toString.call(e)==="[object String]"}var AO=K(function(t){return Je(t)?!0:!t||typeof t!="object"||on(t)?!1:t.length===0?!0:t.length>0?t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1):!1}),Mo=AO;var PO=function(){function e(t){this.f=t}return e.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(t){return t},e.prototype["@@transducer/step"]=function(t,r){return this.f(t,r)},e}();function rf(e){return new PO(e)}var RO=F(function(t,r){return Rt(t.length,function(){return t.apply(r,arguments)})}),Pm=RO;function DO(e,t,r){for(var n=0,i=r.length;n<i;){if(t=e["@@transducer/step"](t,r[n]),t&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}n+=1}return e["@@transducer/result"](t)}function eb(e,t,r){for(var n=r.next();!n.done;){if(t=e["@@transducer/step"](t,n.value),t&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}n=r.next()}return e["@@transducer/result"](t)}function tb(e,t,r,n){return e["@@transducer/result"](r[n](Pm(e["@@transducer/step"],e),t))}var rb=typeof Symbol<"u"?Symbol.iterator:"@@iterator";function st(e,t,r){if(typeof e=="function"&&(e=rf(e)),Mo(r))return DO(e,t,r);if(typeof r["fantasy-land/reduce"]=="function")return tb(e,t,r,"fantasy-land/reduce");if(r[rb]!=null)return eb(e,t,r[rb]());if(typeof r.next=="function")return eb(e,t,r);if(typeof r.reduce=="function")return tb(e,t,r,"reduce");throw new TypeError("reduce: list must be array or iterable")}var NO=function(){function e(t,r){this.xf=r,this.f=t}return e.prototype["@@transducer/init"]=Le.init,e.prototype["@@transducer/result"]=Le.result,e.prototype["@@transducer/step"]=function(t,r){return this.xf["@@transducer/step"](t,this.f(r))},e}(),BO=F(function(t,r){return new NO(t,r)}),nb=BO;function $e(e,t){return Object.prototype.hasOwnProperty.call(t,e)}var ib=Object.prototype.toString,jO=function(){return ib.call(arguments)==="[object Arguments]"?function(t){return ib.call(t)==="[object Arguments]"}:function(t){return $e("callee",t)}}(),Rm=jO;var FO=!{toString:null}.propertyIsEnumerable("toString"),ob=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],sb=function(){"use strict";return arguments.propertyIsEnumerable("length")}(),HO=function(t,r){for(var n=0;n<t.length;){if(t[n]===r)return!0;n+=1}return!1},UO=typeof Object.keys=="function"&&!sb?K(function(t){return Object(t)!==t?[]:Object.keys(t)}):K(function(t){if(Object(t)!==t)return[];var r,n,i=[],o=sb&&Rm(t);for(r in t)$e(r,t)&&(!o||r!=="length")&&(i[i.length]=r);if(FO)for(n=ob.length-1;n>=0;)r=ob[n],$e(r,t)&&!HO(i,r)&&(i[i.length]=r),n-=1;return i}),_t=UO;var WO=F(Oe(["fantasy-land/map","map"],nb,function(t,r){switch(Object.prototype.toString.call(r)){case"[object Function]":return tt(r.length,function(){return t.call(this,r.apply(this,arguments))});case"[object Object]":return st(function(n,i){return n[i]=t(r[i]),n},{},_t(r));default:return Wr(t,r)}})),rt=WO;var Xt=Number.isInteger||function(t){return t<<0===t};var qO=F(function(t,r){var n=t<0?r.length+t:t;return on(r)?r.charAt(n):r[n]}),Ge=qO;var zO=F(function(t,r){if(r!=null)return Xt(t)?Ge(t,r):r[t]}),ur=zO;var VO=te(st),qr=VO;var $O=K(function(t){return function(){return t}}),ma=$O;var GO=function(){function e(t,r){this.xf=r,this.f=t,this.any=!1}return e.prototype["@@transducer/init"]=Le.init,e.prototype["@@transducer/result"]=function(t){return this.any||(t=this.xf["@@transducer/step"](t,!1)),this.xf["@@transducer/result"](t)},e.prototype["@@transducer/step"]=function(t,r){return this.f(r)&&(this.any=!0,t=ar(this.xf["@@transducer/step"](t,!0))),t},e}(),KO=F(function(t,r){return new GO(t,r)}),ab=KO;var XO=F(Oe(["any"],ab,function(t,r){for(var n=0;n<r.length;){if(t(r[n]))return!0;n+=1}return!1})),Dm=XO;function Ao(e,t,r){if(Xt(e)&&Je(r)){var n=[].concat(r);return n[e]=t,n}var i={};for(var o in r)i[o]=r[o];return i[e]=t,i}var ZO=K(function(t){return t==null}),va=ZO;var QO=te(function e(t,r,n){if(t.length===0)return r;var i=t[0];if(t.length>1){var o=!va(n)&&$e(i,n)?n[i]:Xt(t[1])?[]:{};r=e(Array.prototype.slice.call(t,1),r,o)}return Ao(i,r,n)}),of=QO;var e2=te(function(t,r,n){return of([t],r,n)}),Po=e2;function Ci(e){var t=Object.prototype.toString.call(e);return t==="[object Function]"||t==="[object AsyncFunction]"||t==="[object GeneratorFunction]"||t==="[object AsyncGeneratorFunction]"}function sf(e){return function t(r){for(var n,i,o,s=[],l=0,u=r.length;l<u;){if(Mo(r[l]))for(n=e?t(r[l]):r[l],o=0,i=n.length;o<i;)s[s.length]=n[o],o+=1;else s[s.length]=r[l];l+=1}return s}}var n2=K(function(t){return t===null?"Null":t===void 0?"Undefined":Object.prototype.toString.call(t).slice(8,-1)}),_a=n2;var o2=K(function(t){return!t}),Ro=o2;function jm(e,t){return function(){return t.call(this,e.apply(this,arguments))}}function Hn(e,t){return function(){var r=arguments.length;if(r===0)return t();var n=arguments[r-1];return Je(n)||typeof n[e]!="function"?t.apply(this,arguments):n[e].apply(n,Array.prototype.slice.call(arguments,0,r-1))}}var s2=te(Hn("slice",function(t,r,n){return Array.prototype.slice.call(n,t,r)})),lr=s2;var a2=K(Hn("tail",lr(1,1/0))),af=a2;function gt(){if(arguments.length===0)throw new Error("pipe requires at least one argument");return Rt(arguments[0].length,qr(jm,arguments[0],af(arguments)))}var u2=K(function(t){return on(t)?t.split("").reverse().join(""):Array.prototype.slice.call(t,0).reverse()}),Un=u2;var l2=Ge(0),Do=l2;function uf(e){for(var t=[],r;!(r=e.next()).done;)t.push(r.value);return t}function Wn(e,t,r){for(var n=0,i=r.length;n<i;){if(e(t,r[n]))return!0;n+=1}return!1}function Hm(e){var t=String(e).match(/^function (\w*)/);return t==null?"":t[1]}function f2(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var ga=typeof Object.is=="function"?Object.is:f2;function fb(e,t,r,n){var i=uf(e),o=uf(t);function s(l,u){return ya(l,u,r.slice(),n.slice())}return!Wn(function(l,u){return!Wn(s,u,l)},o,i)}function ya(e,t,r,n){if(ga(e,t))return!0;var i=_a(e);if(i!==_a(t))return!1;if(typeof e["fantasy-land/equals"]=="function"||typeof t["fantasy-land/equals"]=="function")return typeof e["fantasy-land/equals"]=="function"&&e["fantasy-land/equals"](t)&&typeof t["fantasy-land/equals"]=="function"&&t["fantasy-land/equals"](e);if(typeof e.equals=="function"||typeof t.equals=="function")return typeof e.equals=="function"&&e.equals(t)&&typeof t.equals=="function"&&t.equals(e);switch(i){case"Arguments":case"Array":case"Object":if(typeof e.constructor=="function"&&Hm(e.constructor)==="Promise")return e===t;break;case"Boolean":case"Number":case"String":if(!(typeof e==typeof t&&ga(e.valueOf(),t.valueOf())))return!1;break;case"Date":if(!ga(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(!(e.source===t.source&&e.global===t.global&&e.ignoreCase===t.ignoreCase&&e.multiline===t.multiline&&e.sticky===t.sticky&&e.unicode===t.unicode))return!1;break}for(var o=r.length-1;o>=0;){if(r[o]===e)return n[o]===t;o-=1}switch(i){case"Map":return e.size!==t.size?!1:fb(e.entries(),t.entries(),r.concat([e]),n.concat([t]));case"Set":return e.size!==t.size?!1:fb(e.values(),t.values(),r.concat([e]),n.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var s=_t(e);if(s.length!==_t(t).length)return!1;var l=r.concat([e]),u=n.concat([t]);for(o=s.length-1;o>=0;){var p=s[o];if(!($e(p,t)&&ya(t[p],e[p],l,u)))return!1;o-=1}return!0}var d2=F(function(t,r){return ya(t,r,[],[])}),Ie=d2;function lf(e,t,r){var n,i;if(typeof e.indexOf=="function")switch(typeof t){case"number":if(t===0){for(n=1/t;r<e.length;){if(i=e[r],i===0&&1/i===n)return r;r+=1}return-1}else if(t!==t){for(;r<e.length;){if(i=e[r],typeof i=="number"&&i!==i)return r;r+=1}return-1}return e.indexOf(t,r);case"string":case"boolean":case"function":case"undefined":return e.indexOf(t,r);case"object":if(t===null)return e.indexOf(t,r)}for(;r<e.length;){if(Ie(e[r],t))return r;r+=1}return-1}function qn(e,t){return lf(t,e,0)>=0}function Sa(e){var t=e.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return'"'+t.replace(/"/g,'\\"')+'"'}var ba=function(t){return(t<10?"0":"")+t},p2=typeof Date.prototype.toISOString=="function"?function(t){return t.toISOString()}:function(t){return t.getUTCFullYear()+"-"+ba(t.getUTCMonth()+1)+"-"+ba(t.getUTCDate())+"T"+ba(t.getUTCHours())+":"+ba(t.getUTCMinutes())+":"+ba(t.getUTCSeconds())+"."+(t.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"},db=p2;function cf(e){return function(){return!e.apply(this,arguments)}}function xa(e,t){for(var r=0,n=t.length,i=[];r<n;)e(t[r])&&(i[i.length]=t[r]),r+=1;return i}function zn(e){return Object.prototype.toString.call(e)==="[object Object]"}var h2=function(){function e(t,r){this.xf=r,this.f=t}return e.prototype["@@transducer/init"]=Le.init,e.prototype["@@transducer/result"]=Le.result,e.prototype["@@transducer/step"]=function(t,r){return this.f(r)?this.xf["@@transducer/step"](t,r):t},e}(),m2=F(function(t,r){return new h2(t,r)}),pb=m2;var v2=F(Oe(["fantasy-land/filter","filter"],pb,function(e,t){return zn(t)?st(function(r,n){return e(t[n])&&(r[n]=t[n]),r},{},_t(t)):xa(e,t)})),No=v2;var _2=F(function(t,r){return No(cf(t),r)}),wa=_2;function Ca(e,t){var r=function(s){var l=t.concat([e]);return qn(s,l)?"<Circular>":Ca(s,l)},n=function(o,s){return Wr(function(l){return Sa(l)+": "+r(o[l])},s.slice().sort())};switch(Object.prototype.toString.call(e)){case"[object Arguments]":return"(function() { return arguments; }("+Wr(r,e).join(", ")+"))";case"[object Array]":return"["+Wr(r,e).concat(n(e,wa(function(o){return/^\d+$/.test(o)},_t(e)))).join(", ")+"]";case"[object Boolean]":return typeof e=="object"?"new Boolean("+r(e.valueOf())+")":e.toString();case"[object Date]":return"new Date("+(isNaN(e.valueOf())?r(NaN):Sa(db(e)))+")";case"[object Null]":return"null";case"[object Number]":return typeof e=="object"?"new Number("+r(e.valueOf())+")":1/e===-1/0?"-0":e.toString(10);case"[object String]":return typeof e=="object"?"new String("+r(e.valueOf())+")":Sa(e);case"[object Undefined]":return"undefined";default:if(typeof e.toString=="function"){var i=e.toString();if(i!=="[object Object]")return i}return"{"+n(e,_t(e)).join(", ")+"}"}}var g2=K(function(t){return Ca(t,[])}),Ea=g2;var y2=K(function(t){return tt(t.length,t)}),ka=y2;var b2=F(function(t,r){return r==null||r!==r?t:r}),Oa=b2;var I2=function(){function e(t,r){this.xf=r,this.f=t,this.found=!1}return e.prototype["@@transducer/init"]=Le.init,e.prototype["@@transducer/result"]=function(t){return this.found||(t=this.xf["@@transducer/step"](t,void 0)),this.xf["@@transducer/result"](t)},e.prototype["@@transducer/step"]=function(t,r){return this.f(r)&&(this.found=!0,t=ar(this.xf["@@transducer/step"](t,r))),t},e}(),M2=F(function(t,r){return new I2(t,r)}),vb=M2;var A2=F(Oe(["find"],vb,function(t,r){for(var n=0,i=r.length;n<i;){if(t(r[n]))return r[n];n+=1}})),ff=A2;var P2=K(sf(!0)),Vn=P2;var D2=F(qn),qm=D2;var j2=F(function(t,r){return tt(t+1,function(){var n=arguments[t];if(n!=null&&Ci(n[r]))return n[r].apply(n,Array.prototype.slice.call(arguments,0,t));throw new TypeError(Ea(n)+' does not have a method named "'+r+'"')})}),Bo=j2;function df(e){return Object.prototype.toString.call(e)==="[object Number]"}var U2=K(function(t){return t!=null&&df(t.length)?t.length:NaN}),Ei=U2;var z2=F(function(t,r){return t.map(function(n){for(var i=r,o=0,s;o<n.length;){if(i==null)return;s=n[o],i=Xt(s)?Ge(s,i):i[s],o+=1}return i})}),Gm=z2;var V2=F(function(t,r){return Gm([t],r)[0]}),Z=V2;function Xm(e,t,r){if(Xt(e)&&Je(r)){var n=[].concat(r);return n[e]=t(n[e]),n}var i={};for(var o in r)i[o]=r[o];return i[e]=t(i[e]),i}var K2=te(function e(t,r,n){if(!zn(n)&&!Je(n)||t.length===0)return n;var i=t[0];if(!$e(i,n))return n;if(t.length===1)return Xm(i,r,n);var o=e(Array.prototype.slice.call(t,1),r,n[i]);return o===n[i]?n:Ao(i,o,n)}),Ym=K2;var X2=te(function(t,r,n){return Ym([t],r,n)}),pf=X2;var sL=F(function(t,r){var n=Number(r),i=0,o;if(n<0||isNaN(n))throw new RangeError("n must be a non-negative number");for(o=new Array(n);i<n;)o[i]=t(i),i+=1;return o}),Jm=sL;var aL=F(function(t,r){return Jm(ma(t),r)}),$n=aL;var fL=F(function(t,r){return Array.prototype.slice.call(r,0).sort(t)}),La=fL;var dL=Bo(1,"split"),Gn=dL;var pL=F(function(t,r){return Number(t)-Number(r)}),Ta=pL;var L$=typeof String.prototype.trim=="function";var Zm=e=>e.replaceAll("[Char]","String"),bb=(e,{from:t,to:r})=>xb(e,t)&&CL(e,r);function hf({srcSpanEndLine:e,srcSpanEndColumn:t,srcSpanStartColumn:r,srcSpanStartLine:n}){return{from:{line:n-1,ch:r-1},to:{line:e-1,ch:t-1}}}var wL=(e,t)=>e.line<t.line?!0:e.line===t.line?e.ch<=t.ch:!1,CL=(e,t)=>e.line<t.line?!0:e.line===t.line?e.ch<t.ch:!1,xb=(e,t)=>e.line>t.line?!0:e.line===t.line?e.ch>=t.ch:!1;var ki=(e,t)=>wL(e.from,t.from)&&xb(e.to,t.to);function wb(e,t,r,n,i,o){let s=!1;if(t.from.line<e.from.line){let[l,u,p,_]=Sb({left:t.from.ch,top:t.from.line,width:t.to.ch-t.from.ch,height:1},{left:e.from.ch,top:e.from.line,width:e.to.ch-e.from.ch,height:1},s,o);return[{relativeTo:t.from,key:"top-line",styles:l,classes:["absolute","z-40","rounded-t-sm","border-l","border-t","border-r"],content:{type:"empty"}},{relativeTo:t.from,key:"inbetween-line",styles:p,classes:["absolute","z-20","border-r"],content:{type:"empty"}},{relativeTo:e.from,key:"bottom-line",styles:u,classes:["absolute","z-20","rounded-b-sm","border-l","border-b","border-r"],content:{type:"empty"}},{relativeTo:e.from,key:"annotation-box",styles:_,classes:["absolute","text-center","text-sm","z-20"],content:{type:"annotation",direction:i,reason:r,step:n}}]}else{let[l,u,p,_]=Sb({left:e.from.ch,top:e.from.line,width:e.to.ch-e.from.ch,height:1},{left:t.from.ch,top:t.from.line,width:t.to.ch-t.from.ch,height:1},s,o);return[{relativeTo:e.from,key:"top-line",styles:l,classes:["absolute","z-40","rounded-t-sm","border-l","border-t","border-r"],content:{type:"empty"}},{relativeTo:e.from,key:"inbetween-line",styles:p,classes:["absolute","z-20","border-r"],content:{type:"empty"}},{relativeTo:t.from,key:"bottom-line",styles:u,classes:["absolute","z-20","rounded-b-sm","border-l","border-b","border-r"],content:{type:"empty"}},{relativeTo:t.from,key:"annotation-box",styles:_,classes:["absolute","text-center","text-sm","z-20"],content:{type:"annotation",direction:i,reason:r,step:n}}]}}function Sb(e,t,r,n){let p="#666666",_=n*.625+10,m={background:r?"var(--color-azure-3)":"transparent",opacity:r?.5:1,height:`${.28}rem`,left:`${e.width*.625/2}rem`,top:`${-.28}rem`,width:`${_-e.left*.625-e.width*.625/2}rem`,borderColor:p},d={background:r?"var(--color-sky-3)":"transparent",opacity:r?.5:1,height:`${.28}rem`,left:`${t.width*.625/2}rem`,top:`${t.height*1.5}rem`,width:`${_-t.left*.625-t.width*.625/2}rem`,borderColor:p},g={background:r?"var(--color-violet-3)":"transparent",opacity:r?.5:1,width:`${_-e.left*.625-e.width*.625/2}rem`,height:`${(t.top-e.top+1)*1.5-1.25}rem`,top:`${0}rem`,left:`${e.width*.625/2}rem`,borderColor:p},h={background:r?"var(--color-orange-3)":"transparent",opacity:r?.5:1,width:`${18}rem`,height:`${1.25}rem`,top:`${t.height*1.5-1.25}rem`,left:`${_-t.left*.625-18/2}rem`};return[m,d,g,h]}var Qm=(e,t)=>({...e,marker:{shared:[t,"-inset-y-0.5","inset-x-0","border-t","border-b","border-black","z-30"],start:["-left-0.5","border-l","rounded-l-sm"],end:["-right-0.5","border-r","rounded-r-sm"]}});var Ia=(e,t)=>({...e,marker:{shared:[t,"inset-0","border-t","border-b","border-black","z-40"],start:["border-l","rounded-l-sm"],end:["border-r","rounded-r-sm"]}}),mf=(e,t)=>({...e,marker:{shared:[t,"inset-0","z-0"],start:["rounded-l-sm"],end:["rounded-r-sm"]}});function Cb(e){return Math.floor(Math.random()*e)}function Dt(e,t){return e?t?"Advanced Mode":"Balanced Mode":"Basic Mode"}var jb=Se(Eb()),Fb=Se(kb());var Fo=async e=>{await new Promise(t=>setTimeout(t,e))},cr=(e,t,r)=>Math.max(e,Math.min(t,r)),sn=(e,t,r)=>e<=t&&t<=r;var Ma=()=>{};function*rv(e,t){let r=[];for(let n of e)r.push(n),r.length==t&&(yield r,r=[]);r!=[]&&(yield r)}var Ob=function*(){for(;;){let e=["\u2598 ","\u2580 ","\u259D "," \u2598"," \u258C"," \u2596","\u2597 ","\u2584 ","\u2596 ","\u258C "];for(let t of e)yield t}};function Lb(e){return e.length==0?void 0:e[e.length-1]}function Tb(e,t=300){let r=!1,n=!1,i=[],o=(...s)=>{if(n){r=!0,i=s;return}e.apply(this,s),r=!1,n=!0,Fo(t).then(()=>{n=!1,r&&o(...s)})};return o}var ve="\x1B[",nv="\x1B]",gf="\x07",Ut=";",Ib=!1,he={};he.cursorTo=(e,t)=>{if(typeof e!="number")throw new TypeError("The `x` argument is required");return typeof t!="number"?ve+(e+1)+"G":ve+(t+1)+";"+(e+1)+"H"};he.cursorMove=(e,t)=>{if(typeof e!="number")throw new TypeError("The `x` argument is required");let r="";return e<0?r+=ve+-e+"D":e>0&&(r+=ve+e+"C"),t<0?r+=ve+-t+"A":t>0&&(r+=ve+t+"B"),r};he.cursorUp=(e=1)=>ve+e+"A";he.cursorDown=(e=1)=>ve+e+"B";he.cursorForward=(e=1)=>ve+e+"C";he.cursorBackward=(e=1)=>ve+e+"D";he.cursorLeft=ve+"G";he.cursorSavePosition=Ib?"\x1B7":ve+"s";he.cursorRestorePosition=Ib?"\x1B8":ve+"u";he.cursorGetPosition=ve+"6n";he.cursorNextLine=ve+"E";he.cursorPrevLine=ve+"F";he.cursorHide=ve+"?25l";he.cursorShow=ve+"?25h";he.eraseLines=e=>{let t="";for(let r=0;r<e;r++)t+=he.eraseLine+(r<e-1?he.cursorUp():"");return e&&(t+=he.cursorLeft),t};he.eraseEndLine=ve+"K";he.eraseStartLine=ve+"1K";he.eraseLine=ve+"2K";he.eraseDown=ve+"J";he.eraseUp=ve+"1J";he.eraseScreen=ve+"2J";he.scrollUp=ve+"S";he.scrollDown=ve+"T";he.clearScreen="\x1Bc";he.beep=gf;he.link=(e,t)=>[nv,"8",Ut,Ut,t,gf,e,nv,"8",Ut,Ut,gf].join("");he.image=(e,t={})=>{let r=`${nv}1337;File=inline=1`;return t.width&&(r+=`;width=${t.width}`),t.height&&(r+=`;height=${t.height}`),t.preserveAspectRatio===!1&&(r+=";preserveAspectRatio=0"),r+":"+e.toString("base64")+gf};he.insertLine=e=>ve+e+"L";he.deleteLine=e=>ve+e+"M";he.cursorRow=e=>ve+e+"d";he.cursorPos=(e,t)=>ve+e+Ut+t+"d";he.colouredText=(e,t,r)=>{let n={r:0,g:0,b:0,...e},i={r:0,g:0,b:0,...t};return ve+"38;2"+Ut+n.r+Ut+n.g+Ut+n.b+"m"+ve+"48;2"+Ut+i.r+Ut+i.g+Ut+i.b+"m"+r+ve+"39m"+ve+"49m"};he.colourSeq=(e,t)=>{t??=!1;let r={r:0,g:0,b:0,...e};return ve+`${t?"38":"48"};2`+Ut+r.r+Ut+r.g+Ut+r.b+"m"};var Ke;he.Colour=(Ke=class{constructor({r:t,g:r,b:n}){this.r=t??0,this.g=r??0,this.b=n??0}mul(t){return{r:Math.round(cr(0,this.r*t,255)),g:Math.round(cr(0,this.g*t,255)),b:Math.round(cr(0,this.b*t,255))}}},qt(Ke,"Red",new Ke({r:255})),qt(Ke,"Blue",new Ke({b:255})),qt(Ke,"Green",new Ke({g:255})),qt(Ke,"Yellow",new Ke({r:236,g:232,b:26})),qt(Ke,"DarkGrey",new Ke({r:50,g:50,b:50})),qt(Ke,"LtDkGrey",new Ke({r:75,g:75,b:75})),qt(Ke,"Grey",new Ke({r:128,g:128,b:128})),qt(Ke,"LightGrey",new Ke({r:190,g:190,b:190})),qt(Ke,"White",new Ke({r:255,g:255,b:255})),Ke);var ie=he;var Mb={"infinite type":`Infinite Type
    
    A type is constructed using itself.
    This is not possible as type checking
    must end at a concrete type.`,"Ambiguous occurrence":`Ambiguous occurrence
    
    The compiler cannot tell which of
    the mentioned terms is the one that
    you want to use`},EL={regex:{keyword:new RegExp(Object.keys(Mb).map(e=>`(${e})`).join("|"),"gi"),symbol:/(?<symbol>[a-zA-Z.0-9]+)/g,location:/generated\/Infile.hs:(?<line>[0-9]+)(?:\-(?<lineEnd>[0-9]+))?:(?<colStart>[0-9]+)(?:\-(?<colEnd>[0-9]+))?/g,ambiguous:/(?:^(?:either|or) )(?<namespace>([a-zA-Z.0-9]+\.)+)(?<symbol>[a-zA-Z.0-9]+)/g,error:/\[(?<code>GHC-[0-9]+)\]/g,codeCommit:/\[\[commit\]\]/g},map:Mb},an=EL;String.prototype.splice=function(e,t,r){return e<0&&(e=this.length+e,e<0&&(e=0)),this.slice(0,e)+(r||"")+this.slice(e+t)};var Ho=class{constructor(t,r,n,i){this.window=t,this.range={start:{x:0,y:0,...r.start},end:{x:0,y:0,...r.end}},this.colour=i??ie.Colour.Red,this.funcs={enter:o=>{o.setHighlight(Ho.albedo.hover),n?.enter?.(o)},leave:o=>{o.setHighlight(Ho.albedo.unlit),n?.leave?.(o)},click:o=>{o.setHighlight(Ho.albedo.click),n?.click?.(o)}},this.active=!1,this.highlight={fg:{},bg:{},resetFG:{},resetBG:{}},this.setupHighlight()}setupHighlight(){let[t,r,n,i]=this.window.write(ie.cursorSavePosition+ie.cursorTo(this.range.start.x,this.range.start.y)+ie.colouredText(ie.Colour.White,this.colour.mul(Ho.albedo.unlit),"|").split("|").join(ie.cursorTo(this.range.end.x,this.range.end.y))+ie.cursorRestorePosition);this.highlight={fg:t,bg:r,resetFG:n,resetBG:i}}setHighlight(t){this.highlight.bg.seq=ie.colourSeq(this.colour.mul(t),!1)}},yf=Ho;qt(yf,"albedo",{click:1,hover:.6,unlit:.3});var kt=class{constructor(t,r,n,i,o,s){this.terminal=t,this.x=Math.ceil(r),this.y=Math.ceil(n),this.width=Math.floor(i),this.height=Math.floor(o),this.line=0,this.scroll=0,this.content=[{text:"",esc:[]}],this.cursor={x:0,y:0,saved:{x:0,y:0}},s={movable:!1,scrollable:!0,resizable:!1,softwrap:!1,...s},this.movable=s.movable,this.scrollable=s.scrollable,this.resizable=s.resizable,this.softwrap=s.softwrap,this.links=[],this.active=!1,this.dirty=!0,this.softContent=[],kt.setup()}static setup(){kt.drawReq.setup||(kt.drawReq.setup=!0,kt.setupEvent("wheel","onWheel"),kt.setupEvent("mousemove","onMouseMove"),kt.setupEvent("mouseout","onMouseMove"),kt.setupEvent("mousedown","onClick"),kt.setupEvent("mouseup","onMouseMove"),(async()=>{for(;;)kt.drawReq.request&&(fr.window.draw(),fr.perm.windows.forEach(t=>t.draw()),kt.drawReq.request=!1,kt.drawReq.callbacks.forEach(t=>t()),kt.drawReq.callbacks=[]),await Fo(1)})())}static setupEvent(t,r){fr.html.terminal.addEventListener(t,n=>{for(let i=fr.perm.windows.length-1;i>=0;i--)if(fr.perm.windows[i][r](n))return;fr.window[r](n)},{capture:!0,passive:!1})}onWheel(t){if(!this.scrollable||!this.active)return!1;let r=Math.sign(t.deltaY);if(t.ctrlKey)this.move(r,0,!0);else if(t.altKey)this.move(0,r,!0);else if(t.shiftKey){if(this.softwrap)return;let n=this.content.reduce((o,s)=>Math.max(o,s.text.length),0),i=r*cr(1,Math.round(Math.pow(n/this.width,1.3)),Math.floor(this.width*.7));this.scroll=cr(0,this.scroll+i,n-this.width)}else{let n=r*cr(1,Math.round(this.content.length/this.height),Math.floor(this.height*.25));this.line=cr(0,this.line+n,Math.max(this.softContent.length,this.content.length)-this.height)}return this.onMouseMove(t),this.requestDraw(),!0}onMouseMove(t){if(this.active=this.mouseWithin(t.offsetX,t.offsetY),!this.active)return!1;let{x:r,y:n}=this.mouseToCell(t.offsetX,t.offsetY);r+=this.scroll,n+=this.line;let i=this.links.filter(o=>sn(o.range.start.x,r,o.range.end.x-1)&&sn(o.range.start.y,n,o.range.end.y)).sort((o,s)=>s.range.start.x-o.range.start.x)[0];return i?.active===!1&&(i.funcs.enter(i),i.active=!0,this.requestDraw()),this.links.filter(o=>o.active).filter(o=>o!=i).forEach(o=>{o.funcs.leave(o),o.active=!1,this.requestDraw()}),!0}onClick(t){return this.active?(this.links.filter(r=>r.active).forEach(r=>r.funcs.click(r)),!0):!1}addLink(t,r,n){let i=new yf(this,t,r,n);return this.links.push(i),i}reset(){return this.clean(),this.content=[{text:"",esc:[]}],this.links=[],this.cursor={x:0,y:0,saved:{x:0,y:0}},this.line=0,this}write(t,r){this.dirty=!0;let n=o=>{let s=/\u001B\[(?:(?<nums>(?:[0-9]+;)*)(?<num>(?:[0-9]+)))?(?<char>[a-zA-Z])/gi,l=[],u=!1;for(let[p,_,m,d]of rv(o.split(s),4)){let g={prefix:p,esc:Ma};if((_||m||d)===void 0){l.push(g);break}u=!0;let h=(_?.split(";")||[]).filter(f=>f!=="");switch(h.push(m),d){case"G":g.esc=()=>{this.cursor={...this.cursor,x:m+1}};break;case"H":g.esc=()=>{this.cursor={...this.cursor,x:+h[1]-1,y:+h[0]-1}};break;case"s":g.esc=()=>{this.cursor.saved={x:this.cursor.x,y:this.cursor.y}};break;case"u":g.esc=()=>{this.cursor={...this.cursor,...this.cursor.saved}};break;case"L":g.esc=()=>{this.content.splice(this.cursor.y+1,0,...Array.from({length:+h[0]},f=>({text:"",esc:[]})))};break;case"M":g.esc=()=>{this.content.splice(this.cursor.y,+m)};break;case"m":g.esc=()=>`\x1B[${h.join(";")+d}`;break;default:console.log(`UNMATCHED ESCAPE SEQUENCE: ESC[${h.join(";")+d}`),g.esc=()=>`\x1B[${h.join(";")+d}`;break}l.push(g)}return u==!1?[{prefix:o,esc:Ma}]:l},i=[];for(let{prefix:o,esc:s}of n(t)){let l={...this.cursor};for(let p of(o??"").split(`
`)){for(;this.cursor.y>=this.content.length;)this.content.push({text:"",esc:[]});this.content[this.cursor.y].text=this.content[this.cursor.y].text.padEnd(this.cursor.x).splice(this.cursor.x,p.length,p),this.content[this.cursor.y].esc=this.content[this.cursor.y].esc.filter(({pos:_})=>!sn(1,_-this.cursor.x,p.length-2)),this.cursor.x+=p.length,l={...this.cursor},this.cursor.y+=1,this.cursor.x=0}this.cursor=l;let u=s();if(u){let p={pos:this.cursor.x,seq:u};i.push(p),this.content[this.cursor.y].esc.push(p)}for(;this.cursor.y>=this.content.length;)this.content.push({text:"",esc:[]})}return this.requestDraw(r),i}writeln(t,r){return this.write(t+`
`,r)}mouseWithin(t,r){let{x:n,y:i}=this.mouseToCell(t,r);return sn(this.x-.5,n,this.x+this.width+.5)&&sn(this.y-.5,i,this.y+this.height+.5)}mouseToCell(t,r){let n=fr.html.terminal.querySelector(".xterm-text-layer"),i=n.offsetHeight/fr.terminal.rows,o=n.offsetWidth/fr.terminal.cols;return{x:Math.floor(t/o-1),y:Math.floor(r/i-1)}}resize(t,r,n,i=!1){!this.resizable&&!i||(this.dirty=!0,n&&(t+=this.width,r+=this.height),this.clean(),this.width=Math.floor(t),this.height=Math.floor(r),this.move(0,0,!0,!0),this.onWheel({deltaY:0}),this.requestDraw())}expand(t=!1){this.move(0,0,!1,t),this.resize(this.terminal.cols-2,this.terminal.rows-2,!1,t)}move(t,r,n,i=!1){!this.movable&&!i||(n&&(t+=this.x,r+=this.y),t=cr(0,t,this.terminal.cols-this.width-2),r=cr(0,r,this.terminal.rows-this.height-2),this.clean(),this.x=Math.floor(t),this.y=Math.floor(r),this.requestDraw())}*lines(){for(let t of this.content.slice(this.line,this.line+this.height))yield{text:t.text.slice(this.scroll,this.width+this.scroll),esc:t.esc.map(({pos:r,seq:n})=>({pos:cr(0,r-this.scroll,this.width),seq:n}))}}*linesWrap(){let t=this;function*r(){let n=0;for(let i of t.content){let o={start:0,end:t.width},s=[];for(let l of rv(i.text,t.width)){let u=s.concat(i.esc.filter(({pos:p})=>sn(o.start,p,o.end)).map(({pos:p,..._})=>({..._,pos:p-o.start})));yield{text:l.join(""),esc:u},o.start=o.end,o.end+=t.width,n+=1,s=Object.values(u.reduce((p,_)=>{let{type:m}=_.seq.matchAll(/\x1b\[(?<type>3|4)(?<col>9m|8;2)/g)?.next()?.value?.groups;return{...p,...m==="3"?{fg:_}:m==="4"?{bg:_}:{}}},{})).filter(p=>p!==void 0).map(({pos:p,..._})=>({..._,pos:0}))}}}this.dirty&&(this.dirty=!1,this.softContent=Array.from(r()));for(let n of this.softContent.slice(this.line,this.line+this.height))yield n}draw(){let t=this.content.reduce((d,g)=>Math.max(d,g.text.length),0),r={low:Math.max(-.01,this.scroll/t)*this.width,hi:Math.min(1,(this.scroll+this.width)/t)*this.width};r.hi=Math.max(Math.ceil(r.low)+.5,r.hi);let n="\u2585";r.low<=0&&r.hi>=this.height&&(n="\u2550");let i=Array.from(Array(this.width).keys()).map(d=>sn(r.low,d,r.hi)?n:"\u2550").join(""),o=d=>ie.colouredText(ie.Colour.LtDkGrey,{},d),s=o(ie.cursorSavePosition+ie.cursorTo(this.x,this.y)+`\u2554${i}\u2557`+ie.cursorTo(this.x,this.y+this.height+1)+`\u255A${i}\u255D`),l=this.softwrap?this.linesWrap():this.lines(),u=Math.max(this.content.length,this.softContent.length),p={low:Math.max(-.01,this.line/u)*this.height,hi:Math.min(1,(this.line+this.height)/u)*this.height};p.hi=Math.max(Math.ceil(p.low)+.5,p.hi);let _="\u2588";p.low<=0&&p.hi>=this.height&&(_="\u2551");let m="";for(let d=1;d<=this.height;d++){let{text:g,esc:h}=l.next().value??{text:"",esc:[]},f=o(sn(p.low,d,p.hi)?_:"\u2551"),a=h.sort((c,v)=>c.pos-v.pos).reduce((c,v)=>{let{type:y,col:S}=v.seq.matchAll(/\x1b\[(?<type>3|4)(?<col>9m|8;2)/g).next().value.groups,b=y=="3"?c.fgstack:c.bgstack;return S=="9m"?(b.pop(),c.out.push(b.length==0?v:{pos:v.pos,seq:Lb(b).seq})):(b.push(v),c.out.push(v)),c},{fgstack:[],bgstack:[],out:[]}).out.reduceRight((c,{pos:v,seq:y})=>c.splice(v,0,y),(g||"").padEnd(this.width));s+=`${ie.cursorTo(this.x,this.y+d)}${f}${a}${f}`}this.terminal.write(s+ie.cursorRestorePosition)}requestDraw(t){kt.drawReq.request=!0,t&&kt.drawReq.callbacks.push(t)}clean(){this.terminal.write(ie.cursorSavePosition);for(let t=0;t<=this.height+1;t++)this.terminal.write(`${ie.cursorTo(this.x,this.y+t)}${"".padEnd(this.width+2)}`);this.terminal.write(ie.cursorRestorePosition)}},Sf=kt;qt(Sf,"drawReq",{request:!1,setup:!1,callbacks:[]});var kL={Window:Sf},iv=kL;var ov=function(e,t){return Number(e.slice(0,-1*t.length))},OL=function(e){return e.endsWith("px")?{value:e,type:"px",numeric:ov(e,"px")}:e.endsWith("fr")?{value:e,type:"fr",numeric:ov(e,"fr")}:e.endsWith("%")?{value:e,type:"%",numeric:ov(e,"%")}:e==="auto"?{value:e,type:"auto"}:null},Rb=function(e){return e.split(" ").map(OL)},LL=function(e,t,r,n){r===void 0&&(r=0),n===void 0&&(n=!1);var i=n?e+1:e,o=t.slice(0,i).reduce(function(l,u){return l+u.numeric},0),s=r?e*r:0;return o+s},Db=function(e,t,r){return t.concat(r).map(function(n){return n.style[e]}).filter(function(n){return n!==void 0&&n!==""})},TL=function(e,t){return t.endsWith(e)?Number(t.slice(0,-1*e.length)):null},Ab=function(e){for(var t=0;t<e.length;t++)if(e[t].numeric>0)return t;return null},Oi=function(){return!1},IL=function(e,t,r){e.style[t]=r},Xe=function(e,t,r){var n=e[t];return n!==void 0?n:r};function Nb(e){var t;return(t=[]).concat.apply(t,Array.from(e.ownerDocument.styleSheets).map(function(r){var n=[];try{n=Array.from(r.cssRules||[])}catch{}return n})).filter(function(r){var n=!1;try{n=e.matches(r.selectorText)}catch{}return n})}var ML="grid-template-columns",AL="grid-template-rows",ct=function(t,r,n){this.direction=t,this.element=r.element,this.track=r.track,t==="column"?(this.gridTemplateProp=ML,this.gridGapProp="grid-column-gap",this.cursor=Xe(n,"columnCursor",Xe(n,"cursor","col-resize")),this.snapOffset=Xe(n,"columnSnapOffset",Xe(n,"snapOffset",30)),this.dragInterval=Xe(n,"columnDragInterval",Xe(n,"dragInterval",1)),this.clientAxis="clientX",this.optionStyle=Xe(n,"gridTemplateColumns")):t==="row"&&(this.gridTemplateProp=AL,this.gridGapProp="grid-row-gap",this.cursor=Xe(n,"rowCursor",Xe(n,"cursor","row-resize")),this.snapOffset=Xe(n,"rowSnapOffset",Xe(n,"snapOffset",30)),this.dragInterval=Xe(n,"rowDragInterval",Xe(n,"dragInterval",1)),this.clientAxis="clientY",this.optionStyle=Xe(n,"gridTemplateRows")),this.onDragStart=Xe(n,"onDragStart",Oi),this.onDragEnd=Xe(n,"onDragEnd",Oi),this.onDrag=Xe(n,"onDrag",Oi),this.writeStyle=Xe(n,"writeStyle",IL),this.startDragging=this.startDragging.bind(this),this.stopDragging=this.stopDragging.bind(this),this.drag=this.drag.bind(this),this.minSizeStart=r.minSizeStart,this.minSizeEnd=r.minSizeEnd,r.element&&(this.element.addEventListener("mousedown",this.startDragging),this.element.addEventListener("touchstart",this.startDragging))};ct.prototype.getDimensions=function(){var t=this.grid.getBoundingClientRect(),r=t.width,n=t.height,i=t.top,o=t.bottom,s=t.left,l=t.right;this.direction==="column"?(this.start=i,this.end=o,this.size=n):this.direction==="row"&&(this.start=s,this.end=l,this.size=r)};ct.prototype.getSizeAtTrack=function(t,r){return LL(t,this.computedPixels,this.computedGapPixels,r)};ct.prototype.getSizeOfTrack=function(t){return this.computedPixels[t].numeric};ct.prototype.getRawTracks=function(){var t=Db(this.gridTemplateProp,[this.grid],Nb(this.grid));if(!t.length){if(this.optionStyle)return this.optionStyle;throw Error("Unable to determine grid template tracks from styles.")}return t[0]};ct.prototype.getGap=function(){var t=Db(this.gridGapProp,[this.grid],Nb(this.grid));return t.length?t[0]:null};ct.prototype.getRawComputedTracks=function(){return window.getComputedStyle(this.grid)[this.gridTemplateProp]};ct.prototype.getRawComputedGap=function(){return window.getComputedStyle(this.grid)[this.gridGapProp]};ct.prototype.setTracks=function(t){this.tracks=t.split(" "),this.trackValues=Rb(t)};ct.prototype.setComputedTracks=function(t){this.computedTracks=t.split(" "),this.computedPixels=Rb(t)};ct.prototype.setGap=function(t){this.gap=t};ct.prototype.setComputedGap=function(t){this.computedGap=t,this.computedGapPixels=TL("px",this.computedGap)||0};ct.prototype.getMousePosition=function(t){return"touches"in t?t.touches[0][this.clientAxis]:t[this.clientAxis]};ct.prototype.startDragging=function(t){if(!("button"in t&&t.button!==0)){t.preventDefault(),this.element?this.grid=this.element.parentNode:this.grid=t.target.parentNode,this.getDimensions(),this.setTracks(this.getRawTracks()),this.setComputedTracks(this.getRawComputedTracks()),this.setGap(this.getGap()),this.setComputedGap(this.getRawComputedGap());var r=this.trackValues.filter(function(l){return l.type==="%"}),n=this.trackValues.filter(function(l){return l.type==="fr"});if(this.totalFrs=n.length,this.totalFrs){var i=Ab(n);i!==null&&(this.frToPixels=this.computedPixels[i].numeric/n[i].numeric)}if(r.length){var o=Ab(r);o!==null&&(this.percentageToPixels=this.computedPixels[o].numeric/r[o].numeric)}var s=this.getSizeAtTrack(this.track,!1)+this.start;if(this.dragStartOffset=this.getMousePosition(t)-s,this.aTrack=this.track-1,this.track<this.tracks.length-1)this.bTrack=this.track+1;else throw Error("Invalid track index: "+this.track+". Track must be between two other tracks and only "+this.tracks.length+" tracks were found.");this.aTrackStart=this.getSizeAtTrack(this.aTrack,!1)+this.start,this.bTrackEnd=this.getSizeAtTrack(this.bTrack,!0)+this.start,this.dragging=!0,window.addEventListener("mouseup",this.stopDragging),window.addEventListener("touchend",this.stopDragging),window.addEventListener("touchcancel",this.stopDragging),window.addEventListener("mousemove",this.drag),window.addEventListener("touchmove",this.drag),this.grid.addEventListener("selectstart",Oi),this.grid.addEventListener("dragstart",Oi),this.grid.style.userSelect="none",this.grid.style.webkitUserSelect="none",this.grid.style.MozUserSelect="none",this.grid.style.pointerEvents="none",this.grid.style.cursor=this.cursor,window.document.body.style.cursor=this.cursor,this.onDragStart(this.direction,this.track)}};ct.prototype.stopDragging=function(){this.dragging=!1,this.cleanup(),this.onDragEnd(this.direction,this.track),this.needsDestroy&&(this.element&&(this.element.removeEventListener("mousedown",this.startDragging),this.element.removeEventListener("touchstart",this.startDragging)),this.destroyCb(),this.needsDestroy=!1,this.destroyCb=null)};ct.prototype.drag=function(t){var r=this.getMousePosition(t),n=this.getSizeOfTrack(this.track),i=this.aTrackStart+this.minSizeStart+this.dragStartOffset+this.computedGapPixels,o=this.bTrackEnd-this.minSizeEnd-this.computedGapPixels-(n-this.dragStartOffset),s=i+this.snapOffset,l=o-this.snapOffset;r<s&&(r=i),r>l&&(r=o),r<i?r=i:r>o&&(r=o);var u=r-this.aTrackStart-this.dragStartOffset-this.computedGapPixels,p=this.bTrackEnd-r+this.dragStartOffset-n-this.computedGapPixels;if(this.dragInterval>1){var _=Math.round(u/this.dragInterval)*this.dragInterval;p-=_-u,u=_}if(u<this.minSizeStart&&(u=this.minSizeStart),p<this.minSizeEnd&&(p=this.minSizeEnd),this.trackValues[this.aTrack].type==="px")this.tracks[this.aTrack]=u+"px";else if(this.trackValues[this.aTrack].type==="fr")if(this.totalFrs===1)this.tracks[this.aTrack]="1fr";else{var m=u/this.frToPixels;this.tracks[this.aTrack]=m+"fr"}else if(this.trackValues[this.aTrack].type==="%"){var d=u/this.percentageToPixels;this.tracks[this.aTrack]=d+"%"}if(this.trackValues[this.bTrack].type==="px")this.tracks[this.bTrack]=p+"px";else if(this.trackValues[this.bTrack].type==="fr")if(this.totalFrs===1)this.tracks[this.bTrack]="1fr";else{var g=p/this.frToPixels;this.tracks[this.bTrack]=g+"fr"}else if(this.trackValues[this.bTrack].type==="%"){var h=p/this.percentageToPixels;this.tracks[this.bTrack]=h+"%"}var f=this.tracks.join(" ");this.writeStyle(this.grid,this.gridTemplateProp,f),this.onDrag(this.direction,this.track,f)};ct.prototype.cleanup=function(){window.removeEventListener("mouseup",this.stopDragging),window.removeEventListener("touchend",this.stopDragging),window.removeEventListener("touchcancel",this.stopDragging),window.removeEventListener("mousemove",this.drag),window.removeEventListener("touchmove",this.drag),this.grid&&(this.grid.removeEventListener("selectstart",Oi),this.grid.removeEventListener("dragstart",Oi),this.grid.style.userSelect="",this.grid.style.webkitUserSelect="",this.grid.style.MozUserSelect="",this.grid.style.pointerEvents="",this.grid.style.cursor=""),window.document.body.style.cursor=""};ct.prototype.destroy=function(t,r){t===void 0&&(t=!0),t||this.dragging===!1?(this.cleanup(),this.element&&(this.element.removeEventListener("mousedown",this.startDragging),this.element.removeEventListener("touchstart",this.startDragging)),r&&r()):(this.needsDestroy=!0,r&&(this.destroyCb=r))};var Pb=function(e,t,r){return t in e?e[t]:r},Uo=function(e,t){return function(r){if(r.track<1)throw Error("Invalid track index: "+r.track+". Track must be between two other tracks.");var n=e==="column"?t.columnMinSizes||{}:t.rowMinSizes||{},i=e==="column"?"columnMinSize":"rowMinSize";return new ct(e,Object.assign({},{minSizeStart:Pb(n,r.track-1,Xe(t,i,Xe(t,"minSize",0))),minSizeEnd:Pb(n,r.track+1,Xe(t,i,Xe(t,"minSize",0)))},r),t)}},Li=function(t){var r=this;this.columnGutters={},this.rowGutters={},this.options=Object.assign({},{columnGutters:t.columnGutters||[],rowGutters:t.rowGutters||[],columnMinSizes:t.columnMinSizes||{},rowMinSizes:t.rowMinSizes||{}},t),this.options.columnGutters.forEach(function(n){r.columnGutters[n.track]=Uo("column",r.options)(n)}),this.options.rowGutters.forEach(function(n){r.rowGutters[n.track]=Uo("row",r.options)(n)})};Li.prototype.addColumnGutter=function(t,r){this.columnGutters[r]&&this.columnGutters[r].destroy(),this.columnGutters[r]=Uo("column",this.options)({element:t,track:r})};Li.prototype.addRowGutter=function(t,r){this.rowGutters[r]&&this.rowGutters[r].destroy(),this.rowGutters[r]=Uo("row",this.options)({element:t,track:r})};Li.prototype.removeColumnGutter=function(t,r){var n=this;r===void 0&&(r=!0),this.columnGutters[t]&&this.columnGutters[t].destroy(r,function(){delete n.columnGutters[t]})};Li.prototype.removeRowGutter=function(t,r){var n=this;r===void 0&&(r=!0),this.rowGutters[t]&&this.rowGutters[t].destroy(r,function(){delete n.rowGutters[t]})};Li.prototype.handleDragStart=function(t,r,n){r==="column"?(this.columnGutters[n]&&this.columnGutters[n].destroy(),this.columnGutters[n]=Uo("column",this.options)({track:n}),this.columnGutters[n].startDragging(t)):r==="row"&&(this.rowGutters[n]&&this.rowGutters[n].destroy(),this.rowGutters[n]=Uo("row",this.options)({track:n}),this.rowGutters[n].startDragging(t))};Li.prototype.destroy=function(t){var r=this;t===void 0&&(t=!0),Object.keys(this.columnGutters).forEach(function(n){return r.columnGutters[n].destroy(t,function(){delete r.columnGutters[n]})}),Object.keys(this.rowGutters).forEach(function(n){return r.rowGutters[n].destroy(t,function(){delete r.rowGutters[n]})})};function PL(e){return new Li(e)}var Bb=PL;var Hb=!1,av=new jb.Terminal({convertEol:!0,scrollback:0,cursorBlink:!1,cursorStyle:"bar",cursorWidth:1,disableStdin:!0,tabStopWidth:2}),sv=new Fb.FitAddon;av.loadAddon(sv);var br={terminal:document.getElementById("terminal-container"),buttons:{},hover:{shell:document.getElementById("wrasse-hover"),content:document.getElementById("wrasse-hover-content")},block:document.getElementById("wrasse-block")},Ub=()=>{G.window.line=0,G.window.scroll=0,G.window.requestDraw()},bf=()=>{let e=sv.proposeDimensions();(G.terminal.rows!=e.rows||G.terminal.cols!=e.cols)&&sv.fit(),G.window.expand(!0),zr.windows?.[0]?.resize(G.window.width/2-1,G.window.height,!1,!0),G.window.resize(G.window.width/2,G.window.height,!1,!0),zr.windows?.[0]?.move(G.window.width+2,0,!1,!0)},RL=()=>{Bb({minSize:100,snapOffset:10,rowGutters:[{track:1,element:document.querySelector(".gutter-row-1")}]}),console.log("wrasse init"),G.terminal.open(br.terminal),G.window=new iv.Window(av,2,2,10,10),Hb=!0,G.terminal.modes.mouseTrackingMode="any",G.terminal.modes.wraparoundMode=!0,bf(),new ResizeObserver(Tb(()=>bf(),100)).observe(br.terminal),G.window.write(`${ie.colouredText(ie.Colour.Yellow,ie.Colour.LtDkGrey,"Wrasse")} is loading, please wait.
type-check the code to start if nothing happens after a few seconds.
`,Ub);let e=t=>{br.hover.shell.style.left=t.pageX+"px",br.hover.shell.style.top=t.pageY+"px";let r=0;br.block.classList.contains("hidden")&&(r=100),br.block.style.left=t.pageX-r+"px",br.block.style.top=t.pageY-r+"px"};document.addEventListener("mousemove",e),(async()=>{let r=(await fetch("/messages",{method:"POST",body:"messages"})).json();console.log(r),G.messages=await r})()},DL=async({code:e,response:t,editor:r})=>{let n=await t;G.editor=r,console.log("back-end call"),Hb||G.setup();let i=await jL(e);console.log(i),G.tree=uv(i.full),G.data_0=i,G.data_0.ghc.code=e.split(`
`),G.data_1=n,G.data_2={ghc:i,chameleon:n},console.log(G.tree),G.tree.symbols=Wb(G.tree),zb(G.tree),br.terminal.querySelectorAll(".xterm-selection-layer, .xterm-link-layer, .xterm-cursor-layer").forEach(o=>o.remove())},Wb=e=>(e?.children.find(r=>r.content==="Defer GHC")?.children.find(r=>r.content==="symbols")?.children??[]).map(r=>JSON.parse(r.content)),uv=e=>({content:e[0][0],active:e[0][1],line:e[0][2],children:e[1].map(uv),link:void 0}),qb=e=>{zr.disposables.forEach(i=>i.dispose()),zr.disposables=[],zr.keywords.forEach(i=>i.dispose()),zr.keywords=[],zr.windows=[],G.terminal.reset(),G.window.reset(),G.terminal.options.disableStdin=!0,e&&G.window.writeln(JSON.stringify(e,null,2),Ub),bf();let t=function*(){for(;;)for(let i of["|","/","-","\\"])yield i}(),r=function*(){let i=0;for(;;)yield++i}(),n=async()=>{Fo(100),G.window.write(ie.cursorSavePosition+ie.cursorTo(r.next().value%2+30,1)+t.next().value+ie.cursorRestorePosition,n)}},NL=e=>{typeof e>"u"||e===""||zr.windows[0].reset().writeln(e||"")},BL=e=>{e?br.block.classList.remove("hidden"):br.block.classList.add("hidden")},zb=e=>{qb();let t=new iv.Window(G.terminal,G.terminal.cols/2,0,G.terminal.cols/2-2,G.terminal.rows,{movable:!0,softwrap:!0});zr.windows.push(t),bf();let r=0,n=(u,p)=>{(u.content!=="Root"||u===p)&&(u.head=p,u.children.forEach(_=>n(_,p)))},i=(u,p,_=!1)=>{let m=r,d="  ".repeat(p),g=u.content;_&&(u.children.length==0?G.window.writeln(d+"- "+g):u.active?G.window.writeln(d+"\u25BC "+g):G.window.writeln(d+"\u25BA "+g)),u.line=m,r++,u.active&&u.children.forEach(h=>i(h,p+1,_))},o=(u,p,_)=>{if(_===void 0)_=u.active;else if(u.active==!1)return;if(_)u.children.slice().reverse().forEach(m=>o(m,p+1,_)),G.window.write(ie.cursorSavePosition+ie.cursorTo(0,u.line+1)+ie.deleteLine(u.children.length)+ie.cursorTo(2*p,u.line)+"\u25BA"+ie.cursorRestorePosition);else{G.window.write(ie.cursorSavePosition+ie.cursorTo(0,u.line)+ie.insertLine(u.children.length));let m=u.line+1;u.children.forEach(d=>{let g="  ".repeat(p+1);d.children.length==0?G.window.write(ie.cursorTo(0,m)+g+"- "+d.content):G.window.write(ie.cursorTo(0,m)+g+"\u25BA "+d.content),m++}),G.window.write(ie.cursorTo(2*p,u.line)+"\u25BC"+ie.cursorRestorePosition),u.children.forEach(d=>o(d,p+1,_))}},s=(u,p,_)=>{if(u.link={text:u.content,range:{start:{x:p*2+1,y:u.line},end:{x:p*2+2+u.content.length,y:u.line}}},u.children.length>0&&u.line!=_){let m=!1;G.window.addLink(u.link.range,{click(d){d.window.links.forEach(g=>{g.highlight.fg.seq="",g.highlight.bg.seq="",g.highlight.resetFG.seq="",g.highlight.resetBG.seq=""}),d.window.content.forEach(g=>g.esc=g.esc.filter(h=>h.seq!=="")),d.window.links=[],o(u,p),u.active=!u.active,r=0,i(e,0,!1),s(e,0),l(e),G.window.write(ie.cursorTo(0,u.line))},enter(d){G.set_hover_content(u.active?"click to collapse":"click to expand")},leave(d){m=!1,G.set_hover_content()}},ie.Colour.Blue).treelink=!0}u.active&&u.children.forEach(m=>s(m,p+1))},l=u=>{if(u?.link){let{text:p,range:_}=u.link;for(let m of p.matchAll(an.regex.ambiguous)){let{namespace:d,symbol:g}=m.groups;G.window.addLink({start:{x:_.start.x+m.index+1,y:u.line},end:{x:_.start.x+m.index+m[0].length,y:u.line}},{click(h){if(u.active){u.children=u.children.pop();return}let f=Ob(),a=!1,c=()=>{Fo(10).then(()=>{a||G.window.write(ie.cursorSavePosition+ie.cursorTo(_.start.x-1,u.line)+f.next().value+ie.cursorRestorePosition,c)})};c(),(async()=>{console.log(G);let v=G.data_0?.ghc.code.map(w=>{let L=w.split("=");if(L.length<=1)return w;let k=L.slice(1).join("=");return L[0]+"="+k.replace(g,`${d}${g}`)}).reduce((w,L)=>w+`
`+L);console.log(v);let S=await(await fetch("/ghc",{method:"POST",body:v})).json();console.log(S);let b=uv(S.full);b.symbols=Wb(b),n(b,b);let C=b?.children.find(w=>w.content==="GHC")?.children.find(w=>w.content==="code")??{};C.content="code [[commit]]",C.code=v,u.children.push(b),a=!0;let[E,x]=[G.window.line,G.window.scroll];G.interactive_terminal(G.tree),G.window.line=E,G.window.scroll=x})()},enter(h){G.set_hover_content(`See what happens if you use '${d+g}'`)},leave(h){G.set_hover_content()}},ie.Colour.Green)}for(let m of p.matchAll(an.regex.keyword))G.window.addLink({start:{x:_.start.x+m.index+2,y:u.line},end:{x:_.start.x+m.index+m[0].length+1,y:u.line}},{click(d){},enter(d){G.set_hover_content(an.map[m[0]])},leave(d){G.set_hover_content()}},ie.Colour.Grey);for(let m of p.matchAll(an.regex.codeCommit))G.window.addLink({start:{x:_.start.x+m.index+2,y:u.line},end:{x:_.start.x+m.index+m[0].length+1,y:u.line}},{click(d){G.editor(u?.code)},enter(d){G.set_hover_content("Commit code to main window")},leave(d){G.set_hover_content()}},ie.Colour.Grey);for(let m of p.matchAll(an.regex.symbol)){let{symbol:d}=m.groups,g=u.head.symbols.find(h=>h.symbolName===d);g&&G.window.addLink({start:{x:_.start.x+m.index+2,y:u.line},end:{x:_.start.x+m.index+m[0].length,y:u.line}},{click(h){},enter(h){let f="",a=g?.symbolDefinedAt?.[1]?.matchAll(an.regex.location)?.next()?.value;if(a?.groups){let{line:c,colStart:v,colEnd:y}=a.groups;G?.data_0?.ghc?.code&&(f=G?.data_0?.ghc?.code[c-1])}G.set_hover_content(`${d}
    type: ${g?.symbolType||"constant"}
    signature: ${g?.definition||d}
    defined ${g?.symbolDefinedAt?.[0]==="in"?"in package":"at"}: ${g?.symbolDefinedAt?.[1]||"unknown"}
`+(f?`     \u255A\u2550\u25BA ${f}
`:"")+"    etc.:"+`
${g?.symbolEtc}
`.split(`
`).join(`
      `))},leave(h){G.set_hover_content()}},ie.Colour.LightGrey)}for(let m of p.matchAll(an.regex.location))G.window.addLink({start:{x:_.start.x+m.index+1,y:u.line},end:{x:_.start.x+m.index+m[0].length+1,y:u.line}},{click(d){},enter(d){let{line:g,colStart:h,colEnd:f}=m.groups,a="";G?.data_0?.ghc?.code&&(a=G?.data_0?.ghc?.code[g-1]),G.set_hover_content(`line ${g}, column ${h} to ${f}
   ${a}`)},leave(d){G.set_hover_content()}});for(let m of p.matchAll(an.regex.error))G.window.addLink({start:{x:_.start.x+m.index+1,y:u.line},end:{x:_.start.x+m.index+m[0].length+1,y:u.line}},{click(d){},enter(d){let{code:g}=m.groups,h=G.messages.find(f=>f.errCode==g);if(h){let{summary:f,removed:a,bodyText:c,introduced:v,errCode:y,severity:S,extension:b,flag:C,title:E,examples:x}=h,w=A=>A.split(`
`).join(`
|   `),L=x.map(({beforeCode:A,explanation:O,errorMsg:I,exTitle:D,afterCode:j})=>`${ie.colouredText(ie.Colour.Yellow,{},D)}
`+w(`before:
${A}`)+`

`+w(`after:
${j}`)),k=[S,b,C,v,a],N=[`severity: ${ie.colouredText({error:ie.Colour.Red,warning:ie.Colour.Yellow}[S]??ie.Colour.Green,{},S)}`,`originates from: ${b}`,`requires compiler flag: ${C}`,`introduced in ${v}`,`removed in ${a}`].filter((A,O)=>k[O]!="").join("; ");G.set_hover_content(`[${y}] -> ${E}
${N}

${f}

${c}

examples:${["",...L].join(`
`+"-".repeat(10)+`
`)}
`)}else G.set_hover_content(`No file found for error code ${g}`)},leave(d){G.set_hover_content()}})}u.active&&u?.children.forEach(l)};n(e,e),i(e,0,!0),s(e,0),l(e)},jL=async e=>FL(e),FL=async e=>(await fetch("/ghc",{method:"POST",body:e})).json(),zr={disposables:[],keywords:[],windows:[]},G={html:br,perm:zr,hook:DL,setup:RL,terminal:av,window:void 0,tree:{},data_0:{},data_1:{},data_2:{},switch_terminal:qb,interactive_terminal:zb,set_hover_content:NL,block_mouse:BL,messages:[],editor:Ma},fr=G;var HL=[Vn($n(["level1","level2","level3"],3)),Vn($n(["level1","level3","level2"],3)),Vn($n(["level2","level1","level3"],3)),Vn($n(["level2","level3","level1"],3)),Vn($n(["level3","level1","level2"],3)),Vn($n(["level3","level2","level1"],3))],UL=HL[Cb(6)],WL=e=>{if(e==="level1")return XL;if(e==="level2")return YL;if(e==="level3")return JL},dr={edit:0,normal:1},Ti=tf("typeCheck",async(e,{dispatch:t,getState:r})=>{t(KL());let n=r(),i=n.debugger.text,o=n.debugger.currentTaskNum;t(ZL(o));let l=(await fetch("/typecheck",{method:"POST",body:i})).json(),u=p=>{let _=t($L(p));return t(Ti(p)),_};return fr.hook({code:i,response:l,editor:u}),l}),Cre=tf("multipleExpThunk",async(e,{dispatch:t,getState:r})=>{let n=r(),i=Math.floor(n.debugger.steps.length/2);return n.debugger.multipleExps&&t(qo(i)),t(Kn()),null}),Wo=tf("switchTask",async(e,{dispatch:t})=>{let r=WL(UL[e]);t(GL(e)),t(Ti(null)),t(r())}),qL={currentStepNum:null,text:"",longestLine:0,currentTraverseId:null,currentContextItem:null,pinnedStep:0,highlightFilter:["markerDefination"],steps:[],context:[],numOfSteps:0,numOfContextRows:0,prevLocs:[],nextLocs:[],currentTaskNum:null,cursorPosition:0,wellTyped:!1,loadError:null,parseError:null,mode:dr.normal,widgets:[],highlights:[],debuggingSteps:!1,multipleExps:!1,attempts:[0,0,0,0,0,0,0,0,0]},{actions:zL,reducer:VL}=JS({name:"editor",initialState:qL,reducers:{setEditorContent(e,t){if(t.payload<0||t.payload>da.length)return e;e.text=t.payload,e.longestLine=gt(Gn(`
`),rt(Gn("")),rt(Ei),La(Ta),Un,Do)(t.payload)},toEditMode:Po("mode",dr.edit),toNormalMode:Po("mode",dr.normal),toggleDebuggerStpes:pf("debuggingSteps",Ro),toggleMultipleExps:pf("multipleExps",Ro),incrementAttemps(e,t){e.attempts=e.attempts.map((r,n)=>n===t.payload?r+1:r)},setCursorPosition(e,t){e.cursorPosition=t.payload},debuggingLevel1(e){e.debuggingSteps=!1,e.multipleExps=!1},debuggingLevel2(e){e.debuggingSteps=!1,e.multipleExps=!0},debuggingLevel3(e){e.debuggingSteps=!0,e.multipleExps=!0},setText(e,t){e.text=t.payload},showOnlyMark1(e){e.highlightFilter=["marker1","markerDefination"]},showOnlyMark2(e){e.highlightFilter=["marker2","markerDefination"]},showBoth(e){e.highlightFilter=["markerDefination"]},showDefination(e){e.highlightFilter=["marker1","marker2"]},setTask(e,t){if(t.payload<0||t.payload>da.length)return e;e.currentTaskNum=t.payload,e.text=da[t.payload],e.longestLine=gt(Gn(`
`),rt(Gn("")),rt(Ei),La(Ta),Un,Do)(da[t.payload])},setStep(e,t){if(e.currentStepNum===null||t.payload>e.numOfSteps-1||t.payload<0)return e;let r=t.payload,{highlights:n,widgets:i}=un(e.steps[r],r,e.longestLine),o=e.steps[r].stepId,s=Aa(e.context,o);e.currentStepNum=r,e.highlights=[...n,...Ra(e.steps,r),...Da(e.steps,r),Pa(s)],e.widgets=i,e.currentContextItem=s,e.currentTraverseId=o},lockStep(e,t){if(e.currentStepNum===null||t.payload>e.numOfSteps-1||t.payload<0)return e;let r=t.payload,{highlights:n,widgets:i}=un(e.steps[r],r,e.longestLine),o=e.steps[r].stepId,s=Aa(e.context,o);e.currentStepNum=r,e.highlights=[...n,...Ra(e.steps,r),...Da(e.steps,r),Pa(s)],e.widgets=i,e.currentContextItem=s,e.currentTraverseId=o,e.pinnedStep=t.payload},resetHighlights(e){e.highlights=[],e.widgets=[]},prevStep(e){if(e.currentStepNum===null||e.currentStepNum<=0)return e;let t=e.currentStepNum-1,{highlights:r,widgets:n}=un(e.steps[t],t,e.longestLine),i=e.steps[t].stepId,o=Aa(e.context,i);e.pinnedStep=t,e.currentStepNum=t,e.highlights=[...r,...Ra(e.steps,t),...Da(e.steps,t),Pa(o)],e.widgets=n,e.currentContextItem=o,e.currentTraverseId=i},nextStep(e){if(e.currentStepNum===null||e.currentStepNum>=e.numOfSteps-1)return e;let t=e.currentStepNum+1,{highlights:r,widgets:n}=un(e.steps[t],t,e.longestLine);e.pinnedStep=t;let i=e.steps[t].stepId,o=Aa(e.context,i);e.currentStepNum=t,e.highlights=[...r,...Ra(e.steps,t),...Da(e.steps,t),Pa(o)],e.widgets=n,e.currentContextItem=o,e.currentTraverseId=i}},extraReducers:e=>{e.addCase(Ti.fulfilled,(t,r)=>{if(r.payload.tag==="ChTypeError"){let n=r.payload.steps,i=r.payload.contextTable,o=Math.floor(n.length/2),s=gt(Gn(`
`),rt(Gn("")),rt(Ei),La(Ta),Un,Do)(t.text),{highlights:l,widgets:u}=un(n[o],o,s),p=n[o].stepId;t.context=i,t.steps=n,t.currentContextItem=Aa(i,p),t.highlights=[...l,...Ra(n,o),...Da(n,o),Pa(t.currentContextItem)],t.widgets=u,t.numOfSteps=n.length,t.numOfContextRows=i.length,t.currentStepNum=o,t.pinnedStep=o,t.currentTraverseId=p,t.parseError=null,t.loadError=null,t.wellTyped=!1,t.longestLine=s}else{if(r.payload.tag==="ChSuccess")return Object.assign({},{...t,wellTyped:!0,parseError:null,loadError:null});if(r.payload.tag==="ChLoadError"){let n=r.payload.missing;return Object.assign({},{...t,loadError:n,parseError:null})}else if(r.payload.tag==="ChParseError"){let n={message:r.payload.message,loc:r.payload.loc};return Object.assign({},{...t,parseError:n,loadError:null})}}})}}),{setEditorContent:$L,setStep:qo,prevStep:Na,nextStep:Ba,lockStep:xf,setTask:GL,setText:Vb,toEditMode:$b,toNormalMode:Ii,resetHighlights:KL,toggleDebuggerStpes:Mi,toggleMultipleExps:Kn,showOnlyMark1:ja,showOnlyMark2:Fa,showBoth:Ai,showDefination:Gb,debuggingLevel1:XL,debuggingLevel2:YL,debuggingLevel3:JL,incrementAttemps:ZL,setCursorPosition:lv}=zL,Kb=VL;function Aa(e,t){let r=e.find(n=>Ge(2)(n.contextSteps.find(i=>Ie(Ge(0,i),t))));return r===void 0?null:r}function Pa(e){let t=hf(e.contextDefinedIn);return mf(t,"markerDefination")}function Ra(e,t){if(e.length===0)return[];let{rangeA:r,rangeB:n}=un(e[t],t,0);return e.filter((i,o)=>o<t).map(i=>un(i,0,0)).flatMap(i=>[i.rangeA,i.rangeB]).filter(i=>!(ki(i,r)||ki(i,n))).flatMap(i=>mf(i,"marker1"))}function Da(e,t){if(e.length===0)return[];let{rangeA:r,rangeB:n}=un(e[t],t,0);return e.filter((i,o)=>o>t).map(i=>un(i,0,0)).flatMap(i=>[i.rangeA,i.rangeB]).filter(i=>!(ki(i,r)||ki(i,n))).flatMap(i=>mf(i,"marker2"))}function un(e,t,r){let n=e.explanation,i=e.order,o=hf(e.stepA),s=hf(e.stepB),l;ki(o,s)?l=[Qm(o,"marker1"),Ia(s,"marker2")]:ki(s,o)?l=[Qm(s,"marker2"),Ia(o,"marker1")]:l=[Ia(s,"marker2"),Ia(o,"marker1")];let u=wb(o,s,n,t,i,r);return{highlights:l,widgets:u,rangeA:o,rangeB:s}}var QL=XS({reducer:{debugger:Kb}}),Ot=QL;var Xn=Se(Qb()),Ae=Se(He()),lx=Se(ax());function Ef(e,t){let r=getComputedStyle(t);if(!r)return;let n=e===Ze.Horizontal?t.clientWidth:t.clientHeight;return n!==0?(e===Ze.Horizontal?n-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight):n-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),n):void 0}function ux(e,t,r=[]){(0,Ae.useEffect)(()=>(window.addEventListener(e,t),()=>window.removeEventListener(e,t)),[e,t,...r])}(function(e,t){t===void 0&&(t={});var r=t.insertAt;if(e&&typeof document<"u"){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",r==="top"&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}})(`/* === Main Container === */
.__dbk__container {
  height: 100%;
  width: 100%;

  display: flex;
  overflow: hidden;
}

.__dbk__container.Horizontal {
  flex-direction: row;
}

.__dbk__container.Vertical {
  flex-direction: column;
}
/* ====== */

/* === Wrapper for each child element === */
.__dbk__child-wrapper {
  height: 100%;
  width: 100%;
}
/* ====== */

/* === Gutter === */
.__dbk__gutter {
  display: flex;
  align-items: center;
  justify-content: center;
}
/* .__dbk__gutter > div {
  background: red;
} */
.__dbk__gutter.Horizontal {
  height: 100%;
  padding: 0 2px;
  flex-direction: column;
}
.__dbk__gutter.Horizontal:hover {
  cursor: col-resize;
}

.__dbk__gutter.Vertical {
  width: 100%;
  padding: 2px 0;
  flex-direction: row;
}
.__dbk__gutter.Vertical:hover {
  cursor: row-resize;
}

.__dbk__gutter.Light {
  background: #EDF0EF;
}
.__dbk__gutter.Light:hover > .__dbk__dragger {
  background: #76747B;
}

.__dbk__gutter.Dark {
  background: #020203;
}
.__dbk__gutter.Dark:hover > .__dbk__dragger {
  background: #9995A3;
}
/* ====== */

/* === Gutter's Dragger === */
.__dbk__dragger {
  border-radius: 2px;
}

.__dbk__dragger.Horizontal {
  width: 4px;
  height: 24px;  
}

.__dbk__dragger.Vertical {
  width: 24px;
  height: 4px;  
}

.__dbk__dragger.Light {
  background: #A6ACB5;
}

.__dbk__dragger.Dark {
  background: #434252;
}
/* ====== */`);var h5=Ae.default.forwardRef(({className:e,theme:t,draggerClassName:r,direction:n=Ze.Vertical,onMouseDown:i},o)=>{let s=`__dbk__gutter ${n} ${e||t}`,l=`__dbk__dragger ${n} ${r||t}`;return(0,Xn.jsx)("div",Object.assign({className:s,ref:o,dir:n,onMouseDown:i},{children:(0,Xn.jsx)("div",{className:l},void 0)}),void 0)}),pr,Ze,pv;function hv(e,t,r){let n,i;return t?(n=e/2,i=e):r?(n=e,i=e/2):(n=e,i=e),{aGutterSize:n,bGutterSize:i}}function m5(e,t){switch(t.type){case pr.SetIsReadyToCompute:return Object.assign(Object.assign({},e),{isReady:t.payload.isReady});case pr.CreatePairs:{let{direction:r,children:n,gutters:i}=t.payload,o=n[0].parentNode;if(!o)throw new Error("Cannot create pairs - parent is undefined.");let s=Ef(r,o);if(s===void 0)throw new Error(`Cannot create pairs - parent has undefined or zero size: ${s}.`);let l=[];return n.forEach((u,p)=>{if(p>0){let _=n[p-1],m=n[p],d=i[p-1],g=r===Ze.Horizontal?_.getBoundingClientRect().left:_.getBoundingClientRect().top,h=r===Ze.Horizontal?m.getBoundingClientRect().right:m.getBoundingClientRect().bottom,f=r===Ze.Horizontal?_.getBoundingClientRect().width+d.getBoundingClientRect().width+m.getBoundingClientRect().width:_.getBoundingClientRect().height+d.getBoundingClientRect().height+m.getBoundingClientRect().height,a=r===Ze.Horizontal?d.getBoundingClientRect().width:d.getBoundingClientRect().height,c={idx:p-1,a:_,b:m,gutter:d,parent:o,start:g,end:h,size:f,gutterSize:a,aSizePct:100/n.length,bSizePct:100/n.length};l.push(c)}}),Object.assign(Object.assign({},e),{pairs:l})}case pr.StartDragging:{let{gutterIdx:r}=t.payload;return Object.assign(Object.assign({},e),{isDragging:!0,draggingIdx:r})}case pr.StopDragging:return Object.assign(Object.assign({},e),{isDragging:!1});case pr.CalculateSizes:{let{direction:r,gutterIdx:n}=t.payload,i=e.pairs[n],o=Ef(r,i.parent);if(!o)throw new Error("Cannot calculate sizes - 'pair.parent' has undefined or zero size.");let s=i.gutter[r===Ze.Horizontal?"clientWidth":"clientHeight"],l=n===0,u=n===e.pairs.length-1,{aGutterSize:p,bGutterSize:_}=hv(s,l,u),m,d,g,h,f;return r===Ze.Horizontal?(m=i.a.getBoundingClientRect().left,d=i.b.getBoundingClientRect().right,h=(i.a.getBoundingClientRect().width+p)/o*100,f=(i.b.getBoundingClientRect().width+_)/o*100,g=i.a.getBoundingClientRect().width+p+_+i.b.getBoundingClientRect().width):(m=i.a.getBoundingClientRect().top,d=i.b.getBoundingClientRect().bottom,h=(i.a.getBoundingClientRect().height+p)/o*100,f=(i.b.getBoundingClientRect().height+_)/o*100,g=i.a.getBoundingClientRect().height+p+_+i.b.getBoundingClientRect().height),e.pairs[n]=Object.assign(Object.assign({},i),{start:m,end:d,size:g,aSizePct:h,bSizePct:f,gutterSize:s}),Object.assign({},e)}default:return e}}function cx(e,t=0,r=[]){return Ae.Children.toArray(e).reduce((n,i,o)=>((0,lx.isFragment)(i)?n.push.apply(n,cx(i.props.children,t+1,r.concat(i.key||o))):(0,Ae.isValidElement)(i)?n.push((0,Ae.cloneElement)(i,{key:r.concat(String(i.key)).join(".")})):typeof i!="string"&&typeof i!="number"||n.push(i),n),[])}(function(e){e[e.SetIsReadyToCompute=0]="SetIsReadyToCompute",e[e.CreatePairs=1]="CreatePairs",e[e.CalculateSizes=2]="CalculateSizes",e[e.StartDragging=3]="StartDragging",e[e.StopDragging=4]="StopDragging"})(pr||(pr={})),function(e){e.Horizontal="Horizontal",e.Vertical="Vertical"}(Ze||(Ze={})),function(e){e.Light="Light",e.Dark="Dark"}(pv||(pv={}));function dv(e){return e===Ze.Horizontal?"col-resize":"row-resize"}var v5={isReady:!1,isDragging:!1,pairs:[]};function fx({direction:e=Ze.Horizontal,minWidths:t=[],minHeights:r=[],initialSizes:n,gutterTheme:i=pv.Dark,gutterClassName:o,draggerClassName:s,children:l,onResizeStarted:u,onResizeFinished:p,classes:_=[]}){let m=cx(l),[d,g]=(0,Ae.useReducer)(m5,v5),h=(0,Ae.useRef)(null),f=(0,Ae.useRef)([]),a=(0,Ae.useRef)([]);f.current=[],a.current=[];let c=Ae.default.useCallback(L=>{g({type:pr.SetIsReadyToCompute,payload:{isReady:L}})},[]),v=Ae.default.useCallback((L,k)=>{g({type:pr.StartDragging,payload:{gutterIdx:k}});let N=d.pairs[k];u?.(N.idx),N.a.style.userSelect="none",N.b.style.userSelect="none",N.gutter.style.cursor=dv(L),N.parent.style.cursor=dv(L),document.body.style.cursor=dv(L)},[d.pairs]),y=Ae.default.useCallback(()=>{g({type:pr.StopDragging});let L=[];for(let N=0;N<d.pairs.length;N++){let A=d.pairs[N],O=Ef(e,A.parent);if(O===void 0)throw new Error("Cannot call the 'onResizeFinished' callback - parentSize is undefined");if(A.gutterSize===void 0)throw new Error("Cannot call 'onResizeFinished' callback - gutterSize is undefined");let I=N===0,D=N===d.pairs.length-1,j=A.a.getBoundingClientRect()[e===Ze.Horizontal?"width":"height"],{aGutterSize:z,bGutterSize:V}=hv(A.gutterSize,I,D),ae=(j+z)/O*100;if(L.push(ae),D){let re=(A.b.getBoundingClientRect()[e===Ze.Horizontal?"width":"height"]+V)/O*100;L.push(re)}}if(d.draggingIdx===void 0)throw new Error("Could not reset cursor and user-select because 'state.draggingIdx' is undefined");let k=d.pairs[d.draggingIdx];p?.(k.idx,L),k.a.style.userSelect="",k.b.style.userSelect="",k.gutter.style.cursor="",k.parent.style.cursor="",document.body.style.cursor=""},[d.draggingIdx,d.pairs,e]),S=Ae.default.useCallback((L,k)=>{g({type:pr.CalculateSizes,payload:{direction:L,gutterIdx:k}})},[]),b=Ae.default.useCallback((L,k,N)=>{g({type:pr.CreatePairs,payload:{direction:L,children:k,gutters:N}})},[]),C=Ae.default.useCallback((L,k,N,A)=>{let O=k[0].parentNode;if(!O)throw new Error("Cannot set initial sizes - parent is undefined");if(Ef(L,O)===void 0)throw new Error("Cannot set initial sizes - parent has undefined size");k.forEach((I,D)=>{let j=D===k.length-1,z;k.length>1&&N[j?D-1:D].getBoundingClientRect()[L===Ze.Horizontal?"width":"height"],z=A&&D<A.length?`calc(${A[D]}% - 0px)`:`calc(${100/k.length}% - 0px)`,L===Ze.Horizontal?(I.style.width=z,I.style.height="100%"):(I.style.height=z,I.style.width="100%")})},[]),E=Ae.default.useCallback((L,k)=>{if(d.draggingIdx===void 0)throw new Error("Cannot adjust size - 'draggingIdx' is undefined");let N=d.pairs[d.draggingIdx];if(N.size===void 0)throw new Error("Cannot adjust size - 'pair.size' is undefined");if(N.gutterSize===void 0)throw new Error("Cannot adjust size - 'pair.gutterSize' is undefined");let A=N.aSizePct+N.bSizePct,O=k/N.size*A,I=A-k/N.size*A,D=d.draggingIdx===0,j=d.draggingIdx===d.pairs.length-1,{aGutterSize:z,bGutterSize:V}=hv(N.gutterSize,D,j),ae=`calc(${O}% - ${z}px)`,re=`calc(${I}% - ${V}px)`;L===Ze.Horizontal?(N.a.style.width=ae,N.b.style.width=re):(N.a.style.height=ae,N.b.style.height=re)},[d.draggingIdx,d.pairs,e]),x=Ae.default.useCallback((L,k,N)=>{if(!d.isDragging)return;if(d.draggingIdx===void 0)throw new Error("Cannot drag - 'draggingIdx' is undefined");let A=d.pairs[d.draggingIdx];if(A.start===void 0)throw new Error("Cannot drag - 'pair.start' is undefined");if(A.size===void 0)throw new Error("Cannot drag - 'pair.size' is undefined");if(A.gutterSize===void 0)throw new Error("Cannot drag - 'pair.gutterSize' is undefined");let O=function(j,z){return j===Ze.Horizontal?z.clientX:z.clientY}(k,L)-A.start,I=16,D=16;N.length>d.draggingIdx&&(I=N[d.draggingIdx]),N.length>=d.draggingIdx+1&&(D=N[d.draggingIdx+1]),O<A.gutterSize+I&&(O=A.gutterSize+I),O>=A.size-(A.gutterSize+D)&&(O=A.size-(A.gutterSize+D)),E(k,O)},[d.isDragging,d.draggingIdx,d.pairs,E]);function w(L,k){if(!L.current)throw new Error("Can't add element to ref object - ref isn't initialized");k&&!L.current.includes(k)&&L.current.push(k)}return ux("mouseup",()=>{if(d.isDragging){if(d.draggingIdx===void 0)throw new Error("Cannot calculate sizes after dragging = 'state.draggingIdx' is undefined");S(e,d.draggingIdx),y()}},[d.isDragging,y]),ux("mousemove",L=>{d.isDragging&&x(L,e,e===Ze.Horizontal?t:r)},[e,d.isDragging,x,t,r]),(0,Ae.useEffect)(function(){if(!h.current)return;let L=h.current.parentElement;if(!L)return;let k=new ResizeObserver(()=>{let N=getComputedStyle(L),A=e===Ze.Horizontal?L.clientWidth:L.clientHeight;c(!!N&&!!A)});return k.observe(L),()=>{k.disconnect()}},[h.current,e]),(0,Ae.useEffect)(function(){if(d.isReady){if(!f.current||!a.current)throw new Error("Cannot create pairs - either variable 'childRefs' or 'gutterRefs' is undefined");m.length<=1?C(e,f.current,a.current,n):(C(e,f.current,a.current,n),b(e,f.current,a.current))}},[l,d.isReady,e,C,b,n]),(0,Xn.jsx)("div",Object.assign({className:`__dbk__container ${e}`,ref:h},{children:d.isReady&&m.map((L,k)=>(0,Xn.jsxs)(Ae.default.Fragment,{children:[(0,Xn.jsx)("div",Object.assign({ref:N=>w(f,N),className:"__dbk__child-wrapper "+(k<_.length?_[k]:"")},{children:L}),void 0),k<m.length-1&&(0,Xn.jsx)(h5,{ref:N=>w(a,N),className:o,theme:i,draggerClassName:s,direction:e,onMouseDown:N=>function(A,O){O.preventDefault(),S(e,A),v(e,A)}(k,N)},void 0)]},k))}),void 0)}var _e=Se(He());var _5=()=>_e.default.createElement("div",{className:"flex flex-col p-3 overflow-auto",style:{height:"calc(100vh - 2.5rem)"}},_e.default.createElement(g5,null)),g5=()=>{let e=Y(Z(["debugger","mode"]));return _e.default.createElement("div",{className:"code tracking-wider flex-grow p-2 h-full"},(()=>{if(e===dr.edit)return _e.default.createElement(y5,null);if(e===dr.normal)return _e.default.createElement(S5,null)})())},y5=()=>{let e=Y(Z(["debugger","text"])),t=Y(Z(["debugger","cursorPosition"])),r=vt(),n=(0,_e.useRef)(null);return(0,_e.useEffect)(()=>{n.current.focus(),n.current.selectionStart=t,n.current.selectionEnd=t},[]),_e.default.createElement("textarea",{ref:n,spellCheck:!1,className:"w-full h-full outline-none my-0.5",style:{resize:"none",lineHeight:"1.62rem",fontVariantLigatures:"none"},onChange:i=>r(Vb(i.target.value)),value:e})},S5=()=>{let e=Y(Z(["debugger","text"])),t=vt();return _e.default.createElement("div",{className:"",onClick:r=>t($b())},e.split(`
`).map((r,n)=>_e.default.createElement(b5,{text:r,line:n,key:n})))},b5=({text:e,line:t})=>{let r=Y(Z(["debugger","text"])),n=vt();return _e.default.createElement("div",{className:"h-6 my-0.5 flex"},e.split("").map((i,o)=>_e.default.createElement(x5,{text:i,line:t,ch:o,key:o})),_e.default.createElement("div",{onClick:i=>{let o=r.split(`
`).filter((s,l)=>l<=t).map(s=>s.length+1).reduce((s,l)=>s+l,0)-1;n(lv(o))},className:"inline-block h-6 flex-grow cursor-text"}))},x5=({text:e,line:t,ch:r})=>{let n={line:t,ch:r},i=Y(Z(["debugger","text"])),o=Y(Z(["debugger","highlights"])),s=Y(Z(["debugger","widgets"])),l=Y(Z(["debugger","debuggingSteps"])),u=vt(),p=o.filter(ka(bb)(n)).map((m,d)=>_e.default.createElement(C5,{highlight:m,line:t,ch:r,key:"hl"+d})),_=gt(No(gt(ur("relativeTo"),Ie(n))),rt(m=>_e.default.createElement(w5,{styles:m.styles,classes:m.classes,content:m.content,key:m.key})))(s);return _e.default.createElement("div",{onClick:m=>{let d=i.split(`
`).filter((g,h)=>h<t).map(g=>g.length+1).reduce((g,h)=>g+h,0)+r;u(lv(d))},className:"inline-block h-6 relative",style:{width:"0.6rem"}},p,l?_:null,_e.default.createElement("div",{className:"absolute w-full h-full z-50"},e))},w5=({styles:e,classes:t,content:r})=>{let n=Y(Z(["debugger","highlightFilter"])),i=Y(Z(["debugger","numOfSteps"])),s=Y(Z(["debugger","pinnedStep"]))===r.step?"bg-green-400 text-black border-green-400 border bg-green-400":"bg-gray-200 border border-dashed border-black";return n.includes("marker1")&&!n.includes("marker2")||n.includes("marker2")&&!n.includes("marker1")||n.includes("marker2")&&n.includes("marker1")&&!n.includes("markerDefinition")?null:r.type==="annotation"?r.direction==="LR"?_e.default.createElement("div",{className:"flex items-center justify-center text-gray-400 "+t.join(" "),style:e},_e.default.createElement("span",{className:"marker1 border border-black inline-block w-2 h-2 rounded-sm mr-1"}),r.reason,_e.default.createElement("span",{className:"marker2 border border-black inline-block w-2 h-2 rounded-sm ml-1"}),_e.default.createElement("span",{className:"ml-1 text-gray-500"},"(step"),_e.default.createElement("span",{className:"text-black inline-block w-4 h-4 text-xs rounded-full "+s},i-r.step),_e.default.createElement("span",{className:"text-gray-500"},")")):_e.default.createElement("div",{className:"flex items-center justify-center  text-gray-400 "+t.join(" "),style:e},_e.default.createElement("span",{className:"marker2 border border-black inline-block w-2 h-2 rounded-sm mr-1"}),r.reason,_e.default.createElement("span",{className:"marker1 border border-black inline-block w-2 h-2 rounded-sm ml-1"}),_e.default.createElement("span",{className:"ml-1 text-gray-500"},"(step"),_e.default.createElement("span",{className:"text-black inline-block w-4 h-4 text-xs rounded-full "+s},i-r.step),_e.default.createElement("span",{className:"text-gray-500"},")")):_e.default.createElement("div",{className:t.join(" "),style:e})},C5=({highlight:e,line:t,ch:r})=>{let n=Y(Z(["debugger","debuggingSteps"])),i=Y(Z(["debugger","highlightFilter"])),o=n&&Ie(i,["markerDefination"])?{}:{borderWidth:0},s=e.marker.shared;return Ie(e.from,{line:t,ch:r})&&(s=[...s,...e.marker.start]),Ie(e.to,{line:t,ch:r+1})&&(s=[...s,...e.marker.end]),s=Dm(l=>qm(l,s))(i)?[]:s,_e.default.createElement("div",{className:"absolute "+s.join(" "),style:o})},dx=_5;var dt=Se(He());var Ya=Se(He(),1);function E5(e,t){return Ya.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),Ya.createElement("path",{d:"M9 4.804A7.968 7.968 0 005.5 4c-1.255 0-2.443.29-3.5.804v10A7.969 7.969 0 015.5 14c1.669 0 3.218.51 4.5 1.385A7.962 7.962 0 0114.5 14c1.255 0 2.443.29 3.5.804v-10A7.968 7.968 0 0014.5 4c-1.255 0-2.443.29-3.5.804V12a1 1 0 11-2 0V4.804z"}))}var k5=Ya.forwardRef(E5),mv=k5;var zo=Se(He(),1);function O5(e,t){return zo.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),zo.createElement("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),zo.createElement("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"}))}var L5=zo.forwardRef(O5),vv=L5;var X=Se(He());var _v=Se(He());var T5=({simple:e,full:t})=>{let r=Zm(t);return r.length>50?_v.default.createElement("span",null,Zm(e)):_v.default.createElement("span",null,r)},kf=T5;var Ja=Se(He(),1);function I5(e,t){return Ja.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),Ja.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"}))}var M5=Ja.forwardRef(I5),gv=M5;var Za=Se(He(),1);function A5(e,t){return Za.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),Za.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 5l7 7-7 7M5 5l7 7-7 7"}))}var P5=Za.forwardRef(A5),yv=P5;var Qa=Se(He(),1);function R5(e,t){return Qa.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),Qa.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"}))}var D5=Qa.forwardRef(R5),Sv=D5;var Rx=Se(Uv()),be={mouse:"Mouse",keyboard:"Keyboard",remote:"Remote"},xe={basicMode:"Set Basic Mode",balancedMode:"Set Balanced Mode",advancedMode:"Set Advanced Mode",next:"Next Step",prev:"Previous Step",typeCheck:"Type Check",succeed:"Succeed",loaderr:"Load Error",syntaxerr:"Syntax Error",typeerr:"Type Error",peekStep:"Peek Step",peekExp:"Peek Expression",peekDef:"Peek Definition",gotoStep:"Go To Step",gotoExp:"Go To Expression",narrowType1:"Narrow To Possible Type 1",narrowType2:"Narrow To Possible Type 2",narrowRelevent:"Narrow Relevant Type",inspect:"Inspect Relevant Type",reset:"Reset Task",abandon:"Abandon Task"},ye;ye=({event:e,task:t,mode:r,source:n})=>{Rx.default.track(e,{Stage:"live",Task:t,Mode:r,"Input Source":n})};var sT=()=>X.default.createElement("div",{className:"p-4 bg-gray-200 h-full"},X.default.createElement(fT,null),X.default.createElement(dT,null),X.default.createElement(pT,null)),aT=()=>{let e=Y(Z(["debugger","context"])),t=Y(Z(["debugger","steps"])),r=Y(Z(["debugger","pinnedStep"])),n=t[r].stepId,i=Y(Z(["debugger","multipleExps"])),o=Y(Z(["debugger","debuggingSteps"]));return X.default.createElement("div",{className:"h-24 bg-gray-100 flex items-center   "+(i&&!o?"rounded-b-lg":""),style:{paddingLeft:40}},X.default.createElement("div",{className:"flex items-center cursor-pointer flex-row-reverse justify-end "},i?e.map((s,l)=>X.default.createElement(uT,{key:l,steps:s.contextSteps,exp:s.contextExp,active:s.contextSteps.find(gt(Ge(0),Ie(n)))[2]})):null))},uT=({active:e=!1,steps:t,exp:r})=>{let n=vt(),i=Y(Z(["debugger","debuggingSteps"])),o=Y(Z(["debugger","multipleExps"])),s=Y(Z(["debugger","currentTaskNum"])),l=Dt(o,i),u=Y(Z(["debugger","pinnedStep"])),p=Y(Z(["debugger","currentTraverseId"])),_=t.map((h,f)=>[...h,f]).filter(Ge(2)),m=_[Math.round(_.length/2)-1][3],d=t.find(gt(Ge(0),Ie(p)))[2],g;return e?g="bg-gray-900 border-gray-900 border active:bg-gray-600":i&&!e&&d?g="bg-white active:bg-gray-200 border-dashed border border-black":i&&!e&&!d?g="bg-white active:bg-gray-200 border ":!i&&!e&&d?g="bg-white active:bg-gray-200 border-dashed border border-black":!i&&!e&&!d&&(g="bg-white active:bg-gray-200 border "),X.default.createElement("div",{className:g+" flex flex-col w-max m-1 px-2 py-1 rounded-lg",style:{minWidth:80},onClick:h=>{n(xf(m)),ye({event:xe.gotoExp,task:s,mode:l,source:be.mouse})},onMouseEnter:h=>{e||(n(qo(m)),ye({event:xe.peekExp,task:s,mode:l,source:be.mouse}))},onMouseLeave:h=>{n(qo(u))}},X.default.createElement("div",{className:" rounded-t-2xl inline-block w-full h-10 leading-10 text-xl code select-none "+(e?"text-white":"text-gray-800")},r),X.default.createElement("div",{className:" "+(i?"h-6 w-full":"h-0 w-0")},X.default.createElement(lT,{steps:_,active:e})))},lT=({active:e=!1,steps:t})=>X.default.createElement("div",{className:"flex flex-row-reverse justify-end "},t.map(r=>X.default.createElement(cT,{active:e,key:r[3],traverseId:r[0],step:r[3]}))),cT=({active:e=!1,step:t,traverseId:r})=>{let n=vt(),i=Y(Z(["debugger","numOfSteps"])),o=Y(Z(["debugger","currentTaskNum"])),s=Y(Z(["debugger","currentTraverseId"])),l=Y(Z(["debugger","multipleExps"])),u=Y(Z(["debugger","debuggingSteps"])),p=Dt(l,u),_=Y(Z(["debugger","pinnedStep"])),m=Ie(s,r),d=_===t,g;return e&&d?g="bg-green-400 text-black":m&&e?g="bg-gray-600 border-dashed border border-white text-white":m&&!e?g="border-dashed bg-gray-200 text-black border-black border":e?g="bg-gray-400 text-black":e||(g="bg-gray-700 text-white"),X.default.createElement("button",{onClick:h=>{h.stopPropagation(),n(xf(t)),ye({event:xe.gotoStep,task:o,mode:p,source:be.mouse})},onMouseEnter:h=>{n(qo(t)),ye({event:xe.peekStep,task:o,mode:p,source:be.mouse})}},X.default.createElement("div",{className:"w-5 h-5 leading-5 flex justify-center  cursor-pointer rounded-full text-md mx-0.5  "+g+(u?" ":" hidden")},i-t))},fT=()=>{let e=Y(p=>p.debugger.currentContextItem),t=Y(Z(["debugger","steps"])),r=Y(Z(["debugger","pinnedStep"])),n=Y(Z(["debugger","multipleExps"])),i=Y(Z(["debugger","debuggingSteps"])),o=Y(Z(["debugger","currentTaskNum"])),s=Dt(n,i),l=t.length===0?!0:e.contextSteps.find(gt(Ge(0),Ie(t[r].stepId)))[2],u=vt();return e===null?null:X.default.createElement("div",{className:"shadow-sm rounded-md"},X.default.createElement(Dx,{hint:i?"Hide other uncertain expressions (Tab key)":"Expand to see a list of uncertain expressions (Tab key)",opened:n,onOpen:p=>{n||(ye({event:xe.balancedMode,task:o,mode:s,source:be.mouse}),u(Kn()))},onClose:p=>{n&&!i?(u(Kn()),ye({event:xe.basicMode,task:o,mode:s,source:be.mouse})):n&&i&&(u(Kn()),u(Mi()),ye({event:xe.basicMode,task:o,mode:s,source:be.mouse}))}},X.default.createElement("div",{style:{paddingLeft:40},className:"bg-white p-3 rounded-t-md "+(n?"":"rounded-b-md")},X.default.createElement("div",{className:"text-md"},"The following expression can have two conflicting types",X.default.createElement("span",{onMouseEnter:p=>{u(Gb()),ye({event:xe.peekDef,task:o,mode:s,source:be.mouse})},onMouseLeave:p=>u(Ai()),className:"code ml-2 px-1 rounded-md  inline-block not-italic cursor-pointer "+(l?"border border-gray-700 bg-gray-700 text-white hover:bg-gray-600":"border border-black border-dashed hover:bg-gray-100")},e.contextExp)))),n?X.default.createElement(Dx,{opened:i,left:5,hint:i?"Hide debugging steps (Tab key)":"Expand to see debugging steps (Tab key)",onOpen:p=>{i||(ye({event:xe.advancedMode,task:o,mode:s,source:be.mouse}),u(Mi()))},onClose:p=>{i&&(ye({event:xe.balancedMode,task:o,mode:s,source:be.mouse}),u(Mi()))}},X.default.createElement(aT,null)):null,i?X.default.createElement("div",{className:"flex justify-start p-1 border-0 rounded-b-md bg-gray-800",style:{paddingLeft:40}},X.default.createElement("button",{"aria-label":"Previous step (Left / Up / h / k )",className:"border bg-gray-800 border-gray-500 text-gray-300 shadow-sm hover:bg-gray-500 hover:text-gray-800 active:bg-gray-700 active:text-white px-2 py-1 mx-0.5 h-8 rounded-md flex justify-center items-center hint--bottom",onClick:p=>{u(Ba()),ye({event:xe.prev,task:o,mode:s,source:be.mouse})}},X.default.createElement(gv,{className:"h-4 w-4"})),X.default.createElement("button",{"aria-label":"Next step (Right / Down / l / j)",className:"border bg-gray-800 border-gray-500 text-gray-300 shadow-sm hover:bg-gray-500 hover:text-gray-800 active:bg-gray-700 active:text-white px-2 py-1 mx-0.5 h-8 rounded-md flex justify-center items-center hint--bottom",onClick:p=>{u(Na()),ye({event:xe.next,task:o,mode:s,source:be.mouse})}},X.default.createElement(yv,{className:"h-4 w-4"}))):null)},Dx=({opened:e,children:t,onOpen:r,onClose:n,hint:i,left:o=5})=>{let s=25;return X.default.createElement("div",{className:"relative"},t,X.default.createElement("div",{onClick:l=>e?n():r(),className:"cursor-pointer rounded-full z-10 absolute border border-gray-300 hint--bottom","aria-label":i,style:{width:s,height:s,top:`calc(50% - ${s/2}px)`,left:o}},X.default.createElement(Sv,{className:(e?"rotate-90":"")+" transition-transform",style:{}})))},dT=()=>{let e=Y(s=>s.debugger.currentContextItem),t=Y(Z(["debugger","multipleExps"])),r=Y(Z(["debugger","debuggingSteps"])),n=Y(Z(["debugger","currentTaskNum"])),i=Dt(t,r),o=vt();return e===null?null:X.default.createElement(X.default.Fragment,null,X.default.createElement("div",{className:"font-medium mt-5"},"Conflicting types"),X.default.createElement("div",{className:"mb-5 mt-2  shadow-sm"},X.default.createElement("div",{className:"cursor-pointer hover:bg-gray-100 rounded-t-md bg-white p-2 w-full hint--bottom ","aria-label":"Keyboard shortcut: Hold 1",onMouseEnter:s=>{o(ja()),ye({event:xe.narrowType1,task:n,mode:i,source:be.mouse})},onMouseLeave:s=>o(Ai())},X.default.createElement("div",{className:"mb-2 text-sm font-medium"},"Possible type 1"),X.default.createElement("div",{className:"inline-block mr-1 code"},e.contextExp,"::"),X.default.createElement("span",{className:"code groupMarkerB rounded-sm px-0.5 cursor-pointer"},X.default.createElement(kf,{simple:e.contextType1SimpleString,full:e.contextType1String})),X.default.createElement("div",{className:"text-xs italic"},"Inferred from the orange highlights on the left side")),X.default.createElement("hr",{className:""}),X.default.createElement("div",{className:"cursor-pointer hover:bg-gray-100 rounded-b-md bg-white p-2 w-full hint--bottom ","aria-label":"Keyboard shortcut: Hold 2",onMouseEnter:s=>{o(Fa()),ye({event:xe.narrowType2,task:n,mode:i,source:be.mouse})},onMouseLeave:s=>o(Ai())},X.default.createElement("div",{className:"mb-2 text-sm font-medium"},"Possible type 2"),X.default.createElement("span",{className:"inline-block mr-1 code"},e.contextExp,"::"),X.default.createElement("span",{className:"code groupMarkerA rounded-sm px-0.5 cursor-pointer"},X.default.createElement(kf,{simple:e.contextType2SimpleString,full:e.contextType2String})),X.default.createElement("div",{className:"text-xs italic"},"Inferred from the blue highlights on the left side"))))},pT=()=>{let e=Y(Z(["debugger","context"])),t=Y(Z(["debugger","currentContextItem"])),r=e.filter(n=>n.contextExp!==t.contextExp);return X.default.createElement("div",{className:""},X.default.createElement("div",{className:"font-medium"},"Relevant type information"),r.reverse().map((n,i)=>X.default.createElement(mT,{item:n,key:i})),Oa([])(ur("contextGlobals",t)).map(([n,i],o)=>X.default.createElement(hT,{exp:n,type:i,key:o})))},hT=({exp:e,type:t})=>X.default.createElement("div",{className:"flex flex-col my-1.5 p-1 bg-gray-100 rounded-md h-16 justify-center shadow-sm"},X.default.createElement("div",{className:"flex items-center"},X.default.createElement("div",{className:"code"},e),X.default.createElement("div",{className:"code mx-0.5"},"::"),X.default.createElement("div",{className:"code px-0.5 rounded-sm"},t)),X.default.createElement("div",{className:"ml-1 text-sm italic"}," Imported from Prelude")),mT=({item:e})=>{let t=Y(Z(["debugger","currentTraverseId"])),r=Y(Z(["debugger","multipleExps"])),n=Y(Z(["debugger","debuggingSteps"])),i=Y(Z(["debugger","currentTaskNum"])),o=Dt(r,n),s=vt(),l=gt(ff(gt(Ge(0),Ie(t))),Ge(1))(e.contextSteps),u=l==="L"?e.contextType1String:e.contextType2String,p=l==="L"?"orange highlights":"blue highlights",_=e.contextSteps.map((d,g)=>[...d,g]).filter(Ge(2)),m=_[Math.round(_.length/2)-1][3];return X.default.createElement("div",{className:"flex flex-col my-1.5 bg-white p-2 rounded-md cursor-pointer shadow-sm hover:bg-gray-100",onMouseEnter:d=>{s(l==="L"?ja():Fa()),ye({event:xe.narrowRelevent,task:i,mode:o,source:be.mouse})},onMouseLeave:d=>s(Ai())},X.default.createElement("div",{className:"flex justify-between"},X.default.createElement("div",{className:"flex items-center"},X.default.createElement("div",{className:"code"},e.contextExp),X.default.createElement("div",{className:"code mx-0.5"},"::"),X.default.createElement("div",{className:"code px-0.5 rounded-sm "+(l==="L"?"marker2":"marker1")},u)),r?X.default.createElement("div",{className:"flex items-center"},X.default.createElement("div",{className:"text-sm text-gray-500"},"Looks wrong? "),X.default.createElement("button",{onClick:d=>{s(xf(m)),ye({event:xe.inspect,task:i,mode:o,source:be.mouse})},className:"border border-gray-300 rounded-sm px-2 py-1 mr-1 ml-2 bg-white active:bg-gray-200 hover:bg-gray-100 shadow-sm"},"Inspect")):null),X.default.createElement("div",{className:"text-xs italic"}," Inferred from ",p," "))},Nx=sT;var vT=()=>{let e=Y(n=>n.debugger.wellTyped),t=Y(n=>n.debugger.loadError),r=Y(n=>n.debugger.parseError);return dt.default.createElement("div",{className:"h-full bg-gray-200"},(()=>{if(e)return dt.default.createElement("div",{className:"p-4 flex items-center"},dt.default.createElement("ion-icon",{size:"large",style:{color:"rgb(74, 222, 128)"},name:"checkmark-circle"}),dt.default.createElement("span",{className:"p-2"},"Congratulations! Your code is well typed."));if(r!==null)return dt.default.createElement(_T,null);if(t!==null)return dt.default.createElement(gT,null);if(!e)return dt.default.createElement(Nx,null)})())},_T=()=>{let e=Y(t=>t.debugger.parseError);return dt.default.createElement("div",{class:"p-4"},dt.default.createElement("p",{className:"py-2 px-4"},"A syntax error was found in the code"),dt.default.createElement("div",{className:"bg-gray-100 py-2 px-4 rounded-md"},dt.default.createElement("p",null," ",e.message," "),dt.default.createElement("p",null,"Location: ",e.loc.srcLine,":",e.loc.srcColumn)))},gT=()=>{let e=Y(t=>t.debugger.loadError);return dt.default.createElement("div",{class:"p-4"},dt.default.createElement("p",{className:"py-2 px-4"},"A variable is used without being declared."),e.map(([t,r])=>dt.default.createElement("div",{className:"bg-gray-100 py-2 px-4 rounded-md"},dt.default.createElement("p",null,"Variable: ",t," "),dt.default.createElement("p",null,"Location: "," "+r.srcSpanStartLine,":",r.srcSpanStartColumn," -"," "+r.srcSpanEndLine,":",r.srcSpanEndColumn))))};var Bx=vT;var De=Se(He());var yT=()=>{let e=vt(),t=Y(Z(["debugger","mode"])),r=Y(Z(["debugger","multipleExps"])),n=Y(Z(["debugger","debuggingSteps"])),i=Y(Z(["debugger","currentTaskNum"])),o=Dt(r,n),l=Y(Z(["debugger","attempts"]))[i];return De.default.createElement("div",{className:"w-full bg-gray-100 h-10 flex justify-between"},De.default.createElement("div",{className:"flex items-center"},De.default.createElement("a",{href:"/",className:"cursor-pointer mr-4 px-4",style:{}},De.default.createElement("svg",{className:"w-10",viewBox:"0 0 100 100"},De.default.createElement("path",{d:"M9.061,50.971c-0,3.037 3.464,5.499 7.737,5.499l-0,-5.499l-7.737,0Z",style:{fill:"#3eac3a"}}),De.default.createElement("rect",{x:"16.793",y:"50.98",width:"43.762",height:"5.49",style:{fill:"#3eac3a"}}),De.default.createElement("path",{d:"M50,10.032c-22.61,0 -40.939,18.329 -40.939,40.939l40.939,0l0,-40.939Z",style:{fill:"#3c9339"}}),De.default.createElement("path",{d:"M46.807,69.476c0,7.182 6.164,13.005 13.769,13.005l-0,-13.005l-13.769,-0Z",style:{fill:"#3c9339"}}),De.default.createElement("path",{d:"M56.139,60.144c-5.154,-0 -9.332,4.178 -9.332,9.332l9.332,-0l0,-9.332Z",style:{fill:"#087604"}}),De.default.createElement("path",{d:"M60.555,82.481c12.507,0 22.645,-11.512 22.645,-25.712c0,-14.2 -10.138,-25.712 -22.645,-25.712l0,51.424Z",style:{fill:"#21781e"}}),De.default.createElement("path",{d:"M56.139,60.144c2.439,-0 4.416,2.089 4.416,4.666c0,2.577 -1.977,4.666 -4.416,4.666l0,-9.332Z",style:{fill:"#0d9509"}}),De.default.createElement("path",{d:"M56.139,56.472l0,-0.002l4.416,0l0,4.572l0,-0l0,-0.026c0,-2.466 -1.967,-4.475 -4.416,-4.544Z",style:{fill:"#3eac3a"}}),De.default.createElement("path",{d:"M50,50.985l-0,-0.005l10.555,0l0,10.926l-0,0l0,-0.062c0,-5.892 -4.702,-10.696 -10.555,-10.859Z",style:{fill:"#1c7e18"}}),De.default.createElement("path",{d:"M53.205,31.056l-0,0.001l-3.205,0l0,-3.317l0,-0l0,0.019c0,1.789 1.428,3.247 3.205,3.297Z",style:{fill:"#21781e"}}),De.default.createElement("rect",{x:"50",y:"31.057",width:"10.555",height:"19.923",style:{fill:"#21781e"}}),De.default.createElement("path",{d:"M34.015,56.47c0,4.563 3.908,8.262 8.729,8.262c4.821,-0 8.729,-3.699 8.729,-8.262l-17.458,0Z",style:{fill:"#486c47"}}))),De.default.createElement("span",{className:"mx-4"},"Task ",i+1,"/9 "),De.default.createElement("button",{className:"bg-gray-300 px-4 py-1 rounded-md mx-2 flex h-8 justify-center items-center  hint--bottom","aria-label":"Reset the code challenge to its initial state",onClick:u=>{e(Wo(i)),e(Ii()),ye({event:xe.reset,task:i,mode:o,source:be.mouse})}},"Reset problem"),l>5?De.default.createElement("button",{"aria-label":"Skip this code challenge if you get stuck for too long",className:"bg-gray-300 px-4 py-1 rounded-md mx-2 flex h-8 justify-center items-center hint--bottom",onClick:u=>{if(ye({event:xe.abandon,task:i,mode:o,source:be.mouse}),i===8){let p=localStorage.getItem("userId")}else localStorage.setItem("userProgress",i),e(Wo(i+1)),e(Ii())}},"Give up"):null,t===dr.normal?null:De.default.createElement("button",{className:"bg-gray-300 px-4 py-1 rounded-md mx-2 flex h-8 justify-center items-center color-change hint--bottom","aria-label":"Type check the code (Esc)",onClick:u=>{ye({event:xe.typeCheck,task:i,mode:o,source:be.mouse}),e(Ii()),e(Ti())}},De.default.createElement(vv,{className:"h-4 w-4 mr-1"}),"Type check"),De.default.createElement("a",{href:"/tutorial",target:"_blank",className:"bg-gray-300 px-4 py-1 rounded-md mx-2 flex h-8 justify-center items-center hint--bottom","aria-label":"Open tutorial in a new tab"},De.default.createElement(mv,{className:"h-4 w-4 mr-1"}),"Tutorial")),De.default.createElement("div",{className:"flex items-center px-2"},De.default.createElement("div",null,o)))},jx=yT;var Pg=Se(Sw());var bw=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,r)=>(r&=63,r<36?t+=r.toString(36):r<62?t+=(r-26).toString(36).toUpperCase():r>62?t+="-":t+="_",t),"");var Rg=Se(Uv());function Qo(){return Math.round(performance.now())+performance.timing.navigationStart}var Zf="repeat"in String.prototype?e=>"*".repeat(e.length):e=>e.replace(/./g,"*");function Qf(e){return e.trim().replace(/\s+/g," ")}function ed(e){return e.substr(0,8)==="https://"||e.substr(0,7)==="http://"}var Gr=!(typeof window>"u"),Zv=console.log,td=console.warn,es="https://docs.openreplay.com",xw={};function pn(e,t,r="/"){xw[e]||(td(`OpenReplay: ${e} is deprecated. ${t?`Please, use ${t} instead.`:""} Visit ${es}${r} for more information.`),xw[e]=!0)}function hu(e){let t=e.getAttribute("data-openreplay-label");return t!==null||(t=e.getAttribute("data-asayer-label"),t!==null&&pn('"data-asayer-label" attribute','"data-openreplay-label" attribute',"/")),t}function ji(e,t){let r=`data-openreplay-${t}`;if(e.hasAttribute(r))return!0;let n=`data-asayer-${t}`;return e.hasAttribute(n)?(pn(`"${n}" attribute`,`"${r}" attribute`,"/installation/sanitize-data"),!0):!1}function oe(e){function t(...r){return new e(...r)}return t.prototype=e.prototype,t}var se=new Map,Qv=class{constructor(t,r,n){this.pageNo=t,this.firstIndex=r,this.timestamp=n,this._id=80}encode(t){return t.uint(80)&&t.uint(this.pageNo)&&t.uint(this.firstIndex)&&t.int(this.timestamp)}},$I=oe(Qv);se.set(80,$I);var e_=class{constructor(t){this.timestamp=t,this._id=0}encode(t){return t.uint(0)&&t.uint(this.timestamp)}},X_=oe(e_);se.set(0,X_);var t_=class{constructor(t,r,n){this.url=t,this.referrer=r,this.navigationStart=n,this._id=4}encode(t){return t.uint(4)&&t.string(this.url)&&t.string(this.referrer)&&t.uint(this.navigationStart)}},Y_=oe(t_);se.set(4,Y_);var r_=class{constructor(t,r){this.width=t,this.height=r,this._id=5}encode(t){return t.uint(5)&&t.uint(this.width)&&t.uint(this.height)}},J_=oe(r_);se.set(5,J_);var n_=class{constructor(t,r){this.x=t,this.y=r,this._id=6}encode(t){return t.uint(6)&&t.int(this.x)&&t.int(this.y)}},Z_=oe(n_);se.set(6,Z_);var i_=class{constructor(){this._id=7}encode(t){return t.uint(7)}},Q_=oe(i_);se.set(7,Q_);var o_=class{constructor(t,r,n,i,o){this.id=t,this.parentID=r,this.index=n,this.tag=i,this.svg=o,this._id=8}encode(t){return t.uint(8)&&t.uint(this.id)&&t.uint(this.parentID)&&t.uint(this.index)&&t.string(this.tag)&&t.boolean(this.svg)}},eg=oe(o_);se.set(8,eg);var s_=class{constructor(t,r,n){this.id=t,this.parentID=r,this.index=n,this._id=9}encode(t){return t.uint(9)&&t.uint(this.id)&&t.uint(this.parentID)&&t.uint(this.index)}},tg=oe(s_);se.set(9,tg);var a_=class{constructor(t,r,n){this.id=t,this.parentID=r,this.index=n,this._id=10}encode(t){return t.uint(10)&&t.uint(this.id)&&t.uint(this.parentID)&&t.uint(this.index)}},rg=oe(a_);se.set(10,rg);var u_=class{constructor(t){this.id=t,this._id=11}encode(t){return t.uint(11)&&t.uint(this.id)}},ng=oe(u_);se.set(11,ng);var l_=class{constructor(t,r,n){this.id=t,this.name=r,this.value=n,this._id=12}encode(t){return t.uint(12)&&t.uint(this.id)&&t.string(this.name)&&t.string(this.value)}},rd=oe(l_);se.set(12,rd);var c_=class{constructor(t,r){this.id=t,this.name=r,this._id=13}encode(t){return t.uint(13)&&t.uint(this.id)&&t.string(this.name)}},nd=oe(c_);se.set(13,nd);var f_=class{constructor(t,r){this.id=t,this.data=r,this._id=14}encode(t){return t.uint(14)&&t.uint(this.id)&&t.string(this.data)}},ig=oe(f_);se.set(14,ig);var d_=class{constructor(t,r,n){this.id=t,this.x=r,this.y=n,this._id=16}encode(t){return t.uint(16)&&t.uint(this.id)&&t.int(this.x)&&t.int(this.y)}},og=oe(d_);se.set(16,og);var p_=class{constructor(t,r){this.id=t,this.label=r,this._id=17}encode(t){return t.uint(17)&&t.uint(this.id)&&t.string(this.label)}},sg=oe(p_);se.set(17,sg);var h_=class{constructor(t,r,n){this.id=t,this.value=r,this.mask=n,this._id=18}encode(t){return t.uint(18)&&t.uint(this.id)&&t.string(this.value)&&t.int(this.mask)}},ag=oe(h_);se.set(18,ag);var m_=class{constructor(t,r){this.id=t,this.checked=r,this._id=19}encode(t){return t.uint(19)&&t.uint(this.id)&&t.boolean(this.checked)}},id=oe(m_);se.set(19,id);var v_=class{constructor(t,r){this.x=t,this.y=r,this._id=20}encode(t){return t.uint(20)&&t.uint(this.x)&&t.uint(this.y)}},ug=oe(v_);se.set(20,ug);var __=class{constructor(t,r){this.level=t,this.value=r,this._id=22}encode(t){return t.uint(22)&&t.string(this.level)&&t.string(this.value)}},lg=oe(__);se.set(22,lg);var g_=class{constructor(t,r,n,i,o,s,l,u,p){this.requestStart=t,this.responseStart=r,this.responseEnd=n,this.domContentLoadedEventStart=i,this.domContentLoadedEventEnd=o,this.loadEventStart=s,this.loadEventEnd=l,this.firstPaint=u,this.firstContentfulPaint=p,this._id=23}encode(t){return t.uint(23)&&t.uint(this.requestStart)&&t.uint(this.responseStart)&&t.uint(this.responseEnd)&&t.uint(this.domContentLoadedEventStart)&&t.uint(this.domContentLoadedEventEnd)&&t.uint(this.loadEventStart)&&t.uint(this.loadEventEnd)&&t.uint(this.firstPaint)&&t.uint(this.firstContentfulPaint)}},cg=oe(g_);se.set(23,cg);var y_=class{constructor(t,r,n){this.speedIndex=t,this.visuallyComplete=r,this.timeToInteractive=n,this._id=24}encode(t){return t.uint(24)&&t.uint(this.speedIndex)&&t.uint(this.visuallyComplete)&&t.uint(this.timeToInteractive)}},fg=oe(y_);se.set(24,fg);var S_=class{constructor(t,r,n){this.name=t,this.message=r,this.payload=n,this._id=25}encode(t){return t.uint(25)&&t.string(this.name)&&t.string(this.message)&&t.string(this.payload)}},mu=oe(S_);se.set(25,mu);var b_=class{constructor(t,r){this.name=t,this.payload=r,this._id=27}encode(t){return t.uint(27)&&t.string(this.name)&&t.string(this.payload)}},dg=oe(b_);se.set(27,dg);var x_=class{constructor(t){this.id=t,this._id=28}encode(t){return t.uint(28)&&t.string(this.id)}},pg=oe(x_);se.set(28,pg);var w_=class{constructor(t){this.id=t,this._id=29}encode(t){return t.uint(29)&&t.string(this.id)}},hg=oe(w_);se.set(29,hg);var C_=class{constructor(t,r){this.key=t,this.value=r,this._id=30}encode(t){return t.uint(30)&&t.string(this.key)&&t.string(this.value)}},mg=oe(C_);se.set(30,mg);var E_=class{constructor(t,r,n){this.id=t,this.rule=r,this.index=n,this._id=37}encode(t){return t.uint(37)&&t.uint(this.id)&&t.string(this.rule)&&t.uint(this.index)}},GI=oe(E_);se.set(37,GI);var k_=class{constructor(t,r){this.id=t,this.index=r,this._id=38}encode(t){return t.uint(38)&&t.uint(this.id)&&t.uint(this.index)}},vg=oe(k_);se.set(38,vg);var O_=class{constructor(t,r,n,i,o,s,l){this.method=t,this.url=r,this.request=n,this.response=i,this.status=o,this.timestamp=s,this.duration=l,this._id=39}encode(t){return t.uint(39)&&t.string(this.method)&&t.string(this.url)&&t.string(this.request)&&t.string(this.response)&&t.uint(this.status)&&t.uint(this.timestamp)&&t.uint(this.duration)}},KI=oe(O_);se.set(39,KI);var L_=class{constructor(t,r,n,i){this.name=t,this.duration=r,this.args=n,this.result=i,this._id=40}encode(t){return t.uint(40)&&t.string(this.name)&&t.uint(this.duration)&&t.string(this.args)&&t.string(this.result)}},XI=oe(L_);se.set(40,XI);var T_=class{constructor(t,r){this.key=t,this.value=r,this._id=41}encode(t){return t.uint(41)&&t.string(this.key)&&t.string(this.value)}},YI=oe(T_);se.set(41,YI);var I_=class{constructor(t){this.type=t,this._id=42}encode(t){return t.uint(42)&&t.string(this.type)}},JI=oe(I_);se.set(42,JI);var M_=class{constructor(t,r,n){this.action=t,this.state=r,this.duration=n,this._id=44}encode(t){return t.uint(44)&&t.string(this.action)&&t.string(this.state)&&t.uint(this.duration)}},ZI=oe(M_);se.set(44,ZI);var A_=class{constructor(t,r){this.mutation=t,this.state=r,this._id=45}encode(t){return t.uint(45)&&t.string(this.mutation)&&t.string(this.state)}},QI=oe(A_);se.set(45,QI);var P_=class{constructor(t,r){this.type=t,this.payload=r,this._id=46}encode(t){return t.uint(46)&&t.string(this.type)&&t.string(this.payload)}},eM=oe(P_);se.set(46,eM);var R_=class{constructor(t,r,n){this.action=t,this.state=r,this.duration=n,this._id=47}encode(t){return t.uint(47)&&t.string(this.action)&&t.string(this.state)&&t.uint(this.duration)}},tM=oe(R_);se.set(47,tM);var D_=class{constructor(t,r,n,i){this.operationKind=t,this.operationName=r,this.variables=n,this.response=i,this._id=48}encode(t){return t.uint(48)&&t.string(this.operationKind)&&t.string(this.operationName)&&t.string(this.variables)&&t.string(this.response)}},rM=oe(D_);se.set(48,rM);var N_=class{constructor(t,r,n,i){this.frames=t,this.ticks=r,this.totalJSHeapSize=n,this.usedJSHeapSize=i,this._id=49}encode(t){return t.uint(49)&&t.int(this.frames)&&t.int(this.ticks)&&t.uint(this.totalJSHeapSize)&&t.uint(this.usedJSHeapSize)}},_g=oe(N_);se.set(49,_g);var B_=class{constructor(t,r,n,i,o,s,l,u){this.timestamp=t,this.duration=r,this.ttfb=n,this.headerSize=i,this.encodedBodySize=o,this.decodedBodySize=s,this.url=l,this.initiator=u,this._id=53}encode(t){return t.uint(53)&&t.uint(this.timestamp)&&t.uint(this.duration)&&t.uint(this.ttfb)&&t.uint(this.headerSize)&&t.uint(this.encodedBodySize)&&t.uint(this.decodedBodySize)&&t.string(this.url)&&t.string(this.initiator)}},vu=oe(B_);se.set(53,vu);var j_=class{constructor(t,r){this.downlink=t,this.type=r,this._id=54}encode(t){return t.uint(54)&&t.uint(this.downlink)&&t.string(this.type)}},gg=oe(j_);se.set(54,gg);var F_=class{constructor(t){this.hidden=t,this._id=55}encode(t){return t.uint(55)&&t.boolean(this.hidden)}},yg=oe(F_);se.set(55,yg);var H_=class{constructor(t,r,n,i,o,s,l){this.timestamp=t,this.duration=r,this.context=n,this.containerType=i,this.containerSrc=o,this.containerId=s,this.containerName=l,this._id=59}encode(t){return t.uint(59)&&t.uint(this.timestamp)&&t.uint(this.duration)&&t.uint(this.context)&&t.uint(this.containerType)&&t.string(this.containerSrc)&&t.string(this.containerId)&&t.string(this.containerName)}},Sg=oe(H_);se.set(59,Sg);var U_=class{constructor(t,r,n,i){this.id=t,this.name=r,this.value=n,this.baseURL=i,this._id=60}encode(t){return t.uint(60)&&t.uint(this.id)&&t.string(this.name)&&t.string(this.value)&&t.string(this.baseURL)}},Fi=oe(U_);se.set(60,Fi);var W_=class{constructor(t,r,n){this.id=t,this.data=r,this.baseURL=n,this._id=61}encode(t){return t.uint(61)&&t.uint(this.id)&&t.string(this.data)&&t.string(this.baseURL)}},bg=oe(W_);se.set(61,bg);var q_=class{constructor(t,r){this.type=t,this.value=r,this._id=63}encode(t){return t.uint(63)&&t.string(this.type)&&t.string(this.value)}},xg=oe(q_);se.set(63,xg);var z_=class{constructor(t,r){this.name=t,this.payload=r,this._id=64}encode(t){return t.uint(64)&&t.string(this.name)&&t.string(this.payload)}},wg=oe(z_);se.set(64,wg);var V_=class{constructor(){this._id=65}encode(t){return t.uint(65)}},nM=oe(V_);se.set(65,nM);var $_=class{constructor(t,r,n,i){this.id=t,this.rule=r,this.index=n,this.baseURL=i,this._id=67}encode(t){return t.uint(67)&&t.uint(this.id)&&t.string(this.rule)&&t.uint(this.index)&&t.string(this.baseURL)}},Cg=oe($_);se.set(67,Cg);var G_=class{constructor(t,r,n,i){this.id=t,this.hesitationTime=r,this.label=n,this.selector=i,this._id=69}encode(t){return t.uint(69)&&t.uint(this.id)&&t.uint(this.hesitationTime)&&t.string(this.label)&&t.string(this.selector)}},Eg=oe(G_);se.set(69,Eg);var K_=class{constructor(t,r){this.frameID=t,this.id=r,this._id=70}encode(t){return t.uint(70)&&t.uint(this.frameID)&&t.uint(this.id)}},od=oe(K_);se.set(70,od);var _u=class{constructor(t){this.node_id=t,this.nodes=[],this.nodeCallbacks=[],this.elementListeners=new Map}attachNodeCallback(t){this.nodeCallbacks.push(t)}attachElementListener(t,r,n){let i=this.getID(r);if(i===void 0)return;r.addEventListener(t,n);let o=this.elementListeners.get(i);if(o===void 0){o=[],this.elementListeners.set(i,o);return}o.push([t,n])}registerNode(t){let r=t[this.node_id],n=r===void 0;return n&&(r=this.nodes.length,this.nodes[r]=t,t[this.node_id]=r),[r,n]}unregisterNode(t){let r=t[this.node_id];if(r!==void 0){delete t[this.node_id],this.nodes[r]=void 0;let n=this.elementListeners.get(r);n!==void 0&&(this.elementListeners.delete(r),n.forEach(i=>t.removeEventListener(i[0],i[1])))}return r}callNodeCallbacks(t){this.nodeCallbacks.forEach(r=>r(t))}getID(t){return t[this.node_id]}getNode(t){return this.nodes[t]}clear(){for(let t=0;t<this.nodes.length;t++){let r=this.nodes[t];r!==void 0&&this.unregisterNode(r)}this.nodes.length=0}};function ww(e){return e.namespaceURI==="http://www.w3.org/2000/svg"}var Hi=class{constructor(t,r,n=window){this.app=t,this.options=r,this.context=n,this.iframeObservers=[],this.observer=new MutationObserver(this.app.safe(i=>{var o;for(let s of i){let l=s.target,u=s.type;if(this.isInstance(l,Document)&&u==="childList"){let _=(o=l.defaultView)===null||o===void 0?void 0:o.frameElement;if(!_)continue;this.bindTree(l.documentElement);let m=this.app.nodes.getID(_),d=this.app.nodes.getID(l.documentElement);if(m===void 0||d===void 0)continue;this.app.send(od(m,d));continue}if(this.isIgnored(l)||!n.document.contains(l))continue;if(u==="childList"){for(let _=0;_<s.removedNodes.length;_++)this.bindTree(s.removedNodes[_]);for(let _=0;_<s.addedNodes.length;_++)this.bindTree(s.addedNodes[_]);continue}let p=this.app.nodes.getID(l);if(p!==void 0){if(p>=this.recents.length&&(this.recents[p]=void 0),u==="attributes"){let _=s.attributeName;if(_===null)continue;let m=this.attributesList[p];m===void 0&&(this.attributesList[p]=m=new Set),m.add(_);continue}if(u==="characterData"){this.textSet.add(p);continue}}}this.commitNodes()})),this.commited=[],this.recents=[],this.indexes=[0],this.attributesList=[],this.textSet=new Set,this.textMasked=new Set}clear(){this.commited.length=0,this.recents.length=0,this.indexes.length=1,this.attributesList.length=0,this.textSet.clear(),this.textMasked.clear()}isInstance(t,r){let n=this.context;for(;n.parent&&n.parent!==n;){if(t instanceof n[r.name])return!0;n=n.parent}return t instanceof n[r.name]}isIgnored(t){if(this.isInstance(t,Text))return!1;if(!this.isInstance(t,Element))return!0;let r=t.tagName.toUpperCase();if(r==="LINK"){let n=t.getAttribute("rel"),i=t.getAttribute("as");return!(n?.includes("stylesheet")||i==="style"||i==="font")}return r==="SCRIPT"||r==="NOSCRIPT"||r==="META"||r==="TITLE"||r==="BASE"}sendNodeAttribute(t,r,n,i){if(ww(r)){n.substr(0,6)==="xlink:"&&(n=n.substr(6)),i===null?this.app.send(new nd(t,n)):n==="href"?(i.length>1e5&&(i=""),this.app.send(new Fi(t,n,i,this.app.getBaseHref()))):this.app.send(new rd(t,n,i));return}if(!(n==="src"||n==="srcset"||n==="integrity"||n==="crossorigin"||n==="autocomplete"||n.substr(0,2)==="on")&&!(n==="value"&&this.isInstance(r,HTMLInputElement)&&r.type!=="button"&&r.type!=="reset"&&r.type!=="submit")){if(i===null){this.app.send(new nd(t,n));return}if(n==="style"||n==="href"&&this.isInstance(r,HTMLLinkElement)){this.app.send(new Fi(t,n,i,this.app.getBaseHref()));return}(n==="href"||i.length>1e5)&&(i=""),this.app.send(new rd(t,n,i))}}getInnerTextSecure(t){let r=this.app.nodes.getID(t);return r?this.checkObscure(r,t.innerText):""}checkObscure(t,r){return this.textMasked.has(t)?r.replace(/[^\f\n\r\t\v\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]/g,"\u2588"):(this.options.obscureTextNumbers&&(r=r.replace(/\d/g,"0")),this.options.obscureTextEmails&&(r=r.replace(/([^\s]+)@([^\s]+)\.([^\s]+)/g,(...n)=>Zf(n[1])+"@"+Zf(n[2])+"."+Zf(n[3]))),r)}sendNodeData(t,r,n){if(this.isInstance(r,HTMLStyleElement)||this.isInstance(r,SVGStyleElement)){this.app.send(new bg(t,n,this.app.getBaseHref()));return}n=this.checkObscure(t,n),this.app.send(new ig(t,n))}bindNode(t){let r=this.app.nodes.registerNode(t),n=r[0];this.recents[n]=r[1]||this.recents[n]||!1}bindTree(t){if(this.isIgnored(t))return;this.bindNode(t);let r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT+NodeFilter.SHOW_TEXT,{acceptNode:n=>this.isIgnored(n)||this.app.nodes.getID(n)!==void 0?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},!1);for(;r.nextNode();)this.bindNode(r.currentNode)}unbindNode(t){let r=this.app.nodes.unregisterNode(t);r!==void 0&&this.recents[r]===!1&&this.app.send(new ng(r))}_commitNode(t,r){let n=r.parentNode,i;if(this.isInstance(r,HTMLHtmlElement))this.indexes[t]=0;else{if(n===null)return this.unbindNode(r),!1;if(i=this.app.nodes.getID(n),i===void 0)return this.unbindNode(r),!1;if(!this.commitNode(i))return this.unbindNode(r),!1;(this.textMasked.has(i)||this.isInstance(r,Element)&&ji(r,"masked"))&&this.textMasked.add(t);let u=r.previousSibling;for(;u!==null;){let p=this.app.nodes.getID(u);if(p!==void 0){this.commitNode(p),this.indexes[t]=this.indexes[p]+1;break}u=u.previousSibling}u===null&&(this.indexes[t]=0)}let o=this.recents[t],s=this.indexes[t];if(s===void 0)throw"commitNode: missing node index";if(o===!0){if(this.isInstance(r,Element)){i!==void 0&&this.app.send(new eg(t,i,s,r.tagName,ww(r)));for(let u=0;u<r.attributes.length;u++){let p=r.attributes[u];this.sendNodeAttribute(t,r,p.nodeName,p.value)}this.isInstance(r,HTMLIFrameElement)&&(this.options.captureIFrames||r.getAttribute("data-openreplay-capture"))&&this.handleIframe(r)}else this.isInstance(r,Text)&&(this.app.send(new tg(t,i,s)),this.sendNodeData(t,n,r.data));return!0}o===!1&&i!==void 0&&this.app.send(new rg(t,i,s));let l=this.attributesList[t];if(l!==void 0){if(!this.isInstance(r,Element))throw"commitNode: node is not an element";for(let u of l)this.sendNodeAttribute(t,r,u,r.getAttribute(u))}if(this.textSet.has(t)){if(!this.isInstance(r,Text))throw"commitNode: node is not a text";this.sendNodeData(t,n,r.data)}return!0}commitNode(t){let r=this.app.nodes.getNode(t);if(r===void 0)return!1;let n=this.commited[t];return n!==void 0?n:this.commited[t]=this._commitNode(t,r)}commitNodes(){let t;for(let r=0;r<this.recents.length;r++)this.commitNode(r),this.recents[r]===!0&&(t=this.app.nodes.getNode(r))&&this.app.nodes.callNodeCallbacks(t);this.clear()}handleIframe(t){let r=null,n=this.app.safe(()=>{let i=this.app.nodes.getID(t);if(i===void 0||t.contentWindow===r||(r=t.contentWindow,!r))return;let o=new Hi(this.app,this.options,r);this.iframeObservers.push(o),o.observeIframe(i,r)});this.app.attachEventListener(t,"load",n),n()}observeIframe(t,r){let n=r.document;this.observer.observe(n,{childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!1,characterDataOldValue:!1}),this.bindTree(n.documentElement);let i=this.app.nodes.getID(n.documentElement);if(i===void 0){console.log("Wrong");return}this.app.send(od(t,i)),this.commitNodes()}observe(){this.observer.observe(this.context.document,{childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!1,characterDataOldValue:!1}),this.app.send(new Q_),this.bindTree(this.context.document.documentElement),this.commitNodes()}disconnect(){this.iframeObservers.forEach(t=>t.disconnect()),this.iframeObservers=[],this.observer.disconnect(),this.clear()}};function oM(e,t){let r=0;return()=>{r++>=t&&(r=0,e())}}var gu=class{constructor(t){this.app=t,this.timer=null,this.callbacks=[]}attach(t,r=0,n=!0,i){i&&(t=t.bind(i)),n&&(t=this.app.safe(t)),this.callbacks.unshift(r?oM(t,r):t)-1}start(){this.timer===null&&(this.timer=setInterval(()=>this.callbacks.forEach(t=>{t&&t()}),30))}stop(){this.timer!==null&&(clearInterval(this.timer),this.timer=null)}};var kg=Gr&&"performance"in window&&"memory"in performance?performance:{memory:{}},Cw=Gr?(navigator.deviceMemory||0)*1024:0,Ew=kg.memory.jsHeapSizeLimit||0;function kw(e,t){if(!Object.assign({capturePerformance:!0},t).capturePerformance)return;let n,i,o=()=>{n===void 0||n===-1||(n++,requestAnimationFrame(o))};e.ticker.attach(()=>{i===void 0||i===-1||i++},0,!1);let s=()=>{n===void 0||i===void 0||(e.send(new _g(n,i,kg.memory.totalJSHeapSize||0,kg.memory.usedJSHeapSize||0)),i=n=document.hidden?-1:0)};e.attachStartCallback(()=>{i=n=-1,s(),o()}),e.attachStopCallback(()=>{i=n=void 0}),e.ticker.attach(s,40,!1),document.hidden!==void 0&&e.attachEventListener(document,"visibilitychange",s,!1,!1)}var Og="https://api.openreplay.com/ingest",ts=class{constructor(t,r,n){this.messages=[],this.startCallbacks=[],this.stopCallbacks=[],this.commitCallbacks=[],this._sessionID=null,this.isActive=!1,this.version="3.4.7",this.projectKey=t,this.options=Object.assign({revID:"",node_id:"__openreplay_id",session_token_key:"__openreplay_token",session_pageno_key:"__openreplay_pageno",local_uuid_key:"__openreplay_uuid",ingestPoint:Og,resourceBaseHref:null,__is_snippet:!1,__debug_report_edp:null,__debug_log:!1,obscureTextEmails:!0,obscureTextNumbers:!1,captureIFrames:!1},n),r!=null&&sessionStorage.setItem(this.options.session_token_key,r),this.revID=this.options.revID,this.nodes=new _u(this.options.node_id),this.observer=new Hi(this,this.options),this.ticker=new gu(this),this.ticker.attach(()=>this.commit());try{this.worker=new Worker(URL.createObjectURL(new Blob([`"use strict";function t(t){function s(...s){return new t(...s)}return s.prototype=t.prototype,s}const s=new Map;const i=t(class{constructor(t,s,i){this.pageNo=t,this.firstIndex=s,this.timestamp=i,this._id=80}encode(t){return t.uint(80)&&t.uint(this.pageNo)&&t.uint(this.firstIndex)&&t.int(this.timestamp)}});s.set(80,i);const n=t(class{constructor(t){this.timestamp=t,this._id=0}encode(t){return t.uint(0)&&t.uint(this.timestamp)}});s.set(0,n);const e=t(class{constructor(t,s,i){this.url=t,this.referrer=s,this.navigationStart=i,this._id=4}encode(t){return t.uint(4)&&t.string(this.url)&&t.string(this.referrer)&&t.uint(this.navigationStart)}});s.set(4,e);const r=t(class{constructor(t,s){this.width=t,this.height=s,this._id=5}encode(t){return t.uint(5)&&t.uint(this.width)&&t.uint(this.height)}});s.set(5,r);const o=t(class{constructor(t,s){this.x=t,this.y=s,this._id=6}encode(t){return t.uint(6)&&t.int(this.x)&&t.int(this.y)}});s.set(6,o);const h=t(class{constructor(){this._id=7}encode(t){return t.uint(7)}});s.set(7,h);const c=t(class{constructor(t,s,i,n,e){this.id=t,this.parentID=s,this.index=i,this.tag=n,this.svg=e,this._id=8}encode(t){return t.uint(8)&&t.uint(this.id)&&t.uint(this.parentID)&&t.uint(this.index)&&t.string(this.tag)&&t.boolean(this.svg)}});s.set(8,c);const u=t(class{constructor(t,s,i){this.id=t,this.parentID=s,this.index=i,this._id=9}encode(t){return t.uint(9)&&t.uint(this.id)&&t.uint(this.parentID)&&t.uint(this.index)}});s.set(9,u);const a=t(class{constructor(t,s,i){this.id=t,this.parentID=s,this.index=i,this._id=10}encode(t){return t.uint(10)&&t.uint(this.id)&&t.uint(this.parentID)&&t.uint(this.index)}});s.set(10,a);const d=t(class{constructor(t){this.id=t,this._id=11}encode(t){return t.uint(11)&&t.uint(this.id)}});s.set(11,d);const l=t(class{constructor(t,s,i){this.id=t,this.name=s,this.value=i,this._id=12}encode(t){return t.uint(12)&&t.uint(this.id)&&t.string(this.name)&&t.string(this.value)}});s.set(12,l);const g=t(class{constructor(t,s){this.id=t,this.name=s,this._id=13}encode(t){return t.uint(13)&&t.uint(this.id)&&t.string(this.name)}});s.set(13,g);const f=t(class{constructor(t,s){this.id=t,this.data=s,this._id=14}encode(t){return t.uint(14)&&t.uint(this.id)&&t.string(this.data)}});s.set(14,f);const p=t(class{constructor(t,s,i){this.id=t,this.x=s,this.y=i,this._id=16}encode(t){return t.uint(16)&&t.uint(this.id)&&t.int(this.x)&&t.int(this.y)}});s.set(16,p);const m=t(class{constructor(t,s){this.id=t,this.label=s,this._id=17}encode(t){return t.uint(17)&&t.uint(this.id)&&t.string(this.label)}});s.set(17,m);const _=t(class{constructor(t,s,i){this.id=t,this.value=s,this.mask=i,this._id=18}encode(t){return t.uint(18)&&t.uint(this.id)&&t.string(this.value)&&t.int(this.mask)}});s.set(18,_);const y=t(class{constructor(t,s){this.id=t,this.checked=s,this._id=19}encode(t){return t.uint(19)&&t.uint(this.id)&&t.boolean(this.checked)}});s.set(19,y);const v=t(class{constructor(t,s){this.x=t,this.y=s,this._id=20}encode(t){return t.uint(20)&&t.uint(this.x)&&t.uint(this.y)}});s.set(20,v);const S=t(class{constructor(t,s){this.level=t,this.value=s,this._id=22}encode(t){return t.uint(22)&&t.string(this.level)&&t.string(this.value)}});s.set(22,S);const b=t(class{constructor(t,s,i,n,e,r,o,h,c){this.requestStart=t,this.responseStart=s,this.responseEnd=i,this.domContentLoadedEventStart=n,this.domContentLoadedEventEnd=e,this.loadEventStart=r,this.loadEventEnd=o,this.firstPaint=h,this.firstContentfulPaint=c,this._id=23}encode(t){return t.uint(23)&&t.uint(this.requestStart)&&t.uint(this.responseStart)&&t.uint(this.responseEnd)&&t.uint(this.domContentLoadedEventStart)&&t.uint(this.domContentLoadedEventEnd)&&t.uint(this.loadEventStart)&&t.uint(this.loadEventEnd)&&t.uint(this.firstPaint)&&t.uint(this.firstContentfulPaint)}});s.set(23,b);const x=t(class{constructor(t,s,i){this.speedIndex=t,this.visuallyComplete=s,this.timeToInteractive=i,this._id=24}encode(t){return t.uint(24)&&t.uint(this.speedIndex)&&t.uint(this.visuallyComplete)&&t.uint(this.timeToInteractive)}});s.set(24,x);const E=t(class{constructor(t,s,i){this.name=t,this.message=s,this.payload=i,this._id=25}encode(t){return t.uint(25)&&t.string(this.name)&&t.string(this.message)&&t.string(this.payload)}});s.set(25,E);const k=t(class{constructor(t,s){this.name=t,this.payload=s,this._id=27}encode(t){return t.uint(27)&&t.string(this.name)&&t.string(this.payload)}});s.set(27,k);const I=t(class{constructor(t){this.id=t,this._id=28}encode(t){return t.uint(28)&&t.string(this.id)}});s.set(28,I);const z=t(class{constructor(t){this.id=t,this._id=29}encode(t){return t.uint(29)&&t.string(this.id)}});s.set(29,z);const w=t(class{constructor(t,s){this.key=t,this.value=s,this._id=30}encode(t){return t.uint(30)&&t.string(this.key)&&t.string(this.value)}});s.set(30,w);const T=t(class{constructor(t,s,i){this.id=t,this.rule=s,this.index=i,this._id=37}encode(t){return t.uint(37)&&t.uint(this.id)&&t.string(this.rule)&&t.uint(this.index)}});s.set(37,T);const L=t(class{constructor(t,s){this.id=t,this.index=s,this._id=38}encode(t){return t.uint(38)&&t.uint(this.id)&&t.uint(this.index)}});s.set(38,L);const A=t(class{constructor(t,s,i,n,e,r,o){this.method=t,this.url=s,this.request=i,this.response=n,this.status=e,this.timestamp=r,this.duration=o,this._id=39}encode(t){return t.uint(39)&&t.string(this.method)&&t.string(this.url)&&t.string(this.request)&&t.string(this.response)&&t.uint(this.status)&&t.uint(this.timestamp)&&t.uint(this.duration)}});s.set(39,A);const C=t(class{constructor(t,s,i,n){this.name=t,this.duration=s,this.args=i,this.result=n,this._id=40}encode(t){return t.uint(40)&&t.string(this.name)&&t.uint(this.duration)&&t.string(this.args)&&t.string(this.result)}});s.set(40,C);const M=t(class{constructor(t,s){this.key=t,this.value=s,this._id=41}encode(t){return t.uint(41)&&t.string(this.key)&&t.string(this.value)}});s.set(41,M);const R=t(class{constructor(t){this.type=t,this._id=42}encode(t){return t.uint(42)&&t.string(this.type)}});s.set(42,R);const N=t(class{constructor(t,s,i){this.action=t,this.state=s,this.duration=i,this._id=44}encode(t){return t.uint(44)&&t.string(this.action)&&t.string(this.state)&&t.uint(this.duration)}});s.set(44,N);const D=t(class{constructor(t,s){this.mutation=t,this.state=s,this._id=45}encode(t){return t.uint(45)&&t.string(this.mutation)&&t.string(this.state)}});s.set(45,D);const U=t(class{constructor(t,s){this.type=t,this.payload=s,this._id=46}encode(t){return t.uint(46)&&t.string(this.type)&&t.string(this.payload)}});s.set(46,U);const O=t(class{constructor(t,s,i){this.action=t,this.state=s,this.duration=i,this._id=47}encode(t){return t.uint(47)&&t.string(this.action)&&t.string(this.state)&&t.uint(this.duration)}});s.set(47,O);const q=t(class{constructor(t,s,i,n){this.operationKind=t,this.operationName=s,this.variables=i,this.response=n,this._id=48}encode(t){return t.uint(48)&&t.string(this.operationKind)&&t.string(this.operationName)&&t.string(this.variables)&&t.string(this.response)}});s.set(48,q);const H=t(class{constructor(t,s,i,n){this.frames=t,this.ticks=s,this.totalJSHeapSize=i,this.usedJSHeapSize=n,this._id=49}encode(t){return t.uint(49)&&t.int(this.frames)&&t.int(this.ticks)&&t.uint(this.totalJSHeapSize)&&t.uint(this.usedJSHeapSize)}});s.set(49,H);const P=t(class{constructor(t,s,i,n,e,r,o,h){this.timestamp=t,this.duration=s,this.ttfb=i,this.headerSize=n,this.encodedBodySize=e,this.decodedBodySize=r,this.url=o,this.initiator=h,this._id=53}encode(t){return t.uint(53)&&t.uint(this.timestamp)&&t.uint(this.duration)&&t.uint(this.ttfb)&&t.uint(this.headerSize)&&t.uint(this.encodedBodySize)&&t.uint(this.decodedBodySize)&&t.string(this.url)&&t.string(this.initiator)}});s.set(53,P);const B=t(class{constructor(t,s){this.downlink=t,this.type=s,this._id=54}encode(t){return t.uint(54)&&t.uint(this.downlink)&&t.string(this.type)}});s.set(54,B);const J=t(class{constructor(t){this.hidden=t,this._id=55}encode(t){return t.uint(55)&&t.boolean(this.hidden)}});s.set(55,J);const j=t(class{constructor(t,s,i,n,e,r,o){this.timestamp=t,this.duration=s,this.context=i,this.containerType=n,this.containerSrc=e,this.containerId=r,this.containerName=o,this._id=59}encode(t){return t.uint(59)&&t.uint(this.timestamp)&&t.uint(this.duration)&&t.uint(this.context)&&t.uint(this.containerType)&&t.string(this.containerSrc)&&t.string(this.containerId)&&t.string(this.containerName)}});s.set(59,j);const G=t(class{constructor(t,s,i,n){this.id=t,this.name=s,this.value=i,this.baseURL=n,this._id=60}encode(t){return t.uint(60)&&t.uint(this.id)&&t.string(this.name)&&t.string(this.value)&&t.string(this.baseURL)}});s.set(60,G);const K=t(class{constructor(t,s,i){this.id=t,this.data=s,this.baseURL=i,this._id=61}encode(t){return t.uint(61)&&t.uint(this.id)&&t.string(this.data)&&t.string(this.baseURL)}});s.set(61,K);const X=t(class{constructor(t,s){this.type=t,this.value=s,this._id=63}encode(t){return t.uint(63)&&t.string(this.type)&&t.string(this.value)}});s.set(63,X);const F=t(class{constructor(t,s){this.name=t,this.payload=s,this._id=64}encode(t){return t.uint(64)&&t.string(this.name)&&t.string(this.payload)}});s.set(64,F);const Q=t(class{constructor(){this._id=65}encode(t){return t.uint(65)}});s.set(65,Q);const V=t(class{constructor(t,s,i,n){this.id=t,this.rule=s,this.index=i,this.baseURL=n,this._id=67}encode(t){return t.uint(67)&&t.uint(this.id)&&t.string(this.rule)&&t.uint(this.index)&&t.string(this.baseURL)}});s.set(67,V);const W=t(class{constructor(t,s,i,n){this.id=t,this.hesitationTime=s,this.label=i,this.selector=n,this._id=69}encode(t){return t.uint(69)&&t.uint(this.id)&&t.uint(this.hesitationTime)&&t.string(this.label)&&t.string(this.selector)}});s.set(69,W);const Y=t(class{constructor(t,s){this.frameID=t,this.id=s,this._id=70}encode(t){return t.uint(70)&&t.uint(this.frameID)&&t.uint(this.id)}});s.set(70,Y);const Z="function"==typeof TextEncoder?new TextEncoder:{encode(t){const s=t.length,i=new Uint8Array(3*s);let n=-1;for(var e=0,r=0,o=0;o!==s;){if(e=t.charCodeAt(o),o+=1,e>=55296&&e<=56319){if(o===s){i[n+=1]=239,i[n+=1]=191,i[n+=1]=189;break}if(!((r=t.charCodeAt(o))>=56320&&r<=57343)){i[n+=1]=239,i[n+=1]=191,i[n+=1]=189;continue}if(o+=1,(e=1024*(e-55296)+r-56320+65536)>65535){i[n+=1]=240|e>>>18,i[n+=1]=128|e>>>12&63,i[n+=1]=128|e>>>6&63,i[n+=1]=128|63&e;continue}}e<=127?i[n+=1]=0|e:e<=2047?(i[n+=1]=192|e>>>6,i[n+=1]=128|63&e):(i[n+=1]=224|e>>>12,i[n+=1]=128|e>>>6&63,i[n+=1]=128|63&e)}return i.subarray(0,n+1)}};class tt{constructor(t){this.size=t,this.offset=0,this.checkpointOffset=0,this.data=new Uint8Array(t)}checkpoint(){this.checkpointOffset=this.offset}isEmpty(){return 0===this.offset}boolean(t){return this.data[this.offset++]=+t,this.offset<=this.size}uint(t){for((t<0||t>Number.MAX_SAFE_INTEGER)&&(t=0);t>=128;)this.data[this.offset++]=t%256|128,t=Math.floor(t/128);return this.data[this.offset++]=t,this.offset<=this.size}int(t){return t=Math.round(t),this.uint(t>=0?2*t:-2*t-1)}string(t){const s=Z.encode(t),i=s.byteLength;return!(!this.uint(i)||this.offset+i>this.size)&&(this.data.set(s,this.offset),this.offset+=i,!0)}reset(){this.offset=0,this.checkpointOffset=0}flush(){const t=this.data.slice(0,this.checkpointOffset);return this.reset(),t}}let st,it=1e6,nt=4e5,et=new tt(nt),rt="",ot="",ht=0,ct=0,ut=0,at=0,dt=!0;function lt(){return new i(ht,at,ct).encode(et)}const gt=[];let ft,pt=!1,mt=0,_t=8e3,yt=10;function vt(){if(dt||""===ot||""===rt)return;const t=et.flush();pt?gt.push(t):(pt=!0,function t(s){const i=new XMLHttpRequest;i.open("POST",rt+"/v1/web/i",!1),i.setRequestHeader("Authorization","Bearer "+ot),i.onreadystatechange=function(){if(4===this.readyState){if(0==this.status)return;if(this.status>=400)return St(),gt.length=0,401===this.status?void self.postMessage("restart"):void self.postMessage(null);const s=gt.shift();s?t(s):pt=!1}},i.onerror=function(i){if(mt>=yt)return St(),void self.postMessage(null);mt++,setTimeout(()=>t(s),_t)},i.send(s.buffer)}(t)),dt=!0,lt()}function St(){rt="",ot="",clearInterval(st),et.reset()}self.onmessage=({data:t})=>{if(null!==t)return"stop"===t?(vt(),void St()):Array.isArray(t)?void t.forEach(t=>{const i=new(s.get(t._id));if(Object.assign(i,t),i instanceof n?ct=i.timestamp:i instanceof J&&(i.hidden?ft=setTimeout(()=>self.postMessage("restart"),3e5):clearTimeout(ft)),et.checkpoint(),!i.encode(et)&&(vt(),!i.encode(et)))for(;!i.encode(et);){if(nt===it)return console.warn("OpenReplay: beacon size overflow."),et.reset(),void lt();nt=Math.min(2*nt,it),et=new tt(nt),lt()}at++,dt=!1}):(rt=t.ingestPoint||rt,ot=t.token||ot,ht=t.pageNo||ht,ct=t.startTimestamp||ct,ut=t.timeAdjustment||ut,yt=t.connAttemptCount||yt,_t=t.connAttemptGap||_t,it=t.beaconSizeLimit||it,nt=Math.min(it,t.beaconSize||nt),et.isEmpty()&&lt(),void(null==st&&(st=setInterval(vt,2e4))));vt()};
`],{type:"text/javascript"}))),this.worker.onerror=l=>{this._debug("webworker_error",l)};let i=Qo(),o=0;this.worker.onmessage=({data:l})=>{l===null?this.stop():l==="restart"&&(this.stop(),this.start(!0))};let s=()=>{this.worker&&this.worker.postMessage(null)};this.attachEventListener(window,"beforeunload",s,!1),this.attachEventListener(document,"mouseleave",s,!1,!1),this.attachEventListener(document,"visibilitychange",s,!1)}catch(i){this._debug("worker_start",i)}}_debug(t,r){this.options.__debug_report_edp!==null&&fetch(this.options.__debug_report_edp,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({context:t,error:`${r}`})}),this.options.__debug_log&&td("OpenReplay error: ",t,r)}send(t,r=!1){!this.isActive||(this.messages.push(t),r&&this.commit())}commit(){this.worker&&this.messages.length&&(this.messages.unshift(new X_(Qo())),this.worker.postMessage(this.messages),this.commitCallbacks.forEach(t=>t(this.messages)),this.messages.length=0)}attachCommitCallback(t){this.commitCallbacks.push(t)}addCommitCallback(t){this.attachCommitCallback(t)}safe(t){let r=this;return function(...n){try{t.apply(this,n)}catch(i){r._debug("safe_fn_call",i)}}}attachStartCallback(t){this.startCallbacks.push(t)}attachStopCallback(t){this.stopCallbacks.push(t)}attachEventListener(t,r,n,i=!0,o=!0){i&&(n=this.safe(n)),this.attachStartCallback(()=>t.addEventListener(r,n,o)),this.attachStopCallback(()=>t.removeEventListener(r,n,o))}getSessionToken(){let t=sessionStorage.getItem(this.options.session_token_key);if(t!==null)return t}getSessionID(){return this._sessionID||void 0}getHost(){return new URL(this.options.ingestPoint).hostname}getProjectKey(){return this.projectKey}getBaseHref(){var t,r;return typeof this.options.resourceBaseHref=="string"?this.options.resourceBaseHref:(this.options.resourceBaseHref,document.baseURI?document.baseURI:((r=(t=document.head)===null||t===void 0?void 0:t.getElementsByTagName("base")[0])===null||r===void 0?void 0:r.getAttribute("href"))||location.origin+location.pathname)}resolveResourceURL(t){let r=new URL(this.getBaseHref());return r.pathname+="/"+new URL(t).pathname,r.pathname.replace(/\/+/g,"/"),r.toString()}isServiceURL(t){return t.startsWith(this.options.ingestPoint)}active(){return this.isActive}_start(t){if(!this.isActive){if(!this.worker)return Promise.reject("No worker found: perhaps, CSP is not set.");this.isActive=!0;let r=0,n=sessionStorage.getItem(this.options.session_pageno_key);n!=null&&(r=parseInt(n),r++),sessionStorage.setItem(this.options.session_pageno_key,r.toString());let i=Qo(),o={ingestPoint:this.options.ingestPoint,pageNo:r,startTimestamp:i,connAttemptCount:this.options.connAttemptCount,connAttemptGap:this.options.connAttemptGap};return this.worker.postMessage(o),window.fetch(this.options.ingestPoint+"/v1/web/start",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:sessionStorage.getItem(this.options.session_token_key),userUUID:localStorage.getItem(this.options.local_uuid_key),projectKey:this.projectKey,revID:this.revID,timestamp:i,trackerVersion:this.version,isSnippet:this.options.__is_snippet,deviceMemory:Cw,jsHeapSizeLimit:Ew,reset:t})}).then(s=>s.status===200?s.json():s.text().then(l=>{throw new Error(`Server error: ${s.status}. ${l}`)})).then(s=>{let{token:l,userUUID:u,sessionID:p,beaconSizeLimit:_}=s;if(typeof l!="string"||typeof u!="string"||typeof _!="number"&&typeof _<"u")throw new Error(`Incorrect server response: ${JSON.stringify(s)}`);if(sessionStorage.setItem(this.options.session_token_key,l),localStorage.setItem(this.options.local_uuid_key,u),typeof p=="string"&&(this._sessionID=p),!this.worker)throw new Error("no worker found after start request (this might not happen)");this.worker.postMessage({token:l,beaconSizeLimit:_}),this.startCallbacks.forEach(d=>d()),this.observer.observe(),this.ticker.start(),Zv("OpenReplay tracking started.");let m={sessionToken:l,userUUID:u,sessionID:p};return typeof this.options.onStart=="function"&&this.options.onStart(m),m}).catch(s=>{throw sessionStorage.removeItem(this.options.session_token_key),this.stop(),td("OpenReplay was unable to start. ",s),this._debug("session_start",s),s})}return Promise.reject("Player is already active")}start(t=!1){return document.hidden?new Promise(r=>{let n=()=>{document.hidden||(document.removeEventListener("visibilitychange",n),r(this._start(t)))};document.addEventListener("visibilitychange",n)}):this._start(t)}stop(){if(this.isActive)try{this.worker&&this.worker.postMessage("stop"),this.observer.disconnect(),this.nodes.clear(),this.ticker.stop(),this.stopCallbacks.forEach(t=>t()),Zv("OpenReplay tracking stopped.")}finally{this.isActive=!1}}};function Ow(e){let t=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(t===void 0)return;let r=()=>e.send(new gg(Math.round(t.downlink*1e3),t.type||"unknown"));r(),t.addEventListener("change",r)}var Iw=Gr&&"InstallTrigger"in window?e=>e.message+`
`+e.stack:e=>e.stack||e.message;function Lg(e){return e===void 0?"undefined":e===null?"null":e instanceof Error?Iw(e):Array.isArray(e)?`Array(${e.length})`:e.toString()}function sM(e){return typeof e!="number"?"NaN":e.toString()}function aM(e){return typeof e!="number"?"NaN":Math.floor(e).toString()}function Lw(e){if(e===void 0)return"undefined";if(e===null)return"null";if(e instanceof Error)return Iw(e);if(Array.isArray(e)){let t=e.length,r=e.slice(0,10).map(Lg).join(", ");return`Array(${t})[${r}]`}if(typeof e=="object"){let t=[],r=0;for(let n in e){if(++r===10)break;let i=e[n];t.push(n+": "+Lg(i))}return"{"+t.join(", ")+"}"}return e.toString()}function uM(e){return typeof e[0]=="string"&&e.unshift(e.shift().replace(/%(o|s|f|d|i)/g,(t,r)=>{let n=e.shift();if(n===void 0)return t;switch(r){case"o":return Lw(n);case"s":return Lg(n);case"f":return sM(n);case"d":case"i":return aM(n);default:return t}})),e.map(Lw).join(" ")}var Tw=["log","info","warn","error","debug","assert"];function Mw(e,t){let r=Object.assign({consoleMethods:Tw,consoleThrottling:30},t);if(!Array.isArray(r.consoleMethods)||r.consoleMethods.length===0)return;let n=e.safe((l,u)=>e.send(new lg(l,uM(u)))),i,o=()=>{i=0};e.attachStartCallback(o),e.ticker.attach(o,33,!1);let s=l=>r.consoleMethods.forEach(u=>{if(Tw.indexOf(u)===-1){l.error(`OpenReplay: unsupported console method "${u}"`);return}let p=l[u];l[u]=function(..._){p.apply(this,_),!(i++>r.consoleThrottling)&&n(u,_)}});s(window.console),e.nodes.attachNodeCallback(e.safe(l=>{if(l instanceof HTMLIFrameElement){let u=l.contentWindow;u&&s(u.console),e.attachEventListener(l,"load",()=>{l.contentWindow!==u&&(u=l.contentWindow,s(u.console))})}}))}var Bw=Se(Dw(),1);function Nw(e){return[{columnNumber:e.colno,lineNumber:e.lineno,fileName:e.filename,functionName:"",source:""}]}function sd(e,t){let r=t;try{r=Bw.default.parse(e)}catch{}return new mu(e.name,e.message,JSON.stringify(r))}function Mg(e){if(e instanceof ErrorEvent){if(e.error instanceof Error)return sd(e.error,Nw(e));{let[t,r]=e.message.split(":");return r||(t="Error",r=e.message),new mu(t,r,JSON.stringify(Nw(e)))}}else if("PromiseRejectionEvent"in window&&e instanceof PromiseRejectionEvent)return e.reason instanceof Error?sd(e.reason,[]):new mu("Unhandled Promise Rejection",String(e.reason),"[]");return null}function jw(e,t){if(Object.assign({captureExceptions:!0},t).captureExceptions){let n=i=>{let o=Mg(i);o!=null&&e.send(o)};e.attachEventListener(window,"unhandledrejection",i=>n(i)),e.attachEventListener(window,"error",i=>n(i))}}function Fw(e){let t=e.safe(function(){let n=e.nodes.getID(this);if(n===void 0)return;let{src:i,complete:o,naturalWidth:s,naturalHeight:l}=this;!o||(s===0&&l===0?i!=null&&ed(i)&&e.send(new vu(Qo(),0,0,0,0,0,i,"img")):i.length<1e5&&e.send(new Fi(n,"src",i,e.getBaseHref())))}),r=new MutationObserver(n=>{for(let i of n)if(i.type==="attributes"&&i.attributeName==="src"){let o=i.target,s=e.nodes.getID(o);if(s===void 0)return;let l=o.src;e.send(new Fi(s,"src",l,e.getBaseHref()))}});e.nodes.attachNodeCallback(n=>{n instanceof HTMLImageElement&&(e.nodes.attachElementListener("error",n,t),e.nodes.attachElementListener("load",n,t),t.call(n),r.observe(n,{attributes:!0}))})}function Hw(e){if(!(e instanceof HTMLInputElement))return!1;let t=e.type;return t==="text"||t==="password"||t==="email"||t==="search"||t==="number"||t==="range"}function Uw(e){if(!(e instanceof HTMLInputElement))return!1;let t=e.type;return t==="checkbox"||t==="radio"}var lM=Gr&&"labels"in HTMLInputElement.prototype?e=>{let t=e;for(;(t=t.parentNode)!==null;)if(t.nodeName==="LABEL")return t;let r=e.labels;if(r!==null&&r.length===1)return r[0]}:e=>{let t=e;for(;(t=t.parentNode)!==null;)if(t.nodeName==="LABEL")return t;let r=e.id;if(r){let n=document.querySelectorAll('label[for="'+r+'"]');if(n!==null&&n.length===1)return n[0]}};function Ag(e){let t=hu(e);if(t===null){let r=lM(e);t=r===void 0?e.placeholder||e.name:r.innerText}return Qf(t).slice(0,100)}function Ww(e,t){let r=Object.assign({obscureInputNumbers:!0,obscureInputEmails:!0,defaultInputMode:0},t);function n(u,p){let _=Ag(p);_!==""&&e.send(new sg(u,_))}function i(u,p){let _=p.value,m=r.defaultInputMode;p.type==="password"||ji(p,"hidden")?m=2:(ji(p,"obscured")||m===0&&(r.obscureInputNumbers&&/\d\d\d\d/.test(_)||r.obscureInputEmails&&(p.type==="email"||!!~_.indexOf("@"))))&&(m=1);let d=0;switch(m){case 2:d=-1,_="";break;case 1:d=_.length,_="";break}e.send(new ag(u,_,d))}let o=new Map,s=new Map,l=new Set;e.attachStopCallback(()=>{o.clear(),s.clear(),l.clear()}),e.ticker.attach(()=>{o.forEach((u,p)=>{let _=e.nodes.getNode(p);if(!Hw(_)){o.delete(p);return}u!==_.value&&(o.set(p,_.value),l.has(p)||(l.add(p),n(p,_)),i(p,_))}),s.forEach((u,p)=>{let _=e.nodes.getNode(p);if(!Uw(_)){s.delete(p);return}u!==_.checked&&(s.set(p,_.checked),e.send(new id(p,_.checked)))})}),e.ticker.attach(Set.prototype.clear,100,!1,l),e.nodes.attachNodeCallback(e.safe(u=>{let p=e.nodes.getID(u);if(p!==void 0){if(Hw(u)){o.set(p,u.value),i(p,u);return}if(Uw(u)){s.set(p,u.checked),e.send(new id(p,u.checked));return}}}))}function cM(e){let t=e,r=null;do{if(t.id)return`#${t.id}`+(r?` > ${r}`:"");if(r=t.className.split(" ").map(n=>n.trim()).filter(n=>n!=="").reduce((n,i)=>`${n}.${i}`,t.tagName.toLowerCase())+(r?` > ${r}`:""),t===document.body)return r;t=t.parentElement}while(t!==document.body&&t!==null);return r}function qw(e){return e instanceof Element?fM(e):null}function fM(e){let t=e;for(;t!==null&&t!==document.documentElement;){if(ji(t,"masked"))return null;t=t.parentElement}if(e instanceof SVGElement){let r=e.ownerSVGElement;for(;r!==null;)e=r,r=r.ownerSVGElement}for(t=e;t!==null&&t!==document.documentElement;){let r=t.tagName.toUpperCase();if(r==="LABEL")return null;if(r==="INPUT"||r==="BUTTON"||r==="A"||r==="LI"||t.onclick!=null||t.getAttribute("role")==="button"||hu(t)!==null)return t;t=t.parentElement}return e===document.documentElement?null:e}function zw(e){function t(_){let m=hu(_);if(m!==null)return m;let d=_.tagName.toUpperCase();if(d==="INPUT")return Ag(_);if(d==="BUTTON"||d==="A"||d==="LI"||_.onclick!=null||_.getAttribute("role")==="button"){let g=e.observer.getInnerTextSecure(_);return Qf(g).slice(0,100)}return""}let r=-1,n=-1,i=!1,o=null,s=0;e.attachStopCallback(()=>{r=-1,n=-1,i=!1,o=null});let l=()=>{i&&(e.send(new ug(r,n)),i=!1)},u={};function p(_,m){return u[_]=u[_]||cM(m)}e.attachEventListener(document.documentElement,"mouseover",_=>{let m=qw(_.target);m!==o&&(o=m,s=performance.now())}),e.attachEventListener(document,"mousemove",_=>{r=_.clientX,n=_.clientY,i=!0},!1),e.attachEventListener(document,"click",_=>{let m=qw(_.target);if(!_.clientX&&!_.clientY||m===null)return;let d=e.nodes.getID(m);d!==void 0&&(l(),e.send(new Eg(d,o===m?Math.round(performance.now()-s):0,t(m),p(d,m)),!0)),o=null}),e.ticker.attach(l,10)}function dM(e){let t=[],r=document.getElementsByTagName("*"),n=/url\(("[^"]*"|'[^']*'|[^)]*)\)/i;for(let i=0;i<r.length;i++){let o=r[i],s="";if(o instanceof HTMLImageElement&&(s=o.currentSrc||o.src),!s){let h=getComputedStyle(o).getPropertyValue("background-image");if(h){let f=n.exec(h);f!==null&&(s=f[1],(s.startsWith('"')||s.startsWith("'"))&&(s=s.substr(1,s.length-2)))}}if(!s)continue;let l=s.substr(0,10)==="data:image"?0:e[s];if(l===void 0)continue;let u=o.getBoundingClientRect(),p=Math.max(u.top,0),_=Math.max(u.left,0),m=Math.min(u.bottom,window.innerHeight||document.documentElement&&document.documentElement.clientHeight||0),d=Math.min(u.right,window.innerWidth||document.documentElement&&document.documentElement.clientWidth||0);if(m<=p||d<=_)continue;let g=(m-p)*(d-_);t.push({time:l,area:g})}return t}function pM(e,t){let r=Math.max(document.documentElement&&document.documentElement.clientWidth||0,window.innerWidth||0)*Math.max(document.documentElement&&document.documentElement.clientHeight||0,window.innerHeight||0)/10,n=r*e;for(let i=0;i<t.length;i++){let{time:o,area:s}=t[i];r+=s,n+=s*(o>e?o:e)}return r===0?0:n/r}function Vw(e,t){let r=Object.assign({captureResourceTimings:!0,capturePageLoadTimings:!0,capturePageRenderTimings:!0},t);if("PerformanceObserver"in window||(r.captureResourceTimings=!1),!r.captureResourceTimings)return;let n=[];function i(_){e.active()?e.send(_):n.push(_)}e.attachStartCallback(function(){n.forEach(_=>e.send(_))});let o={};function s(_){_.duration<0||!ed(_.name)||e.isServiceURL(_.name)||(o!==null&&(o[_.name]=_.startTime+_.duration),i(new vu(_.startTime+performance.timing.navigationStart,_.duration,_.responseStart&&_.startTime?_.responseStart-_.startTime:0,_.transferSize>_.encodedBodySize?_.transferSize-_.encodedBodySize:0,_.encodedBodySize||0,_.decodedBodySize||0,_.name,_.initiatorType)))}let l=new PerformanceObserver(_=>_.getEntries().forEach(s));performance.getEntriesByType("resource").forEach(s),l.observe({entryTypes:["resource"]});let u=0,p=0;if(r.capturePageLoadTimings){let _=!1;e.ticker.attach(()=>{if(!_&&((u===0||p===0)&&performance.getEntriesByType("paint").forEach(m=>{let{name:d,startTime:g}=m;switch(d){case"first-paint":u=g;break;case"first-contentful-paint":p=g;break}}),performance.timing.loadEventEnd||performance.now()>3e4)){_=!0;let{navigationStart:m,requestStart:d,responseStart:g,responseEnd:h,domContentLoadedEventStart:f,domContentLoadedEventEnd:a,loadEventStart:c,loadEventEnd:v}=performance.timing;e.send(new cg(d-m||0,g-m||0,h-m||0,f-m||0,a-m||0,c-m||0,v-m||0,u,p))}},30)}if(r.capturePageRenderTimings){let _=0,m=0,d=0,g=null,h=!1;e.ticker.attach(()=>{if(h)return;let f=performance.now();if(o!==null&&(_=Math.max.apply(null,Object.keys(o).map(a=>o[a])),f-_>1e3&&(g=dM(o),o=null)),d!==null&&(f-d>50&&(m=f),d=f-m>5e3?null:f),g!==null&&d===null||f>3e4){h=!0,o=null;let a=g===null?0:pM(p||u,g),c=d===null?Math.max(m,p,performance.timing.domContentLoadedEventEnd-performance.timing.navigationStart||0):0;e.send(new fg(a,p>_?p:_,c))}})}}function $w(e){let t=!1,r=new Map,n=e.safe(()=>e.send(new Z_(window.pageXOffset||document.documentElement&&document.documentElement.scrollLeft||document.body&&document.body.scrollLeft||0,window.pageYOffset||document.documentElement&&document.documentElement.scrollTop||document.body&&document.body.scrollTop||0))),i=e.safe((o,s)=>{let l=e.nodes.getID(s);l!==void 0&&e.send(new og(l,o[0],o[1]))});e.attachStartCallback(n),e.attachStopCallback(()=>{t=!1,r.clear()}),e.attachEventListener(window,"scroll",o=>{let s=o.target;if(s===document){t=!0;return}s instanceof Element&&r.set(s,[s.scrollLeft,s.scrollTop])}),e.ticker.attach(()=>{t&&(n(),t=!1),r.forEach(i),r.clear()},5,!1)}function Gw(e){let t,r,n,i=performance.timing.navigationStart,o=e.safe(()=>{let{URL:u}=document;u!==t&&(t=u,e.send(new Y_(t,document.referrer,i)),i=0)}),s=e.safe(()=>{let{innerWidth:u,innerHeight:p}=window;(u!==r||p!==n)&&(r=u,n=p,e.send(new J_(r,n)))}),l=document.hidden===void 0?Function.prototype:e.safe(()=>e.send(new yg(document.hidden)));e.attachStartCallback(()=>{t="",r=n=-1,o(),s(),l()}),document.hidden!==void 0&&e.attachEventListener(document,"visibilitychange",l,!1,!1),e.ticker.attach(o,1,!1),e.ticker.attach(s,5,!1)}function Kw(e){if(!("PerformanceObserver"in window)||!("PerformanceLongTaskTiming"in window))return;let t=["unknown","self","same-origin-ancestor","same-origin-descendant","same-origin","cross-origin-ancestor","cross-origin-descendant","cross-origin-unreachable","multiple-contexts"],r=["window","iframe","embed","object"];function n(o){let s="",l="",u="",p="",_=o.attribution[0];_!=null&&(s=_.containerType,p=_.containerName,u=_.containerId,l=_.containerSrc),e.send(new Sg(o.startTime+performance.timing.navigationStart,o.duration,Math.max(t.indexOf(o.name),0),Math.max(r.indexOf(s),0),p,u,l))}new PerformanceObserver(o=>o.getEntries().forEach(n)).observe({entryTypes:["longtask"]})}function Xw(e){if(e===null)return;if(!window.CSSStyleSheet){e.send(new xg("no_stylesheet_prototype_in_window",""));return}let t=e.safe((i,o,s)=>{let l=typeof s=="string"?p=>e.send(new Cg(p,s,o,e.getBaseHref())):p=>e.send(new vg(p,o));if(i.ownerNode==null)throw new Error("Owner Node not found");let u=e.nodes.getID(i.ownerNode);u!==void 0&&l(u)}),{insertRule:r,deleteRule:n}=CSSStyleSheet.prototype;CSSStyleSheet.prototype.insertRule=function(i,o=0){return t(this,o,i),r.call(this,i,o)},CSSStyleSheet.prototype.deleteRule=function(i){return t(this,i),n.call(this,i)},e.nodes.attachNodeCallback(i=>{if(!(i instanceof HTMLStyleElement)||!(i.sheet instanceof CSSStyleSheet)||i.textContent!==null&&i.textContent.trim().length>0)return;let o=i.sheet.cssRules;for(let s=0;s<o.length;s++)t(i.sheet,s,o[s].cssText)})}var yu="/installation/setup-or";function hM(e){if(e==null)return console.error(`OpenReplay: invalid options argument type. Please, check documentation on ${es}${yu}`),!1;if(typeof e.projectKey!="string")if(typeof e.projectKey!="number"){if(typeof e.projectID!="number")return console.error(`OpenReplay: projectKey is missing or wrong type (string is expected). Please, check ${es}${yu} for more information.`),!1;e.projectKey=e.projectID.toString(),pn("`projectID` option","`projectKey` option",yu)}else console.warn("OpenReplay: projectKey is expected to have a string type."),e.projectKey=e.projectKey.toString();return typeof e.sessionToken!="string"&&e.sessionToken!=null&&console.warn(`OpenReplay: invalid options argument type. Please, check documentation on ${es}${yu}`),!0}var Su=class{constructor(t){if(this.options=t,this.app=null,this.handleError=n=>{if(this.app!==null){if(n instanceof Error)this.app.send(sd(n,[]));else if(n instanceof ErrorEvent||"PromiseRejectionEvent"in window&&n instanceof PromiseRejectionEvent){let i=Mg(n);i!=null&&this.app.send(i)}}},!Gr||!hM(t))return;if(window.__OPENREPLAY__){console.error("OpenReplay: one tracker instance has been initialised already");return}if(!t.__DISABLE_SECURE_MODE&&location.protocol!=="https:"){console.error("OpenReplay: Your website must be publicly accessible and running on SSL in order for OpenReplay to properly capture and replay the user session. You can disable this check by setting `__DISABLE_SECURE_MODE` option to `true` if you are testing in localhost. Keep in mind, that asset files on a local machine are not available to the outside world. This might affect tracking if you use css files.");return}let r=t.respectDoNotTrack&&(navigator.doNotTrack=="1"||window.doNotTrack=="1");if(this.app=r||!("Map"in window)||!("Set"in window)||!("MutationObserver"in window)||!("performance"in window)||!("timing"in performance)||!("startsWith"in String.prototype)||!("Blob"in window)||!("Worker"in window)?null:new ts(t.projectKey,t.sessionToken,t),this.app!==null)Gw(this.app),Xw(this.app),Ow(this.app),Mw(this.app,t),jw(this.app,t),Fw(this.app),Ww(this.app,t),zw(this.app),Vw(this.app,t),kw(this.app,t),$w(this.app),Kw(this.app),window.__OPENREPLAY__=this;else{console.log("OpenReplay: browser doesn't support API required for tracking or doNotTrack is set to 1.");let n=new XMLHttpRequest,i=t.ingestPoint||Og;n.open("POST",i+"/v1/web/not-started"),n.send(JSON.stringify({trackerVersion:"3.4.7",projectKey:t.projectKey,doNotTrack:r}))}}use(t){return t(this.app,this.options)}isActive(){return this.app===null?!1:this.app.active()}active(){return pn("'active' method","'isActive' method","/"),this.isActive()}start(){if(!Gr){console.error(`OpenReplay: you are trying to start Tracker on a node.js environment. If you want to use OpenReplay with SSR, please, use componentDidMount or useEffect API for placing the \`tracker.start()\` line. Check documentation on ${es}${yu}`);return}this.app!==null&&this.app.start()}stop(){this.app!==null&&this.app.stop()}getSessionToken(){return this.app===null?null:this.app.getSessionToken()}getSessionID(){return this.app===null?null:this.app.getSessionID()}sessionID(){return pn("'sessionID' method","'getSessionID' method","/"),this.getSessionID()}setUserID(t){typeof t=="string"&&this.app!==null&&this.app.send(new pg(t))}userID(t){pn("'userID' method","'setUserID' method","/"),this.setUserID(t)}setUserAnonymousID(t){typeof t=="string"&&this.app!==null&&this.app.send(new hg(t))}userAnonymousID(t){pn("'userAnonymousID' method","'setUserAnonymousID' method","/"),this.setUserAnonymousID(t)}setMetadata(t,r){typeof t=="string"&&typeof r=="string"&&this.app!==null&&this.app.send(new mg(t,r))}metadata(t,r){pn("'metadata' method","'setMetadata' method","/"),this.setMetadata(t,r)}event(t,r,n=!1){if(typeof t=="string"&&this.app!==null){if(n)return this.issue(t,r);try{r=JSON.stringify(r)}catch{return}this.app.send(new dg(t,r))}}issue(t,r){if(typeof t=="string"&&this.app!==null){try{r=JSON.stringify(r)}catch{return}this.app.send(new wg(t,r))}}};var Jw=new Su({projectKey:"VzGISOLFpFFv1yHRdHHJ",ingestPoint:"https://data.ercu.be/ingest"});Pg.default.setAppElement("#react-root");var bu,ad;localStorage.getItem("userId")===null?(bu=bw(),ad=-1,localStorage.setItem("userId",bu),localStorage.setItem("userProgress",-1)):(bu=localStorage.getItem("userId"),ad=parseInt(localStorage.getItem("userProgress"),10)||-1,ad===8&&(window.location="/playground"));Rg.default.init("6be6077e1d5b8de6978c65490e1666ea",{debug:!1,ignore_dnt:!0,api_host:"https://data.chameleon.typecheck.me"});Rg.default.identify(bu);Jw.start();Jw.setUserID(bu);Ot.dispatch(Wo(ad+1));window.addEventListener("keyup",e=>{let t=e.key;Ot.getState().debugger.mode===dr.normal&&(t==="1"||t==="2")&&Ot.dispatch(Ai())});window.addEventListener("keydown",e=>{let t=Ot.getState(),r=e.key;r==="Tab"&&(e.preventDefault(),t.debugger.multipleExps?t.debugger.multipleExps&&!t.debugger.debuggingSteps?(ye({event:xe.advancedMode,task:t.debugger.currentTaskNum,mode:"Balanced Mode",source:be.keyboard}),Ot.dispatch(Mi())):t.debugger.multipleExps&&t.debugger.debuggingSteps&&(ye({event:xe.basicMode,task:t.debugger.currentTaskNum,mode:"Advanced Mode",source:be.keyboard}),Ot.dispatch(Kn()),Ot.dispatch(Mi())):(Ot.dispatch(Kn()),ye({event:xe.balancedMode,task:t.debugger.currentTaskNum,mode:"Basic Mode",source:be.keyboard}))),t.debugger.mode===dr.edit&&r==="Escape"&&(ye({event:xe.typeCheck,task:t.debugger.currentTaskNum,mode:Dt(t.debugger.multipleExps,t.debugger.debuggingSteps),source:be.keyboard}),Ot.dispatch(Ii()),Ot.dispatch(Ti())),t.debugger.mode===dr.normal&&(r==="1"&&(ye({event:xe.narrowType1,task:t.debugger.currentTaskNum,mode:Dt(t.debugger.multipleExps,t.debugger.debuggingSteps),source:be.keyboard}),Ot.dispatch(ja())),r==="2"&&(ye({event:xe.narrowType2,task:t.debugger.currentTaskNum,mode:Dt(t.debugger.multipleExps,t.debugger.debuggingSteps),source:be.keyboard}),Ot.dispatch(Fa())),t.debugger.debuggingSteps&&((r==="ArrowDown"||r==="ArrowRight"||r==="j"||r==="l")&&(ye({event:xe.next,task:t.debugger.currentTaskNum,mode:Dt(t.debugger.multipleExps,t.debugger.debuggingSteps),source:be.keyboard}),Ot.dispatch(Na())),(r==="ArrowUp"||r==="ArrowLeft"||r==="k"||r==="h")&&(ye({event:xe.prev,task:t.debugger.currentTaskNum,mode:Dt(t.debugger.multipleExps,t.debugger.debuggingSteps),source:be.keyboard}),Ot.dispatch(Ba()))))});var mM=()=>{let e=Y(t=>t.debugger.wellTyped);return qe.default.createElement(qe.default.Fragment,null,qe.default.createElement(Pg.default,{isOpen:e,className:"max-w-2xl bg-gray-100 h-80 min-w-max left-1/2 top-1/2 -translate-y-1/2 -translate-x-1/2 absolute p-6 rounded-md"},qe.default.createElement(vM,null)),qe.default.createElement("div",{className:"w-full h-full flex flex-col"},qe.default.createElement(jx,null),qe.default.createElement("div",{className:"flex-grow"},qe.default.createElement(fx,{initialSizes:[60,40]},qe.default.createElement(dx,null),qe.default.createElement(Bx,null)))))},vM=()=>{let e=vt(),t=Y(o=>o.debugger.currentTaskNum),r=Y(Z(["debugger","multipleExps"])),n=Y(Z(["debugger","debuggingSteps"])),i=Dt(r,n);return(0,qe.useEffect)(()=>{ye({event:xe.succeed,source:be.remote,mode:i,task:t}),localStorage.setItem("userProgress",t)},[]),qe.default.createElement("div",{className:"flex flex-col justify-around items-center h-full"},qe.default.createElement("div",null,qe.default.createElement("p",{className:"text-center"},"Congratulations. You fixed the type error!"),t===8?qe.default.createElement("p",{className:"text-center"},"Click next to leave us some feedback."):qe.default.createElement("p",{className:"text-center"},"Click next to head over to the next challenge.")),qe.default.createElement("button",{className:"px-5 py-1 bg-green-400 rounded-md",onClick:()=>{if(t===8){let o=localStorage.getItem("userId");console.log(o);return}else e(Wo(t+1)),e(Ii())}},"Next"))};Yw.default.render(qe.default.createElement(qe.default.StrictMode,null,qe.default.createElement(rm,{store:Ot},qe.default.createElement(mM,null))),document.getElementById("react-root"));})();
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/
/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
//# sourceMappingURL=out.js.map
